function _mergeNamespaces(i,$){for(var _=0;_<$.length;_++){const _e=$[_];if(typeof _e!="string"&&!Array.isArray(_e)){for(const tt in _e)if(tt!=="default"&&!(tt in i)){const nt=Object.getOwnPropertyDescriptor(_e,tt);nt&&Object.defineProperty(i,tt,nt.get?nt:{enumerable:!0,get:()=>_e[tt]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))_e(tt);new MutationObserver(tt=>{for(const nt of tt)if(nt.type==="childList")for(const st of nt.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&_e(st)}).observe(document,{childList:!0,subtree:!0});function _(tt){const nt={};return tt.integrity&&(nt.integrity=tt.integrity),tt.referrerpolicy&&(nt.referrerPolicy=tt.referrerpolicy),tt.crossorigin==="use-credentials"?nt.credentials="include":tt.crossorigin==="anonymous"?nt.credentials="omit":nt.credentials="same-origin",nt}function _e(tt){if(tt.ep)return;tt.ep=!0;const nt=_(tt);fetch(tt.href,nt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var client={},reactDom={exports:{}},reactDom_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,$,_){this.props=i,this.context=$,this.refs=D$1,this.updater=_||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,$){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,$,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,$,_){this.props=i,this.context=$,this.refs=D$1,this.updater=_||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,$,_){var _e,tt={},nt=null,st=null;if($!=null)for(_e in $.ref!==void 0&&(st=$.ref),$.key!==void 0&&(nt=""+$.key),$)J.call($,_e)&&!L$1.hasOwnProperty(_e)&&(tt[_e]=$[_e]);var at=arguments.length-2;if(at===1)tt.children=_;else if(1<at){for(var ht=Array(at),lt=0;lt<at;lt++)ht[lt]=arguments[lt+2];tt.children=ht}if(i&&i.defaultProps)for(_e in at=i.defaultProps,at)tt[_e]===void 0&&(tt[_e]=at[_e]);return{$$typeof:l$2,type:i,key:nt,ref:st,props:tt,_owner:K$1.current}}function N$1(i,$){return{$$typeof:l$2,type:i.type,key:$,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$2(i){var $={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(_){return $[_]})}var P$1=/\/+/g;function Q$1(i,$){return typeof i=="object"&&i!==null&&i.key!=null?escape$2(""+i.key):$.toString(36)}function R$1(i,$,_,_e,tt){var nt=typeof i;(nt==="undefined"||nt==="boolean")&&(i=null);var st=!1;if(i===null)st=!0;else switch(nt){case"string":case"number":st=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:st=!0}}if(st)return st=i,tt=tt(st),i=_e===""?"."+Q$1(st,0):_e,I$1(tt)?(_="",i!=null&&(_=i.replace(P$1,"$&/")+"/"),R$1(tt,$,_,"",function(lt){return lt})):tt!=null&&(O$1(tt)&&(tt=N$1(tt,_+(!tt.key||st&&st.key===tt.key?"":(""+tt.key).replace(P$1,"$&/")+"/")+i)),$.push(tt)),1;if(st=0,_e=_e===""?".":_e+":",I$1(i))for(var at=0;at<i.length;at++){nt=i[at];var ht=_e+Q$1(nt,at);st+=R$1(nt,$,_,ht,tt)}else if(ht=A$2(i),typeof ht=="function")for(i=ht.call(i),at=0;!(nt=i.next()).done;)nt=nt.value,ht=_e+Q$1(nt,at++),st+=R$1(nt,$,_,ht,tt);else if(nt==="object")throw $=String(i),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return st}function S$1(i,$,_){if(i==null)return i;var _e=[],tt=0;return R$1(i,_e,"","",function(nt){return $.call(_,nt,tt++)}),_e}function T$1(i){if(i._status===-1){var $=i._result;$=$(),$.then(function(_){(i._status===0||i._status===-1)&&(i._status=1,i._result=_)},function(_){(i._status===0||i._status===-1)&&(i._status=2,i._result=_)}),i._status===-1&&(i._status=0,i._result=$)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,$,_){S$1(i,function(){$.apply(this,arguments)},_)},count:function(i){var $=0;return S$1(i,function(){$++}),$},toArray:function(i){return S$1(i,function($){return $})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,$,_){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var _e=C$1({},i.props),tt=i.key,nt=i.ref,st=i._owner;if($!=null){if($.ref!==void 0&&(nt=$.ref,st=K$1.current),$.key!==void 0&&(tt=""+$.key),i.type&&i.type.defaultProps)var at=i.type.defaultProps;for(ht in $)J.call($,ht)&&!L$1.hasOwnProperty(ht)&&(_e[ht]=$[ht]===void 0&&at!==void 0?at[ht]:$[ht])}var ht=arguments.length-2;if(ht===1)_e.children=_;else if(1<ht){at=Array(ht);for(var lt=0;lt<ht;lt++)at[lt]=arguments[lt+2];_e.children=at}return{$$typeof:l$2,type:i.type,key:tt,ref:nt,props:_e,_owner:st}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var $=M$1.bind(null,i);return $.type=i,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,$){return{$$typeof:x$1,type:i,compare:$===void 0?null:$}};react_production_min.startTransition=function(i){var $=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=$}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,$){return U$1.current.useCallback(i,$)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,$){return U$1.current.useEffect(i,$)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,$,_){return U$1.current.useImperativeHandle(i,$,_)};react_production_min.useInsertionEffect=function(i,$){return U$1.current.useInsertionEffect(i,$)};react_production_min.useLayoutEffect=function(i,$){return U$1.current.useLayoutEffect(i,$)};react_production_min.useMemo=function(i,$){return U$1.current.useMemo(i,$)};react_production_min.useReducer=function(i,$,_){return U$1.current.useReducer(i,$,_)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,$,_){return U$1.current.useSyncExternalStore(i,$,_)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(i){i.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports),React$1=_mergeNamespaces({__proto__:null,default:React},[react.exports]);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function $(oo,Bo){var Io=oo.length;oo.push(Bo);e:for(;0<Io;){var Pt=Io-1>>>1,io=oo[Pt];if(0<tt(io,Bo))oo[Pt]=Bo,oo[Io]=io,Io=Pt;else break e}}function _(oo){return oo.length===0?null:oo[0]}function _e(oo){if(oo.length===0)return null;var Bo=oo[0],Io=oo.pop();if(Io!==Bo){oo[0]=Io;e:for(var Pt=0,io=oo.length,vo=io>>>1;Pt<vo;){var Po=2*(Pt+1)-1,Ko=oo[Po],No=Po+1,kt=oo[No];if(0>tt(Ko,Io))No<io&&0>tt(kt,Ko)?(oo[Pt]=kt,oo[No]=Io,Pt=No):(oo[Pt]=Ko,oo[Po]=Io,Pt=Po);else if(No<io&&0>tt(kt,Io))oo[Pt]=kt,oo[No]=Io,Pt=No;else break e}}return Bo}function tt(oo,Bo){var Io=oo.sortIndex-Bo.sortIndex;return Io!==0?Io:oo.id-Bo.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;i.unstable_now=function(){return nt.now()}}else{var st=Date,at=st.now();i.unstable_now=function(){return st.now()-at}}var ht=[],lt=[],pt=1,dt=null,gt=3,vt=!1,bt=!1,$t=!1,Tt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,Bt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Dt(oo){for(var Bo=_(lt);Bo!==null;){if(Bo.callback===null)_e(lt);else if(Bo.startTime<=oo)_e(lt),Bo.sortIndex=Bo.expirationTime,$(ht,Bo);else break;Bo=_(lt)}}function Vt(oo){if($t=!1,Dt(oo),!bt)if(_(ht)!==null)bt=!0,Oo(Ht);else{var Bo=_(lt);Bo!==null&&kn(Vt,Bo.startTime-oo)}}function Ht(oo,Bo){bt=!1,$t&&($t=!1,St(Ut),Ut=-1),vt=!0;var Io=gt;try{for(Dt(Bo),dt=_(ht);dt!==null&&(!(dt.expirationTime>Bo)||oo&&!Ao());){var Pt=dt.callback;if(typeof Pt=="function"){dt.callback=null,gt=dt.priorityLevel;var io=Pt(dt.expirationTime<=Bo);Bo=i.unstable_now(),typeof io=="function"?dt.callback=io:dt===_(ht)&&_e(ht),Dt(Bo)}else _e(ht);dt=_(ht)}if(dt!==null)var vo=!0;else{var Po=_(lt);Po!==null&&kn(Vt,Po.startTime-Bo),vo=!1}return vo}finally{dt=null,gt=Io,vt=!1}}var Wt=!1,zt=null,Ut=-1,ao=5,lo=-1;function Ao(){return!(i.unstable_now()-lo<ao)}function Zo(){if(zt!==null){var oo=i.unstable_now();lo=oo;var Bo=!0;try{Bo=zt(!0,oo)}finally{Bo?Qo():(Wt=!1,zt=null)}}else Wt=!1}var Qo;if(typeof Bt=="function")Qo=function(){Bt(Zo)};else if(typeof MessageChannel<"u"){var Wo=new MessageChannel,An=Wo.port2;Wo.port1.onmessage=Zo,Qo=function(){An.postMessage(null)}}else Qo=function(){Tt(Zo,0)};function Oo(oo){zt=oo,Wt||(Wt=!0,Qo())}function kn(oo,Bo){Ut=Tt(function(){oo(i.unstable_now())},Bo)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oo){oo.callback=null},i.unstable_continueExecution=function(){bt||vt||(bt=!0,Oo(Ht))},i.unstable_forceFrameRate=function(oo){0>oo||125<oo?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ao=0<oo?Math.floor(1e3/oo):5},i.unstable_getCurrentPriorityLevel=function(){return gt},i.unstable_getFirstCallbackNode=function(){return _(ht)},i.unstable_next=function(oo){switch(gt){case 1:case 2:case 3:var Bo=3;break;default:Bo=gt}var Io=gt;gt=Bo;try{return oo()}finally{gt=Io}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oo,Bo){switch(oo){case 1:case 2:case 3:case 4:case 5:break;default:oo=3}var Io=gt;gt=oo;try{return Bo()}finally{gt=Io}},i.unstable_scheduleCallback=function(oo,Bo,Io){var Pt=i.unstable_now();switch(typeof Io=="object"&&Io!==null?(Io=Io.delay,Io=typeof Io=="number"&&0<Io?Pt+Io:Pt):Io=Pt,oo){case 1:var io=-1;break;case 2:io=250;break;case 5:io=1073741823;break;case 4:io=1e4;break;default:io=5e3}return io=Io+io,oo={id:pt++,callback:Bo,priorityLevel:oo,startTime:Io,expirationTime:io,sortIndex:-1},Io>Pt?(oo.sortIndex=Io,$(lt,oo),_(ht)===null&&oo===_(lt)&&($t?(St(Ut),Ut=-1):$t=!0,kn(Vt,Io-Pt))):(oo.sortIndex=io,$(ht,oo),bt||vt||(bt=!0,Oo(Ht))),oo},i.unstable_shouldYield=Ao,i.unstable_wrapCallback=function(oo){var Bo=gt;return function(){var Io=gt;gt=Bo;try{return oo.apply(this,arguments)}finally{gt=Io}}}})(scheduler_production_min);(function(i){i.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca$1=scheduler.exports;function p$2(i){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+i,_=1;_<arguments.length;_++)$+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+i+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,$){ha(i,$),ha(i+"Capture",$)}function ha(i,$){for(ea[i]=$,i=0;i<$.length;i++)da.add($[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,$,_,_e){if(_!==null&&_.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return _e?!1:_!==null?!_.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,$,_,_e){if($===null||typeof $>"u"||pa(i,$,_,_e))return!0;if(_e)return!1;if(_!==null)switch(_.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(i,$,_,_e,tt,nt,st){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=_e,this.attributeNamespace=tt,this.mustUseProperty=_,this.propertyName=i,this.type=$,this.sanitizeURL=nt,this.removeEmptyString=st}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var $=i[0];z$1[$]=new v$1($,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var $=i.replace(ra,sa);z$1[$]=new v$1($,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var $=i.replace(ra,sa);z$1[$]=new v$1($,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var $=i.replace(ra,sa);z$1[$]=new v$1($,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,$,_,_e){var tt=z$1.hasOwnProperty($)?z$1[$]:null;(tt!==null?tt.type!==0:_e||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_,tt,_e)&&(_=null),_e||tt===null?oa($)&&(_===null?i.removeAttribute($):i.setAttribute($,""+_)):tt.mustUseProperty?i[tt.propertyName]=_===null?tt.type===3?!1:"":_:($=tt.attributeName,_e=tt.attributeNamespace,_===null?i.removeAttribute($):(tt=tt.type,_=tt===3||tt===4&&_===!0?"":""+_,_e?i.setAttributeNS(_e,$,_):i.setAttribute($,_))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(_){var $=_.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+i}var Na=!1;function Oa(i,$){if(!i||Na)return"";Na=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(lt){var _e=lt}Reflect.construct(i,[],$)}else{try{$.call()}catch(lt){_e=lt}i.call($.prototype)}else{try{throw Error()}catch(lt){_e=lt}i()}}catch(lt){if(lt&&_e&&typeof lt.stack=="string"){for(var tt=lt.stack.split(`
`),nt=_e.stack.split(`
`),st=tt.length-1,at=nt.length-1;1<=st&&0<=at&&tt[st]!==nt[at];)at--;for(;1<=st&&0<=at;st--,at--)if(tt[st]!==nt[at]){if(st!==1||at!==1)do if(st--,at--,0>at||tt[st]!==nt[at]){var ht=`
`+tt[st].replace(" at new "," at ");return i.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",i.displayName)),ht}while(1<=st&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=_}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var $=i.render;return i=i.displayName,i||(i=$.displayName||$.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return $=i.displayName||null,$!==null?$:Qa(i.type)||"Memo";case Ha:$=i._payload,i=i._init;try{return Qa(i($))}catch{}}return null}function Ra(i){var $=i.type;switch(i.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=$.render,i=i.displayName||i.name||"",$.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var $=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(i){var $=Ta(i)?"checked":"value",_=Object.getOwnPropertyDescriptor(i.constructor.prototype,$),_e=""+i[$];if(!i.hasOwnProperty($)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var tt=_.get,nt=_.set;return Object.defineProperty(i,$,{configurable:!0,get:function(){return tt.call(this)},set:function(st){_e=""+st,nt.call(this,st)}}),Object.defineProperty(i,$,{enumerable:_.enumerable}),{getValue:function(){return _e},setValue:function(st){_e=""+st},stopTracking:function(){i._valueTracker=null,delete i[$]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var $=i._valueTracker;if(!$)return!0;var _=$.getValue(),_e="";return i&&(_e=Ta(i)?i.checked?"true":"false":i.value),i=_e,i!==_?($.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,$){var _=$.checked;return A$1({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_!=null?_:i._wrapperState.initialChecked})}function Za(i,$){var _=$.defaultValue==null?"":$.defaultValue,_e=$.checked!=null?$.checked:$.defaultChecked;_=Sa($.value!=null?$.value:_),i._wrapperState={initialChecked:_e,initialValue:_,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(i,$){$=$.checked,$!=null&&ta(i,"checked",$,!1)}function bb(i,$){ab(i,$);var _=Sa($.value),_e=$.type;if(_!=null)_e==="number"?(_===0&&i.value===""||i.value!=_)&&(i.value=""+_):i.value!==""+_&&(i.value=""+_);else if(_e==="submit"||_e==="reset"){i.removeAttribute("value");return}$.hasOwnProperty("value")?cb$1(i,$.type,_):$.hasOwnProperty("defaultValue")&&cb$1(i,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(i.defaultChecked=!!$.defaultChecked)}function db(i,$,_){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var _e=$.type;if(!(_e!=="submit"&&_e!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+i._wrapperState.initialValue,_||$===i.value||(i.value=$),i.defaultValue=$}_=i.name,_!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,_!==""&&(i.name=_)}function cb$1(i,$,_){($!=="number"||Xa(i.ownerDocument)!==i)&&(_==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+_&&(i.defaultValue=""+_))}var eb=Array.isArray;function fb(i,$,_,_e){if(i=i.options,$){$={};for(var tt=0;tt<_.length;tt++)$["$"+_[tt]]=!0;for(_=0;_<i.length;_++)tt=$.hasOwnProperty("$"+i[_].value),i[_].selected!==tt&&(i[_].selected=tt),tt&&_e&&(i[_].defaultSelected=!0)}else{for(_=""+Sa(_),$=null,tt=0;tt<i.length;tt++){if(i[tt].value===_){i[tt].selected=!0,_e&&(i[tt].defaultSelected=!0);return}$!==null||i[tt].disabled||($=i[tt])}$!==null&&($.selected=!0)}}function gb(i,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},$,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,$){var _=$.value;if(_==null){if(_=$.children,$=$.defaultValue,_!=null){if($!=null)throw Error(p$2(92));if(eb(_)){if(1<_.length)throw Error(p$2(93));_=_[0]}$=_}$==null&&($=""),_=$}i._wrapperState={initialValue:Sa(_)}}function ib(i,$){var _=Sa($.value),_e=Sa($.defaultValue);_!=null&&(_=""+_,_!==i.value&&(i.value=_),$.defaultValue==null&&i.defaultValue!==_&&(i.defaultValue=_)),_e!=null&&(i.defaultValue=""+_e)}function jb(i){var $=i.textContent;$===i._wrapperState.initialValue&&$!==""&&$!==null&&(i.value=$)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,$){return i==null||i==="http://www.w3.org/1999/xhtml"?kb($):i==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_,_e,tt){MSApp.execUnsafeLocalFunction(function(){return i($,_,_e,tt)})}:i}(function(i,$){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;$.firstChild;)i.appendChild($.firstChild)}});function ob(i,$){if($){var _=i.firstChild;if(_&&_===i.lastChild&&_.nodeType===3){_.nodeValue=$;return}}i.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function($){$=$+i.charAt(0).toUpperCase()+i.substring(1),pb[$]=pb[i]})});function rb(i,$,_){return $==null||typeof $=="boolean"||$===""?"":_||typeof $!="number"||$===0||pb.hasOwnProperty(i)&&pb[i]?(""+$).trim():$+"px"}function sb(i,$){i=i.style;for(var _ in $)if($.hasOwnProperty(_)){var _e=_.indexOf("--")===0,tt=rb(_,$[_],_e);_==="float"&&(_="cssFloat"),_e?i.setProperty(_,tt):i[_]=tt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,$){if($){if(tb[i]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$2(137,i));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$2(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$2(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$2(62))}}function vb(i,$){if(i.indexOf("-")===-1)return typeof $.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$2(280));var $=i.stateNode;$&&($=Db($),yb(i.stateNode,i.type,$))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,$=Ab;if(Ab=zb=null,Bb(i),$)for(i=0;i<$.length;i++)Bb($[i])}}function Gb(i,$){return i($)}function Hb(){}var Ib=!1;function Jb(i,$,_){if(Ib)return i($,_);Ib=!0;try{return Gb(i,$,_)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,$){var _=i.stateNode;if(_===null)return null;var _e=Db(_);if(_e===null)return null;_=_e[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_e=!_e.disabled)||(i=i.type,_e=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!_e;break e;default:i=!1}if(i)return null;if(_&&typeof _!="function")throw Error(p$2(231,$,typeof _));return _}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,$,_,_e,tt,nt,st,at,ht){var lt=Array.prototype.slice.call(arguments,3);try{$.apply(_,lt)}catch(pt){this.onError(pt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,$,_,_e,tt,nt,st,at,ht){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,$,_,_e,tt,nt,st,at,ht){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=lt)}}function Vb(i){var $=i,_=i;if(i.alternate)for(;$.return;)$=$.return;else{i=$;do $=i,($.flags&4098)!==0&&(_=$.return),i=$.return;while(i)}return $.tag===3?_:null}function Wb(i){if(i.tag===13){var $=i.memoizedState;if($===null&&(i=i.alternate,i!==null&&($=i.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$2(188))}function Yb(i){var $=i.alternate;if(!$){if($=Vb(i),$===null)throw Error(p$2(188));return $!==i?null:i}for(var _=i,_e=$;;){var tt=_.return;if(tt===null)break;var nt=tt.alternate;if(nt===null){if(_e=tt.return,_e!==null){_=_e;continue}break}if(tt.child===nt.child){for(nt=tt.child;nt;){if(nt===_)return Xb(tt),i;if(nt===_e)return Xb(tt),$;nt=nt.sibling}throw Error(p$2(188))}if(_.return!==_e.return)_=tt,_e=nt;else{for(var st=!1,at=tt.child;at;){if(at===_){st=!0,_=tt,_e=nt;break}if(at===_e){st=!0,_e=tt,_=nt;break}at=at.sibling}if(!st){for(at=nt.child;at;){if(at===_){st=!0,_=nt,_e=tt;break}if(at===_e){st=!0,_e=nt,_=tt;break}at=at.sibling}if(!st)throw Error(p$2(189))}}if(_.alternate!==_e)throw Error(p$2(190))}if(_.tag!==3)throw Error(p$2(188));return _.stateNode.current===_?i:$}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var $=$b(i);if($!==null)return $;i=i.sibling}return null}var ac=ca$1.unstable_scheduleCallback,bc=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc=ca$1.unstable_requestPaint,B=ca$1.unstable_now,ec=ca$1.unstable_getCurrentPriorityLevel,fc=ca$1.unstable_ImmediatePriority,gc=ca$1.unstable_UserBlockingPriority,hc=ca$1.unstable_NormalPriority,ic=ca$1.unstable_LowPriority,jc=ca$1.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,$){var _=i.pendingLanes;if(_===0)return 0;var _e=0,tt=i.suspendedLanes,nt=i.pingedLanes,st=_&268435455;if(st!==0){var at=st&~tt;at!==0?_e=tc(at):(nt&=st,nt!==0&&(_e=tc(nt)))}else st=_&~tt,st!==0?_e=tc(st):nt!==0&&(_e=tc(nt));if(_e===0)return 0;if($!==0&&$!==_e&&($&tt)===0&&(tt=_e&-_e,nt=$&-$,tt>=nt||tt===16&&(nt&4194240)!==0))return $;if((_e&4)!==0&&(_e|=_&16),$=i.entangledLanes,$!==0)for(i=i.entanglements,$&=_e;0<$;)_=31-oc($),tt=1<<_,_e|=i[_],$&=~tt;return _e}function vc(i,$){switch(i){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,$){for(var _=i.suspendedLanes,_e=i.pingedLanes,tt=i.expirationTimes,nt=i.pendingLanes;0<nt;){var st=31-oc(nt),at=1<<st,ht=tt[st];ht===-1?((at&_)===0||(at&_e)!==0)&&(tt[st]=vc(at,$)):ht<=$&&(i.expiredLanes|=at),nt&=~at}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),i}function zc(i){for(var $=[],_=0;31>_;_++)$.push(i);return $}function Ac(i,$,_){i.pendingLanes|=$,$!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,$=31-oc($),i[$]=_}function Bc(i,$){var _=i.pendingLanes&~$;i.pendingLanes=$,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=$,i.mutableReadLanes&=$,i.entangledLanes&=$,$=i.entanglements;var _e=i.eventTimes;for(i=i.expirationTimes;0<_;){var tt=31-oc(_),nt=1<<tt;$[tt]=0,_e[tt]=-1,i[tt]=-1,_&=~nt}}function Cc(i,$){var _=i.entangledLanes|=$;for(i=i.entanglements;_;){var _e=31-oc(_),tt=1<<_e;tt&$|i[_e]&$&&(i[_e]|=$),_&=~tt}}var C=0;function Dc(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,$){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(i,$,_,_e,tt,nt){return i===null||i.nativeEvent!==nt?(i={blockedOn:$,domEventName:_,eventSystemFlags:_e,nativeEvent:nt,targetContainers:[tt]},$!==null&&($=Cb($),$!==null&&Fc($)),i):(i.eventSystemFlags|=_e,$=i.targetContainers,tt!==null&&$.indexOf(tt)===-1&&$.push(tt),i)}function Uc(i,$,_,_e,tt){switch($){case"focusin":return Lc=Tc(Lc,i,$,_,_e,tt),!0;case"dragenter":return Mc=Tc(Mc,i,$,_,_e,tt),!0;case"mouseover":return Nc=Tc(Nc,i,$,_,_e,tt),!0;case"pointerover":var nt=tt.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,i,$,_,_e,tt)),!0;case"gotpointercapture":return nt=tt.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,i,$,_,_e,tt)),!0}return!1}function Vc(i){var $=Wc(i.target);if($!==null){var _=Vb($);if(_!==null){if($=_.tag,$===13){if($=Wb(_),$!==null){i.blockedOn=$,Ic(i.priority,function(){Gc(_)});return}}else if($===3&&_.stateNode.current.memoizedState.isDehydrated){i.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var $=i.targetContainers;0<$.length;){var _=Yc(i.domEventName,i.eventSystemFlags,$[0],i.nativeEvent);if(_===null){_=i.nativeEvent;var _e=new _.constructor(_.type,_);wb=_e,_.target.dispatchEvent(_e),wb=null}else return $=Cb(_),$!==null&&Fc($),i.blockedOn=_,!1;$.shift()}return!0}function Zc(i,$,_){Xc(i)&&_.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,$){i.blockedOn===$&&(i.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c)))}function bd(i){function $(tt){return ad(tt,i)}if(0<Kc.length){ad(Kc[0],i);for(var _=1;_<Kc.length;_++){var _e=Kc[_];_e.blockedOn===i&&(_e.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach($),Pc.forEach($),_=0;_<Qc.length;_++)_e=Qc[_],_e.blockedOn===i&&(_e.blockedOn=null);for(;0<Qc.length&&(_=Qc[0],_.blockedOn===null);)Vc(_),_.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,$,_,_e){var tt=C,nt=cd.transition;cd.transition=null;try{C=1,fd(i,$,_,_e)}finally{C=tt,cd.transition=nt}}function gd(i,$,_,_e){var tt=C,nt=cd.transition;cd.transition=null;try{C=4,fd(i,$,_,_e)}finally{C=tt,cd.transition=nt}}function fd(i,$,_,_e){if(dd){var tt=Yc(i,$,_,_e);if(tt===null)hd(i,$,_e,id,_),Sc(i,_e);else if(Uc(tt,i,$,_,_e))_e.stopPropagation();else if(Sc(i,_e),$&4&&-1<Rc.indexOf(i)){for(;tt!==null;){var nt=Cb(tt);if(nt!==null&&Ec(nt),nt=Yc(i,$,_,_e),nt===null&&hd(i,$,_e,id,_),nt===tt)break;tt=nt}tt!==null&&_e.stopPropagation()}else hd(i,$,_e,null,_)}}var id=null;function Yc(i,$,_,_e){if(id=null,i=xb(_e),i=Wc(i),i!==null)if($=Vb(i),$===null)i=null;else if(_=$.tag,_===13){if(i=Wb($),i!==null)return i;i=null}else if(_===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;i=null}else $!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,$=ld,_=$.length,_e,tt="value"in kd?kd.value:kd.textContent,nt=tt.length;for(i=0;i<_&&$[i]===tt[i];i++);var st=_-i;for(_e=1;_e<=st&&$[_-_e]===tt[nt-_e];_e++);return md=tt.slice(i,1<_e?1-_e:void 0)}function od(i){var $=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&$===13&&(i=13)):i=$,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function $(_,_e,tt,nt,st){this._reactName=_,this._targetInst=tt,this.type=_e,this.nativeEvent=nt,this.target=st,this.currentTarget=null;for(var at in i)i.hasOwnProperty(at)&&(_=i[at],this[at]=_?_(nt):nt[at]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(i):(i=Od[i])?!!$[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var $=Md[i.key]||i.key;if($!=="Unidentified")return $}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,$){switch(i){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,$){switch(i){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return i=$.data,i===ee&&fe?null:i;default:return null}}function ke(i,$){if(ie)return i==="compositionend"||!ae&&ge(i,$)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var $=i&&i.nodeName&&i.nodeName.toLowerCase();return $==="input"?!!le[i.type]:$==="textarea"}function ne(i,$,_,_e){Eb(_e),$=oe($,"onChange"),0<$.length&&(_=new td("onChange","change",null,_,_e),i.push({event:_,listeners:$}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var $=ue(i);if(Wa($))return i}function ve(i,$){if(i==="change")return $}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var $=[];ne($,qe,i,xb(i)),Jb(re,$)}}function Ce(i,$,_){i==="focusin"?(Ae(),pe=$,qe=_,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,$){if(i==="click")return te($)}function Fe(i,$){if(i==="input"||i==="change")return te($)}function Ge(i,$){return i===$&&(i!==0||1/i===1/$)||i!==i&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,$){if(He(i,$))return!0;if(typeof i!="object"||i===null||typeof $!="object"||$===null)return!1;var _=Object.keys(i),_e=Object.keys($);if(_.length!==_e.length)return!1;for(_e=0;_e<_.length;_e++){var tt=_[_e];if(!ja.call($,tt)||!He(i[tt],$[tt]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,$){var _=Je(i);i=0;for(var _e;_;){if(_.nodeType===3){if(_e=i+_.textContent.length,i<=$&&_e>=$)return{node:_,offset:$-i};i=_e}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Je(_)}}function Le(i,$){return i&&$?i===$?!0:i&&i.nodeType===3?!1:$&&$.nodeType===3?Le(i,$.parentNode):"contains"in i?i.contains($):i.compareDocumentPosition?!!(i.compareDocumentPosition($)&16):!1:!1}function Me(){for(var i=window,$=Xa();$ instanceof i.HTMLIFrameElement;){try{var _=typeof $.contentWindow.location.href=="string"}catch{_=!1}if(_)i=$.contentWindow;else break;$=Xa(i.document)}return $}function Ne(i){var $=i&&i.nodeName&&i.nodeName.toLowerCase();return $&&($==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||$==="textarea"||i.contentEditable==="true")}function Oe(i){var $=Me(),_=i.focusedElem,_e=i.selectionRange;if($!==_&&_&&_.ownerDocument&&Le(_.ownerDocument.documentElement,_)){if(_e!==null&&Ne(_)){if($=_e.start,i=_e.end,i===void 0&&(i=$),"selectionStart"in _)_.selectionStart=$,_.selectionEnd=Math.min(i,_.value.length);else if(i=($=_.ownerDocument||document)&&$.defaultView||window,i.getSelection){i=i.getSelection();var tt=_.textContent.length,nt=Math.min(_e.start,tt);_e=_e.end===void 0?nt:Math.min(_e.end,tt),!i.extend&&nt>_e&&(tt=_e,_e=nt,nt=tt),tt=Ke(_,nt);var st=Ke(_,_e);tt&&st&&(i.rangeCount!==1||i.anchorNode!==tt.node||i.anchorOffset!==tt.offset||i.focusNode!==st.node||i.focusOffset!==st.offset)&&($=$.createRange(),$.setStart(tt.node,tt.offset),i.removeAllRanges(),nt>_e?(i.addRange($),i.extend(st.node,st.offset)):($.setEnd(st.node,st.offset),i.addRange($)))}}for($=[],i=_;i=i.parentNode;)i.nodeType===1&&$.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<$.length;_++)i=$[_],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,$,_){var _e=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Te||Qe==null||Qe!==Xa(_e)||(_e=Qe,"selectionStart"in _e&&Ne(_e)?_e={start:_e.selectionStart,end:_e.selectionEnd}:(_e=(_e.ownerDocument&&_e.ownerDocument.defaultView||window).getSelection(),_e={anchorNode:_e.anchorNode,anchorOffset:_e.anchorOffset,focusNode:_e.focusNode,focusOffset:_e.focusOffset}),Se&&Ie(Se,_e)||(Se=_e,_e=oe(Re,"onSelect"),0<_e.length&&($=new td("onSelect","select",null,$,_),i.push({event:$,listeners:_e}),$.target=Qe)))}function Ve(i,$){var _={};return _[i.toLowerCase()]=$.toLowerCase(),_["Webkit"+i]="webkit"+$,_["Moz"+i]="moz"+$,_}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var $=We[i],_;for(_ in $)if($.hasOwnProperty(_)&&_ in Ye)return Xe[i]=$[_];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,$){df.set(i,$),fa($,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,$,_){var _e=i.type||"unknown-event";i.currentTarget=_,Ub(_e,$,void 0,i),i.currentTarget=null}function se(i,$){$=($&4)!==0;for(var _=0;_<i.length;_++){var _e=i[_],tt=_e.event;_e=_e.listeners;e:{var nt=void 0;if($)for(var st=_e.length-1;0<=st;st--){var at=_e[st],ht=at.instance,lt=at.currentTarget;if(at=at.listener,ht!==nt&&tt.isPropagationStopped())break e;nf(tt,at,lt),nt=ht}else for(st=0;st<_e.length;st++){if(at=_e[st],ht=at.instance,lt=at.currentTarget,at=at.listener,ht!==nt&&tt.isPropagationStopped())break e;nf(tt,at,lt),nt=ht}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,$){var _=$[of];_===void 0&&(_=$[of]=new Set);var _e=i+"__bubble";_.has(_e)||(pf($,i,2,!1),_.add(_e))}function qf(i,$,_){var _e=0;$&&(_e|=4),pf(_,i,_e,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(_){_!=="selectionchange"&&(mf.has(_)||qf(_,!1,i),qf(_,!0,i))});var $=i.nodeType===9?i:i.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(i,$,_,_e){switch(jd($)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}_=tt.bind(null,$,_,i),tt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(tt=!0),_e?tt!==void 0?i.addEventListener($,_,{capture:!0,passive:tt}):i.addEventListener($,_,!0):tt!==void 0?i.addEventListener($,_,{passive:tt}):i.addEventListener($,_,!1)}function hd(i,$,_,_e,tt){var nt=_e;if(($&1)===0&&($&2)===0&&_e!==null)e:for(;;){if(_e===null)return;var st=_e.tag;if(st===3||st===4){var at=_e.stateNode.containerInfo;if(at===tt||at.nodeType===8&&at.parentNode===tt)break;if(st===4)for(st=_e.return;st!==null;){var ht=st.tag;if((ht===3||ht===4)&&(ht=st.stateNode.containerInfo,ht===tt||ht.nodeType===8&&ht.parentNode===tt))return;st=st.return}for(;at!==null;){if(st=Wc(at),st===null)return;if(ht=st.tag,ht===5||ht===6){_e=nt=st;continue e}at=at.parentNode}}_e=_e.return}Jb(function(){var lt=nt,pt=xb(_),dt=[];e:{var gt=df.get(i);if(gt!==void 0){var vt=td,bt=i;switch(i){case"keypress":if(od(_)===0)break e;case"keydown":case"keyup":vt=Rd;break;case"focusin":bt="focus",vt=Fd;break;case"focusout":bt="blur",vt=Fd;break;case"beforeblur":case"afterblur":vt=Fd;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Vd;break;case $e:case af:case bf:vt=Hd;break;case cf:vt=Xd;break;case"scroll":vt=vd;break;case"wheel":vt=Zd;break;case"copy":case"cut":case"paste":vt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Td}var $t=($&4)!==0,Tt=!$t&&i==="scroll",St=$t?gt!==null?gt+"Capture":null:gt;$t=[];for(var Bt=lt,Dt;Bt!==null;){Dt=Bt;var Vt=Dt.stateNode;if(Dt.tag===5&&Vt!==null&&(Dt=Vt,St!==null&&(Vt=Kb(Bt,St),Vt!=null&&$t.push(tf(Bt,Vt,Dt)))),Tt)break;Bt=Bt.return}0<$t.length&&(gt=new vt(gt,bt,null,_,pt),dt.push({event:gt,listeners:$t}))}}if(($&7)===0){e:{if(gt=i==="mouseover"||i==="pointerover",vt=i==="mouseout"||i==="pointerout",gt&&_!==wb&&(bt=_.relatedTarget||_.fromElement)&&(Wc(bt)||bt[uf]))break e;if((vt||gt)&&(gt=pt.window===pt?pt:(gt=pt.ownerDocument)?gt.defaultView||gt.parentWindow:window,vt?(bt=_.relatedTarget||_.toElement,vt=lt,bt=bt?Wc(bt):null,bt!==null&&(Tt=Vb(bt),bt!==Tt||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(vt=null,bt=lt),vt!==bt)){if($t=Bd,Vt="onMouseLeave",St="onMouseEnter",Bt="mouse",(i==="pointerout"||i==="pointerover")&&($t=Td,Vt="onPointerLeave",St="onPointerEnter",Bt="pointer"),Tt=vt==null?gt:ue(vt),Dt=bt==null?gt:ue(bt),gt=new $t(Vt,Bt+"leave",vt,_,pt),gt.target=Tt,gt.relatedTarget=Dt,Vt=null,Wc(pt)===lt&&($t=new $t(St,Bt+"enter",bt,_,pt),$t.target=Dt,$t.relatedTarget=Tt,Vt=$t),Tt=Vt,vt&&bt)t:{for($t=vt,St=bt,Bt=0,Dt=$t;Dt;Dt=vf(Dt))Bt++;for(Dt=0,Vt=St;Vt;Vt=vf(Vt))Dt++;for(;0<Bt-Dt;)$t=vf($t),Bt--;for(;0<Dt-Bt;)St=vf(St),Dt--;for(;Bt--;){if($t===St||St!==null&&$t===St.alternate)break t;$t=vf($t),St=vf(St)}$t=null}else $t=null;vt!==null&&wf(dt,gt,vt,$t,!1),bt!==null&&Tt!==null&&wf(dt,Tt,bt,$t,!0)}}e:{if(gt=lt?ue(lt):window,vt=gt.nodeName&&gt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&gt.type==="file")var Ht=ve;else if(me(gt))if(we)Ht=Fe;else{Ht=De;var Wt=Ce}else(vt=gt.nodeName)&&vt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(Ht=Ee);if(Ht&&(Ht=Ht(i,lt))){ne(dt,Ht,_,pt);break e}Wt&&Wt(i,gt,lt),i==="focusout"&&(Wt=gt._wrapperState)&&Wt.controlled&&gt.type==="number"&&cb$1(gt,"number",gt.value)}switch(Wt=lt?ue(lt):window,i){case"focusin":(me(Wt)||Wt.contentEditable==="true")&&(Qe=Wt,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(dt,_,pt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,_,pt)}var zt;if(ae)e:{switch(i){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else ie?ge(i,_)&&(Ut="onCompositionEnd"):i==="keydown"&&_.keyCode===229&&(Ut="onCompositionStart");Ut&&(de&&_.locale!=="ko"&&(ie||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ie&&(zt=nd()):(kd=pt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Wt=oe(lt,Ut),0<Wt.length&&(Ut=new Ld(Ut,i,null,_,pt),dt.push({event:Ut,listeners:Wt}),zt?Ut.data=zt:(zt=he(_),zt!==null&&(Ut.data=zt)))),(zt=ce?je(i,_):ke(i,_))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(pt=new Ld("onBeforeInput","beforeinput",null,_,pt),dt.push({event:pt,listeners:lt}),pt.data=zt))}se(dt,$)})}function tf(i,$,_){return{instance:i,listener:$,currentTarget:_}}function oe(i,$){for(var _=$+"Capture",_e=[];i!==null;){var tt=i,nt=tt.stateNode;tt.tag===5&&nt!==null&&(tt=nt,nt=Kb(i,_),nt!=null&&_e.unshift(tf(i,nt,tt)),nt=Kb(i,$),nt!=null&&_e.push(tf(i,nt,tt))),i=i.return}return _e}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,$,_,_e,tt){for(var nt=$._reactName,st=[];_!==null&&_!==_e;){var at=_,ht=at.alternate,lt=at.stateNode;if(ht!==null&&ht===_e)break;at.tag===5&&lt!==null&&(at=lt,tt?(ht=Kb(_,nt),ht!=null&&st.unshift(tf(_,ht,at))):tt||(ht=Kb(_,nt),ht!=null&&st.push(tf(_,ht,at)))),_=_.return}st.length!==0&&i.push({event:$,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,$,_){if($=zf($),zf(i)!==$&&_)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,$){return i==="textarea"||i==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,$){var _=$,_e=0;do{var tt=_.nextSibling;if(i.removeChild(_),tt&&tt.nodeType===8)if(_=tt.data,_==="/$"){if(_e===0){i.removeChild(tt),bd($);return}_e--}else _!=="$"&&_!=="$?"&&_!=="$!"||_e++;_=tt}while(_);bd($)}function Lf(i){for(;i!=null;i=i.nextSibling){var $=i.nodeType;if($===1||$===3)break;if($===8){if($=i.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var $=0;i;){if(i.nodeType===8){var _=i.data;if(_==="$"||_==="$!"||_==="$?"){if($===0)return i;$--}else _==="/$"&&$++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var $=i[Of];if($)return $;for(var _=i.parentNode;_;){if($=_[uf]||_[Of]){if(_=$.alternate,$.child!==null||_!==null&&_.child!==null)for(i=Mf(i);i!==null;){if(_=i[Of])return _;i=Mf(i)}return $}i=_,_=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$2(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,$){Tf++,Sf[Tf]=i.current,i.current=$}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,$){var _=i.type.contextTypes;if(!_)return Vf;var _e=i.stateNode;if(_e&&_e.__reactInternalMemoizedUnmaskedChildContext===$)return _e.__reactInternalMemoizedMaskedChildContext;var tt={},nt;for(nt in _)tt[nt]=$[nt];return _e&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=$,i.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,$,_){if(H.current!==Vf)throw Error(p$2(168));G(H,$),G(Wf,_)}function bg(i,$,_){var _e=i.stateNode;if($=$.childContextTypes,typeof _e.getChildContext!="function")return _;_e=_e.getChildContext();for(var tt in _e)if(!(tt in $))throw Error(p$2(108,Ra(i)||"Unknown",tt));return A$1({},_,_e)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,$,_){var _e=i.stateNode;if(!_e)throw Error(p$2(169));_?(i=bg(i,$,Xf),_e.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,_)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,$=C;try{var _=eg;for(C=1;i<_.length;i++){var _e=_[i];do _e=_e(!0);while(_e!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),tt}finally{C=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,$){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=$}function ug(i,$,_){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var _e=rg;i=sg;var tt=32-oc(_e)-1;_e&=~(1<<tt),_+=1;var nt=32-oc($)+tt;if(30<nt){var st=tt-tt%5;nt=(_e&(1<<st)-1).toString(32),_e>>=st,tt-=st,rg=1<<32-oc($)+tt|_<<tt|_e,sg=nt+i}else rg=1<<nt|_<<tt|_e,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,$){var _=Bg(5,null,null,0);_.elementType="DELETED",_.stateNode=$,_.return=i,$=i.deletions,$===null?(i.deletions=[_],i.flags|=16):$.push(_)}function Cg(i,$){switch(i.tag){case 5:var _=i.type;return $=$.nodeType!==1||_.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(i.stateNode=$,xg=i,yg=Lf($.firstChild),!0):!1;case 6:return $=i.pendingProps===""||$.nodeType!==3?null:$,$!==null?(i.stateNode=$,xg=i,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:$,treeContext:_,retryLane:1073741824},_=Bg(18,null,null,0),_.stateNode=$,_.return=i,i.child=_,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var $=yg;if($){var _=$;if(!Cg(i,$)){if(Dg(i))throw Error(p$2(418));$=Lf(_.nextSibling);var _e=xg;$&&Cg(i,$)?Ag(_e,_):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$2(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var $;if(($=i.tag!==3)&&!($=i.tag!==5)&&($=i.type,$=$!=="head"&&$!=="body"&&!Ef(i.type,i.memoizedProps)),$&&($=yg)){if(Dg(i))throw Hg(),Error(p$2(418));for(;$;)Ag(i,$),$=Lf($.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$2(317));e:{for(i=i.nextSibling,$=0;i;){if(i.nodeType===8){var _=i.data;if(_==="/$"){if($===0){yg=Lf(i.nextSibling);break e}$--}else _!=="$"&&_!=="$!"&&_!=="$?"||$++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,$){if(i&&i.defaultProps){$=A$1({},$),i=i.defaultProps;for(var _ in i)$[_]===void 0&&($[_]=i[_]);return $}return $}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var $=Mg.current;E(Mg),i._currentValue=$}function Sg(i,$,_){for(;i!==null;){var _e=i.alternate;if((i.childLanes&$)!==$?(i.childLanes|=$,_e!==null&&(_e.childLanes|=$)):_e!==null&&(_e.childLanes&$)!==$&&(_e.childLanes|=$),i===_)break;i=i.return}}function Tg(i,$){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&$)!==0&&(Ug=!0),i.firstContext=null)}function Vg(i){var $=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:$,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return $}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,$,_,_e){var tt=$.interleaved;return tt===null?(_.next=_,Xg($)):(_.next=tt.next,tt.next=_),$.interleaved=_,Zg(i,_e)}function Zg(i,$){i.lanes|=$;var _=i.alternate;for(_!==null&&(_.lanes|=$),_=i,i=i.return;i!==null;)i.childLanes|=$,_=i.alternate,_!==null&&(_.childLanes|=$),_=i,i=i.return;return _.tag===3?_.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,$){i=i.updateQueue,$.updateQueue===i&&($.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,$){return{eventTime:i,lane:$,tag:0,payload:null,callback:null,next:null}}function dh(i,$,_){var _e=i.updateQueue;if(_e===null)return null;if(_e=_e.shared,(K&2)!==0){var tt=_e.pending;return tt===null?$.next=$:($.next=tt.next,tt.next=$),_e.pending=$,Zg(i,_)}return tt=_e.interleaved,tt===null?($.next=$,Xg(_e)):($.next=tt.next,tt.next=$),_e.interleaved=$,Zg(i,_)}function eh(i,$,_){if($=$.updateQueue,$!==null&&($=$.shared,(_&4194240)!==0)){var _e=$.lanes;_e&=i.pendingLanes,_|=_e,$.lanes=_,Cc(i,_)}}function fh(i,$){var _=i.updateQueue,_e=i.alternate;if(_e!==null&&(_e=_e.updateQueue,_===_e)){var tt=null,nt=null;if(_=_.firstBaseUpdate,_!==null){do{var st={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};nt===null?tt=nt=st:nt=nt.next=st,_=_.next}while(_!==null);nt===null?tt=nt=$:nt=nt.next=$}else tt=nt=$;_={baseState:_e.baseState,firstBaseUpdate:tt,lastBaseUpdate:nt,shared:_e.shared,effects:_e.effects},i.updateQueue=_;return}i=_.lastBaseUpdate,i===null?_.firstBaseUpdate=$:i.next=$,_.lastBaseUpdate=$}function gh(i,$,_,_e){var tt=i.updateQueue;$g=!1;var nt=tt.firstBaseUpdate,st=tt.lastBaseUpdate,at=tt.shared.pending;if(at!==null){tt.shared.pending=null;var ht=at,lt=ht.next;ht.next=null,st===null?nt=lt:st.next=lt,st=ht;var pt=i.alternate;pt!==null&&(pt=pt.updateQueue,at=pt.lastBaseUpdate,at!==st&&(at===null?pt.firstBaseUpdate=lt:at.next=lt,pt.lastBaseUpdate=ht))}if(nt!==null){var dt=tt.baseState;st=0,pt=lt=ht=null,at=nt;do{var gt=at.lane,vt=at.eventTime;if((_e&gt)===gt){pt!==null&&(pt=pt.next={eventTime:vt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var bt=i,$t=at;switch(gt=$,vt=_,$t.tag){case 1:if(bt=$t.payload,typeof bt=="function"){dt=bt.call(vt,dt,gt);break e}dt=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=$t.payload,gt=typeof bt=="function"?bt.call(vt,dt,gt):bt,gt==null)break e;dt=A$1({},dt,gt);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(i.flags|=64,gt=tt.effects,gt===null?tt.effects=[at]:gt.push(at))}else vt={eventTime:vt,lane:gt,tag:at.tag,payload:at.payload,callback:at.callback,next:null},pt===null?(lt=pt=vt,ht=dt):pt=pt.next=vt,st|=gt;if(at=at.next,at===null){if(at=tt.shared.pending,at===null)break;gt=at,at=gt.next,gt.next=null,tt.lastBaseUpdate=gt,tt.shared.pending=null}}while(1);if(pt===null&&(ht=dt),tt.baseState=ht,tt.firstBaseUpdate=lt,tt.lastBaseUpdate=pt,$=tt.shared.interleaved,$!==null){tt=$;do st|=tt.lane,tt=tt.next;while(tt!==$)}else nt===null&&(tt.shared.lanes=0);hh|=st,i.lanes=st,i.memoizedState=dt}}function ih(i,$,_){if(i=$.effects,$.effects=null,i!==null)for($=0;$<i.length;$++){var _e=i[$],tt=_e.callback;if(tt!==null){if(_e.callback=null,_e=_,typeof tt!="function")throw Error(p$2(191,tt));tt.call(_e)}}}var jh=new aa.Component().refs;function kh(i,$,_,_e){$=i.memoizedState,_=_(_e,$),_=_==null?$:A$1({},$,_),i.memoizedState=_,i.lanes===0&&(i.updateQueue.baseState=_)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,$,_){i=i._reactInternals;var _e=L(),tt=lh(i),nt=ch(_e,tt);nt.payload=$,_!=null&&(nt.callback=_),$=dh(i,nt,tt),$!==null&&(mh($,i,tt,_e),eh($,i,tt))},enqueueReplaceState:function(i,$,_){i=i._reactInternals;var _e=L(),tt=lh(i),nt=ch(_e,tt);nt.tag=1,nt.payload=$,_!=null&&(nt.callback=_),$=dh(i,nt,tt),$!==null&&(mh($,i,tt,_e),eh($,i,tt))},enqueueForceUpdate:function(i,$){i=i._reactInternals;var _=L(),_e=lh(i),tt=ch(_,_e);tt.tag=2,$!=null&&(tt.callback=$),$=dh(i,tt,_e),$!==null&&(mh($,i,_e,_),eh($,i,_e))}};function oh(i,$,_,_e,tt,nt,st){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(_e,nt,st):$.prototype&&$.prototype.isPureReactComponent?!Ie(_,_e)||!Ie(tt,nt):!0}function ph(i,$,_){var _e=!1,tt=Vf,nt=$.contextType;return typeof nt=="object"&&nt!==null?nt=Vg(nt):(tt=Zf($)?Xf:H.current,_e=$.contextTypes,nt=(_e=_e!=null)?Yf(i,tt):Vf),$=new $(_,nt),i.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=nh,i.stateNode=$,$._reactInternals=i,_e&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=tt,i.__reactInternalMemoizedMaskedChildContext=nt),$}function qh(i,$,_,_e){i=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_,_e),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_,_e),$.state!==i&&nh.enqueueReplaceState($,$.state,null)}function rh(i,$,_,_e){var tt=i.stateNode;tt.props=_,tt.state=i.memoizedState,tt.refs=jh,ah(i);var nt=$.contextType;typeof nt=="object"&&nt!==null?tt.context=Vg(nt):(nt=Zf($)?Xf:H.current,tt.context=Yf(i,nt)),tt.state=i.memoizedState,nt=$.getDerivedStateFromProps,typeof nt=="function"&&(kh(i,$,nt,_),tt.state=i.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||($=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),$!==tt.state&&nh.enqueueReplaceState(tt,tt.state,null),gh(i,_,tt,_e),tt.state=i.memoizedState),typeof tt.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,$,_){if(i=_.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(p$2(309));var _e=_.stateNode}if(!_e)throw Error(p$2(147,i));var tt=_e,nt=""+i;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===nt?$.ref:($=function(st){var at=tt.refs;at===jh&&(at=tt.refs={}),st===null?delete at[nt]:at[nt]=st},$._stringRef=nt,$)}if(typeof i!="string")throw Error(p$2(284));if(!_._owner)throw Error(p$2(290,i))}return i}function th(i,$){throw i=Object.prototype.toString.call($),Error(p$2(31,i==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":i))}function uh(i){var $=i._init;return $(i._payload)}function vh$1(i){function $(St,Bt){if(i){var Dt=St.deletions;Dt===null?(St.deletions=[Bt],St.flags|=16):Dt.push(Bt)}}function _(St,Bt){if(!i)return null;for(;Bt!==null;)$(St,Bt),Bt=Bt.sibling;return null}function _e(St,Bt){for(St=new Map;Bt!==null;)Bt.key!==null?St.set(Bt.key,Bt):St.set(Bt.index,Bt),Bt=Bt.sibling;return St}function tt(St,Bt){return St=wh(St,Bt),St.index=0,St.sibling=null,St}function nt(St,Bt,Dt){return St.index=Dt,i?(Dt=St.alternate,Dt!==null?(Dt=Dt.index,Dt<Bt?(St.flags|=2,Bt):Dt):(St.flags|=2,Bt)):(St.flags|=1048576,Bt)}function st(St){return i&&St.alternate===null&&(St.flags|=2),St}function at(St,Bt,Dt,Vt){return Bt===null||Bt.tag!==6?(Bt=xh(Dt,St.mode,Vt),Bt.return=St,Bt):(Bt=tt(Bt,Dt),Bt.return=St,Bt)}function ht(St,Bt,Dt,Vt){var Ht=Dt.type;return Ht===ya?pt(St,Bt,Dt.props.children,Vt,Dt.key):Bt!==null&&(Bt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Ha&&uh(Ht)===Bt.type)?(Vt=tt(Bt,Dt.props),Vt.ref=sh(St,Bt,Dt),Vt.return=St,Vt):(Vt=yh(Dt.type,Dt.key,Dt.props,null,St.mode,Vt),Vt.ref=sh(St,Bt,Dt),Vt.return=St,Vt)}function lt(St,Bt,Dt,Vt){return Bt===null||Bt.tag!==4||Bt.stateNode.containerInfo!==Dt.containerInfo||Bt.stateNode.implementation!==Dt.implementation?(Bt=zh(Dt,St.mode,Vt),Bt.return=St,Bt):(Bt=tt(Bt,Dt.children||[]),Bt.return=St,Bt)}function pt(St,Bt,Dt,Vt,Ht){return Bt===null||Bt.tag!==7?(Bt=Ah(Dt,St.mode,Vt,Ht),Bt.return=St,Bt):(Bt=tt(Bt,Dt),Bt.return=St,Bt)}function dt(St,Bt,Dt){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return Bt=xh(""+Bt,St.mode,Dt),Bt.return=St,Bt;if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case va:return Dt=yh(Bt.type,Bt.key,Bt.props,null,St.mode,Dt),Dt.ref=sh(St,null,Bt),Dt.return=St,Dt;case wa:return Bt=zh(Bt,St.mode,Dt),Bt.return=St,Bt;case Ha:var Vt=Bt._init;return dt(St,Vt(Bt._payload),Dt)}if(eb(Bt)||Ka(Bt))return Bt=Ah(Bt,St.mode,Dt,null),Bt.return=St,Bt;th(St,Bt)}return null}function gt(St,Bt,Dt,Vt){var Ht=Bt!==null?Bt.key:null;if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Ht!==null?null:at(St,Bt,""+Dt,Vt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:return Dt.key===Ht?ht(St,Bt,Dt,Vt):null;case wa:return Dt.key===Ht?lt(St,Bt,Dt,Vt):null;case Ha:return Ht=Dt._init,gt(St,Bt,Ht(Dt._payload),Vt)}if(eb(Dt)||Ka(Dt))return Ht!==null?null:pt(St,Bt,Dt,Vt,null);th(St,Dt)}return null}function vt(St,Bt,Dt,Vt,Ht){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return St=St.get(Dt)||null,at(Bt,St,""+Vt,Ht);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case va:return St=St.get(Vt.key===null?Dt:Vt.key)||null,ht(Bt,St,Vt,Ht);case wa:return St=St.get(Vt.key===null?Dt:Vt.key)||null,lt(Bt,St,Vt,Ht);case Ha:var Wt=Vt._init;return vt(St,Bt,Dt,Wt(Vt._payload),Ht)}if(eb(Vt)||Ka(Vt))return St=St.get(Dt)||null,pt(Bt,St,Vt,Ht,null);th(Bt,Vt)}return null}function bt(St,Bt,Dt,Vt){for(var Ht=null,Wt=null,zt=Bt,Ut=Bt=0,ao=null;zt!==null&&Ut<Dt.length;Ut++){zt.index>Ut?(ao=zt,zt=null):ao=zt.sibling;var lo=gt(St,zt,Dt[Ut],Vt);if(lo===null){zt===null&&(zt=ao);break}i&&zt&&lo.alternate===null&&$(St,zt),Bt=nt(lo,Bt,Ut),Wt===null?Ht=lo:Wt.sibling=lo,Wt=lo,zt=ao}if(Ut===Dt.length)return _(St,zt),I&&tg(St,Ut),Ht;if(zt===null){for(;Ut<Dt.length;Ut++)zt=dt(St,Dt[Ut],Vt),zt!==null&&(Bt=nt(zt,Bt,Ut),Wt===null?Ht=zt:Wt.sibling=zt,Wt=zt);return I&&tg(St,Ut),Ht}for(zt=_e(St,zt);Ut<Dt.length;Ut++)ao=vt(zt,St,Ut,Dt[Ut],Vt),ao!==null&&(i&&ao.alternate!==null&&zt.delete(ao.key===null?Ut:ao.key),Bt=nt(ao,Bt,Ut),Wt===null?Ht=ao:Wt.sibling=ao,Wt=ao);return i&&zt.forEach(function(Ao){return $(St,Ao)}),I&&tg(St,Ut),Ht}function $t(St,Bt,Dt,Vt){var Ht=Ka(Dt);if(typeof Ht!="function")throw Error(p$2(150));if(Dt=Ht.call(Dt),Dt==null)throw Error(p$2(151));for(var Wt=Ht=null,zt=Bt,Ut=Bt=0,ao=null,lo=Dt.next();zt!==null&&!lo.done;Ut++,lo=Dt.next()){zt.index>Ut?(ao=zt,zt=null):ao=zt.sibling;var Ao=gt(St,zt,lo.value,Vt);if(Ao===null){zt===null&&(zt=ao);break}i&&zt&&Ao.alternate===null&&$(St,zt),Bt=nt(Ao,Bt,Ut),Wt===null?Ht=Ao:Wt.sibling=Ao,Wt=Ao,zt=ao}if(lo.done)return _(St,zt),I&&tg(St,Ut),Ht;if(zt===null){for(;!lo.done;Ut++,lo=Dt.next())lo=dt(St,lo.value,Vt),lo!==null&&(Bt=nt(lo,Bt,Ut),Wt===null?Ht=lo:Wt.sibling=lo,Wt=lo);return I&&tg(St,Ut),Ht}for(zt=_e(St,zt);!lo.done;Ut++,lo=Dt.next())lo=vt(zt,St,Ut,lo.value,Vt),lo!==null&&(i&&lo.alternate!==null&&zt.delete(lo.key===null?Ut:lo.key),Bt=nt(lo,Bt,Ut),Wt===null?Ht=lo:Wt.sibling=lo,Wt=lo);return i&&zt.forEach(function(Zo){return $(St,Zo)}),I&&tg(St,Ut),Ht}function Tt(St,Bt,Dt,Vt){if(typeof Dt=="object"&&Dt!==null&&Dt.type===ya&&Dt.key===null&&(Dt=Dt.props.children),typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:e:{for(var Ht=Dt.key,Wt=Bt;Wt!==null;){if(Wt.key===Ht){if(Ht=Dt.type,Ht===ya){if(Wt.tag===7){_(St,Wt.sibling),Bt=tt(Wt,Dt.props.children),Bt.return=St,St=Bt;break e}}else if(Wt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Ha&&uh(Ht)===Wt.type){_(St,Wt.sibling),Bt=tt(Wt,Dt.props),Bt.ref=sh(St,Wt,Dt),Bt.return=St,St=Bt;break e}_(St,Wt);break}else $(St,Wt);Wt=Wt.sibling}Dt.type===ya?(Bt=Ah(Dt.props.children,St.mode,Vt,Dt.key),Bt.return=St,St=Bt):(Vt=yh(Dt.type,Dt.key,Dt.props,null,St.mode,Vt),Vt.ref=sh(St,Bt,Dt),Vt.return=St,St=Vt)}return st(St);case wa:e:{for(Wt=Dt.key;Bt!==null;){if(Bt.key===Wt)if(Bt.tag===4&&Bt.stateNode.containerInfo===Dt.containerInfo&&Bt.stateNode.implementation===Dt.implementation){_(St,Bt.sibling),Bt=tt(Bt,Dt.children||[]),Bt.return=St,St=Bt;break e}else{_(St,Bt);break}else $(St,Bt);Bt=Bt.sibling}Bt=zh(Dt,St.mode,Vt),Bt.return=St,St=Bt}return st(St);case Ha:return Wt=Dt._init,Tt(St,Bt,Wt(Dt._payload),Vt)}if(eb(Dt))return bt(St,Bt,Dt,Vt);if(Ka(Dt))return $t(St,Bt,Dt,Vt);th(St,Dt)}return typeof Dt=="string"&&Dt!==""||typeof Dt=="number"?(Dt=""+Dt,Bt!==null&&Bt.tag===6?(_(St,Bt.sibling),Bt=tt(Bt,Dt),Bt.return=St,St=Bt):(_(St,Bt),Bt=xh(Dt,St.mode,Vt),Bt.return=St,St=Bt),st(St)):_(St,Bt)}return Tt}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$2(174));return i}function Ih(i,$){switch(G(Gh,$),G(Fh,i),G(Eh,Dh),i=$.nodeType,i){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:i=i===8?$.parentNode:$,$=i.namespaceURI||null,i=i.tagName,$=lb($,i)}E(Eh),G(Eh,$)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var $=Hh(Eh.current),_=lb($,i.type);$!==_&&(G(Fh,i),G(Eh,_))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var $=i;$!==null;){if($.tag===13){var _=$.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if(($.flags&128)!==0)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===i)break;for(;$.sibling===null;){if($.return===null||$.return===i)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(i,$){if($===null)return!1;for(var _=0;_<$.length&&_<i.length;_++)if(!He(i[_],$[_]))return!1;return!0}function Xh(i,$,_,_e,tt,nt){if(Rh=nt,N=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=_(_e,tt),Th){nt=0;do{if(Th=!1,Uh=0,25<=nt)throw Error(p$2(301));nt+=1,P=O=null,$.updateQueue=null,Ph.current=$h,i=_(_e,tt)}while(Th)}if(Ph.current=ai,$=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,$)throw Error(p$2(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var $=P===null?N.memoizedState:P.next;if($!==null)P=$,O=i;else{if(i===null)throw Error(p$2(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,$){return typeof $=="function"?$(i):$}function fi(i){var $=di(),_=$.queue;if(_===null)throw Error(p$2(311));_.lastRenderedReducer=i;var _e=O,tt=_e.baseQueue,nt=_.pending;if(nt!==null){if(tt!==null){var st=tt.next;tt.next=nt.next,nt.next=st}_e.baseQueue=tt=nt,_.pending=null}if(tt!==null){nt=tt.next,_e=_e.baseState;var at=st=null,ht=null,lt=nt;do{var pt=lt.lane;if((Rh&pt)===pt)ht!==null&&(ht=ht.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),_e=lt.hasEagerState?lt.eagerState:i(_e,lt.action);else{var dt={lane:pt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};ht===null?(at=ht=dt,st=_e):ht=ht.next=dt,N.lanes|=pt,hh|=pt}lt=lt.next}while(lt!==null&&lt!==nt);ht===null?st=_e:ht.next=at,He(_e,$.memoizedState)||(Ug=!0),$.memoizedState=_e,$.baseState=st,$.baseQueue=ht,_.lastRenderedState=_e}if(i=_.interleaved,i!==null){tt=i;do nt=tt.lane,N.lanes|=nt,hh|=nt,tt=tt.next;while(tt!==i)}else tt===null&&(_.lanes=0);return[$.memoizedState,_.dispatch]}function gi(i){var $=di(),_=$.queue;if(_===null)throw Error(p$2(311));_.lastRenderedReducer=i;var _e=_.dispatch,tt=_.pending,nt=$.memoizedState;if(tt!==null){_.pending=null;var st=tt=tt.next;do nt=i(nt,st.action),st=st.next;while(st!==tt);He(nt,$.memoizedState)||(Ug=!0),$.memoizedState=nt,$.baseQueue===null&&($.baseState=nt),_.lastRenderedState=nt}return[nt,_e]}function hi(){}function ii(i,$){var _=N,_e=di(),tt=$(),nt=!He(_e.memoizedState,tt);if(nt&&(_e.memoizedState=tt,Ug=!0),_e=_e.queue,ji(ki.bind(null,_,_e,i),[i]),_e.getSnapshot!==$||nt||P!==null&&P.memoizedState.tag&1){if(_.flags|=2048,li(9,mi.bind(null,_,_e,tt,$),void 0,null),R===null)throw Error(p$2(349));(Rh&30)!==0||ni(_,$,tt)}return tt}function ni(i,$,_){i.flags|=16384,i={getSnapshot:$,value:_},$=N.updateQueue,$===null?($={lastEffect:null,stores:null},N.updateQueue=$,$.stores=[i]):(_=$.stores,_===null?$.stores=[i]:_.push(i))}function mi(i,$,_,_e){$.value=_,$.getSnapshot=_e,oi($)&&pi(i)}function ki(i,$,_){return _(function(){oi($)&&pi(i)})}function oi(i){var $=i.getSnapshot;i=i.value;try{var _=$();return!He(i,_)}catch{return!0}}function pi(i){var $=Zg(i,1);$!==null&&mh($,i,1,-1)}function qi(i){var $=ci();return typeof i=="function"&&(i=i()),$.memoizedState=$.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},$.queue=i,i=i.dispatch=ri.bind(null,N,i),[$.memoizedState,i]}function li(i,$,_,_e){return i={tag:i,create:$,destroy:_,deps:_e,next:null},$=N.updateQueue,$===null?($={lastEffect:null,stores:null},N.updateQueue=$,$.lastEffect=i.next=i):(_=$.lastEffect,_===null?$.lastEffect=i.next=i:(_e=_.next,_.next=i,i.next=_e,$.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,$,_,_e){var tt=ci();N.flags|=i,tt.memoizedState=li(1|$,_,void 0,_e===void 0?null:_e)}function ui(i,$,_,_e){var tt=di();_e=_e===void 0?null:_e;var nt=void 0;if(O!==null){var st=O.memoizedState;if(nt=st.destroy,_e!==null&&Wh(_e,st.deps)){tt.memoizedState=li($,_,nt,_e);return}}N.flags|=i,tt.memoizedState=li(1|$,_,nt,_e)}function vi(i,$){return ti(8390656,8,i,$)}function ji(i,$){return ui(2048,8,i,$)}function wi(i,$){return ui(4,2,i,$)}function xi(i,$){return ui(4,4,i,$)}function yi(i,$){if(typeof $=="function")return i=i(),$(i),function(){$(null)};if($!=null)return i=i(),$.current=i,function(){$.current=null}}function zi(i,$,_){return _=_!=null?_.concat([i]):null,ui(4,4,yi.bind(null,$,i),_)}function Ai(){}function Bi(i,$){var _=di();$=$===void 0?null:$;var _e=_.memoizedState;return _e!==null&&$!==null&&Wh($,_e[1])?_e[0]:(_.memoizedState=[i,$],i)}function Ci(i,$){var _=di();$=$===void 0?null:$;var _e=_.memoizedState;return _e!==null&&$!==null&&Wh($,_e[1])?_e[0]:(i=i(),_.memoizedState=[i,$],i)}function Di(i,$,_){return(Rh&21)===0?(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=_):(He(_,$)||(_=yc(),N.lanes|=_,hh|=_,i.baseState=!0),$)}function Ei(i,$){var _=C;C=_!==0&&4>_?_:4,i(!0);var _e=Qh.transition;Qh.transition={};try{i(!1),$()}finally{C=_,Qh.transition=_e}}function Fi(){return di().memoizedState}function Gi(i,$,_){var _e=lh(i);if(_={lane:_e,action:_,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii($,_);else if(_=Yg(i,$,_,_e),_!==null){var tt=L();mh(_,i,_e,tt),Ji(_,$,_e)}}function ri(i,$,_){var _e=lh(i),tt={lane:_e,action:_,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii($,tt);else{var nt=i.alternate;if(i.lanes===0&&(nt===null||nt.lanes===0)&&(nt=$.lastRenderedReducer,nt!==null))try{var st=$.lastRenderedState,at=nt(st,_);if(tt.hasEagerState=!0,tt.eagerState=at,He(at,st)){var ht=$.interleaved;ht===null?(tt.next=tt,Xg($)):(tt.next=ht.next,ht.next=tt),$.interleaved=tt;return}}catch{}finally{}_=Yg(i,$,tt,_e),_!==null&&(tt=L(),mh(_,i,_e,tt),Ji(_,$,_e))}}function Hi(i){var $=i.alternate;return i===N||$!==null&&$===N}function Ii(i,$){Th=Sh=!0;var _=i.pending;_===null?$.next=$:($.next=_.next,_.next=$),i.pending=$}function Ji(i,$,_){if((_&4194240)!==0){var _e=$.lanes;_e&=i.pendingLanes,_|=_e,$.lanes=_,Cc(i,_)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,$){return ci().memoizedState=[i,$===void 0?null:$],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,$,_){return _=_!=null?_.concat([i]):null,ti(4194308,4,yi.bind(null,$,i),_)},useLayoutEffect:function(i,$){return ti(4194308,4,i,$)},useInsertionEffect:function(i,$){return ti(4,2,i,$)},useMemo:function(i,$){var _=ci();return $=$===void 0?null:$,i=i(),_.memoizedState=[i,$],i},useReducer:function(i,$,_){var _e=ci();return $=_!==void 0?_($):$,_e.memoizedState=_e.baseState=$,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:$},_e.queue=i,i=i.dispatch=Gi.bind(null,N,i),[_e.memoizedState,i]},useRef:function(i){var $=ci();return i={current:i},$.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),$=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[$,i]},useMutableSource:function(){},useSyncExternalStore:function(i,$,_){var _e=N,tt=ci();if(I){if(_===void 0)throw Error(p$2(407));_=_()}else{if(_=$(),R===null)throw Error(p$2(349));(Rh&30)!==0||ni(_e,$,_)}tt.memoizedState=_;var nt={value:_,getSnapshot:$};return tt.queue=nt,vi(ki.bind(null,_e,nt,i),[i]),_e.flags|=2048,li(9,mi.bind(null,_e,nt,_,$),void 0,null),_},useId:function(){var i=ci(),$=R.identifierPrefix;if(I){var _=sg,_e=rg;_=(_e&~(1<<32-oc(_e)-1)).toString(32)+_,$=":"+$+"R"+_,_=Uh++,0<_&&($+="H"+_.toString(32)),$+=":"}else _=Vh++,$=":"+$+"r"+_.toString(32)+":";return i.memoizedState=$},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var $=di();return Di($,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],$=di().memoizedState;return[i,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var $=di();return O===null?$.memoizedState=i:Di($,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],$=di().memoizedState;return[i,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,$){try{var _="",_e=$;do _+=Pa(_e),_e=_e.return;while(_e);var tt=_}catch(nt){tt=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:i,source:$,stack:tt,digest:null}}function Li(i,$,_){return{value:i,source:null,stack:_!=null?_:null,digest:$!=null?$:null}}function Mi(i,$){try{console.error($.value)}catch(_){setTimeout(function(){throw _})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,$,_){_=ch(-1,_),_.tag=3,_.payload={element:null};var _e=$.value;return _.callback=function(){Pi||(Pi=!0,Qi=_e),Mi(i,$)},_}function Ri(i,$,_){_=ch(-1,_),_.tag=3;var _e=i.type.getDerivedStateFromError;if(typeof _e=="function"){var tt=$.value;_.payload=function(){return _e(tt)},_.callback=function(){Mi(i,$)}}var nt=i.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(_.callback=function(){Mi(i,$),typeof _e!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var st=$.stack;this.componentDidCatch($.value,{componentStack:st!==null?st:""})}),_}function Ti(i,$,_){var _e=i.pingCache;if(_e===null){_e=i.pingCache=new Ni;var tt=new Set;_e.set($,tt)}else tt=_e.get($),tt===void 0&&(tt=new Set,_e.set($,tt));tt.has(_)||(tt.add(_),i=Ui.bind(null,i,$,_),$.then(i,i))}function Vi(i){do{var $;if(($=i.tag===13)&&($=i.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return i;i=i.return}while(i!==null);return null}function Wi(i,$,_,_e,tt){return(i.mode&1)===0?(i===$?i.flags|=65536:(i.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:($=ch(-1,1),$.tag=2,dh(_,$,1))),_.lanes|=1),i):(i.flags|=65536,i.lanes=tt,i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,$,_,_e){$.child=i===null?Ch($,null,_,_e):Bh($,i.child,_,_e)}function Zi(i,$,_,_e,tt){_=_.render;var nt=$.ref;return Tg($,tt),_e=Xh(i,$,_,_e,nt,tt),_=bi(),i!==null&&!Ug?($.updateQueue=i.updateQueue,$.flags&=-2053,i.lanes&=~tt,$i(i,$,tt)):(I&&_&&vg($),$.flags|=1,Yi(i,$,_e,tt),$.child)}function aj(i,$,_,_e,tt){if(i===null){var nt=_.type;return typeof nt=="function"&&!bj(nt)&&nt.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?($.tag=15,$.type=nt,cj(i,$,nt,_e,tt)):(i=yh(_.type,null,_e,$,$.mode,tt),i.ref=$.ref,i.return=$,$.child=i)}if(nt=i.child,(i.lanes&tt)===0){var st=nt.memoizedProps;if(_=_.compare,_=_!==null?_:Ie,_(st,_e)&&i.ref===$.ref)return $i(i,$,tt)}return $.flags|=1,i=wh(nt,_e),i.ref=$.ref,i.return=$,$.child=i}function cj(i,$,_,_e,tt){if(i!==null){var nt=i.memoizedProps;if(Ie(nt,_e)&&i.ref===$.ref)if(Ug=!1,$.pendingProps=_e=nt,(i.lanes&tt)!==0)(i.flags&131072)!==0&&(Ug=!0);else return $.lanes=i.lanes,$i(i,$,tt)}return dj(i,$,_,_e,tt)}function ej(i,$,_){var _e=$.pendingProps,tt=_e.children,nt=i!==null?i.memoizedState:null;if(_e.mode==="hidden")if(($.mode&1)===0)$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=_;else{if((_&1073741824)===0)return i=nt!==null?nt.baseLanes|_:_,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:i,cachePool:null,transitions:null},$.updateQueue=null,G(fj,gj),gj|=i,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e=nt!==null?nt.baseLanes:_,G(fj,gj),gj|=_e}else nt!==null?(_e=nt.baseLanes|_,$.memoizedState=null):_e=_,G(fj,gj),gj|=_e;return Yi(i,$,tt,_),$.child}function hj(i,$){var _=$.ref;(i===null&&_!==null||i!==null&&i.ref!==_)&&($.flags|=512,$.flags|=2097152)}function dj(i,$,_,_e,tt){var nt=Zf(_)?Xf:H.current;return nt=Yf($,nt),Tg($,tt),_=Xh(i,$,_,_e,nt,tt),_e=bi(),i!==null&&!Ug?($.updateQueue=i.updateQueue,$.flags&=-2053,i.lanes&=~tt,$i(i,$,tt)):(I&&_e&&vg($),$.flags|=1,Yi(i,$,_,tt),$.child)}function ij(i,$,_,_e,tt){if(Zf(_)){var nt=!0;cg($)}else nt=!1;if(Tg($,tt),$.stateNode===null)jj(i,$),ph($,_,_e),rh($,_,_e,tt),_e=!0;else if(i===null){var st=$.stateNode,at=$.memoizedProps;st.props=at;var ht=st.context,lt=_.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(_)?Xf:H.current,lt=Yf($,lt));var pt=_.getDerivedStateFromProps,dt=typeof pt=="function"||typeof st.getSnapshotBeforeUpdate=="function";dt||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(at!==_e||ht!==lt)&&qh($,st,_e,lt),$g=!1;var gt=$.memoizedState;st.state=gt,gh($,_e,st,tt),ht=$.memoizedState,at!==_e||gt!==ht||Wf.current||$g?(typeof pt=="function"&&(kh($,_,pt,_e),ht=$.memoizedState),(at=$g||oh($,_,at,_e,gt,ht,lt))?(dt||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&($.flags|=4194308)):(typeof st.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=_e,$.memoizedState=ht),st.props=_e,st.state=ht,st.context=lt,_e=at):(typeof st.componentDidMount=="function"&&($.flags|=4194308),_e=!1)}else{st=$.stateNode,bh(i,$),at=$.memoizedProps,lt=$.type===$.elementType?at:Lg($.type,at),st.props=lt,dt=$.pendingProps,gt=st.context,ht=_.contextType,typeof ht=="object"&&ht!==null?ht=Vg(ht):(ht=Zf(_)?Xf:H.current,ht=Yf($,ht));var vt=_.getDerivedStateFromProps;(pt=typeof vt=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(at!==dt||gt!==ht)&&qh($,st,_e,ht),$g=!1,gt=$.memoizedState,st.state=gt,gh($,_e,st,tt);var bt=$.memoizedState;at!==dt||gt!==bt||Wf.current||$g?(typeof vt=="function"&&(kh($,_,vt,_e),bt=$.memoizedState),(lt=$g||oh($,_,lt,_e,gt,bt,ht)||!1)?(pt||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(_e,bt,ht),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(_e,bt,ht)),typeof st.componentDidUpdate=="function"&&($.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof st.componentDidUpdate!="function"||at===i.memoizedProps&&gt===i.memoizedState||($.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||at===i.memoizedProps&&gt===i.memoizedState||($.flags|=1024),$.memoizedProps=_e,$.memoizedState=bt),st.props=_e,st.state=bt,st.context=ht,_e=lt):(typeof st.componentDidUpdate!="function"||at===i.memoizedProps&&gt===i.memoizedState||($.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||at===i.memoizedProps&&gt===i.memoizedState||($.flags|=1024),_e=!1)}return kj(i,$,_,_e,nt,tt)}function kj(i,$,_,_e,tt,nt){hj(i,$);var st=($.flags&128)!==0;if(!_e&&!st)return tt&&dg($,_,!1),$i(i,$,nt);_e=$.stateNode,Xi.current=$;var at=st&&typeof _.getDerivedStateFromError!="function"?null:_e.render();return $.flags|=1,i!==null&&st?($.child=Bh($,i.child,null,nt),$.child=Bh($,null,at,nt)):Yi(i,$,at,nt),$.memoizedState=_e.state,tt&&dg($,_,!0),$.child}function lj(i){var $=i.stateNode;$.pendingContext?ag(i,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(i,$.context,!1),Ih(i,$.containerInfo)}function mj(i,$,_,_e,tt){return Ig(),Jg(tt),$.flags|=256,Yi(i,$,_,_e),$.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,$,_){var _e=$.pendingProps,tt=M.current,nt=!1,st=($.flags&128)!==0,at;if((at=st)||(at=i!==null&&i.memoizedState===null?!1:(tt&2)!==0),at?(nt=!0,$.flags&=-129):(i===null||i.memoizedState!==null)&&(tt|=1),G(M,tt&1),i===null)return Eg($),i=$.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(($.mode&1)===0?$.lanes=1:i.data==="$!"?$.lanes=8:$.lanes=1073741824,null):(st=_e.children,i=_e.fallback,nt?(_e=$.mode,nt=$.child,st={mode:"hidden",children:st},(_e&1)===0&&nt!==null?(nt.childLanes=0,nt.pendingProps=st):nt=qj(st,_e,0,null),i=Ah(i,_e,_,null),nt.return=$,i.return=$,nt.sibling=i,$.child=nt,$.child.memoizedState=oj(_),$.memoizedState=nj,i):rj($,st));if(tt=i.memoizedState,tt!==null&&(at=tt.dehydrated,at!==null))return sj(i,$,st,_e,at,tt,_);if(nt){nt=_e.fallback,st=$.mode,tt=i.child,at=tt.sibling;var ht={mode:"hidden",children:_e.children};return(st&1)===0&&$.child!==tt?(_e=$.child,_e.childLanes=0,_e.pendingProps=ht,$.deletions=null):(_e=wh(tt,ht),_e.subtreeFlags=tt.subtreeFlags&14680064),at!==null?nt=wh(at,nt):(nt=Ah(nt,st,_,null),nt.flags|=2),nt.return=$,_e.return=$,_e.sibling=nt,$.child=_e,_e=nt,nt=$.child,st=i.child.memoizedState,st=st===null?oj(_):{baseLanes:st.baseLanes|_,cachePool:null,transitions:st.transitions},nt.memoizedState=st,nt.childLanes=i.childLanes&~_,$.memoizedState=nj,_e}return nt=i.child,i=nt.sibling,_e=wh(nt,{mode:"visible",children:_e.children}),($.mode&1)===0&&(_e.lanes=_),_e.return=$,_e.sibling=null,i!==null&&(_=$.deletions,_===null?($.deletions=[i],$.flags|=16):_.push(i)),$.child=_e,$.memoizedState=null,_e}function rj(i,$){return $=qj({mode:"visible",children:$},i.mode,0,null),$.return=i,i.child=$}function tj(i,$,_,_e){return _e!==null&&Jg(_e),Bh($,i.child,null,_),i=rj($,$.pendingProps.children),i.flags|=2,$.memoizedState=null,i}function sj(i,$,_,_e,tt,nt,st){if(_)return $.flags&256?($.flags&=-257,_e=Li(Error(p$2(422))),tj(i,$,st,_e)):$.memoizedState!==null?($.child=i.child,$.flags|=128,null):(nt=_e.fallback,tt=$.mode,_e=qj({mode:"visible",children:_e.children},tt,0,null),nt=Ah(nt,tt,st,null),nt.flags|=2,_e.return=$,nt.return=$,_e.sibling=nt,$.child=_e,($.mode&1)!==0&&Bh($,i.child,null,st),$.child.memoizedState=oj(st),$.memoizedState=nj,nt);if(($.mode&1)===0)return tj(i,$,st,null);if(tt.data==="$!"){if(_e=tt.nextSibling&&tt.nextSibling.dataset,_e)var at=_e.dgst;return _e=at,nt=Error(p$2(419)),_e=Li(nt,_e,void 0),tj(i,$,st,_e)}if(at=(st&i.childLanes)!==0,Ug||at){if(_e=R,_e!==null){switch(st&-st){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=(tt&(_e.suspendedLanes|st))!==0?0:tt,tt!==0&&tt!==nt.retryLane&&(nt.retryLane=tt,Zg(i,tt),mh(_e,i,tt,-1))}return uj(),_e=Li(Error(p$2(421))),tj(i,$,st,_e)}return tt.data==="$?"?($.flags|=128,$.child=i.child,$=vj.bind(null,i),tt._reactRetry=$,null):(i=nt.treeContext,yg=Lf(tt.nextSibling),xg=$,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=$),$=rj($,_e.children),$.flags|=4096,$)}function wj(i,$,_){i.lanes|=$;var _e=i.alternate;_e!==null&&(_e.lanes|=$),Sg(i.return,$,_)}function xj(i,$,_,_e,tt){var nt=i.memoizedState;nt===null?i.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:_e,tail:_,tailMode:tt}:(nt.isBackwards=$,nt.rendering=null,nt.renderingStartTime=0,nt.last=_e,nt.tail=_,nt.tailMode=tt)}function yj(i,$,_){var _e=$.pendingProps,tt=_e.revealOrder,nt=_e.tail;if(Yi(i,$,_e.children,_),_e=M.current,(_e&2)!==0)_e=_e&1|2,$.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=$.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,_,$);else if(i.tag===19)wj(i,_,$);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===$)break e;for(;i.sibling===null;){if(i.return===null||i.return===$)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}_e&=1}if(G(M,_e),($.mode&1)===0)$.memoizedState=null;else switch(tt){case"forwards":for(_=$.child,tt=null;_!==null;)i=_.alternate,i!==null&&Mh(i)===null&&(tt=_),_=_.sibling;_=tt,_===null?(tt=$.child,$.child=null):(tt=_.sibling,_.sibling=null),xj($,!1,tt,_,nt);break;case"backwards":for(_=null,tt=$.child,$.child=null;tt!==null;){if(i=tt.alternate,i!==null&&Mh(i)===null){$.child=tt;break}i=tt.sibling,tt.sibling=_,_=tt,tt=i}xj($,!0,_,null,nt);break;case"together":xj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function jj(i,$){($.mode&1)===0&&i!==null&&(i.alternate=null,$.alternate=null,$.flags|=2)}function $i(i,$,_){if(i!==null&&($.dependencies=i.dependencies),hh|=$.lanes,(_&$.childLanes)===0)return null;if(i!==null&&$.child!==i.child)throw Error(p$2(153));if($.child!==null){for(i=$.child,_=wh(i,i.pendingProps),$.child=_,_.return=$;i.sibling!==null;)i=i.sibling,_=_.sibling=wh(i,i.pendingProps),_.return=$;_.sibling=null}return $.child}function zj(i,$,_){switch($.tag){case 3:lj($),Ig();break;case 5:Kh($);break;case 1:Zf($.type)&&cg($);break;case 4:Ih($,$.stateNode.containerInfo);break;case 10:var _e=$.type._context,tt=$.memoizedProps.value;G(Mg,_e._currentValue),_e._currentValue=tt;break;case 13:if(_e=$.memoizedState,_e!==null)return _e.dehydrated!==null?(G(M,M.current&1),$.flags|=128,null):(_&$.child.childLanes)!==0?pj(i,$,_):(G(M,M.current&1),i=$i(i,$,_),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(_e=(_&$.childLanes)!==0,(i.flags&128)!==0){if(_e)return yj(i,$,_);$.flags|=128}if(tt=$.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(M,M.current),_e)break;return null;case 22:case 23:return $.lanes=0,ej(i,$,_)}return $i(i,$,_)}var Aj,Bj,Cj,Dj;Aj=function(i,$){for(var _=$.child;_!==null;){if(_.tag===5||_.tag===6)i.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===$)break;for(;_.sibling===null;){if(_.return===null||_.return===$)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Bj=function(){};Cj=function(i,$,_,_e){var tt=i.memoizedProps;if(tt!==_e){i=$.stateNode,Hh(Eh.current);var nt=null;switch(_){case"input":tt=Ya(i,tt),_e=Ya(i,_e),nt=[];break;case"select":tt=A$1({},tt,{value:void 0}),_e=A$1({},_e,{value:void 0}),nt=[];break;case"textarea":tt=gb(i,tt),_e=gb(i,_e),nt=[];break;default:typeof tt.onClick!="function"&&typeof _e.onClick=="function"&&(i.onclick=Bf)}ub(_,_e);var st;_=null;for(lt in tt)if(!_e.hasOwnProperty(lt)&&tt.hasOwnProperty(lt)&&tt[lt]!=null)if(lt==="style"){var at=tt[lt];for(st in at)at.hasOwnProperty(st)&&(_||(_={}),_[st]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?nt||(nt=[]):(nt=nt||[]).push(lt,null));for(lt in _e){var ht=_e[lt];if(at=tt!=null?tt[lt]:void 0,_e.hasOwnProperty(lt)&&ht!==at&&(ht!=null||at!=null))if(lt==="style")if(at){for(st in at)!at.hasOwnProperty(st)||ht&&ht.hasOwnProperty(st)||(_||(_={}),_[st]="");for(st in ht)ht.hasOwnProperty(st)&&at[st]!==ht[st]&&(_||(_={}),_[st]=ht[st])}else _||(nt||(nt=[]),nt.push(lt,_)),_=ht;else lt==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,at=at?at.__html:void 0,ht!=null&&at!==ht&&(nt=nt||[]).push(lt,ht)):lt==="children"?typeof ht!="string"&&typeof ht!="number"||(nt=nt||[]).push(lt,""+ht):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(ht!=null&&lt==="onScroll"&&D("scroll",i),nt||at===ht||(nt=[])):(nt=nt||[]).push(lt,ht))}_&&(nt=nt||[]).push("style",_);var lt=nt;($.updateQueue=lt)&&($.flags|=4)}};Dj=function(i,$,_,_e){_!==_e&&($.flags|=4)};function Ej(i,$){if(!I)switch(i.tailMode){case"hidden":$=i.tail;for(var _=null;$!==null;)$.alternate!==null&&(_=$),$=$.sibling;_===null?i.tail=null:_.sibling=null;break;case"collapsed":_=i.tail;for(var _e=null;_!==null;)_.alternate!==null&&(_e=_),_=_.sibling;_e===null?$||i.tail===null?i.tail=null:i.tail.sibling=null:_e.sibling=null}}function S(i){var $=i.alternate!==null&&i.alternate.child===i.child,_=0,_e=0;if($)for(var tt=i.child;tt!==null;)_|=tt.lanes|tt.childLanes,_e|=tt.subtreeFlags&14680064,_e|=tt.flags&14680064,tt.return=i,tt=tt.sibling;else for(tt=i.child;tt!==null;)_|=tt.lanes|tt.childLanes,_e|=tt.subtreeFlags,_e|=tt.flags,tt.return=i,tt=tt.sibling;return i.subtreeFlags|=_e,i.childLanes=_,$}function Fj(i,$,_){var _e=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S($),null;case 1:return Zf($.type)&&$f(),S($),null;case 3:return _e=$.stateNode,Jh(),E(Wf),E(H),Oh(),_e.pendingContext&&(_e.context=_e.pendingContext,_e.pendingContext=null),(i===null||i.child===null)&&(Gg($)?$.flags|=4:i===null||i.memoizedState.isDehydrated&&($.flags&256)===0||($.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,$),S($),null;case 5:Lh($);var tt=Hh(Gh.current);if(_=$.type,i!==null&&$.stateNode!=null)Cj(i,$,_,_e,tt),i.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!_e){if($.stateNode===null)throw Error(p$2(166));return S($),null}if(i=Hh(Eh.current),Gg($)){_e=$.stateNode,_=$.type;var nt=$.memoizedProps;switch(_e[Of]=$,_e[Pf]=nt,i=($.mode&1)!==0,_){case"dialog":D("cancel",_e),D("close",_e);break;case"iframe":case"object":case"embed":D("load",_e);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],_e);break;case"source":D("error",_e);break;case"img":case"image":case"link":D("error",_e),D("load",_e);break;case"details":D("toggle",_e);break;case"input":Za(_e,nt),D("invalid",_e);break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},D("invalid",_e);break;case"textarea":hb(_e,nt),D("invalid",_e)}ub(_,nt),tt=null;for(var st in nt)if(nt.hasOwnProperty(st)){var at=nt[st];st==="children"?typeof at=="string"?_e.textContent!==at&&(nt.suppressHydrationWarning!==!0&&Af(_e.textContent,at,i),tt=["children",at]):typeof at=="number"&&_e.textContent!==""+at&&(nt.suppressHydrationWarning!==!0&&Af(_e.textContent,at,i),tt=["children",""+at]):ea.hasOwnProperty(st)&&at!=null&&st==="onScroll"&&D("scroll",_e)}switch(_){case"input":Va(_e),db(_e,nt,!0);break;case"textarea":Va(_e),jb(_e);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(_e.onclick=Bf)}_e=tt,$.updateQueue=_e,_e!==null&&($.flags|=4)}else{st=tt.nodeType===9?tt:tt.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(_)),i==="http://www.w3.org/1999/xhtml"?_==="script"?(i=st.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof _e.is=="string"?i=st.createElement(_,{is:_e.is}):(i=st.createElement(_),_==="select"&&(st=i,_e.multiple?st.multiple=!0:_e.size&&(st.size=_e.size))):i=st.createElementNS(i,_),i[Of]=$,i[Pf]=_e,Aj(i,$,!1,!1),$.stateNode=i;e:{switch(st=vb(_,_e),_){case"dialog":D("cancel",i),D("close",i),tt=_e;break;case"iframe":case"object":case"embed":D("load",i),tt=_e;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],i);tt=_e;break;case"source":D("error",i),tt=_e;break;case"img":case"image":case"link":D("error",i),D("load",i),tt=_e;break;case"details":D("toggle",i),tt=_e;break;case"input":Za(i,_e),tt=Ya(i,_e),D("invalid",i);break;case"option":tt=_e;break;case"select":i._wrapperState={wasMultiple:!!_e.multiple},tt=A$1({},_e,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,_e),tt=gb(i,_e),D("invalid",i);break;default:tt=_e}ub(_,tt),at=tt;for(nt in at)if(at.hasOwnProperty(nt)){var ht=at[nt];nt==="style"?sb(i,ht):nt==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,ht!=null&&nb(i,ht)):nt==="children"?typeof ht=="string"?(_!=="textarea"||ht!=="")&&ob(i,ht):typeof ht=="number"&&ob(i,""+ht):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?ht!=null&&nt==="onScroll"&&D("scroll",i):ht!=null&&ta(i,nt,ht,st))}switch(_){case"input":Va(i),db(i,_e,!1);break;case"textarea":Va(i),jb(i);break;case"option":_e.value!=null&&i.setAttribute("value",""+Sa(_e.value));break;case"select":i.multiple=!!_e.multiple,nt=_e.value,nt!=null?fb(i,!!_e.multiple,nt,!1):_e.defaultValue!=null&&fb(i,!!_e.multiple,_e.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(i.onclick=Bf)}switch(_){case"button":case"input":case"select":case"textarea":_e=!!_e.autoFocus;break e;case"img":_e=!0;break e;default:_e=!1}}_e&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S($),null;case 6:if(i&&$.stateNode!=null)Dj(i,$,i.memoizedProps,_e);else{if(typeof _e!="string"&&$.stateNode===null)throw Error(p$2(166));if(_=Hh(Gh.current),Hh(Eh.current),Gg($)){if(_e=$.stateNode,_=$.memoizedProps,_e[Of]=$,(nt=_e.nodeValue!==_)&&(i=xg,i!==null))switch(i.tag){case 3:Af(_e.nodeValue,_,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(_e.nodeValue,_,(i.mode&1)!==0)}nt&&($.flags|=4)}else _e=(_.nodeType===9?_:_.ownerDocument).createTextNode(_e),_e[Of]=$,$.stateNode=_e}return S($),null;case 13:if(E(M),_e=$.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&($.mode&1)!==0&&($.flags&128)===0)Hg(),Ig(),$.flags|=98560,nt=!1;else if(nt=Gg($),_e!==null&&_e.dehydrated!==null){if(i===null){if(!nt)throw Error(p$2(318));if(nt=$.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$2(317));nt[Of]=$}else Ig(),($.flags&128)===0&&($.memoizedState=null),$.flags|=4;S($),nt=!1}else zg!==null&&(Gj(zg),zg=null),nt=!0;if(!nt)return $.flags&65536?$:null}return($.flags&128)!==0?($.lanes=_,$):(_e=_e!==null,_e!==(i!==null&&i.memoizedState!==null)&&_e&&($.child.flags|=8192,($.mode&1)!==0&&(i===null||(M.current&1)!==0?T===0&&(T=3):uj())),$.updateQueue!==null&&($.flags|=4),S($),null);case 4:return Jh(),Bj(i,$),i===null&&sf($.stateNode.containerInfo),S($),null;case 10:return Rg($.type._context),S($),null;case 17:return Zf($.type)&&$f(),S($),null;case 19:if(E(M),nt=$.memoizedState,nt===null)return S($),null;if(_e=($.flags&128)!==0,st=nt.rendering,st===null)if(_e)Ej(nt,!1);else{if(T!==0||i!==null&&(i.flags&128)!==0)for(i=$.child;i!==null;){if(st=Mh(i),st!==null){for($.flags|=128,Ej(nt,!1),_e=st.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),$.subtreeFlags=0,_e=_,_=$.child;_!==null;)nt=_,i=_e,nt.flags&=14680066,st=nt.alternate,st===null?(nt.childLanes=0,nt.lanes=i,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=st.childLanes,nt.lanes=st.lanes,nt.child=st.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=st.memoizedProps,nt.memoizedState=st.memoizedState,nt.updateQueue=st.updateQueue,nt.type=st.type,i=st.dependencies,nt.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),_=_.sibling;return G(M,M.current&1|2),$.child}i=i.sibling}nt.tail!==null&&B()>Hj&&($.flags|=128,_e=!0,Ej(nt,!1),$.lanes=4194304)}else{if(!_e)if(i=Mh(st),i!==null){if($.flags|=128,_e=!0,_=i.updateQueue,_!==null&&($.updateQueue=_,$.flags|=4),Ej(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!st.alternate&&!I)return S($),null}else 2*B()-nt.renderingStartTime>Hj&&_!==1073741824&&($.flags|=128,_e=!0,Ej(nt,!1),$.lanes=4194304);nt.isBackwards?(st.sibling=$.child,$.child=st):(_=nt.last,_!==null?_.sibling=st:$.child=st,nt.last=st)}return nt.tail!==null?($=nt.tail,nt.rendering=$,nt.tail=$.sibling,nt.renderingStartTime=B(),$.sibling=null,_=M.current,G(M,_e?_&1|2:_&1),$):(S($),null);case 22:case 23:return Ij(),_e=$.memoizedState!==null,i!==null&&i.memoizedState!==null!==_e&&($.flags|=8192),_e&&($.mode&1)!==0?(gj&1073741824)!==0&&(S($),$.subtreeFlags&6&&($.flags|=8192)):S($),null;case 24:return null;case 25:return null}throw Error(p$2(156,$.tag))}function Jj(i,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),i=$.flags,i&65536?($.flags=i&-65537|128,$):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=$.flags,(i&65536)!==0&&(i&128)===0?($.flags=i&-65537|128,$):null;case 5:return Lh($),null;case 13:if(E(M),i=$.memoizedState,i!==null&&i.dehydrated!==null){if($.alternate===null)throw Error(p$2(340));Ig()}return i=$.flags,i&65536?($.flags=i&-65537|128,$):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg($.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,$){var _=i.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(_e){W(i,$,_e)}else _.current=null}function Nj(i,$,_){try{_()}catch(_e){W(i,$,_e)}}var Oj=!1;function Pj(i,$){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var _={start:i.selectionStart,end:i.selectionEnd};else e:{_=(_=i.ownerDocument)&&_.defaultView||window;var _e=_.getSelection&&_.getSelection();if(_e&&_e.rangeCount!==0){_=_e.anchorNode;var tt=_e.anchorOffset,nt=_e.focusNode;_e=_e.focusOffset;try{_.nodeType,nt.nodeType}catch{_=null;break e}var st=0,at=-1,ht=-1,lt=0,pt=0,dt=i,gt=null;t:for(;;){for(var vt;dt!==_||tt!==0&&dt.nodeType!==3||(at=st+tt),dt!==nt||_e!==0&&dt.nodeType!==3||(ht=st+_e),dt.nodeType===3&&(st+=dt.nodeValue.length),(vt=dt.firstChild)!==null;)gt=dt,dt=vt;for(;;){if(dt===i)break t;if(gt===_&&++lt===tt&&(at=st),gt===nt&&++pt===_e&&(ht=st),(vt=dt.nextSibling)!==null)break;dt=gt,gt=dt.parentNode}dt=vt}_=at===-1||ht===-1?null:{start:at,end:ht}}else _=null}_=_||{start:0,end:0}}else _=null;for(Df={focusedElem:i,selectionRange:_},dd=!1,V=$;V!==null;)if($=V,i=$.child,($.subtreeFlags&1028)!==0&&i!==null)i.return=$,V=i;else for(;V!==null;){$=V;try{var bt=$.alternate;if(($.flags&1024)!==0)switch($.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var $t=bt.memoizedProps,Tt=bt.memoizedState,St=$.stateNode,Bt=St.getSnapshotBeforeUpdate($.elementType===$.type?$t:Lg($.type,$t),Tt);St.__reactInternalSnapshotBeforeUpdate=Bt}break;case 3:var Dt=$.stateNode.containerInfo;Dt.nodeType===1?Dt.textContent="":Dt.nodeType===9&&Dt.documentElement&&Dt.removeChild(Dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Vt){W($,$.return,Vt)}if(i=$.sibling,i!==null){i.return=$.return,V=i;break}V=$.return}return bt=Oj,Oj=!1,bt}function Qj(i,$,_){var _e=$.updateQueue;if(_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&i)===i){var nt=tt.destroy;tt.destroy=void 0,nt!==void 0&&Nj($,_,nt)}tt=tt.next}while(tt!==_e)}}function Rj(i,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _=$=$.next;do{if((_.tag&i)===i){var _e=_.create;_.destroy=_e()}_=_.next}while(_!==$)}}function Sj(i){var $=i.ref;if($!==null){var _=i.stateNode;switch(i.tag){case 5:i=_;break;default:i=_}typeof $=="function"?$(i):$.current=i}}function Tj(i){var $=i.alternate;$!==null&&(i.alternate=null,Tj($)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&($=i.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,$,_){var _e=i.tag;if(_e===5||_e===6)i=i.stateNode,$?_.nodeType===8?_.parentNode.insertBefore(i,$):_.insertBefore(i,$):(_.nodeType===8?($=_.parentNode,$.insertBefore(i,_)):($=_,$.appendChild(i)),_=_._reactRootContainer,_!=null||$.onclick!==null||($.onclick=Bf));else if(_e!==4&&(i=i.child,i!==null))for(Wj(i,$,_),i=i.sibling;i!==null;)Wj(i,$,_),i=i.sibling}function Xj(i,$,_){var _e=i.tag;if(_e===5||_e===6)i=i.stateNode,$?_.insertBefore(i,$):_.appendChild(i);else if(_e!==4&&(i=i.child,i!==null))for(Xj(i,$,_),i=i.sibling;i!==null;)Xj(i,$,_),i=i.sibling}var X=null,Yj=!1;function Zj(i,$,_){for(_=_.child;_!==null;)ak(i,$,_),_=_.sibling}function ak(i,$,_){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_)}catch{}switch(_.tag){case 5:U||Mj(_,$);case 6:var _e=X,tt=Yj;X=null,Zj(i,$,_),X=_e,Yj=tt,X!==null&&(Yj?(i=X,_=_.stateNode,i.nodeType===8?i.parentNode.removeChild(_):i.removeChild(_)):X.removeChild(_.stateNode));break;case 18:X!==null&&(Yj?(i=X,_=_.stateNode,i.nodeType===8?Kf(i.parentNode,_):i.nodeType===1&&Kf(i,_),bd(i)):Kf(X,_.stateNode));break;case 4:_e=X,tt=Yj,X=_.stateNode.containerInfo,Yj=!0,Zj(i,$,_),X=_e,Yj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(_e=_.updateQueue,_e!==null&&(_e=_e.lastEffect,_e!==null))){tt=_e=_e.next;do{var nt=tt,st=nt.destroy;nt=nt.tag,st!==void 0&&((nt&2)!==0||(nt&4)!==0)&&Nj(_,$,st),tt=tt.next}while(tt!==_e)}Zj(i,$,_);break;case 1:if(!U&&(Mj(_,$),_e=_.stateNode,typeof _e.componentWillUnmount=="function"))try{_e.props=_.memoizedProps,_e.state=_.memoizedState,_e.componentWillUnmount()}catch(at){W(_,$,at)}Zj(i,$,_);break;case 21:Zj(i,$,_);break;case 22:_.mode&1?(U=(_e=U)||_.memoizedState!==null,Zj(i,$,_),U=_e):Zj(i,$,_);break;default:Zj(i,$,_)}}function bk(i){var $=i.updateQueue;if($!==null){i.updateQueue=null;var _=i.stateNode;_===null&&(_=i.stateNode=new Lj),$.forEach(function(_e){var tt=ck.bind(null,i,_e);_.has(_e)||(_.add(_e),_e.then(tt,tt))})}}function dk(i,$){var _=$.deletions;if(_!==null)for(var _e=0;_e<_.length;_e++){var tt=_[_e];try{var nt=i,st=$,at=st;e:for(;at!==null;){switch(at.tag){case 5:X=at.stateNode,Yj=!1;break e;case 3:X=at.stateNode.containerInfo,Yj=!0;break e;case 4:X=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X===null)throw Error(p$2(160));ak(nt,st,tt),X=null,Yj=!1;var ht=tt.alternate;ht!==null&&(ht.return=null),tt.return=null}catch(lt){W(tt,$,lt)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)ek($,i),$=$.sibling}function ek(i,$){var _=i.alternate,_e=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk($,i),fk(i),_e&4){try{Qj(3,i,i.return),Rj(3,i)}catch($t){W(i,i.return,$t)}try{Qj(5,i,i.return)}catch($t){W(i,i.return,$t)}}break;case 1:dk($,i),fk(i),_e&512&&_!==null&&Mj(_,_.return);break;case 5:if(dk($,i),fk(i),_e&512&&_!==null&&Mj(_,_.return),i.flags&32){var tt=i.stateNode;try{ob(tt,"")}catch($t){W(i,i.return,$t)}}if(_e&4&&(tt=i.stateNode,tt!=null)){var nt=i.memoizedProps,st=_!==null?_.memoizedProps:nt,at=i.type,ht=i.updateQueue;if(i.updateQueue=null,ht!==null)try{at==="input"&&nt.type==="radio"&&nt.name!=null&&ab(tt,nt),vb(at,st);var lt=vb(at,nt);for(st=0;st<ht.length;st+=2){var pt=ht[st],dt=ht[st+1];pt==="style"?sb(tt,dt):pt==="dangerouslySetInnerHTML"?nb(tt,dt):pt==="children"?ob(tt,dt):ta(tt,pt,dt,lt)}switch(at){case"input":bb(tt,nt);break;case"textarea":ib(tt,nt);break;case"select":var gt=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!nt.multiple;var vt=nt.value;vt!=null?fb(tt,!!nt.multiple,vt,!1):gt!==!!nt.multiple&&(nt.defaultValue!=null?fb(tt,!!nt.multiple,nt.defaultValue,!0):fb(tt,!!nt.multiple,nt.multiple?[]:"",!1))}tt[Pf]=nt}catch($t){W(i,i.return,$t)}}break;case 6:if(dk($,i),fk(i),_e&4){if(i.stateNode===null)throw Error(p$2(162));tt=i.stateNode,nt=i.memoizedProps;try{tt.nodeValue=nt}catch($t){W(i,i.return,$t)}}break;case 3:if(dk($,i),fk(i),_e&4&&_!==null&&_.memoizedState.isDehydrated)try{bd($.containerInfo)}catch($t){W(i,i.return,$t)}break;case 4:dk($,i),fk(i);break;case 13:dk($,i),fk(i),tt=i.child,tt.flags&8192&&(nt=tt.memoizedState!==null,tt.stateNode.isHidden=nt,!nt||tt.alternate!==null&&tt.alternate.memoizedState!==null||(gk=B())),_e&4&&bk(i);break;case 22:if(pt=_!==null&&_.memoizedState!==null,i.mode&1?(U=(lt=U)||pt,dk($,i),U=lt):dk($,i),fk(i),_e&8192){if(lt=i.memoizedState!==null,(i.stateNode.isHidden=lt)&&!pt&&(i.mode&1)!==0)for(V=i,pt=i.child;pt!==null;){for(dt=V=pt;V!==null;){switch(gt=V,vt=gt.child,gt.tag){case 0:case 11:case 14:case 15:Qj(4,gt,gt.return);break;case 1:Mj(gt,gt.return);var bt=gt.stateNode;if(typeof bt.componentWillUnmount=="function"){_e=gt,_=gt.return;try{$=_e,bt.props=$.memoizedProps,bt.state=$.memoizedState,bt.componentWillUnmount()}catch($t){W(_e,_,$t)}}break;case 5:Mj(gt,gt.return);break;case 22:if(gt.memoizedState!==null){hk(dt);continue}}vt!==null?(vt.return=gt,V=vt):hk(dt)}pt=pt.sibling}e:for(pt=null,dt=i;;){if(dt.tag===5){if(pt===null){pt=dt;try{tt=dt.stateNode,lt?(nt=tt.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(at=dt.stateNode,ht=dt.memoizedProps.style,st=ht!=null&&ht.hasOwnProperty("display")?ht.display:null,at.style.display=rb("display",st))}catch($t){W(i,i.return,$t)}}}else if(dt.tag===6){if(pt===null)try{dt.stateNode.nodeValue=lt?"":dt.memoizedProps}catch($t){W(i,i.return,$t)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===i)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===i)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===i)break e;pt===dt&&(pt=null),dt=dt.return}pt===dt&&(pt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk($,i),fk(i),_e&4&&bk(i);break;case 21:break;default:dk($,i),fk(i)}}function fk(i){var $=i.flags;if($&2){try{e:{for(var _=i.return;_!==null;){if(Uj(_)){var _e=_;break e}_=_.return}throw Error(p$2(160))}switch(_e.tag){case 5:var tt=_e.stateNode;_e.flags&32&&(ob(tt,""),_e.flags&=-33);var nt=Vj(i);Xj(i,nt,tt);break;case 3:case 4:var st=_e.stateNode.containerInfo,at=Vj(i);Wj(i,at,st);break;default:throw Error(p$2(161))}}catch(ht){W(i,i.return,ht)}i.flags&=-3}$&4096&&(i.flags&=-4097)}function ik(i,$,_){V=i,jk(i)}function jk(i,$,_){for(var _e=(i.mode&1)!==0;V!==null;){var tt=V,nt=tt.child;if(tt.tag===22&&_e){var st=tt.memoizedState!==null||Kj;if(!st){var at=tt.alternate,ht=at!==null&&at.memoizedState!==null||U;at=Kj;var lt=U;if(Kj=st,(U=ht)&&!lt)for(V=tt;V!==null;)st=V,ht=st.child,st.tag===22&&st.memoizedState!==null?kk(tt):ht!==null?(ht.return=st,V=ht):kk(tt);for(;nt!==null;)V=nt,jk(nt),nt=nt.sibling;V=tt,Kj=at,U=lt}lk(i)}else(tt.subtreeFlags&8772)!==0&&nt!==null?(nt.return=tt,V=nt):lk(i)}}function lk(i){for(;V!==null;){var $=V;if(($.flags&8772)!==0){var _=$.alternate;try{if(($.flags&8772)!==0)switch($.tag){case 0:case 11:case 15:U||Rj(5,$);break;case 1:var _e=$.stateNode;if($.flags&4&&!U)if(_===null)_e.componentDidMount();else{var tt=$.elementType===$.type?_.memoizedProps:Lg($.type,_.memoizedProps);_e.componentDidUpdate(tt,_.memoizedState,_e.__reactInternalSnapshotBeforeUpdate)}var nt=$.updateQueue;nt!==null&&ih($,nt,_e);break;case 3:var st=$.updateQueue;if(st!==null){if(_=null,$.child!==null)switch($.child.tag){case 5:_=$.child.stateNode;break;case 1:_=$.child.stateNode}ih($,st,_)}break;case 5:var at=$.stateNode;if(_===null&&$.flags&4){_=at;var ht=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":ht.autoFocus&&_.focus();break;case"img":ht.src&&(_.src=ht.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var lt=$.alternate;if(lt!==null){var pt=lt.memoizedState;if(pt!==null){var dt=pt.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||$.flags&512&&Sj($)}catch(gt){W($,$.return,gt)}}if($===i){V=null;break}if(_=$.sibling,_!==null){_.return=$.return,V=_;break}V=$.return}}function hk(i){for(;V!==null;){var $=V;if($===i){V=null;break}var _=$.sibling;if(_!==null){_.return=$.return,V=_;break}V=$.return}}function kk(i){for(;V!==null;){var $=V;try{switch($.tag){case 0:case 11:case 15:var _=$.return;try{Rj(4,$)}catch(ht){W($,_,ht)}break;case 1:var _e=$.stateNode;if(typeof _e.componentDidMount=="function"){var tt=$.return;try{_e.componentDidMount()}catch(ht){W($,tt,ht)}}var nt=$.return;try{Sj($)}catch(ht){W($,nt,ht)}break;case 5:var st=$.return;try{Sj($)}catch(ht){W($,st,ht)}}}catch(ht){W($,$.return,ht)}if($===i){V=null;break}var at=$.sibling;if(at!==null){at.return=$.return,V=at;break}V=$.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return(K&6)!==0?B():Bk!==-1?Bk:Bk=B()}function lh(i){return(i.mode&1)===0?1:(K&2)!==0&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i)}function mh(i,$,_,_e){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(i,_,_e),((K&2)===0||i!==R)&&(i===R&&((K&2)===0&&(rk|=_),T===4&&Dk(i,Z)),Ek(i,_e),_===1&&K===0&&($.mode&1)===0&&(Hj=B()+500,fg&&jg()))}function Ek(i,$){var _=i.callbackNode;wc(i,$);var _e=uc(i,i===R?Z:0);if(_e===0)_!==null&&bc(_),i.callbackNode=null,i.callbackPriority=0;else if($=_e&-_e,i.callbackPriority!==$){if(_!=null&&bc(_),$===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){(K&6)===0&&jg()}),_=null;else{switch(Dc(_e)){case 1:_=fc;break;case 4:_=gc;break;case 16:_=hc;break;case 536870912:_=jc;break;default:_=hc}_=Gk(_,Hk.bind(null,i))}i.callbackPriority=$,i.callbackNode=_}}function Hk(i,$){if(Bk=-1,Ck=0,(K&6)!==0)throw Error(p$2(327));var _=i.callbackNode;if(Ik()&&i.callbackNode!==_)return null;var _e=uc(i,i===R?Z:0);if(_e===0)return null;if((_e&30)!==0||(_e&i.expiredLanes)!==0||$)$=Jk(i,_e);else{$=_e;var tt=K;K|=2;var nt=Kk();(R!==i||Z!==$)&&(vk=null,Hj=B()+500,Lk(i,$));do try{Mk();break}catch(at){Nk(i,at)}while(1);Qg(),nk.current=nt,K=tt,Y!==null?$=0:(R=null,Z=0,$=T)}if($!==0){if($===2&&(tt=xc(i),tt!==0&&(_e=tt,$=Ok(i,tt))),$===1)throw _=qk,Lk(i,0),Dk(i,_e),Ek(i,B()),_;if($===6)Dk(i,_e);else{if(tt=i.current.alternate,(_e&30)===0&&!Pk(tt)&&($=Jk(i,_e),$===2&&(nt=xc(i),nt!==0&&(_e=nt,$=Ok(i,nt))),$===1))throw _=qk,Lk(i,0),Dk(i,_e),Ek(i,B()),_;switch(i.finishedWork=tt,i.finishedLanes=_e,$){case 0:case 1:throw Error(p$2(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,_e),(_e&130023424)===_e&&($=gk+500-B(),10<$)){if(uc(i,0)!==0)break;if(tt=i.suspendedLanes,(tt&_e)!==_e){L(),i.pingedLanes|=i.suspendedLanes&tt;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),$);break}Qk(i,uk,vk);break;case 4:if(Dk(i,_e),(_e&4194240)===_e)break;for($=i.eventTimes,tt=-1;0<_e;){var st=31-oc(_e);nt=1<<st,st=$[st],st>tt&&(tt=st),_e&=~nt}if(_e=tt,_e=B()-_e,_e=(120>_e?120:480>_e?480:1080>_e?1080:1920>_e?1920:3e3>_e?3e3:4320>_e?4320:1960*mk(_e/1960))-_e,10<_e){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),_e);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(i,B()),i.callbackNode===_?Hk.bind(null,i):null}function Ok(i,$){var _=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,$).flags|=256),i=Jk(i,$),i!==2&&($=uk,uk=_,$!==null&&Gj($)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var $=i;;){if($.flags&16384){var _=$.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var _e=0;_e<_.length;_e++){var tt=_[_e],nt=tt.getSnapshot;tt=tt.value;try{if(!He(nt(),tt))return!1}catch{return!1}}}if(_=$.child,$.subtreeFlags&16384&&_!==null)_.return=$,$=_;else{if($===i)break;for(;$.sibling===null;){if($.return===null||$.return===i)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Dk(i,$){for($&=~sk,$&=~rk,i.suspendedLanes|=$,i.pingedLanes&=~$,i=i.expirationTimes;0<$;){var _=31-oc($),_e=1<<_;i[_]=-1,$&=~_e}}function Fk(i){if((K&6)!==0)throw Error(p$2(327));Ik();var $=uc(i,0);if(($&1)===0)return Ek(i,B()),null;var _=Jk(i,$);if(i.tag!==0&&_===2){var _e=xc(i);_e!==0&&($=_e,_=Ok(i,_e))}if(_===1)throw _=qk,Lk(i,0),Dk(i,$),Ek(i,B()),_;if(_===6)throw Error(p$2(345));return i.finishedWork=i.current.alternate,i.finishedLanes=$,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,$){var _=K;K|=1;try{return i($)}finally{K=_,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&(K&6)===0&&Ik();var $=K;K|=1;var _=pk.transition,_e=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=_e,pk.transition=_,K=$,(K&6)===0&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,$){i.finishedWork=null,i.finishedLanes=0;var _=i.timeoutHandle;if(_!==-1&&(i.timeoutHandle=-1,Gf(_)),Y!==null)for(_=Y.return;_!==null;){var _e=_;switch(wg(_e),_e.tag){case 1:_e=_e.type.childContextTypes,_e!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(_e);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(_e.type._context);break;case 22:case 23:Ij()}_=_.return}if(R=i,Y=i=wh(i.current,null),Z=gj=$,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for($=0;$<Wg.length;$++)if(_=Wg[$],_e=_.interleaved,_e!==null){_.interleaved=null;var tt=_e.next,nt=_.pending;if(nt!==null){var st=nt.next;nt.next=tt,_e.next=st}_.pending=_e}Wg=null}return i}function Nk(i,$){do{var _=Y;try{if(Qg(),Ph.current=ai,Sh){for(var _e=N.memoizedState;_e!==null;){var tt=_e.queue;tt!==null&&(tt.pending=null),_e=_e.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,_===null||_.return===null){T=1,qk=$,Y=null;break}e:{var nt=i,st=_.return,at=_,ht=$;if($=Z,at.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var lt=ht,pt=at,dt=pt.tag;if((pt.mode&1)===0&&(dt===0||dt===11||dt===15)){var gt=pt.alternate;gt?(pt.updateQueue=gt.updateQueue,pt.memoizedState=gt.memoizedState,pt.lanes=gt.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var vt=Vi(st);if(vt!==null){vt.flags&=-257,Wi(vt,st,at,nt,$),vt.mode&1&&Ti(nt,lt,$),$=vt,ht=lt;var bt=$.updateQueue;if(bt===null){var $t=new Set;$t.add(ht),$.updateQueue=$t}else bt.add(ht);break e}else{if(($&1)===0){Ti(nt,lt,$),uj();break e}ht=Error(p$2(426))}}else if(I&&at.mode&1){var Tt=Vi(st);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),Wi(Tt,st,at,nt,$),Jg(Ki(ht,at));break e}}nt=ht=Ki(ht,at),T!==4&&(T=2),tk===null?tk=[nt]:tk.push(nt),nt=st;do{switch(nt.tag){case 3:nt.flags|=65536,$&=-$,nt.lanes|=$;var St=Oi(nt,ht,$);fh(nt,St);break e;case 1:at=ht;var Bt=nt.type,Dt=nt.stateNode;if((nt.flags&128)===0&&(typeof Bt.getDerivedStateFromError=="function"||Dt!==null&&typeof Dt.componentDidCatch=="function"&&(Si===null||!Si.has(Dt)))){nt.flags|=65536,$&=-$,nt.lanes|=$;var Vt=Ri(nt,at,$);fh(nt,Vt);break e}}nt=nt.return}while(nt!==null)}Tk(_)}catch(Ht){$=Ht,Y===_&&_!==null&&(Y=_=_.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R,Z)}function Jk(i,$){var _=K;K|=2;var _e=Kk();(R!==i||Z!==$)&&(vk=null,Lk(i,$));do try{Uk();break}catch(tt){Nk(i,tt)}while(1);if(Qg(),K=_,nk.current=_e,Y!==null)throw Error(p$2(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc$1();)Vk(Y)}function Vk(i){var $=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,$===null?Tk(i):Y=$,ok.current=null}function Tk(i){var $=i;do{var _=$.alternate;if(i=$.return,($.flags&32768)===0){if(_=Fj(_,$,gj),_!==null){Y=_;return}}else{if(_=Jj(_,$),_!==null){_.flags&=32767,Y=_;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}if($=$.sibling,$!==null){Y=$;return}Y=$=i}while($!==null);T===0&&(T=5)}function Qk(i,$,_){var _e=C,tt=pk.transition;try{pk.transition=null,C=1,Xk(i,$,_,_e)}finally{pk.transition=tt,C=_e}return null}function Xk(i,$,_,_e){do Ik();while(xk!==null);if((K&6)!==0)throw Error(p$2(327));_=i.finishedWork;var tt=i.finishedLanes;if(_===null)return null;if(i.finishedWork=null,i.finishedLanes=0,_===i.current)throw Error(p$2(177));i.callbackNode=null,i.callbackPriority=0;var nt=_.lanes|_.childLanes;if(Bc(i,nt),i===R&&(Y=R=null,Z=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),nt=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||nt){nt=pk.transition,pk.transition=null;var st=C;C=1;var at=K;K|=4,ok.current=null,Pj(i,_),ek(_,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=_,ik(_),dc(),K=at,C=st,pk.transition=nt}else i.current=_;if(wk&&(wk=!1,xk=i,yk=tt),nt=i.pendingLanes,nt===0&&(Si=null),mc(_.stateNode),Ek(i,B()),$!==null)for(_e=i.onRecoverableError,_=0;_<$.length;_++)tt=$[_],_e(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return(yk&1)!==0&&i.tag!==0&&Ik(),nt=i.pendingLanes,(nt&1)!==0?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),$=pk.transition,_=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var _e=!1;else{if(i=xk,xk=null,yk=0,(K&6)!==0)throw Error(p$2(331));var tt=K;for(K|=4,V=i.current;V!==null;){var nt=V,st=nt.child;if((V.flags&16)!==0){var at=nt.deletions;if(at!==null){for(var ht=0;ht<at.length;ht++){var lt=at[ht];for(V=lt;V!==null;){var pt=V;switch(pt.tag){case 0:case 11:case 15:Qj(8,pt,nt)}var dt=pt.child;if(dt!==null)dt.return=pt,V=dt;else for(;V!==null;){pt=V;var gt=pt.sibling,vt=pt.return;if(Tj(pt),pt===lt){V=null;break}if(gt!==null){gt.return=vt,V=gt;break}V=vt}}}var bt=nt.alternate;if(bt!==null){var $t=bt.child;if($t!==null){bt.child=null;do{var Tt=$t.sibling;$t.sibling=null,$t=Tt}while($t!==null)}}V=nt}}if((nt.subtreeFlags&2064)!==0&&st!==null)st.return=nt,V=st;else e:for(;V!==null;){if(nt=V,(nt.flags&2048)!==0)switch(nt.tag){case 0:case 11:case 15:Qj(9,nt,nt.return)}var St=nt.sibling;if(St!==null){St.return=nt.return,V=St;break e}V=nt.return}}var Bt=i.current;for(V=Bt;V!==null;){st=V;var Dt=st.child;if((st.subtreeFlags&2064)!==0&&Dt!==null)Dt.return=st,V=Dt;else e:for(st=Bt;V!==null;){if(at=V,(at.flags&2048)!==0)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(Ht){W(at,at.return,Ht)}if(at===st){V=null;break e}var Vt=at.sibling;if(Vt!==null){Vt.return=at.return,V=Vt;break e}V=at.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}_e=!0}return _e}finally{C=_,pk.transition=$}}return!1}function Yk(i,$,_){$=Ki(_,$),$=Oi(i,$,1),i=dh(i,$,1),$=L(),i!==null&&(Ac(i,1,$),Ek(i,$))}function W(i,$,_){if(i.tag===3)Yk(i,i,_);else for(;$!==null;){if($.tag===3){Yk($,i,_);break}else if($.tag===1){var _e=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof _e.componentDidCatch=="function"&&(Si===null||!Si.has(_e))){i=Ki(_,i),i=Ri($,i,1),$=dh($,i,1),i=L(),$!==null&&(Ac($,1,i),Ek($,i));break}}$=$.return}}function Ui(i,$,_){var _e=i.pingCache;_e!==null&&_e.delete($),$=L(),i.pingedLanes|=i.suspendedLanes&_,R===i&&(Z&_)===_&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=_),Ek(i,$)}function Zk(i,$){$===0&&((i.mode&1)===0?$=1:($=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var _=L();i=Zg(i,$),i!==null&&(Ac(i,$,_),Ek(i,_))}function vj(i){var $=i.memoizedState,_=0;$!==null&&(_=$.retryLane),Zk(i,_)}function ck(i,$){var _=0;switch(i.tag){case 13:var _e=i.stateNode,tt=i.memoizedState;tt!==null&&(_=tt.retryLane);break;case 19:_e=i.stateNode;break;default:throw Error(p$2(314))}_e!==null&&_e.delete($),Zk(i,_)}var Wk;Wk=function(i,$,_){if(i!==null)if(i.memoizedProps!==$.pendingProps||Wf.current)Ug=!0;else{if((i.lanes&_)===0&&($.flags&128)===0)return Ug=!1,zj(i,$,_);Ug=(i.flags&131072)!==0}else Ug=!1,I&&($.flags&1048576)!==0&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var _e=$.type;jj(i,$),i=$.pendingProps;var tt=Yf($,H.current);Tg($,_),tt=Xh(null,$,_e,i,tt,_);var nt=bi();return $.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(_e)?(nt=!0,cg($)):nt=!1,$.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,ah($),tt.updater=nh,$.stateNode=tt,tt._reactInternals=$,rh($,_e,i,_),$=kj(null,$,_e,!0,nt,_)):($.tag=0,I&&nt&&vg($),Yi(null,$,tt,_),$=$.child),$;case 16:_e=$.elementType;e:{switch(jj(i,$),i=$.pendingProps,tt=_e._init,_e=tt(_e._payload),$.type=_e,tt=$.tag=$k(_e),i=Lg(_e,i),tt){case 0:$=dj(null,$,_e,i,_);break e;case 1:$=ij(null,$,_e,i,_);break e;case 11:$=Zi(null,$,_e,i,_);break e;case 14:$=aj(null,$,_e,Lg(_e.type,i),_);break e}throw Error(p$2(306,_e,""))}return $;case 0:return _e=$.type,tt=$.pendingProps,tt=$.elementType===_e?tt:Lg(_e,tt),dj(i,$,_e,tt,_);case 1:return _e=$.type,tt=$.pendingProps,tt=$.elementType===_e?tt:Lg(_e,tt),ij(i,$,_e,tt,_);case 3:e:{if(lj($),i===null)throw Error(p$2(387));_e=$.pendingProps,nt=$.memoizedState,tt=nt.element,bh(i,$),gh($,_e,null,_);var st=$.memoizedState;if(_e=st.element,nt.isDehydrated)if(nt={element:_e,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},$.updateQueue.baseState=nt,$.memoizedState=nt,$.flags&256){tt=Ki(Error(p$2(423)),$),$=mj(i,$,_e,_,tt);break e}else if(_e!==tt){tt=Ki(Error(p$2(424)),$),$=mj(i,$,_e,_,tt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I=!0,zg=null,_=Ch($,null,_e,_),$.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ig(),_e===tt){$=$i(i,$,_);break e}Yi(i,$,_e,_)}$=$.child}return $;case 5:return Kh($),i===null&&Eg($),_e=$.type,tt=$.pendingProps,nt=i!==null?i.memoizedProps:null,st=tt.children,Ef(_e,tt)?st=null:nt!==null&&Ef(_e,nt)&&($.flags|=32),hj(i,$),Yi(i,$,st,_),$.child;case 6:return i===null&&Eg($),null;case 13:return pj(i,$,_);case 4:return Ih($,$.stateNode.containerInfo),_e=$.pendingProps,i===null?$.child=Bh($,null,_e,_):Yi(i,$,_e,_),$.child;case 11:return _e=$.type,tt=$.pendingProps,tt=$.elementType===_e?tt:Lg(_e,tt),Zi(i,$,_e,tt,_);case 7:return Yi(i,$,$.pendingProps,_),$.child;case 8:return Yi(i,$,$.pendingProps.children,_),$.child;case 12:return Yi(i,$,$.pendingProps.children,_),$.child;case 10:e:{if(_e=$.type._context,tt=$.pendingProps,nt=$.memoizedProps,st=tt.value,G(Mg,_e._currentValue),_e._currentValue=st,nt!==null)if(He(nt.value,st)){if(nt.children===tt.children&&!Wf.current){$=$i(i,$,_);break e}}else for(nt=$.child,nt!==null&&(nt.return=$);nt!==null;){var at=nt.dependencies;if(at!==null){st=nt.child;for(var ht=at.firstContext;ht!==null;){if(ht.context===_e){if(nt.tag===1){ht=ch(-1,_&-_),ht.tag=2;var lt=nt.updateQueue;if(lt!==null){lt=lt.shared;var pt=lt.pending;pt===null?ht.next=ht:(ht.next=pt.next,pt.next=ht),lt.pending=ht}}nt.lanes|=_,ht=nt.alternate,ht!==null&&(ht.lanes|=_),Sg(nt.return,_,$),at.lanes|=_;break}ht=ht.next}}else if(nt.tag===10)st=nt.type===$.type?null:nt.child;else if(nt.tag===18){if(st=nt.return,st===null)throw Error(p$2(341));st.lanes|=_,at=st.alternate,at!==null&&(at.lanes|=_),Sg(st,_,$),st=nt.sibling}else st=nt.child;if(st!==null)st.return=nt;else for(st=nt;st!==null;){if(st===$){st=null;break}if(nt=st.sibling,nt!==null){nt.return=st.return,st=nt;break}st=st.return}nt=st}Yi(i,$,tt.children,_),$=$.child}return $;case 9:return tt=$.type,_e=$.pendingProps.children,Tg($,_),tt=Vg(tt),_e=_e(tt),$.flags|=1,Yi(i,$,_e,_),$.child;case 14:return _e=$.type,tt=Lg(_e,$.pendingProps),tt=Lg(_e.type,tt),aj(i,$,_e,tt,_);case 15:return cj(i,$,$.type,$.pendingProps,_);case 17:return _e=$.type,tt=$.pendingProps,tt=$.elementType===_e?tt:Lg(_e,tt),jj(i,$),$.tag=1,Zf(_e)?(i=!0,cg($)):i=!1,Tg($,_),ph($,_e,tt),rh($,_e,tt,_),kj(null,$,_e,!0,i,_);case 19:return yj(i,$,_);case 22:return ej(i,$,_)}throw Error(p$2(156,$.tag))};function Gk(i,$){return ac(i,$)}function al(i,$,_,_e){this.tag=i,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,$,_,_e){return new al(i,$,_,_e)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,$){var _=i.alternate;return _===null?(_=Bg(i.tag,$,i.key,i.mode),_.elementType=i.elementType,_.type=i.type,_.stateNode=i.stateNode,_.alternate=i,i.alternate=_):(_.pendingProps=$,_.type=i.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=i.flags&14680064,_.childLanes=i.childLanes,_.lanes=i.lanes,_.child=i.child,_.memoizedProps=i.memoizedProps,_.memoizedState=i.memoizedState,_.updateQueue=i.updateQueue,$=i.dependencies,_.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_.sibling=i.sibling,_.index=i.index,_.ref=i.ref,_}function yh(i,$,_,_e,tt,nt){var st=2;if(_e=i,typeof i=="function")bj(i)&&(st=1);else if(typeof i=="string")st=5;else e:switch(i){case ya:return Ah(_.children,tt,nt,$);case za:st=8,tt|=8;break;case Aa:return i=Bg(12,_,$,tt|2),i.elementType=Aa,i.lanes=nt,i;case Ea:return i=Bg(13,_,$,tt),i.elementType=Ea,i.lanes=nt,i;case Fa:return i=Bg(19,_,$,tt),i.elementType=Fa,i.lanes=nt,i;case Ia:return qj(_,tt,nt,$);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,_e=null;break e}throw Error(p$2(130,i==null?i:typeof i,""))}return $=Bg(st,_,$,tt),$.elementType=i,$.type=_e,$.lanes=nt,$}function Ah(i,$,_,_e){return i=Bg(7,i,_e,$),i.lanes=_,i}function qj(i,$,_,_e){return i=Bg(22,i,_e,$),i.elementType=Ia,i.lanes=_,i.stateNode={isHidden:!1},i}function xh(i,$,_){return i=Bg(6,i,null,$),i.lanes=_,i}function zh(i,$,_){return $=Bg(4,i.children!==null?i.children:[],i.key,$),$.lanes=_,$.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},$}function bl(i,$,_,_e,tt){this.tag=$,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_e,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function cl(i,$,_,_e,tt,nt,st,at,ht){return i=new bl(i,$,_,at,ht),$===1?($=1,nt===!0&&($|=8)):$=0,nt=Bg(3,null,null,$),i.current=nt,nt.stateNode=i,nt.memoizedState={element:_e,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(nt),i}function dl(i,$,_){var _e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_e==null?null:""+_e,children:i,containerInfo:$,implementation:_}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$2(170));var $=i;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$2(171))}if(i.tag===1){var _=i.type;if(Zf(_))return bg(i,_,$)}return $}function fl(i,$,_,_e,tt,nt,st,at,ht){return i=cl(_,_e,!0,i,tt,nt,st,at,ht),i.context=el(null),_=i.current,_e=L(),tt=lh(_),nt=ch(_e,tt),nt.callback=$!=null?$:null,dh(_,nt,tt),i.current.lanes=tt,Ac(i,tt,_e),Ek(i,_e),i}function gl(i,$,_,_e){var tt=$.current,nt=L(),st=lh(tt);return _=el(_),$.context===null?$.context=_:$.pendingContext=_,$=ch(nt,st),$.payload={element:i},_e=_e===void 0?null:_e,_e!==null&&($.callback=_e),i=dh(tt,$,st),i!==null&&(mh(i,tt,st,nt),eh(i,tt,st)),st}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,$){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var _=i.retryLane;i.retryLane=_!==0&&_<$?_:$}}function jl(i,$){il(i,$),(i=i.alternate)&&il(i,$)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var $=this._internalRoot;if($===null)throw Error(p$2(409));gl(i,$,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var $=i.containerInfo;Sk(function(){gl(null,i,null,null)}),$[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var $=Hc();i={blockedOn:null,target:i,priority:$};for(var _=0;_<Qc.length&&$!==0&&$<Qc[_].priority;_++);Qc.splice(_,0,i),_===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,$,_,_e,tt){if(tt){if(typeof _e=="function"){var nt=_e;_e=function(){var lt=hl(st);nt.call(lt)}}var st=fl($,_e,i,0,null,!1,!1,"",ql);return i._reactRootContainer=st,i[uf]=st.current,sf(i.nodeType===8?i.parentNode:i),Sk(),st}for(;tt=i.lastChild;)i.removeChild(tt);if(typeof _e=="function"){var at=_e;_e=function(){var lt=hl(ht);at.call(lt)}}var ht=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=ht,i[uf]=ht.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl($,ht,_,_e)}),ht}function sl(i,$,_,_e,tt){var nt=_._reactRootContainer;if(nt){var st=nt;if(typeof tt=="function"){var at=tt;tt=function(){var ht=hl(st);at.call(ht)}}gl($,st,i,tt)}else st=rl(_,$,i,tt,_e);return hl(st)}Ec=function(i){switch(i.tag){case 3:var $=i.stateNode;if($.current.memoizedState.isDehydrated){var _=tc($.pendingLanes);_!==0&&(Cc($,_|1),Ek($,B()),(K&6)===0&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var _e=Zg(i,1);if(_e!==null){var tt=L();mh(_e,i,1,tt)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var $=Zg(i,134217728);if($!==null){var _=L();mh($,i,134217728,_)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var $=lh(i),_=Zg(i,$);if(_!==null){var _e=L();mh(_,i,$,_e)}jl(i,$)}};Hc=function(){return C};Ic=function(i,$){var _=C;try{return C=i,$()}finally{C=_}};yb=function(i,$,_){switch($){case"input":if(bb(i,_),$=_.name,_.type==="radio"&&$!=null){for(_=i;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_.length;$++){var _e=_[$];if(_e!==i&&_e.form===i.form){var tt=Db(_e);if(!tt)throw Error(p$2(90));Wa(_e),bb(_e,tt)}}}break;case"textarea":ib(i,_);break;case"select":$=_.value,$!=null&&fb(i,!!_.multiple,$,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,$){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol($))throw Error(p$2(200));return dl(i,$,null,_)};reactDom_production_min.createRoot=function(i,$){if(!ol(i))throw Error(p$2(299));var _=!1,_e="",tt=ll;return $!=null&&($.unstable_strictMode===!0&&(_=!0),$.identifierPrefix!==void 0&&(_e=$.identifierPrefix),$.onRecoverableError!==void 0&&(tt=$.onRecoverableError)),$=cl(i,1,!1,null,null,_,!1,_e,tt),i[uf]=$.current,sf(i.nodeType===8?i.parentNode:i),new ml($)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var $=i._reactInternals;if($===void 0)throw typeof i.render=="function"?Error(p$2(188)):(i=Object.keys(i).join(","),Error(p$2(268,i)));return i=Zb($),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,$,_){if(!pl($))throw Error(p$2(200));return sl(null,i,$,!0,_)};reactDom_production_min.hydrateRoot=function(i,$,_){if(!ol(i))throw Error(p$2(405));var _e=_!=null&&_.hydratedSources||null,tt=!1,nt="",st=ll;if(_!=null&&(_.unstable_strictMode===!0&&(tt=!0),_.identifierPrefix!==void 0&&(nt=_.identifierPrefix),_.onRecoverableError!==void 0&&(st=_.onRecoverableError)),$=fl($,null,i,1,_!=null?_:null,tt,!1,nt,st),i[uf]=$.current,sf(i),_e)for(i=0;i<_e.length;i++)_=_e[i],tt=_._getVersion,tt=tt(_._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_,tt]:$.mutableSourceEagerHydrationData.push(_,tt);return new nl($)};reactDom_production_min.render=function(i,$,_){if(!pl($))throw Error(p$2(200));return sl(null,i,$,!1,_)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$2(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,$,_,_e){if(!pl(_))throw Error(p$2(200));if(i==null||i._reactInternals===void 0)throw Error(p$2(38));return sl(i,$,_,!1,_e)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(i){function $(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($)}catch(_){console.error(_)}}$(),i.exports=reactDom_production_min})(reactDom);var m$2=reactDom.exports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;var useSafeLayoutEffect=Boolean(globalThis==null?void 0:globalThis.document)?react.exports.useLayoutEffect:react.exports.useEffect,jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react.exports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,$,_){var _e,tt={},nt=null,st=null;_!==void 0&&(nt=""+_),$.key!==void 0&&(nt=""+$.key),$.ref!==void 0&&(st=$.ref);for(_e in $)m$1.call($,_e)&&!p$1.hasOwnProperty(_e)&&(tt[_e]=$[_e]);if(i&&i.defaultProps)for(_e in $=i.defaultProps,$)tt[_e]===void 0&&(tt[_e]=$[_e]);return{$$typeof:k$1,type:i,key:nt,ref:st,props:tt,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;(function(i){i.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;var ColorModeContext=react.exports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const i=react.exports.useContext(ColorModeContext);if(i===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return i}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(i={}){const{preventTransition:$=!0}=i,_={setDataset:_e=>{const tt=$?_.preventTransition():void 0;document.documentElement.dataset.theme=_e,document.documentElement.style.colorScheme=_e,tt==null||tt()},setClassName(_e){document.body.classList.add(_e?classNames.dark:classNames.light),document.body.classList.remove(_e?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(_e){var nt;return((nt=_.query().matches)!=null?nt:_e==="dark")?"dark":"light"},addListener(_e){const tt=_.query(),nt=st=>{_e(st.matches?"dark":"light")};return typeof tt.addListener=="function"?tt.addListener(nt):tt.addEventListener("change",nt),()=>{typeof tt.removeListener=="function"?tt.removeListener(nt):tt.removeEventListener("change",nt)}},preventTransition(){const _e=document.createElement("style");return _e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(_e),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(_e)})})}}};return _}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(i){return{ssr:!1,type:"localStorage",get($){if(!(globalThis!=null&&globalThis.document))return $;let _;try{_=localStorage.getItem(i)||$}catch{}return _||$},set($){try{localStorage.setItem(i,$)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$2=()=>{};function getTheme$1(i,$){return i.type==="cookie"&&i.ssr?i.get($):$}function ColorModeProvider(i){const{value:$,children:_,options:{useSystemColorMode:_e,initialColorMode:tt,disableTransitionOnChange:nt}={},colorModeManager:st=localStorageManager}=i,at=tt==="dark"?"dark":"light",[ht,lt]=react.exports.useState(()=>getTheme$1(st,at)),[pt,dt]=react.exports.useState(()=>getTheme$1(st)),{getSystemTheme:gt,setClassName:vt,setDataset:bt,addListener:$t}=react.exports.useMemo(()=>getColorModeUtils({preventTransition:nt}),[nt]),Tt=tt==="system"&&!ht?pt:ht,St=react.exports.useCallback(Vt=>{const Ht=Vt==="system"?gt():Vt;lt(Ht),vt(Ht==="dark"),bt(Ht),st.set(Ht)},[st,gt,vt,bt]);useSafeLayoutEffect(()=>{tt==="system"&&dt(gt())},[]),react.exports.useEffect(()=>{const Vt=st.get();if(Vt){St(Vt);return}if(tt==="system"){St("system");return}St(at)},[st,at,tt,St]);const Bt=react.exports.useCallback(()=>{St(Tt==="dark"?"light":"dark")},[Tt,St]);react.exports.useEffect(()=>{if(!!_e)return $t(St)},[_e,$t,St]);const Dt=react.exports.useMemo(()=>({colorMode:$!=null?$:Tt,toggleColorMode:$?noop$2:Bt,setColorMode:$?noop$2:St}),[Tt,Bt,St,$]);return jsx(ColorModeContext.Provider,{value:Dt,children:_})}ColorModeProvider.displayName="ColorModeProvider";var lodash_mergewith={exports:{}};(function(i,$){var _=200,_e="__lodash_hash_undefined__",tt=800,nt=16,st=9007199254740991,at="[object Arguments]",ht="[object Array]",lt="[object AsyncFunction]",pt="[object Boolean]",dt="[object Date]",gt="[object Error]",vt="[object Function]",bt="[object GeneratorFunction]",$t="[object Map]",Tt="[object Number]",St="[object Null]",Bt="[object Object]",Dt="[object Proxy]",Vt="[object RegExp]",Ht="[object Set]",Wt="[object String]",zt="[object Undefined]",Ut="[object WeakMap]",ao="[object ArrayBuffer]",lo="[object DataView]",Ao="[object Float32Array]",Zo="[object Float64Array]",Qo="[object Int8Array]",Wo="[object Int16Array]",An="[object Int32Array]",Oo="[object Uint8Array]",kn="[object Uint8ClampedArray]",oo="[object Uint16Array]",Bo="[object Uint32Array]",Io=/[\\^$.*+?()[\]{}|]/g,Pt=/^\[object .+?Constructor\]$/,io=/^(?:0|[1-9]\d*)$/,vo={};vo[Ao]=vo[Zo]=vo[Qo]=vo[Wo]=vo[An]=vo[Oo]=vo[kn]=vo[oo]=vo[Bo]=!0,vo[at]=vo[ht]=vo[ao]=vo[pt]=vo[lo]=vo[dt]=vo[gt]=vo[vt]=vo[$t]=vo[Tt]=vo[Bt]=vo[Vt]=vo[Ht]=vo[Wt]=vo[Ut]=!1;var Po=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ko=typeof self=="object"&&self&&self.Object===Object&&self,No=Po||Ko||Function("return this")(),kt=$&&!$.nodeType&&$,jo=kt&&!0&&i&&!i.nodeType&&i,mt=jo&&jo.exports===kt,At=mt&&Po.process,Ot=function(){try{var Rt=jo&&jo.require&&jo.require("util").types;return Rt||At&&At.binding&&At.binding("util")}catch{}}(),Yt=Ot&&Ot.isTypedArray;function Qt(Rt,Ft,Jt){switch(Jt.length){case 0:return Rt.call(Ft);case 1:return Rt.call(Ft,Jt[0]);case 2:return Rt.call(Ft,Jt[0],Jt[1]);case 3:return Rt.call(Ft,Jt[0],Jt[1],Jt[2])}return Rt.apply(Ft,Jt)}function co(Rt,Ft){for(var Jt=-1,ko=Array(Rt);++Jt<Rt;)ko[Jt]=Ft(Jt);return ko}function so(Rt){return function(Ft){return Rt(Ft)}}function fo(Rt,Ft){return Rt==null?void 0:Rt[Ft]}function gn(Rt,Ft){return function(Jt){return Rt(Ft(Jt))}}var Nn=Array.prototype,Gn=Function.prototype,ho=Object.prototype,zr=No["__core-js_shared__"],Or=Gn.toString,mn=ho.hasOwnProperty,qs=function(){var Rt=/[^.]+$/.exec(zr&&zr.keys&&zr.keys.IE_PROTO||"");return Rt?"Symbol(src)_1."+Rt:""}(),Ol=ho.toString,jt=Or.call(Object),Xr=RegExp("^"+Or.call(mn).replace(Io,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rs=mt?No.Buffer:void 0,ba=No.Symbol,Ml=No.Uint8Array,yt=rs?rs.allocUnsafe:void 0,Zs=gn(Object.getPrototypeOf,Object),Xn=Object.create,Yr=ho.propertyIsEnumerable,is=Nn.splice,Kr=ba?ba.toStringTag:void 0,sr=function(){try{var Rt=Yn(Object,"defineProperty");return Rt({},"",{}),Rt}catch{}}(),Jr=rs?rs.isBuffer:void 0,$a=Math.max,go=Date.now,Ln=Yn(No,"Map"),Uo=Yn(Object,"create"),wr=function(){function Rt(){}return function(Ft){if(!ps(Ft))return{};if(Xn)return Xn(Ft);Rt.prototype=Ft;var Jt=new Rt;return Rt.prototype=void 0,Jt}}();function Br(Rt){var Ft=-1,Jt=Rt==null?0:Rt.length;for(this.clear();++Ft<Jt;){var ko=Rt[Ft];this.set(ko[0],ko[1])}}function In(){this.__data__=Uo?Uo(null):{},this.size=0}function Co(Rt){var Ft=this.has(Rt)&&delete this.__data__[Rt];return this.size-=Ft?1:0,Ft}function Nl(Rt){var Ft=this.__data__;if(Uo){var Jt=Ft[Rt];return Jt===_e?void 0:Jt}return mn.call(Ft,Rt)?Ft[Rt]:void 0}function ss(Rt){var Ft=this.__data__;return Uo?Ft[Rt]!==void 0:mn.call(Ft,Rt)}function Ls(Rt,Ft){var Jt=this.__data__;return this.size+=this.has(Rt)?0:1,Jt[Rt]=Uo&&Ft===void 0?_e:Ft,this}Br.prototype.clear=In,Br.prototype.delete=Co,Br.prototype.get=Nl,Br.prototype.has=ss,Br.prototype.set=Ls;function pr(Rt){var Ft=-1,Jt=Rt==null?0:Rt.length;for(this.clear();++Ft<Jt;){var ko=Rt[Ft];this.set(ko[0],ko[1])}}function tn(){this.__data__=[],this.size=0}function Cs(Rt){var Ft=this.__data__,Jt=Hs(Ft,Rt);if(Jt<0)return!1;var ko=Ft.length-1;return Jt==ko?Ft.pop():is.call(Ft,Jt,1),--this.size,!0}function ls(Rt){var Ft=this.__data__,Jt=Hs(Ft,Rt);return Jt<0?void 0:Ft[Jt][1]}function bs(Rt){return Hs(this.__data__,Rt)>-1}function Pr(Rt,Ft){var Jt=this.__data__,ko=Hs(Jt,Rt);return ko<0?(++this.size,Jt.push([Rt,Ft])):Jt[ko][1]=Ft,this}pr.prototype.clear=tn,pr.prototype.delete=Cs,pr.prototype.get=ls,pr.prototype.has=bs,pr.prototype.set=Pr;function qr(Rt){var Ft=-1,Jt=Rt==null?0:Rt.length;for(this.clear();++Ft<Jt;){var ko=Rt[Ft];this.set(ko[0],ko[1])}}function Fs(){this.size=0,this.__data__={hash:new Br,map:new(Ln||pr),string:new Br}}function Ps(Rt){var Ft=Gs(this,Rt).delete(Rt);return this.size-=Ft?1:0,Ft}function Us(Rt){return Gs(this,Rt).get(Rt)}function xa(Rt){return Gs(this,Rt).has(Rt)}function eu(Rt,Ft){var Jt=Gs(this,Rt),ko=Jt.size;return Jt.set(Rt,Ft),this.size+=Jt.size==ko?0:1,this}qr.prototype.clear=Fs,qr.prototype.delete=Ps,qr.prototype.get=Us,qr.prototype.has=xa,qr.prototype.set=eu;function $s(Rt){var Ft=this.__data__=new pr(Rt);this.size=Ft.size}function tu(){this.__data__=new pr,this.size=0}function Jo(Rt){var Ft=this.__data__,Jt=Ft.delete(Rt);return this.size=Ft.size,Jt}function Ll(Rt){return this.__data__.get(Rt)}function Fl(Rt){return this.__data__.has(Rt)}function Nt(Rt,Ft){var Jt=this.__data__;if(Jt instanceof pr){var ko=Jt.__data__;if(!Ln||ko.length<_-1)return ko.push([Rt,Ft]),this.size=++Jt.size,this;Jt=this.__data__=new qr(ko)}return Jt.set(Rt,Ft),this.size=Jt.size,this}$s.prototype.clear=tu,$s.prototype.delete=Jo,$s.prototype.get=Ll,$s.prototype.has=Fl,$s.prototype.set=Nt;function hr(Rt,Ft){var Jt=cs(Rt),ko=!Jt&&us(Rt),sn=!Jt&&!ko&&Dn(Rt),En=!Jt&&!ko&&!sn&&lu(Rt),Rn=Jt||ko||sn||En,on=Rn?co(Rt.length,String):[],Sn=on.length;for(var an in Rt)(Ft||mn.call(Rt,an))&&!(Rn&&(an=="length"||sn&&(an=="offset"||an=="parent")||En&&(an=="buffer"||an=="byteLength"||an=="byteOffset")||Gl(an,Sn)))&&on.push(an);return on}function fr(Rt,Ft,Jt){(Jt!==void 0&&!Tn(Rt[Ft],Jt)||Jt===void 0&&!(Ft in Rt))&&Qs(Rt,Ft,Jt)}function Vs(Rt,Ft,Jt){var ko=Rt[Ft];(!(mn.call(Rt,Ft)&&Tn(ko,Jt))||Jt===void 0&&!(Ft in Rt))&&Qs(Rt,Ft,Jt)}function Hs(Rt,Ft){for(var Jt=Rt.length;Jt--;)if(Tn(Rt[Jt][0],Ft))return Jt;return-1}function Qs(Rt,Ft,Jt){Ft=="__proto__"&&sr?sr(Rt,Ft,{configurable:!0,enumerable:!0,value:Jt,writable:!0}):Rt[Ft]=Jt}var ou=Hl();function _l(Rt){return Rt==null?Rt===void 0?zt:St:Kr&&Kr in Object(Rt)?Ws(Rt):Mu(Rt)}function nu(Rt){return zs(Rt)&&_l(Rt)==at}function Bu(Rt){if(!ps(Rt)||or(Rt))return!1;var Ft=Bs(Rt)?Xr:Pt;return Ft.test(Kn(Rt))}function Au(Rt){return zs(Rt)&&su(Rt.length)&&!!vo[_l(Rt)]}function xu(Rt){if(!ps(Rt))return So(Rt);var Ft=To(Rt),Jt=[];for(var ko in Rt)ko=="constructor"&&(Ft||!mn.call(Rt,ko))||Jt.push(ko);return Jt}function Pl(Rt,Ft,Jt,ko,sn){Rt!==Ft&&ou(Ft,function(En,Rn){if(sn||(sn=new $s),ps(En))Iu(Rt,Ft,Rn,Jt,Pl,ko,sn);else{var on=ko?ko(lr(Rt,Rn),En,Rn+"",Rt,Ft,sn):void 0;on===void 0&&(on=En),fr(Rt,Rn,on)}},zl)}function Iu(Rt,Ft,Jt,ko,sn,En,Rn){var on=lr(Rt,Jt),Sn=lr(Ft,Jt),an=Rn.get(Sn);if(an){fr(Rt,Jt,an);return}var hn=En?En(on,Sn,Jt+"",Rt,Ft,Rn):void 0,Ar=hn===void 0;if(Ar){var hs=cs(Sn),ds=!hs&&Dn(Sn),cu=!hs&&!ds&&lu(Sn);hn=Sn,hs||ds||cu?cs(on)?hn=on:yl(on)?hn=ru(on):ds?(Ar=!1,hn=Du(Sn,!0)):cu?(Ar=!1,hn=Vl(Sn,!0)):hn=[]:Nu(Sn)||us(Sn)?(hn=on,us(on)?hn=Lu(on):(!ps(on)||Bs(on))&&(hn=iu(Sn))):Ar=!1}Ar&&(Rn.set(Sn,hn),sn(hn,Sn,ko,En,Rn),Rn.delete(Sn)),fr(Rt,Jt,hn)}function Ru(Rt,Ft){return Ur(as(Rt,Ft,uu),Rt+"")}var Ul=sr?function(Rt,Ft){return sr(Rt,"toString",{configurable:!0,enumerable:!1,value:Fu(Ft),writable:!0})}:uu;function Du(Rt,Ft){if(Ft)return Rt.slice();var Jt=Rt.length,ko=yt?yt(Jt):new Rt.constructor(Jt);return Rt.copy(ko),ko}function bo(Rt){var Ft=new Rt.constructor(Rt.byteLength);return new Ml(Ft).set(new Ml(Rt)),Ft}function Vl(Rt,Ft){var Jt=Ft?bo(Rt.buffer):Rt.buffer;return new Rt.constructor(Jt,Rt.byteOffset,Rt.length)}function ru(Rt,Ft){var Jt=-1,ko=Rt.length;for(Ft||(Ft=Array(ko));++Jt<ko;)Ft[Jt]=Rt[Jt];return Ft}function Ou(Rt,Ft,Jt,ko){var sn=!Jt;Jt||(Jt={});for(var En=-1,Rn=Ft.length;++En<Rn;){var on=Ft[En],Sn=ko?ko(Jt[on],Rt[on],on,Jt,Rt):void 0;Sn===void 0&&(Sn=Rt[on]),sn?Qs(Jt,on,Sn):Vs(Jt,on,Sn)}return Jt}function wu(Rt){return Ru(function(Ft,Jt){var ko=-1,sn=Jt.length,En=sn>1?Jt[sn-1]:void 0,Rn=sn>2?Jt[2]:void 0;for(En=Rt.length>3&&typeof En=="function"?(sn--,En):void 0,Rn&&tr(Jt[0],Jt[1],Rn)&&(En=sn<3?void 0:En,sn=1),Ft=Object(Ft);++ko<sn;){var on=Jt[ko];on&&Rt(Ft,on,ko,En)}return Ft})}function Hl(Rt){return function(Ft,Jt,ko){for(var sn=-1,En=Object(Ft),Rn=ko(Ft),on=Rn.length;on--;){var Sn=Rn[Rt?on:++sn];if(Jt(En[Sn],Sn,En)===!1)break}return Ft}}function Gs(Rt,Ft){var Jt=Rt.__data__;return $o(Ft)?Jt[typeof Ft=="string"?"string":"hash"]:Jt.map}function Yn(Rt,Ft){var Jt=fo(Rt,Ft);return Bu(Jt)?Jt:void 0}function Ws(Rt){var Ft=mn.call(Rt,Kr),Jt=Rt[Kr];try{Rt[Kr]=void 0;var ko=!0}catch{}var sn=Ol.call(Rt);return ko&&(Ft?Rt[Kr]=Jt:delete Rt[Kr]),sn}function iu(Rt){return typeof Rt.constructor=="function"&&!To(Rt)?wr(Zs(Rt)):{}}function Gl(Rt,Ft){var Jt=typeof Rt;return Ft=Ft==null?st:Ft,!!Ft&&(Jt=="number"||Jt!="symbol"&&io.test(Rt))&&Rt>-1&&Rt%1==0&&Rt<Ft}function tr(Rt,Ft,Jt){if(!ps(Jt))return!1;var ko=typeof Ft;return(ko=="number"?yn(Jt)&&Gl(Ft,Jt.length):ko=="string"&&Ft in Jt)?Tn(Jt[Ft],Rt):!1}function $o(Rt){var Ft=typeof Rt;return Ft=="string"||Ft=="number"||Ft=="symbol"||Ft=="boolean"?Rt!=="__proto__":Rt===null}function or(Rt){return!!qs&&qs in Rt}function To(Rt){var Ft=Rt&&Rt.constructor,Jt=typeof Ft=="function"&&Ft.prototype||ho;return Rt===Jt}function So(Rt){var Ft=[];if(Rt!=null)for(var Jt in Object(Rt))Ft.push(Jt);return Ft}function Mu(Rt){return Ol.call(Rt)}function as(Rt,Ft,Jt){return Ft=$a(Ft===void 0?Rt.length-1:Ft,0),function(){for(var ko=arguments,sn=-1,En=$a(ko.length-Ft,0),Rn=Array(En);++sn<En;)Rn[sn]=ko[Ft+sn];sn=-1;for(var on=Array(Ft+1);++sn<Ft;)on[sn]=ko[sn];return on[Ft]=Jt(Rn),Qt(Rt,this,on)}}function lr(Rt,Ft){if(!(Ft==="constructor"&&typeof Rt[Ft]=="function")&&Ft!="__proto__")return Rt[Ft]}var Ur=Wl(Ul);function Wl(Rt){var Ft=0,Jt=0;return function(){var ko=go(),sn=nt-(ko-Jt);if(Jt=ko,sn>0){if(++Ft>=tt)return arguments[0]}else Ft=0;return Rt.apply(void 0,arguments)}}function Kn(Rt){if(Rt!=null){try{return Or.call(Rt)}catch{}try{return Rt+""}catch{}}return""}function Tn(Rt,Ft){return Rt===Ft||Rt!==Rt&&Ft!==Ft}var us=nu(function(){return arguments}())?nu:function(Rt){return zs(Rt)&&mn.call(Rt,"callee")&&!Yr.call(Rt,"callee")},cs=Array.isArray;function yn(Rt){return Rt!=null&&su(Rt.length)&&!Bs(Rt)}function yl(Rt){return zs(Rt)&&yn(Rt)}var Dn=Jr||Pu;function Bs(Rt){if(!ps(Rt))return!1;var Ft=_l(Rt);return Ft==vt||Ft==bt||Ft==lt||Ft==Dt}function su(Rt){return typeof Rt=="number"&&Rt>-1&&Rt%1==0&&Rt<=st}function ps(Rt){var Ft=typeof Rt;return Rt!=null&&(Ft=="object"||Ft=="function")}function zs(Rt){return Rt!=null&&typeof Rt=="object"}function Nu(Rt){if(!zs(Rt)||_l(Rt)!=Bt)return!1;var Ft=Zs(Rt);if(Ft===null)return!0;var Jt=mn.call(Ft,"constructor")&&Ft.constructor;return typeof Jt=="function"&&Jt instanceof Jt&&Or.call(Jt)==jt}var lu=Yt?so(Yt):Au;function Lu(Rt){return Ou(Rt,zl(Rt))}function zl(Rt){return yn(Rt)?hr(Rt,!0):xu(Rt)}var au=wu(function(Rt,Ft,Jt,ko){Pl(Rt,Ft,Jt,ko)});function Fu(Rt){return function(){return Rt}}function uu(Rt){return Rt}function Pu(){return!1}i.exports=au})(lodash_mergewith,lodash_mergewith.exports);const mergeWith=lodash_mergewith.exports;function isObject$2(i){const $=typeof i;return i!=null&&($==="object"||$==="function")&&!Array.isArray(i)}function runIfFn$2(i,...$){return isFunction$2(i)?i(...$):i}var isFunction$2=i=>typeof i=="function",isImportant=i=>/!(important)?$/.test(i),withoutImportant=i=>typeof i=="string"?i.replace(/!(important)?$/,"").trim():i,tokenToCSSVar=(i,$)=>_=>{const _e=String($),tt=isImportant(_e),nt=withoutImportant(_e),st=i?`${i}.${nt}`:nt;let at=isObject$2(_.__cssMap)&&st in _.__cssMap?_.__cssMap[st].varRef:$;return at=withoutImportant(at),tt?`${at} !important`:at};function createTransform(i){const{scale:$,transform:_,compose:_e}=i;return(nt,st)=>{var lt;const at=tokenToCSSVar($,nt)(st);let ht=(lt=_==null?void 0:_(at,st))!=null?lt:at;return _e&&(ht=_e(ht,st)),ht}}function toConfig(i,$){return _=>{const _e={property:_,scale:i};return _e.transform=createTransform({scale:i,transform:$}),_e}}var getRtl=({rtl:i,ltr:$})=>_=>_.direction==="rtl"?i:$;function logical(i){const{property:$,scale:_,transform:_e}=i;return{scale:_,property:getRtl($),transform:_?createTransform({scale:_,compose:_e}):_e}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(i){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":i,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},owlSelector="& > :not(style) ~ :not(style)",spaceXTemplate={[owlSelector]:{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}},spaceYTemplate={[owlSelector]:{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=i=>i.trim();function parseGradient(i,$){var dt;var _;if(i==null||globalSet.has(i))return i;const _e=/(?<type>^[a-z-A-Z]+)\((?<values>(.*))\)/g,{type:tt,values:nt}=(dt=(_=_e.exec(i))==null?void 0:_.groups)!=null?dt:{};if(!tt||!nt)return i;const st=tt.includes("-gradient")?tt:`${tt}-gradient`,[at,...ht]=nt.split(",").map(trimSpace).filter(Boolean);if((ht==null?void 0:ht.length)===0)return i;const lt=at in directionMap?directionMap[at]:at;ht.unshift(lt);const pt=ht.map(gt=>{if(valueSet.has(gt))return gt;const vt=gt.indexOf(" "),[bt,$t]=vt!==-1?[gt.substr(0,vt),gt.substr(vt+1)]:[gt],Tt=isCSSFunction($t)?$t:$t&&$t.split(" "),St=`colors.${bt}`,Bt=St in $.__cssMap?$.__cssMap[St].varRef:bt;return Tt?[Bt,...Array.isArray(Tt)?Tt:[Tt]].join(" "):Bt});return`${st}(${pt.join(", ")})`}var isCSSFunction=i=>typeof i=="string"&&i.includes("(")&&i.includes(")"),gradientTransform=(i,$)=>parseGradient(i,$!=null?$:{});function isCssVar(i){return/^var\(--.+\)$/.test(i)}var analyzeCSSValue=i=>{const $=parseFloat(i.toString()),_=i.toString().replace(String($),"");return{unitless:!_,value:$,unit:_}},wrap=i=>$=>`${i}(${$})`,transformFunctions={filter(i){return i!=="auto"?i:filterTemplate},backdropFilter(i){return i!=="auto"?i:backdropFilterTemplate},ring(i){return getRingTemplate(transformFunctions.px(i))},bgClip(i){return i==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:i}},transform(i){return i==="auto"?getTransformTemplate():i==="auto-gpu"?getTransformGpuTemplate():i},px(i){if(i==null)return i;const{unitless:$}=analyzeCSSValue(i);return $||typeof i=="number"?`${i}px`:i},fraction(i){return typeof i!="number"||i>1?i:`${i*100}%`},float(i,$){const _={left:"right",right:"left"};return $.direction==="rtl"?_[i]:i},degree(i){if(isCssVar(i)||i==null)return i;const $=typeof i=="string"&&!i.endsWith("deg");return typeof i=="number"||$?`${i}deg`:i},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:wrap("hue-rotate"),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(i){return i==null||isCSSFunction(i)||globalSet.has(i)?i:`url(${i})`},outline(i){const $=String(i)==="0"||String(i)==="none";return i!==null&&$?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:i}},flexDirection(i){var tt;const{space:$,divide:_}=(tt=flexDirectionTemplate[i])!=null?tt:{},_e={flexDirection:i};return $&&(_e[$]=1),_&&(_e[_]=1),_e}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",transformFunctions.px),spaceT:toConfig("space",transformFunctions.px),degreeT(i){return{property:i,transform:transformFunctions.degree}},prop(i,$,_){return{property:i,scale:$,...$&&{transform:createTransform({scale:$,transform:_})}}},propT(i,$){return{property:i,transform:$}},sizes:toConfig("sizes",transformFunctions.px),sizesT:toConfig("sizes",transformFunctions.fraction),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.propT("backgroundImage",transformFunctions.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.propT("backgroundImage",transformFunctions.gradient),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke")},effect={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});var filter$1={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.degreeT("--chakra-hue-rotate"),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},experimental_spaceX:{static:spaceXTemplate,transform:createTransform({scale:"space",transform:i=>i!==null?{"--chakra-space-x":i}:null})},experimental_spaceY:{static:spaceYTemplate,transform:createTransform({scale:"space",transform:i=>i!=null?{"--chakra-space-y":i}:null})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},layout={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout,{w:layout.width,h:layout.height,minW:layout.minWidth,maxW:layout.maxWidth,minH:layout.minHeight,maxH:layout.maxHeight,overscroll:layout.overscrollBehavior,overscrollX:layout.overscrollBehaviorX,overscrollY:layout.overscrollBehaviorY});var list={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")};function get$1(i,$,_,_e){const tt=typeof $=="string"?$.split("."):[$];for(_e=0;_e<tt.length&&i;_e+=1)i=i[tt[_e]];return i===void 0?_:i}var memoize$2=i=>{const $=new WeakMap;return(_e,tt,nt,st)=>{if(typeof _e>"u")return i(_e,tt,nt);$.has(_e)||$.set(_e,new Map);const at=$.get(_e);if(at.has(tt))return at.get(tt);const ht=i(_e,tt,nt,st);return at.set(tt,ht),ht}},memoizedGet$1=memoize$2(get$1),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(i,$,_)=>{const _e={},tt=memoizedGet$1(i,$,{});for(const nt in tt)nt in _&&_[nt]!=null||(_e[nt]=tt[nt]);return _e},others={srOnly:{transform(i){return i===!0?srOnly:i==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(i,$,_)=>getWithPriority($,`layerStyles.${i}`,_)},textStyle:{processResult:!0,transform:(i,$,_)=>getWithPriority($,`textStyles.${i}`,_)},apply:{processResult:!0,transform:(i,$,_)=>getWithPriority($,i,_)}},position$1={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(i){return isObject$2(i)&&i.reference?i.reference:String(i)}var toExpression=(i,...$)=>$.map(resolveReference).join(` ${i} `).replace(/calc/g,""),add$1=(...i)=>`calc(${toExpression("+",...i)})`,subtract$1=(...i)=>`calc(${toExpression("-",...i)})`,multiply$1=(...i)=>`calc(${toExpression("*",...i)})`,divide$1=(...i)=>`calc(${toExpression("/",...i)})`,negate$1=i=>{const $=resolveReference(i);return $!=null&&!Number.isNaN(parseFloat($))?String($).startsWith("-")?String($).slice(1):`-${$}`:multiply$1($,-1)},calc$1=Object.assign(i=>({add:(...$)=>calc$1(add$1(i,...$)),subtract:(...$)=>calc$1(subtract$1(i,...$)),multiply:(...$)=>calc$1(multiply$1(i,...$)),divide:(...$)=>calc$1(divide$1(i,...$)),negate:()=>calc$1(negate$1(i)),toString:()=>i.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(i,$="-"){return i.replace(/\s+/g,$)}function escape$1(i){const $=replaceWhiteSpace$1(i.toString());return escapeSymbol(escapeDot($))}function escapeDot(i){return i.includes("\\.")?i:!Number.isInteger(parseFloat(i.toString()))?i.replace(".","\\."):i}function escapeSymbol(i){return i.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(i,$=""){return[$,i].filter(Boolean).join("-")}function toVarReference(i,$){return`var(${i}${$?`, ${$}`:""})`}function toVarDefinition(i,$=""){return escape$1(`--${addPrefix$1(i,$)}`)}function cssVar$1(i,$,_){const _e=toVarDefinition(i,_);return{variable:_e,reference:toVarReference(_e,$)}}function isObject2(i){const $=typeof i;return i!=null&&($==="object"||$==="function")&&!Array.isArray(i)}Object.freeze(["base","sm","md","lg","xl","2xl"]);function getLastItem(i){const $=i==null?0:i.length;return $?i[$-1]:void 0}function analyzeCSSValue2(i){const $=parseFloat(i.toString()),_=i.toString().replace(String($),"");return{unitless:!_,value:$,unit:_}}function px$2(i){if(i==null)return i;const{unitless:$}=analyzeCSSValue2(i);return $||typeof i=="number"?`${i}px`:i}var sortByBreakpointValue=(i,$)=>parseInt(i[1],10)>parseInt($[1],10)?1:-1,sortBps=i=>Object.fromEntries(Object.entries(i).sort(sortByBreakpointValue));function normalize(i){const $=sortBps(i);return Object.assign(Object.values($),$)}function keys(i){const $=Object.keys(sortBps(i));return new Set($)}function subtract2(i){var _;if(!i)return i;i=(_=px$2(i))!=null?_:i;const $=i.endsWith("px")?-1:-.0625;return typeof i=="number"?`${i+$}`:i.replace(/(\d+\.?\d*)/u,_e=>`${parseFloat(_e)+$}`)}function toMediaQueryString(i,$){const _=["@media screen"];return i&&_.push("and",`(min-width: ${px$2(i)})`),$&&_.push("and",`(max-width: ${px$2($)})`),_.join(" ")}function analyzeBreakpoints(i){var nt;if(!i)return null;i.base=(nt=i.base)!=null?nt:"0px";const $=normalize(i),_=Object.entries(i).sort(sortByBreakpointValue).map(([st,at],ht,lt)=>{var dt;let[,pt]=(dt=lt[ht+1])!=null?dt:[];return pt=parseFloat(pt)>0?subtract2(pt):void 0,{_minW:subtract2(at),breakpoint:st,minW:at,maxW:pt,maxWQuery:toMediaQueryString(null,pt),minWQuery:toMediaQueryString(at),minMaxQuery:toMediaQueryString(at,pt)}}),_e=keys(i),tt=Array.from(_e.values());return{keys:_e,normalized:$,isResponsive(st){const at=Object.keys(st);return at.length>0&&at.every(ht=>_e.has(ht))},asObject:sortBps(i),asArray:normalize(i),details:_,media:[null,...$.map(st=>toMediaQueryString(st)).slice(1)],toArrayValue(st){if(!isObject2(st))throw new Error("toArrayValue: value must be an object");const at=tt.map(ht=>{var lt;return(lt=st[ht])!=null?lt:null});for(;getLastItem(at)===null;)at.pop();return at},toObjectValue(st){if(!Array.isArray(st))throw new Error("toObjectValue: value must be an array");return st.reduce((at,ht,lt)=>{const pt=tt[lt];return pt!=null&&ht!=null&&(at[pt]=ht),at},{})}}}var state={hover:(i,$)=>`${i}:hover ${$}, ${i}[data-hover] ${$}`,focus:(i,$)=>`${i}:focus ${$}, ${i}[data-focus] ${$}`,focusVisible:(i,$)=>`${i}:focus-visible ${$}`,focusWithin:(i,$)=>`${i}:focus-within ${$}`,active:(i,$)=>`${i}:active ${$}, ${i}[data-active] ${$}`,disabled:(i,$)=>`${i}:disabled ${$}, ${i}[data-disabled] ${$}`,invalid:(i,$)=>`${i}:invalid ${$}, ${i}[data-invalid] ${$}`,checked:(i,$)=>`${i}:checked ${$}, ${i}[data-checked] ${$}`,indeterminate:(i,$)=>`${i}:indeterminate ${$}, ${i}[aria-checked=mixed] ${$}, ${i}[data-indeterminate] ${$}`,readOnly:(i,$)=>`${i}:read-only ${$}, ${i}[readonly] ${$}, ${i}[data-read-only] ${$}`,expanded:(i,$)=>`${i}:read-only ${$}, ${i}[aria-expanded=true] ${$}, ${i}[data-expanded] ${$}`,placeholderShown:(i,$)=>`${i}:placeholder-shown ${$}`},toGroup=i=>merge($=>i($,"&"),"[role=group]","[data-group]",".group"),toPeer=i=>merge($=>i($,"~ &"),"[data-peer]",".peer"),merge=(i,...$)=>$.map(i).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(i,$){return cssVar$1(String(i).replace(/\./g,"-"),void 0,$)}function createThemeVars(i,$){let _={};const _e={};for(const[tt,nt]of Object.entries(i)){const{isSemantic:st,value:at}=nt,{variable:ht,reference:lt}=tokenToCssVar(tt,$==null?void 0:$.cssVarPrefix);if(!st){if(tt.startsWith("space")){const gt=tt.split("."),[vt,...bt]=gt,$t=`${vt}.-${bt.join(".")}`,Tt=calc$1.negate(at),St=calc$1.negate(lt);_e[$t]={value:Tt,var:ht,varRef:St}}_[ht]=at,_e[tt]={value:at,var:ht,varRef:lt};continue}const pt=gt=>{const bt=[String(tt).split(".")[0],gt].join(".");if(!i[bt])return gt;const{reference:Tt}=tokenToCssVar(bt,$==null?void 0:$.cssVarPrefix);return Tt},dt=isObject$2(at)?at:{default:at};_=mergeWith(_,Object.entries(dt).reduce((gt,[vt,bt])=>{var Bt;var $t;const Tt=pt(bt);if(vt==="default")return gt[ht]=Tt,gt;const St=(Bt=($t=pseudoSelectors)==null?void 0:$t[vt])!=null?Bt:vt;return gt[St]={[ht]:Tt},gt},{})),_e[tt]={value:lt,var:ht,varRef:lt}}return{cssVars:_,cssMap:_e}}function omit$2(i,$=[]){const _=Object.assign({},i);for(const _e of $)_e in _&&delete _[_e];return _}function pick(i,$){const _={};for(const _e of $)_e in i&&(_[_e]=i[_e]);return _}var tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function extractTokens(i){return pick(i,tokens)}function extractSemanticTokens(i){return i.semanticTokens}function omitVars(i){const{__cssMap:$,__cssVars:_,__breakpoints:_e,...tt}=i;return tt}function flattenTokens({tokens:i,semanticTokens:$}){var tt,nt;const _=Object.entries((tt=flatten(i))!=null?tt:{}).map(([st,at])=>[st,{isSemantic:!1,value:at}]),_e=Object.entries((nt=flatten($,1))!=null?nt:{}).map(([st,at])=>[st,{isSemantic:!0,value:at}]);return Object.fromEntries([..._,..._e])}function flatten(i,$=1/0){return!isObject$2(i)&&!Array.isArray(i)||!$?i:Object.entries(i).reduce((_,[_e,tt])=>(isObject$2(tt)||Array.isArray(tt)?Object.entries(flatten(tt,$-1)).forEach(([nt,st])=>{_[`${_e}.${nt}`]=st}):_[_e]=tt,_),{})}function toCSSVar(i){var $;const _=omitVars(i),_e=extractTokens(_),tt=extractSemanticTokens(_),nt=flattenTokens({tokens:_e,semanticTokens:tt}),st=($=_.config)==null?void 0:$.cssVarPrefix,{cssMap:at,cssVars:ht}=createThemeVars(nt,{cssVarPrefix:st});return Object.assign(_,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...ht},__cssMap:at,__breakpoints:analyzeBreakpoints(_.breakpoints)}),_}var systemProps=mergeWith({},background,border,color$1,flexbox,layout,filter$1,ring,interactivity,grid,others,position$1,effect,space,scroll,typography$1,textDecoration,transform,list,transition$1);Object.assign({},space,layout,flexbox,grid,position$1);var propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=i=>i in styleProps;function isCssVar2(i){return/^var\(--.+\)$/.test(i)}var isCSSVariableTokenValue=(i,$)=>i.startsWith("--")&&typeof $=="string"&&!isCssVar2($),resolveTokenValue=(i,$)=>{var at,ht;if($==null)return $;const _=lt=>{var pt,dt;return(dt=(pt=i.__cssMap)==null?void 0:pt[lt])==null?void 0:dt.varRef},_e=lt=>{var pt;return(pt=_(lt))!=null?pt:lt},tt=$.split(",").map(lt=>lt.trim()),[nt,st]=tt;return $=(ht=(at=_(nt))!=null?at:_e(st))!=null?ht:_e($),$};function getCss(i){const{configs:$={},pseudos:_={},theme:_e}=i;if(!_e.__breakpoints)return()=>({});const{isResponsive:tt,toArrayValue:nt,media:st}=_e.__breakpoints,at=(ht,lt=!1)=>{var vt,bt;var pt;const dt=runIfFn$2(ht,_e);let gt={};for(let $t in dt){let Tt=runIfFn$2(dt[$t],_e);if(Tt==null)continue;if(Array.isArray(Tt)||isObject$2(Tt)&&tt(Tt)){let Vt=Array.isArray(Tt)?Tt:nt(Tt);Vt=Vt.slice(0,st.length);for(let Ht=0;Ht<Vt.length;Ht++){const Wt=st[Ht],zt=Vt[Ht];Wt?zt==null?(vt=gt[Wt])!=null||(gt[Wt]={}):gt[Wt]=Object.assign({},gt[Wt],at({[$t]:zt},!0)):gt=Object.assign({},gt,at({...dt,[$t]:zt},!1))}continue}if($t in _&&($t=_[$t]),isCSSVariableTokenValue($t,Tt)&&(Tt=resolveTokenValue(_e,Tt)),isObject$2(Tt)){gt[$t]=Object.assign({},gt[$t],at(Tt,!0));continue}let St=$[$t];if(St===!0&&(St={property:$t}),!lt&&(St==null?void 0:St.static)){const Vt=runIfFn$2(St.static,_e);gt=Object.assign({},gt,Vt)}let Bt=(bt=(pt=St==null?void 0:St.transform)==null?void 0:pt.call(St,Tt,_e,dt))!=null?bt:Tt;if(Bt=St!=null&&St.processResult?at(Bt,!0):Bt,isObject$2(Bt)){gt=Object.assign({},gt,Bt);continue}const Dt=runIfFn$2(St==null?void 0:St.property,_e);if(Dt){if(Array.isArray(Dt)){for(const Vt of Dt)gt[Vt]=Bt;continue}Dt==="&"&&isObject$2(Bt)?gt=Object.assign({},gt,Bt):gt[Dt]=Bt;continue}gt[$t]=Bt}return gt};return at}var css$1=i=>$=>getCss({theme:$,pseudos:pseudoSelectors,configs:systemProps})(i);function normalize2(i,$){if(Array.isArray(i))return i;if(isObject$2(i))return $(i);if(i!=null)return[i]}function getNextIndex(i,$){for(let _=$+1;_<i.length;_++)if(i[_]!=null)return _;return-1}function createResolver(i){const $=i.__breakpoints;return function(_e,tt,nt,st){var at,ht;if(!$)return;const lt={},pt=normalize2(nt,$.toArrayValue);if(!pt)return lt;const dt=pt.length,gt=dt===1,vt=!!_e.parts;for(let bt=0;bt<dt;bt++){const $t=$.details[bt],Tt=$.details[getNextIndex(pt,bt)],St=toMediaQueryString($t.minW,Tt==null?void 0:Tt._minW),Bt=runIfFn$2((at=_e[tt])==null?void 0:at[pt[bt]],st);if(!!Bt){if(vt){(ht=_e.parts)==null||ht.forEach(Dt=>{mergeWith(lt,{[Dt]:gt?Bt[Dt]:{[St]:Bt[Dt]}})});continue}if(!vt){gt?mergeWith(lt,Bt):lt[St]=Bt;continue}lt[St]=Bt}}return lt}}function resolveStyleConfig(i){return $=>{var st;const{variant:_,size:_e,theme:tt}=$,nt=createResolver(tt);return mergeWith({},runIfFn$2((st=i.baseStyle)!=null?st:{},$),nt(i,"sizes",_e,$),nt(i,"variants",_,$))}}function omitThemingProps(i){return omit$2(i,["styleConfig","size","variant","colorScheme"])}function sheetForTag(i){if(i.sheet)return i.sheet;for(var $=0;$<document.styleSheets.length;$++)if(document.styleSheets[$].ownerNode===i)return document.styleSheets[$]}function createStyleElement(i){var $=document.createElement("style");return $.setAttribute("data-emotion",i.key),i.nonce!==void 0&&$.setAttribute("nonce",i.nonce),$.appendChild(document.createTextNode("")),$.setAttribute("data-s",""),$}var StyleSheet=function(){function i(_){var _e=this;this._insertTag=function(tt){var nt;_e.tags.length===0?_e.insertionPoint?nt=_e.insertionPoint.nextSibling:_e.prepend?nt=_e.container.firstChild:nt=_e.before:nt=_e.tags[_e.tags.length-1].nextSibling,_e.container.insertBefore(tt,nt),_e.tags.push(tt)},this.isSpeedy=_.speedy===void 0?!0:_.speedy,this.tags=[],this.ctr=0,this.nonce=_.nonce,this.key=_.key,this.container=_.container,this.prepend=_.prepend,this.insertionPoint=_.insertionPoint,this.before=null}var $=i.prototype;return $.hydrate=function(_e){_e.forEach(this._insertTag)},$.insert=function(_e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var tt=this.tags[this.tags.length-1];if(this.isSpeedy){var nt=sheetForTag(tt);try{nt.insertRule(_e,nt.cssRules.length)}catch{}}else tt.appendChild(document.createTextNode(_e));this.ctr++},$.flush=function(){this.tags.forEach(function(_e){return _e.parentNode&&_e.parentNode.removeChild(_e)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(i,$){return((($<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3)}function trim(i){return i.trim()}function match(i,$){return(i=$.exec(i))?i[0]:i}function replace(i,$,_){return i.replace($,_)}function indexof(i,$){return i.indexOf($)}function charat(i,$){return i.charCodeAt($)|0}function substr(i,$,_){return i.slice($,_)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,$){return $.push(i),i}function combine(i,$){return i.map($).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(i,$,_,_e,tt,nt,st){return{value:i,root:$,parent:_,type:_e,props:tt,children:nt,line,column,length:st,return:""}}function copy(i,$){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},$)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(i,$){return substr(characters,i,$)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,$){for(;--$&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+($<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position}function commenter(i,$){for(;next()&&i+character!==47+10;)if(i+character===42+42&&peek()===47)break;return"/*"+slice($,position-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position)}function compile(i){return dealloc(parse$1("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$1(i,$,_,_e,tt,nt,st,at,ht){for(var lt=0,pt=0,dt=st,gt=0,vt=0,bt=0,$t=1,Tt=1,St=1,Bt=0,Dt="",Vt=tt,Ht=nt,Wt=_e,zt=Dt;Tt;)switch(bt=Bt,Bt=next()){case 40:if(bt!=108&&zt.charCodeAt(dt-1)==58){indexof(zt+=replace(delimit(Bt),"&","&\f"),"&\f")!=-1&&(St=-1);break}case 34:case 39:case 91:zt+=delimit(Bt);break;case 9:case 10:case 13:case 32:zt+=whitespace(bt);break;case 92:zt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),$,_),ht);break;default:zt+="/"}break;case 123*$t:at[lt++]=strlen(zt)*St;case 125*$t:case 59:case 0:switch(Bt){case 0:case 125:Tt=0;case 59+pt:vt>0&&strlen(zt)-dt&&append(vt>32?declaration(zt+";",_e,_,dt-1):declaration(replace(zt," ","")+";",_e,_,dt-2),ht);break;case 59:zt+=";";default:if(append(Wt=ruleset(zt,$,_,lt,pt,tt,at,Dt,Vt=[],Ht=[],dt),nt),Bt===123)if(pt===0)parse$1(zt,$,Wt,Wt,Vt,nt,dt,at,Ht);else switch(gt){case 100:case 109:case 115:parse$1(i,Wt,Wt,_e&&append(ruleset(i,Wt,Wt,0,0,tt,at,Dt,tt,Vt=[],dt),Ht),tt,Ht,dt,at,_e?Vt:Ht);break;default:parse$1(zt,Wt,Wt,Wt,[""],Ht,0,at,Ht)}}lt=pt=vt=0,$t=St=1,Dt=zt="",dt=st;break;case 58:dt=1+strlen(zt),vt=bt;default:if($t<1){if(Bt==123)--$t;else if(Bt==125&&$t++==0&&prev()==125)continue}switch(zt+=from(Bt),Bt*$t){case 38:St=pt>0?1:(zt+="\f",-1);break;case 44:at[lt++]=(strlen(zt)-1)*St,St=1;break;case 64:peek()===45&&(zt+=delimit(next())),gt=peek(),pt=dt=strlen(Dt=zt+=identifier(caret())),Bt++;break;case 45:bt===45&&strlen(zt)==2&&($t=0)}}return nt}function ruleset(i,$,_,_e,tt,nt,st,at,ht,lt,pt){for(var dt=tt-1,gt=tt===0?nt:[""],vt=sizeof(gt),bt=0,$t=0,Tt=0;bt<_e;++bt)for(var St=0,Bt=substr(i,dt+1,dt=abs($t=st[bt])),Dt=i;St<vt;++St)(Dt=trim($t>0?gt[St]+" "+Bt:replace(Bt,/&\f/g,gt[St])))&&(ht[Tt++]=Dt);return node(i,$,_,tt===0?RULESET:at,ht,lt,pt)}function comment(i,$,_){return node(i,$,_,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,$,_,_e){return node(i,$,_,DECLARATION,substr(i,0,_e),substr(i,_e+1,-1),_e)}function prefix(i,$){switch(hash(i,$)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-$>6)switch(charat(i,$+1)){case 109:if(charat(i,$+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,$+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),$)+i:i}break;case 4949:if(charat(i,$+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,$+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}function serialize(i,$){for(var _="",_e=sizeof(i),tt=0;tt<_e;tt++)_+=$(i[tt],tt,i,$)||"";return _}function stringify(i,$,_,_e){switch(i.type){case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,_e)+"}";case RULESET:i.value=i.props.join(",")}return strlen(_=serialize(i.children,_e))?i.return=i.value+"{"+_+"}":""}function middleware(i){var $=sizeof(i);return function(_,_e,tt,nt){for(var st="",at=0;at<$;at++)st+=i[at](_,_e,tt,nt)||"";return st}}function rulesheet(i){return function($){$.root||($=$.return)&&i($)}}function prefixer(i,$,_,_e){if(i.length>-1&&!i.return)switch(i.type){case DECLARATION:i.return=prefix(i.value,i.length);break;case KEYFRAMES:return serialize([copy(i,{value:replace(i.value,"@","@"+WEBKIT)})],_e);case RULESET:if(i.length)return combine(i.props,function(tt){switch(match(tt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(i,{props:[replace(tt,/:(read-\w+)/,":"+MOZ+"$1")]})],_e);case"::placeholder":return serialize([copy(i,{props:[replace(tt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(i,{props:[replace(tt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(i,{props:[replace(tt,/:(plac\w+)/,MS+"input-$1")]})],_e)}return""})}}var weakMemoize=function($){var _=new WeakMap;return function(_e){if(_.has(_e))return _.get(_e);var tt=$(_e);return _.set(_e,tt),tt}};function memoize$1(i){var $=Object.create(null);return function(_){return $[_]===void 0&&($[_]=i(_)),$[_]}}var identifierWithPointTracking=function($,_,_e){for(var tt=0,nt=0;tt=nt,nt=peek(),tt===38&&nt===12&&(_[_e]=1),!token(nt);)next();return slice($,position)},toRules=function($,_){var _e=-1,tt=44;do switch(token(tt)){case 0:tt===38&&peek()===12&&(_[_e]=1),$[_e]+=identifierWithPointTracking(position-1,_,_e);break;case 2:$[_e]+=delimit(tt);break;case 4:if(tt===44){$[++_e]=peek()===58?"&\f":"",_[_e]=$[_e].length;break}default:$[_e]+=from(tt)}while(tt=next());return $},getRules=function($,_){return dealloc(toRules(alloc($),_))},fixedElements=new WeakMap,compat=function($){if(!($.type!=="rule"||!$.parent||$.length<1)){for(var _=$.value,_e=$.parent,tt=$.column===_e.column&&$.line===_e.line;_e.type!=="rule";)if(_e=_e.parent,!_e)return;if(!($.props.length===1&&_.charCodeAt(0)!==58&&!fixedElements.get(_e))&&!tt){fixedElements.set($,!0);for(var nt=[],st=getRules(_,nt),at=_e.props,ht=0,lt=0;ht<st.length;ht++)for(var pt=0;pt<at.length;pt++,lt++)$.props[lt]=nt[ht]?st[ht].replace(/&\f/g,at[pt]):at[pt]+" "+st[ht]}}},removeLabel=function($){if($.type==="decl"){var _=$.value;_.charCodeAt(0)===108&&_.charCodeAt(2)===98&&($.return="",$.value="")}},defaultStylisPlugins=[prefixer],createCache=function($){var _=$.key;if(_==="css"){var _e=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(_e,function($t){var Tt=$t.getAttribute("data-emotion");Tt.indexOf(" ")!==-1&&(document.head.appendChild($t),$t.setAttribute("data-s",""))})}var tt=$.stylisPlugins||defaultStylisPlugins,nt={},st,at=[];st=$.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+_+' "]'),function($t){for(var Tt=$t.getAttribute("data-emotion").split(" "),St=1;St<Tt.length;St++)nt[Tt[St]]=!0;at.push($t)});var ht,lt=[compat,removeLabel];{var pt,dt=[stringify,rulesheet(function($t){pt.insert($t)})],gt=middleware(lt.concat(tt,dt)),vt=function(Tt){return serialize(compile(Tt),gt)};ht=function(Tt,St,Bt,Dt){pt=Bt,vt(Tt?Tt+"{"+St.styles+"}":St.styles),Dt&&(bt.inserted[St.name]=!0)}}var bt={key:_,sheet:new StyleSheet({key:_,container:st,nonce:$.nonce,speedy:$.speedy,prepend:$.prepend,insertionPoint:$.insertionPoint}),nonce:$.nonce,inserted:nt,registered:{},insert:ht};return bt.sheet.hydrate(at),bt};function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var $=1;$<arguments.length;$++){var _=arguments[$];for(var _e in _)Object.prototype.hasOwnProperty.call(_,_e)&&(i[_e]=_[_e])}return i},_extends.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g=b$1?Symbol.for("react.profiler"):60114,h=b$1?Symbol.for("react.provider"):60109,k=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v=b$1?Symbol.for("react.block"):60121,w=b$1?Symbol.for("react.fundamental"):60117,x=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var $=i.$$typeof;switch($){case c$1:switch(i=i.type,i){case l:case m:case e:case g:case f:case p:return i;default:switch(i=i&&i.$$typeof,i){case k:case n:case t:case r:case h:return i;default:return $}}case d:return $}}}function A(i){return z(i)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(i){return A(i)||z(i)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(i){return z(i)===k};reactIs_production_min.isContextProvider=function(i){return z(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c$1};reactIs_production_min.isForwardRef=function(i){return z(i)===n};reactIs_production_min.isFragment=function(i){return z(i)===e};reactIs_production_min.isLazy=function(i){return z(i)===t};reactIs_production_min.isMemo=function(i){return z(i)===r};reactIs_production_min.isPortal=function(i){return z(i)===d};reactIs_production_min.isProfiler=function(i){return z(i)===g};reactIs_production_min.isStrictMode=function(i){return z(i)===f};reactIs_production_min.isSuspense=function(i){return z(i)===p};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m||i===g||i===f||i===p||i===q||typeof i=="object"&&i!==null&&(i.$$typeof===t||i.$$typeof===r||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v)};reactIs_production_min.typeOf=z;(function(i){i.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(i,$,_){var _e="";return _.split(" ").forEach(function(tt){i[tt]!==void 0?$.push(i[tt]+";"):_e+=tt+" "}),_e}var registerStyles=function($,_,_e){var tt=$.key+"-"+_.name;(_e===!1||isBrowser$1===!1)&&$.registered[tt]===void 0&&($.registered[tt]=_.styles)},insertStyles=function($,_,_e){registerStyles($,_,_e);var tt=$.key+"-"+_.name;if($.inserted[_.name]===void 0){var nt=_;do $.insert(_===nt?"."+tt:"",nt,$.sheet,!0),nt=nt.next;while(nt!==void 0)}};function murmur2(i){for(var $=0,_,_e=0,tt=i.length;tt>=4;++_e,tt-=4)_=i.charCodeAt(_e)&255|(i.charCodeAt(++_e)&255)<<8|(i.charCodeAt(++_e)&255)<<16|(i.charCodeAt(++_e)&255)<<24,_=(_&65535)*1540483477+((_>>>16)*59797<<16),_^=_>>>24,$=(_&65535)*1540483477+((_>>>16)*59797<<16)^($&65535)*1540483477+(($>>>16)*59797<<16);switch(tt){case 3:$^=(i.charCodeAt(_e+2)&255)<<16;case 2:$^=(i.charCodeAt(_e+1)&255)<<8;case 1:$^=i.charCodeAt(_e)&255,$=($&65535)*1540483477+(($>>>16)*59797<<16)}return $^=$>>>13,$=($&65535)*1540483477+(($>>>16)*59797<<16),(($^$>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function($){return $.charCodeAt(1)===45},isProcessableValue=function($){return $!=null&&typeof $!="boolean"},processStyleName=memoize$1(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function($,_){switch($){case"animation":case"animationName":if(typeof _=="string")return _.replace(animationRegex,function(_e,tt,nt){return cursor={name:tt,styles:nt,next:cursor},tt})}return unitlessKeys[$]!==1&&!isCustomProperty($)&&typeof _=="number"&&_!==0?_+"px":_},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,$,_){if(_==null)return"";if(_.__emotion_styles!==void 0)return _;switch(typeof _){case"boolean":return"";case"object":{if(_.anim===1)return cursor={name:_.name,styles:_.styles,next:cursor},_.name;if(_.styles!==void 0){var _e=_.next;if(_e!==void 0)for(;_e!==void 0;)cursor={name:_e.name,styles:_e.styles,next:cursor},_e=_e.next;var tt=_.styles+";";return tt}return createStringFromObject(i,$,_)}case"function":{if(i!==void 0){var nt=cursor,st=_(i);return cursor=nt,handleInterpolation(i,$,st)}break}}if($==null)return _;var at=$[_];return at!==void 0?at:_}function createStringFromObject(i,$,_){var _e="";if(Array.isArray(_))for(var tt=0;tt<_.length;tt++)_e+=handleInterpolation(i,$,_[tt])+";";else for(var nt in _){var st=_[nt];if(typeof st!="object")$!=null&&$[st]!==void 0?_e+=nt+"{"+$[st]+"}":isProcessableValue(st)&&(_e+=processStyleName(nt)+":"+processStyleValue(nt,st)+";");else if(Array.isArray(st)&&typeof st[0]=="string"&&($==null||$[st[0]]===void 0))for(var at=0;at<st.length;at++)isProcessableValue(st[at])&&(_e+=processStyleName(nt)+":"+processStyleValue(nt,st[at])+";");else{var ht=handleInterpolation(i,$,st);switch(nt){case"animation":case"animationName":{_e+=processStyleName(nt)+":"+ht+";";break}default:_e+=nt+"{"+ht+"}"}}}return _e}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function($,_,_e){if($.length===1&&typeof $[0]=="object"&&$[0]!==null&&$[0].styles!==void 0)return $[0];var tt=!0,nt="";cursor=void 0;var st=$[0];st==null||st.raw===void 0?(tt=!1,nt+=handleInterpolation(_e,_,st)):nt+=st[0];for(var at=1;at<$.length;at++)nt+=handleInterpolation(_e,_,$[at]),tt&&(nt+=st[at]);labelPattern.lastIndex=0;for(var ht="",lt;(lt=labelPattern.exec(nt))!==null;)ht+="-"+lt[1];var pt=murmur2(nt)+ht;return{name:pt,styles:nt,next:cursor}},EmotionCacheContext=react.exports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function($){return react.exports.forwardRef(function(_,_e){var tt=react.exports.useContext(EmotionCacheContext);return $(_,tt,_e)})},ThemeContext=react.exports.createContext({}),getTheme=function($,_){if(typeof _=="function"){var _e=_($);return _e}return _extends({},$,_)},createCacheWithTheme=weakMemoize(function(i){return weakMemoize(function($){return getTheme(i,$)})}),ThemeProvider$1=function($){var _=react.exports.useContext(ThemeContext);return $.theme!==_&&(_=createCacheWithTheme(_)($.theme)),react.exports.createElement(ThemeContext.Provider,{value:_},$.children)};React$1["useInsertionEffect"]&&React$1["useInsertionEffect"];var useInsertionEffect$1=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:react.exports.useLayoutEffect,Global=withEmotionCache(function(i,$){var _=i.styles,_e=serializeStyles([_],void 0,react.exports.useContext(ThemeContext)),tt=react.exports.useRef();return useInsertionEffect$1(function(){var nt=$.key+"-global",st=new $.sheet.constructor({key:nt,nonce:$.sheet.nonce,container:$.sheet.container,speedy:$.sheet.isSpeedy}),at=!1,ht=document.querySelector('style[data-emotion="'+nt+" "+_e.name+'"]');return $.sheet.tags.length&&(st.before=$.sheet.tags[0]),ht!==null&&(at=!0,ht.setAttribute("data-emotion",nt),st.hydrate([ht])),tt.current=[st,at],function(){st.flush()}},[$]),useInsertionEffect$1(function(){var nt=tt.current,st=nt[0],at=nt[1];if(at){nt[1]=!1;return}if(_e.next!==void 0&&insertStyles($,_e.next,!0),st.tags.length){var ht=st.tags[st.tags.length-1].nextElementSibling;st.before=ht,st.flush()}$.insert("",_e,st,!1)},[$,_e.name]),null});function css(){for(var i=arguments.length,$=new Array(i),_=0;_<i;_++)$[_]=arguments[_];return serializeStyles($)}var keyframes$2=function(){var $=css.apply(void 0,arguments),_="animation-"+$.name;return{name:_,styles:"@keyframes "+_+"{"+$.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?function(){return performance.now()}:function(){return Date.now()},onNextFrame=typeof window<"u"?function(i){return window.requestAnimationFrame(i)}:function(i){return setTimeout(function(){return i(getCurrentTime())},defaultTimestep)};function createRenderStep(i){var $=[],_=[],_e=0,tt=!1,nt=new WeakSet,st={schedule:function(at,ht,lt){ht===void 0&&(ht=!1),lt===void 0&&(lt=!1);var pt=lt&&tt,dt=pt?$:_;return ht&&nt.add(at),dt.indexOf(at)===-1&&(dt.push(at),pt&&tt&&(_e=$.length)),at},cancel:function(at){var ht=_.indexOf(at);ht!==-1&&_.splice(ht,1),nt.delete(at)},process:function(at){var ht;if(tt=!0,ht=[_,$],$=ht[0],_=ht[1],_.length=0,_e=$.length,_e)for(var lt=0;lt<_e;lt++){var pt=$[lt];pt(at),nt.has(pt)&&(st.schedule(pt),i())}tt=!1}};return st}var maxElapsed=40,useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1,frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce(function(i,$){return i[$]=createRenderStep(function(){return runNextFrame=!0}),i},{}),sync=stepsOrder.reduce(function(i,$){var _=steps[$];return i[$]=function(_e,tt,nt){return tt===void 0&&(tt=!1),nt===void 0&&(nt=!1),runNextFrame||startLoop(),_.schedule(_e,tt,nt)},i},{}),cancelSync=stepsOrder.reduce(function(i,$){return i[$]=steps[$].cancel,i},{}),flushSync=stepsOrder.reduce(function(i,$){return i[$]=function(){return steps[$].process(frame)},i},{}),processStep=function(i){return steps[i].process(frame)},processFrame=function(i){runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(i-frame.timestamp,maxElapsed),1),frame.timestamp=i,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=function(){runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=function(){return frame};function isArray(i){return Array.isArray(i)}function isFunction$1(i){return typeof i=="function"}function isObject$1(i){const $=typeof i;return i!=null&&($==="object"||$==="function")&&!isArray(i)}function isEmptyObject(i){return isObject$1(i)&&Object.keys(i).length===0}function omit$1(i,$){const _={};return Object.keys(i).forEach(_e=>{$.includes(_e)||(_[_e]=i[_e])}),_}function get(i,$,_,_e){const tt=typeof $=="string"?$.split("."):[$];for(_e=0;_e<tt.length&&i;_e+=1)i=i[tt[_e]];return i===void 0?_:i}var memoize=i=>{const $=new WeakMap;return(_e,tt,nt,st)=>{if(typeof _e>"u")return i(_e,tt,nt);$.has(_e)||$.set(_e,new Map);const at=$.get(_e);if(at.has(tt))return at.get(tt);const ht=i(_e,tt,nt,st);return at.set(tt,ht),ht}},memoizedGet=memoize(get);function objectFilter(i,$){const _={};return Object.keys(i).forEach(_e=>{const tt=i[_e];$(tt,_e,i)&&(_[_e]=tt)}),_}var filterUndefined=i=>objectFilter(i,$=>$!=null);function runIfFn$1(i,...$){return isFunction$1(i)?i(...$):i}Object.freeze(["base","sm","md","lg","xl","2xl"]);function createContext$1(i={}){const{strict:$=!0,errorMessage:_="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:_e}=i,tt=react.exports.createContext(void 0);tt.displayName=_e;function nt(){var st;const at=react.exports.useContext(tt);if(!at&&$){const ht=new Error(_);throw ht.name="ContextError",(st=Error.captureStackTrace)==null||st.call(Error,ht,nt),ht}return at}return[tt.Provider,nt,tt]}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function($){return $!=="theme"},getDefaultShouldForwardProp=function($){return typeof $=="string"&&$.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function($,_,_e){var tt;if(_){var nt=_.shouldForwardProp;tt=$.__emotion_forwardProp&&nt?function(st){return $.__emotion_forwardProp(st)&&nt(st)}:nt}return typeof tt!="function"&&_e&&(tt=$.__emotion_forwardProp),tt},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:function($){$()};function useInsertionEffectMaybe(i){useInsertionEffect(i)}var Insertion=function($){var _=$.cache,_e=$.serialized,tt=$.isStringTag;return registerStyles(_,_e,tt),useInsertionEffectMaybe(function(){return insertStyles(_,_e,tt)}),null},createStyled=function i($,_){var _e=$.__emotion_real===$,tt=_e&&$.__emotion_base||$,nt,st;_!==void 0&&(nt=_.label,st=_.target);var at=composeShouldForwardProps($,_,_e),ht=at||getDefaultShouldForwardProp(tt),lt=!ht("as");return function(){var pt=arguments,dt=_e&&$.__emotion_styles!==void 0?$.__emotion_styles.slice(0):[];if(nt!==void 0&&dt.push("label:"+nt+";"),pt[0]==null||pt[0].raw===void 0)dt.push.apply(dt,pt);else{dt.push(pt[0][0]);for(var gt=pt.length,vt=1;vt<gt;vt++)dt.push(pt[vt],pt[0][vt])}var bt=withEmotionCache(function($t,Tt,St){var Bt=lt&&$t.as||tt,Dt="",Vt=[],Ht=$t;if($t.theme==null){Ht={};for(var Wt in $t)Ht[Wt]=$t[Wt];Ht.theme=react.exports.useContext(ThemeContext)}typeof $t.className=="string"?Dt=getRegisteredStyles(Tt.registered,Vt,$t.className):$t.className!=null&&(Dt=$t.className+" ");var zt=serializeStyles(dt.concat(Vt),Tt.registered,Ht);Dt+=Tt.key+"-"+zt.name,st!==void 0&&(Dt+=" "+st);var Ut=lt&&at===void 0?getDefaultShouldForwardProp(Bt):ht,ao={};for(var lo in $t)lt&&lo==="as"||Ut(lo)&&(ao[lo]=$t[lo]);return ao.className=Dt,ao.ref=St,react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Insertion,{cache:Tt,serialized:zt,isStringTag:typeof Bt=="string"}),react.exports.createElement(Bt,ao))});return bt.displayName=nt!==void 0?nt:"Styled("+(typeof tt=="string"?tt:tt.displayName||tt.name||"Component")+")",bt.defaultProps=$.defaultProps,bt.__emotion_real=bt,bt.__emotion_base=tt,bt.__emotion_styles=dt,bt.__emotion_forwardProp=at,Object.defineProperty(bt,"toString",{value:function(){return"."+st}}),bt.withComponent=function($t,Tt){return i($t,_extends({},_,Tt,{shouldForwardProp:composeShouldForwardProps(bt,Tt,!0)})).apply(void 0,dt)},bt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(i,$){if(i===$)return!0;if(i&&$&&typeof i=="object"&&typeof $=="object"){if(i.constructor!==$.constructor)return!1;var _,_e,tt;if(Array.isArray(i)){if(_=i.length,_!=$.length)return!1;for(_e=_;_e--!==0;)if(!equal(i[_e],$[_e]))return!1;return!0}var nt;if(hasMap&&i instanceof Map&&$ instanceof Map){if(i.size!==$.size)return!1;for(nt=i.entries();!(_e=nt.next()).done;)if(!$.has(_e.value[0]))return!1;for(nt=i.entries();!(_e=nt.next()).done;)if(!equal(_e.value[1],$.get(_e.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&$ instanceof Set){if(i.size!==$.size)return!1;for(nt=i.entries();!(_e=nt.next()).done;)if(!$.has(_e.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView($)){if(_=i.length,_!=$.length)return!1;for(_e=_;_e--!==0;)if(i[_e]!==$[_e])return!1;return!0}if(i.constructor===RegExp)return i.source===$.source&&i.flags===$.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===$.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===$.toString();if(tt=Object.keys(i),_=tt.length,_!==Object.keys($).length)return!1;for(_e=_;_e--!==0;)if(!Object.prototype.hasOwnProperty.call($,tt[_e]))return!1;if(hasElementType&&i instanceof Element)return!1;for(_e=_;_e--!==0;)if(!((tt[_e]==="_owner"||tt[_e]==="__v"||tt[_e]==="__o")&&i.$$typeof)&&!equal(i[tt[_e]],$[tt[_e]]))return!1;return!0}return i!==i&&$!==$}var reactFastCompare=function($,_){try{return equal($,_)}catch(_e){if((_e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw _e}};function useTheme(){const i=react.exports.useContext(ThemeContext);if(!i)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return i}function useChakra(){const i=useColorMode(),$=useTheme();return{...i,theme:$}}function getBreakpointValue(i,$,_){var tt,nt;if($==null)return $;const _e=st=>{var at,ht;return(ht=(at=i.__breakpoints)==null?void 0:at.asArray)==null?void 0:ht[st]};return(nt=(tt=_e($))!=null?tt:_e(_))!=null?nt:_}function getTokenValue(i,$,_){var tt,nt;if($==null)return $;const _e=st=>{var at,ht;return(ht=(at=i.__cssMap)==null?void 0:at[st])==null?void 0:ht.value};return(nt=(tt=_e($))!=null?tt:_e(_))!=null?nt:_}function getToken(i,$,_){const _e=Array.isArray($)?$:[$],tt=Array.isArray(_)?_:[_];return nt=>{const st=tt.filter(Boolean),at=_e.map((ht,lt)=>{var dt,gt;if(i==="breakpoints")return getBreakpointValue(nt,ht,(dt=st[lt])!=null?dt:ht);const pt=`${i}.${ht}`;return getTokenValue(nt,pt,(gt=st[lt])!=null?gt:ht)});return Array.isArray($)?at:at[0]}}function ThemeProvider(i){const{cssVarsRoot:$,theme:_,children:_e}=i,tt=react.exports.useMemo(()=>toCSSVar(_),[_]);return jsxs(ThemeProvider$1,{theme:tt,children:[jsx(CSSVars,{root:$}),_e]})}function CSSVars({root:i=":host, :root"}){const $=[i,"[data-theme]"].join(",");return jsx(Global,{styles:_=>({[$]:_.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GlobalStyle(){const{colorMode:i}=useColorMode();return jsx(Global,{styles:$=>{const _=memoizedGet($,"styles.global"),_e=runIfFn$1(_,{theme:$,colorMode:i});return _e?css$1(_e)($):void 0}})}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize"]);function shouldForwardProp(i){return validHTMLProps.has(i)||!allPropNames.has(i)}var toCSSObject=({baseStyle:i})=>$=>{const{theme:_,css:_e,__css:tt,sx:nt,...st}=$,at=objectFilter(st,(dt,gt)=>isStyleProp(gt)),ht=runIfFn$1(i,$),lt=Object.assign({},tt,ht,filterUndefined(at),nt),pt=css$1(lt)($.theme);return _e?[pt,_e]:pt};function styled(i,$){const{baseStyle:_,..._e}=$!=null?$:{};_e.shouldForwardProp||(_e.shouldForwardProp=shouldForwardProp);const tt=toCSSObject({baseStyle:_});return newStyled(i,_e)(tt)}function forwardRef(i){return react.exports.forwardRef(i)}function useStyleConfigImpl(i,$={}){var pt;const{styleConfig:_,..._e}=$,{theme:tt,colorMode:nt}=useChakra(),st=memoizedGet(tt,`components.${i}`),at=_||st,ht=mergeWith({theme:tt,colorMode:nt},(pt=at==null?void 0:at.defaultProps)!=null?pt:{},filterUndefined(omit$1(_e,["children"]))),lt=react.exports.useRef({});if(at){const gt=resolveStyleConfig(at)(ht);reactFastCompare(lt.current,gt)||(lt.current=gt)}return lt.current}function useStyleConfig(i,$={}){return useStyleConfigImpl(i,$)}function useMultiStyleConfig(i,$={}){return useStyleConfigImpl(i,$)}function factory(){const i=new Map;return new Proxy(styled,{apply($,_,_e){return styled(..._e)},get($,_){return i.has(_)||i.set(_,styled(_)),i.get(_)}})}var chakra=factory();function getErrorMessage(i,$){return`${i} returned \`undefined\`. Seems you forgot to wrap component within ${$}`}function createContext(i={}){const{name:$,strict:_=!0,hookName:_e="useContext",providerName:tt="Provider",errorMessage:nt}=i,st=react.exports.createContext(void 0);st.displayName=$;function at(){var ht;const lt=react.exports.useContext(st);if(!lt&&_){const pt=new Error(nt!=null?nt:getErrorMessage(_e,tt));throw pt.name="ContextError",(ht=Error.captureStackTrace)==null||ht.call(Error,pt,at),pt}return lt}return[st.Provider,at,st]}function assignRef(i,$){if(i!=null){if(typeof i=="function"){i($);return}try{i.current=$}catch{throw new Error(`Cannot assign value '${$}' to ref '${i}'`)}}}function mergeRefs(...i){return $=>{i.forEach(_=>{assignRef(_,$)})}}function useMergeRefs(...i){return react.exports.useMemo(()=>mergeRefs(...i),i)}var cx$5=(...i)=>i.filter(Boolean).join(" "),fallbackIcon={path:jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((i,$)=>{const{as:_,viewBox:_e,color:tt="currentColor",focusable:nt=!1,children:st,className:at,__css:ht,...lt}=i,pt=cx$5("chakra-icon",at),dt={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:tt,...ht},gt={ref:$,focusable:nt,className:pt,__css:dt},vt=_e!=null?_e:fallbackIcon.viewBox;if(_&&typeof _!="string")return React.createElement(chakra.svg,{as:_,...gt,...lt});const bt=st!=null?st:fallbackIcon.path;return React.createElement(chakra.svg,{verticalAlign:"middle",viewBox:vt,...gt,...lt},bt)});Icon.displayName="Icon";function useCallbackRef(i,$=[]){const _=react.exports.useRef(i);return react.exports.useEffect(()=>{_.current=i}),react.exports.useCallback((..._e)=>{var tt;return(tt=_.current)==null?void 0:tt.call(_,..._e)},$)}var extendStatics=function(i,$){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,_e){_.__proto__=_e}||function(_,_e){for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(_[tt]=_e[tt])},extendStatics(i,$)};function __extends(i,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");extendStatics(i,$);function _(){this.constructor=i}i.prototype=$===null?Object.create($):(_.prototype=$.prototype,new _)}var __assign=function(){return __assign=Object.assign||function($){for(var _,_e=1,tt=arguments.length;_e<tt;_e++){_=arguments[_e];for(var nt in _)Object.prototype.hasOwnProperty.call(_,nt)&&($[nt]=_[nt])}return $},__assign.apply(this,arguments)};function __rest(i,$){var _={};for(var _e in i)Object.prototype.hasOwnProperty.call(i,_e)&&$.indexOf(_e)<0&&(_[_e]=i[_e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,_e=Object.getOwnPropertySymbols(i);tt<_e.length;tt++)$.indexOf(_e[tt])<0&&Object.prototype.propertyIsEnumerable.call(i,_e[tt])&&(_[_e[tt]]=i[_e[tt]]);return _}function __read(i,$){var _=typeof Symbol=="function"&&i[Symbol.iterator];if(!_)return i;var _e=_.call(i),tt,nt=[],st;try{for(;($===void 0||$-- >0)&&!(tt=_e.next()).done;)nt.push(tt.value)}catch(at){st={error:at}}finally{try{tt&&!tt.done&&(_=_e.return)&&_.call(_e)}finally{if(st)throw st.error}}return nt}function __spreadArray(i,$,_){if(_||arguments.length===2)for(var _e=0,tt=$.length,nt;_e<tt;_e++)(nt||!(_e in $))&&(nt||(nt=Array.prototype.slice.call($,0,_e)),nt[_e]=$[_e]);return i.concat(nt||Array.prototype.slice.call($))}var createDefinition=function(i){return{isEnabled:function($){return i.some(function(_){return!!$[_]})}}},featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag","_layoutResetTransform"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:createDefinition(["layout","layoutId"])};function loadFeatures(i){for(var $ in i){var _=i[$];_!==null&&(featureDefinitions[$].Component=_)}}var invariant=function(){},LazyContext=react.exports.createContext({strict:!1}),featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length;function useFeatures(i,$,_){var _e=[];if(react.exports.useContext(LazyContext),!$)return null;for(var tt=0;tt<numFeatures;tt++){var nt=featureNames[tt],st=featureDefinitions[nt],at=st.isEnabled,ht=st.Component;at(i)&&ht&&_e.push(jsx(ht,{...__assign({key:nt},i,{visualElement:$})}))}return _e}var MotionConfigContext=react.exports.createContext({transformPagePoint:function(i){return i},isStatic:!1}),MotionContext=react.exports.createContext({});function useVisualElementContext(){return react.exports.useContext(MotionContext).visualElement}var PresenceContext=react.exports.createContext(null);function useConstant(i){var $=react.exports.useRef(null);return $.current===null&&($.current=i()),$.current}function usePresence(){var i=react.exports.useContext(PresenceContext);if(i===null)return[!0,null];var $=i.isPresent,_=i.onExitComplete,_e=i.register,tt=useUniqueId();react.exports.useEffect(function(){return _e(tt)},[]);var nt=function(){return _==null?void 0:_(tt)};return!$&&_?[!1,nt]:[!0]}function useIsPresent(){return isPresent(react.exports.useContext(PresenceContext))}function isPresent(i){return i===null?!0:i.isPresent}var counter$1=0,incrementId=function(){return counter$1++},useUniqueId=function(){return useConstant(incrementId)},LayoutGroupContext=react.exports.createContext(null),isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?react.exports.useLayoutEffect:react.exports.useEffect;function useLayoutId(i){var $=i.layoutId,_=react.exports.useContext(LayoutGroupContext);return _&&$!==void 0?_+"-"+$:$}function useVisualElement(i,$,_,_e){var tt=react.exports.useContext(MotionConfigContext),nt=react.exports.useContext(LazyContext),st=useVisualElementContext(),at=react.exports.useContext(PresenceContext),ht=useLayoutId(_),lt=react.exports.useRef(void 0);_e||(_e=nt.renderer),!lt.current&&_e&&(lt.current=_e(i,{visualState:$,parent:st,props:__assign(__assign({},_),{layoutId:ht}),presenceId:at==null?void 0:at.id,blockInitialAnimation:(at==null?void 0:at.initial)===!1}));var pt=lt.current;return useIsomorphicLayoutEffect(function(){!pt||(pt.setProps(__assign(__assign(__assign({},tt),_),{layoutId:ht})),pt.isPresent=isPresent(at),pt.isPresenceRoot=!st||st.presenceId!==(at==null?void 0:at.id),pt.syncRender())}),react.exports.useEffect(function(){var dt;!pt||(dt=pt.animationState)===null||dt===void 0||dt.animateChanges()}),useIsomorphicLayoutEffect(function(){return function(){return pt==null?void 0:pt.notifyUnmount()}},[]),pt}function isRefObject(i){return typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function useMotionRef(i,$,_){return react.exports.useCallback(function(_e){var tt;_e&&((tt=i.mount)===null||tt===void 0||tt.call(i,_e)),$&&(_e?$.mount(_e):$.unmount()),_&&(typeof _=="function"?_(_e):isRefObject(_)&&(_.current=_e))},[$])}function isVariantLabels(i){return Array.isArray(i)}function isVariantLabel(i){return typeof i=="string"||isVariantLabels(i)}function getCurrent(i){var $={};return i.forEachValue(function(_,_e){return $[_e]=_.get()}),$}function getVelocity$1(i){var $={};return i.forEachValue(function(_,_e){return $[_e]=_.getVelocity()}),$}function resolveVariantFromProps(i,$,_,_e,tt){var nt;return _e===void 0&&(_e={}),tt===void 0&&(tt={}),typeof $=="string"&&($=(nt=i.variants)===null||nt===void 0?void 0:nt[$]),typeof $=="function"?$(_!=null?_:i.custom,_e,tt):$}function resolveVariant(i,$,_){var _e=i.getProps();return resolveVariantFromProps(_e,$,_!=null?_:_e.custom,getCurrent(i),getVelocity$1(i))}function checkIfControllingVariants(i){var $;return typeof(($=i.animate)===null||$===void 0?void 0:$.start)=="function"||isVariantLabel(i.initial)||isVariantLabel(i.animate)||isVariantLabel(i.whileHover)||isVariantLabel(i.whileDrag)||isVariantLabel(i.whileTap)||isVariantLabel(i.whileFocus)||isVariantLabel(i.exit)}function checkIfVariantNode(i){return Boolean(checkIfControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,$){if(checkIfControllingVariants(i)){var _=i.initial,_e=i.animate;return{initial:_===!1||isVariantLabel(_)?_:void 0,animate:isVariantLabel(_e)?_e:void 0}}return i.inherit!==!1?$:{}}function useCreateMotionContext(i,$){var _=getCurrentTreeVariants(i,react.exports.useContext(MotionContext)),_e=_.initial,tt=_.animate;return react.exports.useMemo(function(){return{initial:_e,animate:tt}},$?[variantLabelsAsDependency(_e),variantLabelsAsDependency(tt)]:[])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}function createMotionComponent(i){var $=i.preloadedFeatures,_=i.createVisualElement,_e=i.useRender,tt=i.useVisualState,nt=i.Component;$&&loadFeatures($);function st(at,ht){var lt=react.exports.useContext(MotionConfigContext).isStatic,pt=null,dt=useCreateMotionContext(at,lt),gt=tt(at,lt);return!lt&&isBrowser&&(dt.visualElement=useVisualElement(nt,gt,at,_),pt=useFeatures(at,dt.visualElement)),jsxs(Fragment,{children:[jsx(MotionContext.Provider,{value:dt,children:_e(nt,at,useMotionRef(gt,dt.visualElement,ht),gt,lt)}),pt]})}return react.exports.forwardRef(st)}function createMotionProxy(i){function $(_e,tt){return tt===void 0&&(tt={}),createMotionComponent(i(_e,tt))}var _=new Map;return new Proxy($,{get:function(_e,tt){return _.has(tt)||_.set(tt,$(tt)),_.get(tt)}})}var lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/.test(i))}var valueScaleCorrection={};function addScaleCorrection(i){for(var $ in i)valueScaleCorrection[$]=i[$]}var transformAxes=["","X","Y","Z"],order=["translate","scale","rotate","skew"],transformProps=["transformPerspective","x","y","z"];order.forEach(function(i){return transformAxes.forEach(function($){return transformProps.push(i+$)})});function sortTransformProps(i,$){return transformProps.indexOf(i)-transformProps.indexOf($)}var transformPropSet=new Set(transformProps);function isTransformProp(i){return transformPropSet.has(i)}var transformOriginProps=new Set(["originX","originY","originZ"]);function isTransformOriginProp(i){return transformOriginProps.has(i)}function isForcedMotionValue(i,$){var _=$.layout,_e=$.layoutId;return isTransformProp(i)||isTransformOriginProp(i)||(_||_e!==void 0)&&(!!valueScaleCorrection[i]||i==="opacity")}var isMotionValue=function(i){return i!==null&&typeof i=="object"&&i.getVelocity},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function buildTransform(i,$,_,_e){var tt=i.transform,nt=i.transformKeys,st=$.enableHardwareAcceleration,at=st===void 0?!0:st,ht=$.allowTransformNone,lt=ht===void 0?!0:ht,pt="";nt.sort(sortTransformProps);for(var dt=!1,gt=nt.length,vt=0;vt<gt;vt++){var bt=nt[vt];pt+=(translateAlias[bt]||bt)+"("+tt[bt]+") ",bt==="z"&&(dt=!0)}return!dt&&at?pt+="translateZ(0)":pt=pt.trim(),_e?pt=_e(tt,_?"":pt):lt&&_&&(pt="none"),pt}function buildTransformOrigin(i){var $=i.originX,_=$===void 0?"50%":$,_e=i.originY,tt=_e===void 0?"50%":_e,nt=i.originZ,st=nt===void 0?0:nt;return _+" "+tt+" "+st}function isCSSVariable$1(i){return i.startsWith("--")}var getValueAsType=function(i,$){return $&&typeof i=="number"?$.transform(i):i},clamp$1=function(i,$){return function(_){return Math.max(Math.min(_,$),i)}},sanitize=function(i){return i%1?Number(i.toFixed(5)):i},floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function isString(i){return typeof i=="string"}var number={test:function(i){return typeof i=="number"},parse:parseFloat,transform:function(i){return i}},alpha=__assign(__assign({},number),{transform:clamp$1(0,1)}),scale=__assign(__assign({},number),{default:1}),createUnitType=function(i){return{test:function($){return isString($)&&$.endsWith(i)&&$.split(" ").length===1},parse:parseFloat,transform:function($){return""+$+i}}},degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage=__assign(__assign({},percent),{parse:function(i){return percent.parse(i)/100},transform:function(i){return percent.transform(i*100)}}),isColorString=function(i,$){return function(_){return Boolean(isString(_)&&singleColorRegex.test(_)&&_.startsWith(i)||$&&Object.prototype.hasOwnProperty.call(_,$))}},splitColor=function(i,$,_){return function(_e){var tt;if(!isString(_e))return _e;var nt=_e.match(floatRegex),st=nt[0],at=nt[1],ht=nt[2],lt=nt[3];return tt={},tt[i]=parseFloat(st),tt[$]=parseFloat(at),tt[_]=parseFloat(ht),tt.alpha=lt!==void 0?parseFloat(lt):1,tt}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:function(i){var $=i.hue,_=i.saturation,_e=i.lightness,tt=i.alpha,nt=tt===void 0?1:tt;return"hsla("+Math.round($)+", "+percent.transform(sanitize(_))+", "+percent.transform(sanitize(_e))+", "+sanitize(alpha.transform(nt))+")"}},clampRgbUnit=clamp$1(0,255),rgbUnit=__assign(__assign({},number),{transform:function(i){return Math.round(clampRgbUnit(i))}}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:function(i){var $=i.red,_=i.green,_e=i.blue,tt=i.alpha,nt=tt===void 0?1:tt;return"rgba("+rgbUnit.transform($)+", "+rgbUnit.transform(_)+", "+rgbUnit.transform(_e)+", "+sanitize(alpha.transform(nt))+")"}};function parseHex(i){var $="",_="",_e="",tt="";return i.length>5?($=i.substr(1,2),_=i.substr(3,2),_e=i.substr(5,2),tt=i.substr(7,2)):($=i.substr(1,1),_=i.substr(2,1),_e=i.substr(3,1),tt=i.substr(4,1),$+=$,_+=_,_e+=_e,tt+=tt),{red:parseInt($,16),green:parseInt(_,16),blue:parseInt(_e,16),alpha:tt?parseInt(tt,16)/255:1}}var hex$1={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color={test:function(i){return rgba.test(i)||hex$1.test(i)||hsla.test(i)},parse:function(i){return rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex$1.parse(i)},transform:function(i){return isString(i)?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)}},colorToken="${c}",numberToken="${n}";function test(i){var $,_,_e,tt;return isNaN(i)&&isString(i)&&((_=($=i.match(floatRegex))===null||$===void 0?void 0:$.length)!==null&&_!==void 0?_:0)+((tt=(_e=i.match(colorRegex))===null||_e===void 0?void 0:_e.length)!==null&&tt!==void 0?tt:0)>0}function analyse$1(i){var $=[],_=0,_e=i.match(colorRegex);_e&&(_=_e.length,i=i.replace(colorRegex,colorToken),$.push.apply($,_e.map(color.parse)));var tt=i.match(floatRegex);return tt&&(i=i.replace(floatRegex,numberToken),$.push.apply($,tt.map(number.parse))),{values:$,numColors:_,tokenised:i}}function parse(i){return analyse$1(i).values}function createTransformer(i){var $=analyse$1(i),_=$.values,_e=$.numColors,tt=$.tokenised,nt=_.length;return function(st){for(var at=tt,ht=0;ht<nt;ht++)at=at.replace(ht<_e?colorToken:numberToken,ht<_e?color.transform(st[ht]):sanitize(st[ht]));return at}}var convertNumbersToZero=function(i){return typeof i=="number"?0:i};function getAnimatableNone$1(i){var $=parse(i),_=createTransformer(i);return _($.map(convertNumbersToZero))}var complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){var $=i.slice(0,-1).split("("),_=$[0],_e=$[1];if(_==="drop-shadow")return i;var tt=(_e.match(floatRegex)||[])[0];if(!tt)return i;var nt=_e.replace(tt,""),st=maxDefaults.has(_)?1:0;return tt!==_e&&(st*=100),_+"("+st+nt+")"}var functionRegex=/([a-z-]*)\(.*?\)/g,filter=__assign(__assign({},complex),{getAnimatableNone:function(i){var $=i.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):i}}),int=__assign(__assign({},number),{transform:Math.round}),numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(i,$,_,_e,tt,nt,st,at){var ht,lt=i.style,pt=i.vars,dt=i.transform,gt=i.transformKeys,vt=i.transformOrigin;gt.length=0;var bt=!1,$t=!1,Tt=!0;for(var St in $){var Bt=$[St];if(isCSSVariable$1(St)){pt[St]=Bt;continue}var Dt=numberValueTypes[St],Vt=getValueAsType(Bt,Dt);if(isTransformProp(St)){if(bt=!0,dt[St]=Vt,gt.push(St),!Tt)continue;Bt!==((ht=Dt.default)!==null&&ht!==void 0?ht:0)&&(Tt=!1)}else if(isTransformOriginProp(St))vt[St]=Vt,$t=!0;else if((_==null?void 0:_.isHydrated)&&(_e==null?void 0:_e.isHydrated)&&valueScaleCorrection[St]){var Ht=valueScaleCorrection[St].process(Bt,_e,_),Wt=valueScaleCorrection[St].applyTo;if(Wt)for(var zt=Wt.length,Ut=0;Ut<zt;Ut++)lt[Wt[Ut]]=Ht;else lt[St]=Ht}else lt[St]=Vt}_e&&_&&st&&at?(lt.transform=st(_e.deltaFinal,_e.treeScale,bt?dt:void 0),nt&&(lt.transform=nt(dt,lt.transform)),lt.transformOrigin=at(_e)):(bt&&(lt.transform=buildTransform(i,tt,Tt,nt)),$t&&(lt.transformOrigin=buildTransformOrigin(vt)))}var createHtmlRenderState=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function copyRawValuesOnly(i,$,_){for(var _e in $)!isMotionValue($[_e])&&!isForcedMotionValue(_e,_)&&(i[_e]=$[_e])}function useInitialMotionValues(i,$,_){var _e=i.transformTemplate;return react.exports.useMemo(function(){var tt=createHtmlRenderState();buildHTMLStyles(tt,$,void 0,void 0,{enableHardwareAcceleration:!_},_e);var nt=tt.vars,st=tt.style;return __assign(__assign({},nt),st)},[$])}function useStyle(i,$,_){var _e=i.style||{},tt={};return copyRawValuesOnly(tt,_e,i),Object.assign(tt,useInitialMotionValues(i,$,_)),i.transformValues&&(tt=i.transformValues(tt)),tt}function useHTMLProps(i,$,_){var _e={},tt=useStyle(i,$,_);return Boolean(i.drag)&&(_e.draggable=!1,tt.userSelect=tt.WebkitUserSelect=tt.WebkitTouchCallout="none",tt.touchAction=i.drag===!0?"none":"pan-"+(i.drag==="x"?"y":"x")),_e.style=tt,_e}var validMotionProps=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function isValidMotionProp(i){return validMotionProps.has(i)}var shouldForward=function(i){return!isValidMotionProp(i)};try{var emotionIsPropValid_1=require("@emotion/is-prop-valid").default;shouldForward=function(i){return i.startsWith("on")?!isValidMotionProp(i):emotionIsPropValid_1(i)}}catch{}function filterProps(i,$,_){var _e={};for(var tt in i)(shouldForward(tt)||_===!0&&isValidMotionProp(tt)||!$&&!isValidMotionProp(tt))&&(_e[tt]=i[tt]);return _e}function calcOrigin$1(i,$,_){return typeof i=="string"?i:px$1.transform($+_*i)}function calcSVGTransformOrigin(i,$,_){var _e=calcOrigin$1($,i.x,i.width),tt=calcOrigin$1(_,i.y,i.height);return _e+" "+tt}var progressToPixels=function(i,$){return px$1.transform(i*$)},dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,$,_,_e,tt,nt){_e===void 0&&(_e=1),tt===void 0&&(tt=0),nt===void 0&&(nt=!0);var st=nt?dashKeys:camelKeys;i[st.offset]=progressToPixels(-tt,$);var at=progressToPixels(_,$),ht=progressToPixels(_e,$);i[st.array]=at+" "+ht}function buildSVGAttrs(i,$,_,_e,tt,nt,st,at){var ht=$.attrX,lt=$.attrY,pt=$.originX,dt=$.originY,gt=$.pathLength,vt=$.pathSpacing,bt=vt===void 0?1:vt,$t=$.pathOffset,Tt=$t===void 0?0:$t,St=__rest($,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);buildHTMLStyles(i,St,_,_e,tt,nt,st,at),i.attrs=i.style,i.style={};var Bt=i.attrs,Dt=i.style,Vt=i.dimensions,Ht=i.totalPathLength;Bt.transform&&(Vt&&(Dt.transform=Bt.transform),delete Bt.transform),Vt&&(pt!==void 0||dt!==void 0||Dt.transform)&&(Dt.transformOrigin=calcSVGTransformOrigin(Vt,pt!==void 0?pt:.5,dt!==void 0?dt:.5)),ht!==void 0&&(Bt.x=ht),lt!==void 0&&(Bt.y=lt),Ht!==void 0&&gt!==void 0&&buildSVGPath(Bt,Ht,gt,bt,Tt,!1)}var createSvgRenderState=function(){return __assign(__assign({},createHtmlRenderState()),{attrs:{}})};function useSVGProps(i,$){var _=react.exports.useMemo(function(){var tt=createSvgRenderState();return buildSVGAttrs(tt,$,void 0,void 0,{enableHardwareAcceleration:!1},i.transformTemplate),__assign(__assign({},tt.attrs),{style:__assign({},tt.style)})},[$]);if(i.style){var _e={};copyRawValuesOnly(_e,i.style,i),_.style=__assign(__assign({},_e),_.style)}return _}function createUseRender(i){i===void 0&&(i=!1);var $=function(_,_e,tt,nt,st){var at=nt.latestValues,ht=isSVGComponent(_)?useSVGProps:useHTMLProps,lt=ht(_e,at,st),pt=filterProps(_e,typeof _=="string",i),dt=__assign(__assign(__assign({},pt),lt),{ref:tt});return react.exports.createElement(_,dt)};return $}var CAMEL_CASE_PATTERN=/([a-z])([A-Z])/g,REPLACE_TEMPLATE="$1-$2",camelToDash=function(i){return i.replace(CAMEL_CASE_PATTERN,REPLACE_TEMPLATE).toLowerCase()};function renderHTML(i,$){var _=$.style,_e=$.vars;Object.assign(i.style,_);for(var tt in _e)i.style.setProperty(tt,_e[tt])}var camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function renderSVG(i,$){renderHTML(i,$);for(var _ in $.attrs)i.setAttribute(camelCaseAttributes.has(_)?_:camelToDash(_),$.attrs[_])}function scrapeMotionValuesFromProps$1(i){var $=i.style,_={};for(var _e in $)(isMotionValue($[_e])||isForcedMotionValue(_e,i))&&(_[_e]=$[_e]);return _}function scrapeMotionValuesFromProps(i){var $=scrapeMotionValuesFromProps$1(i);for(var _ in i)if(isMotionValue(i[_])){var _e=_==="x"||_==="y"?"attr"+_.toUpperCase():_;$[_e]=i[_]}return $}function isAnimationControls(i){return typeof i=="object"&&typeof i.start=="function"}var isKeyframesTarget=function(i){return Array.isArray(i)},isCustomValue=function(i){return Boolean(i&&typeof i=="object"&&i.mix&&i.toValue)},resolveFinalValueInKeyframes=function(i){return isKeyframesTarget(i)?i[i.length-1]||0:i};function resolveMotionValue(i){var $=isMotionValue(i)?i.get():i;return isCustomValue($)?$.toValue():$}function makeState(i,$,_,_e){var tt=i.scrapeMotionValuesFromProps,nt=i.createRenderState,st=i.onMount,at={latestValues:makeLatestValues($,_,_e,tt),renderState:nt()};return st&&(at.mount=function(ht){return st($,ht,at)}),at}var makeUseVisualState=function(i){return function($,_){var _e=react.exports.useContext(MotionContext),tt=react.exports.useContext(PresenceContext);return _?makeState(i,$,_e,tt):useConstant(function(){return makeState(i,$,_e,tt)})}};function makeLatestValues(i,$,_,_e){var tt={},nt=(_==null?void 0:_.initial)===!1,st=_e(i);for(var at in st)tt[at]=resolveMotionValue(st[at]);var ht=i.initial,lt=i.animate,pt=checkIfControllingVariants(i),dt=checkIfVariantNode(i);$&&dt&&!pt&&i.inherit!==!1&&(ht!=null||(ht=$.initial),lt!=null||(lt=$.animate));var gt=nt||ht===!1?lt:ht;if(gt&&typeof gt!="boolean"&&!isAnimationControls(gt)){var vt=Array.isArray(gt)?gt:[gt];vt.forEach(function(bt){var $t=resolveVariantFromProps(i,bt);if(!!$t){var Tt=$t.transitionEnd;$t.transition;var St=__rest($t,["transitionEnd","transition"]);for(var Bt in St)tt[Bt]=St[Bt];for(var Bt in Tt)tt[Bt]=Tt[Bt]}})}return tt}var svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:function(i,$,_){var _e=_.renderState,tt=_.latestValues;try{_e.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{_e.dimensions={x:0,y:0,width:0,height:0}}isPath($)&&(_e.totalPathLength=$.getTotalLength()),buildSVGAttrs(_e,tt,void 0,void 0,{enableHardwareAcceleration:!1},i.transformTemplate),renderSVG($,_e)}})};function isPath(i){return i.tagName==="path"}var htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(i,$,_,_e){var tt=$.forwardMotionProps,nt=tt===void 0?!1:tt,st=isSVGComponent(i)?svgMotionConfig:htmlMotionConfig;return __assign(__assign({},st),{preloadedFeatures:_,useRender:createUseRender(nt),createVisualElement:_e,Component:i})}var AnimationType;(function(i){i.Animate="animate",i.Hover="whileHover",i.Tap="whileTap",i.Drag="whileDrag",i.Focus="whileFocus",i.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(i,$,_,_e){return i.addEventListener($,_,_e),function(){return i.removeEventListener($,_,_e)}}function useDomEvent(i,$,_,_e){react.exports.useEffect(function(){var tt=i.current;if(_&&tt)return addDomEvent(tt,$,_,_e)},[i,$,_,_e])}function useFocusGesture(i){var $=i.whileFocus,_=i.visualElement,_e=function(){var nt;(nt=_.animationState)===null||nt===void 0||nt.setActive(AnimationType.Focus,!0)},tt=function(){var nt;(nt=_.animationState)===null||nt===void 0||nt.setActive(AnimationType.Focus,!1)};useDomEvent(_,"focus",$?_e:void 0),useDomEvent(_,"blur",$?tt:void 0)}function isMouseEvent(i){return typeof PointerEvent<"u"&&i instanceof PointerEvent?i.pointerType==="mouse":i instanceof MouseEvent}function isTouchEvent(i){var $=!!i.touches;return $}function filterPrimaryPointer(i){return function($){var _=$ instanceof MouseEvent,_e=!_||_&&$.button===0;_e&&i($)}}var defaultPagePoint={pageX:0,pageY:0};function pointFromTouch(i,$){$===void 0&&($="page");var _=i.touches[0]||i.changedTouches[0],_e=_||defaultPagePoint;return{x:_e[$+"X"],y:_e[$+"Y"]}}function pointFromMouse(i,$){return $===void 0&&($="page"),{x:i[$+"X"],y:i[$+"Y"]}}function extractEventInfo(i,$){return $===void 0&&($="page"),{point:isTouchEvent(i)?pointFromTouch(i,$):pointFromMouse(i,$)}}function getViewportPointFromEvent(i){return extractEventInfo(i,"client")}var wrapHandler=function(i,$){$===void 0&&($=!1);var _=function(_e){return i(_e,extractEventInfo(_e))};return $?filterPrimaryPointer(_):_},supportsPointerEvents=function(){return isBrowser&&window.onpointerdown===null},supportsTouchEvents=function(){return isBrowser&&window.ontouchstart===null},supportsMouseEvents=function(){return isBrowser&&window.onmousedown===null},mouseEventNames={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},touchEventNames={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(i){return supportsPointerEvents()?i:supportsTouchEvents()?touchEventNames[i]:supportsMouseEvents()?mouseEventNames[i]:i}function addPointerEvent(i,$,_,_e){return addDomEvent(i,getPointerEventName($),wrapHandler(_,$==="pointerdown"),_e)}function usePointerEvent(i,$,_,_e){return useDomEvent(i,getPointerEventName($),_&&wrapHandler(_,$==="pointerdown"),_e)}function createLock(i){var $=null;return function(){var _=function(){$=null};return $===null?($=i,_):!1}}var globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){var $=!1;if(i==="y")$=globalVerticalLock();else if(i==="x")$=globalHorizontalLock();else{var _=globalHorizontalLock(),_e=globalVerticalLock();_&&_e?$=function(){_(),_e()}:(_&&_(),_e&&_e())}return $}function isDragActive(){var i=getGlobalLock(!0);return i?(i(),!1):!0}function createHoverEvent(i,$,_){return function(_e,tt){var nt;!isMouseEvent(_e)||isDragActive()||(_==null||_(_e,tt),(nt=i.animationState)===null||nt===void 0||nt.setActive(AnimationType.Hover,$))}}function useHoverGesture(i){var $=i.onHoverStart,_=i.onHoverEnd,_e=i.whileHover,tt=i.visualElement;usePointerEvent(tt,"pointerenter",$||_e?createHoverEvent(tt,!0,$):void 0),usePointerEvent(tt,"pointerleave",_||_e?createHoverEvent(tt,!1,_):void 0)}var isNodeOrChild=function(i,$){return $?i===$?!0:isNodeOrChild(i,$.parentElement):!1};function useUnmountEffect(i){return react.exports.useEffect(function(){return function(){return i()}},[])}var clamp=function(i,$,_){return Math.min(Math.max(_,i),$)},safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring(i){var $=i.duration,_=$===void 0?800:$,_e=i.bounce,tt=_e===void 0?.25:_e,nt=i.velocity,st=nt===void 0?0:nt,at=i.mass,ht=at===void 0?1:at,lt,pt,dt=1-tt;dt=clamp(minDamping,maxDamping,dt),_=clamp(minDuration,maxDuration,_/1e3),dt<1?(lt=function($t){var Tt=$t*dt,St=Tt*_,Bt=Tt-st,Dt=calcAngularFreq($t,dt),Vt=Math.exp(-St);return safeMin-Bt/Dt*Vt},pt=function($t){var Tt=$t*dt,St=Tt*_,Bt=St*st+st,Dt=Math.pow(dt,2)*Math.pow($t,2)*_,Vt=Math.exp(-St),Ht=calcAngularFreq(Math.pow($t,2),dt),Wt=-lt($t)+safeMin>0?-1:1;return Wt*((Bt-Dt)*Vt)/Ht}):(lt=function($t){var Tt=Math.exp(-$t*_),St=($t-st)*_+1;return-safeMin+Tt*St},pt=function($t){var Tt=Math.exp(-$t*_),St=(st-$t)*(_*_);return Tt*St});var gt=5/_,vt=approximateRoot(lt,pt,gt);if(_=_*1e3,isNaN(vt))return{stiffness:100,damping:10,duration:_};var bt=Math.pow(vt,2)*ht;return{stiffness:bt,damping:dt*2*Math.sqrt(ht*bt),duration:_}}var rootIterations=12;function approximateRoot(i,$,_){for(var _e=_,tt=1;tt<rootIterations;tt++)_e=_e-i(_e)/$(_e);return _e}function calcAngularFreq(i,$){return i*Math.sqrt(1-$*$)}var durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,$){return $.some(function(_){return i[_]!==void 0})}function getSpringOptions(i){var $=__assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},i);if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){var _=findSpring(i);$=__assign(__assign(__assign({},$),_),{velocity:0,mass:1}),$.isResolvedFromDuration=!0}return $}function spring(i){var $=i.from,_=$===void 0?0:$,_e=i.to,tt=_e===void 0?1:_e,nt=i.restSpeed,st=nt===void 0?2:nt,at=i.restDelta,ht=__rest(i,["from","to","restSpeed","restDelta"]),lt={done:!1,value:_},pt=getSpringOptions(ht),dt=pt.stiffness,gt=pt.damping,vt=pt.mass,bt=pt.velocity,$t=pt.duration,Tt=pt.isResolvedFromDuration,St=zero,Bt=zero;function Dt(){var Vt=bt?-(bt/1e3):0,Ht=tt-_,Wt=gt/(2*Math.sqrt(dt*vt)),zt=Math.sqrt(dt/vt)/1e3;if(at!=null||(at=Math.abs(tt-_)<=1?.01:.4),Wt<1){var Ut=calcAngularFreq(zt,Wt);St=function(lo){var Ao=Math.exp(-Wt*zt*lo);return tt-Ao*((Vt+Wt*zt*Ht)/Ut*Math.sin(Ut*lo)+Ht*Math.cos(Ut*lo))},Bt=function(lo){var Ao=Math.exp(-Wt*zt*lo);return Wt*zt*Ao*(Math.sin(Ut*lo)*(Vt+Wt*zt*Ht)/Ut+Ht*Math.cos(Ut*lo))-Ao*(Math.cos(Ut*lo)*(Vt+Wt*zt*Ht)-Ut*Ht*Math.sin(Ut*lo))}}else if(Wt===1)St=function(lo){return tt-Math.exp(-zt*lo)*(Ht+(Vt+zt*Ht)*lo)};else{var ao=zt*Math.sqrt(Wt*Wt-1);St=function(lo){var Ao=Math.exp(-Wt*zt*lo),Zo=Math.min(ao*lo,300);return tt-Ao*((Vt+Wt*zt*Ht)*Math.sinh(Zo)+ao*Ht*Math.cosh(Zo))/ao}}}return Dt(),{next:function(Vt){var Ht=St(Vt);if(Tt)lt.done=Vt>=$t;else{var Wt=Bt(Vt)*1e3,zt=Math.abs(Wt)<=st,Ut=Math.abs(tt-Ht)<=at;lt.done=zt&&Ut}return lt.value=lt.done?tt:Ht,lt},flipTarget:function(){var Vt;bt=-bt,Vt=[tt,_],_=Vt[0],tt=Vt[1],Dt()}}}spring.needsInterpolation=function(i,$){return typeof i=="string"||typeof $=="string"};var zero=function(i){return 0},progress=function(i,$,_){var _e=$-i;return _e===0?1:(_-i)/_e},mix=function(i,$,_){return-_*i+_*$+i},mixLinearColor=function(i,$,_){var _e=i*i,tt=$*$;return Math.sqrt(Math.max(0,_*(tt-_e)+_e))},colorTypes=[hex$1,rgba,hsla],getColorType=function(i){return colorTypes.find(function($){return $.test(i)})},mixColor=function(i,$){var _=getColorType(i),_e=getColorType($);invariant(_.transform===_e.transform);var tt=_.parse(i),nt=_e.parse($),st=__assign({},tt),at=_===hsla?mix:mixLinearColor;return function(ht){for(var lt in st)lt!=="alpha"&&(st[lt]=at(tt[lt],nt[lt],ht));return st.alpha=mix(tt.alpha,nt.alpha,ht),_.transform(st)}},isNum=function(i){return typeof i=="number"},combineFunctions=function(i,$){return function(_){return $(i(_))}},pipe=function(){for(var i=[],$=0;$<arguments.length;$++)i[$]=arguments[$];return i.reduce(combineFunctions)};function getMixer(i,$){return isNum(i)?function(_){return mix(i,$,_)}:color.test(i)?mixColor(i,$):mixComplex(i,$)}var mixArray=function(i,$){var _=__spreadArray([],i),_e=_.length,tt=i.map(function(nt,st){return getMixer(nt,$[st])});return function(nt){for(var st=0;st<_e;st++)_[st]=tt[st](nt);return _}},mixObject=function(i,$){var _=__assign(__assign({},i),$),_e={};for(var tt in _)i[tt]!==void 0&&$[tt]!==void 0&&(_e[tt]=getMixer(i[tt],$[tt]));return function(nt){for(var st in _e)_[st]=_e[st](nt);return _}};function analyse(i){for(var $=complex.parse(i),_=$.length,_e=0,tt=0,nt=0,st=0;st<_;st++)_e||typeof $[st]=="number"?_e++:$[st].hue!==void 0?nt++:tt++;return{parsed:$,numNumbers:_e,numRGB:tt,numHSL:nt}}var mixComplex=function(i,$){var _=complex.createTransformer($),_e=analyse(i),tt=analyse($);return pipe(mixArray(_e.parsed,tt.parsed),_)},mixNumber=function(i,$){return function(_){return mix(i,$,_)}};function detectMixerFactory(i){if(typeof i=="number")return mixNumber;if(typeof i=="string")return color.test(i)?mixColor:mixComplex;if(Array.isArray(i))return mixArray;if(typeof i=="object")return mixObject}function createMixers(i,$,_){for(var _e=[],tt=_||detectMixerFactory(i[0]),nt=i.length-1,st=0;st<nt;st++){var at=tt(i[st],i[st+1]);if($){var ht=Array.isArray($)?$[st]:$;at=pipe(ht,at)}_e.push(at)}return _e}function fastInterpolate(i,$){var _=i[0],_e=i[1],tt=$[0];return function(nt){return tt(progress(_,_e,nt))}}function slowInterpolate(i,$){var _=i.length,_e=_-1;return function(tt){var nt=0,st=!1;if(tt<=i[0]?st=!0:tt>=i[_e]&&(nt=_e-1,st=!0),!st){for(var at=1;at<_&&!(i[at]>tt||at===_e);at++);nt=at-1}var ht=progress(i[nt],i[nt+1],tt);return $[nt](ht)}}function interpolate(i,$,_){var _e=_===void 0?{}:_,tt=_e.clamp,nt=tt===void 0?!0:tt,st=_e.ease,at=_e.mixer,ht=i.length;invariant(ht===$.length),invariant(!st||!Array.isArray(st)||st.length===ht-1),i[0]>i[ht-1]&&(i=[].concat(i),$=[].concat($),i.reverse(),$.reverse());var lt=createMixers($,st,at),pt=ht===2?fastInterpolate(i,lt):slowInterpolate(i,lt);return nt?function(dt){return pt(clamp(i[0],i[ht-1],dt))}:pt}var reverseEasing=function(i){return function($){return 1-i(1-$)}},mirrorEasing=function(i){return function($){return $<=.5?i(2*$)/2:(2-i(2*(1-$)))/2}},createExpoIn=function(i){return function($){return Math.pow($,i)}},createBackIn=function(i){return function($){return $*$*((i+1)*$-i)}},createAnticipate=function(i){var $=createBackIn(i);return function(_){return(_*=2)<1?.5*$(_):.5*(2-Math.pow(2,-10*(_-1)))}},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=function(i){return i},easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=function(i){return 1-Math.sin(Math.acos(i))},circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceOut=function(i){if(i===1||i===0)return i;var $=i*i;return i<BOUNCE_FIRST_THRESHOLD?7.5625*$:i<BOUNCE_SECOND_THRESHOLD?9.075*$-9.9*i+3.4:i<BOUNCE_THIRD_THRESHOLD?ca*$-cb*i+cc:10.8*i*i-20.52*i+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=function(i){return i<.5?.5*(1-bounceOut(1-i*2)):.5*bounceOut(i*2-1)+.5};function defaultEasing(i,$){return i.map(function(){return $||easeInOut}).splice(0,i.length-1)}function defaultOffset(i){var $=i.length;return i.map(function(_,_e){return _e!==0?_e/($-1):0})}function convertOffsetToTimes(i,$){return i.map(function(_){return _*$})}function keyframes$1(i){var $=i.from,_=$===void 0?0:$,_e=i.to,tt=_e===void 0?1:_e,nt=i.ease,st=i.offset,at=i.duration,ht=at===void 0?300:at,lt={done:!1,value:_},pt=Array.isArray(tt)?tt:[_,tt],dt=convertOffsetToTimes(st&&st.length===pt.length?st:defaultOffset(pt),ht);function gt(){return interpolate(dt,pt,{ease:Array.isArray(nt)?nt:defaultEasing(pt,nt)})}var vt=gt();return{next:function(bt){return lt.value=vt(bt),lt.done=bt>=ht,lt},flipTarget:function(){pt.reverse(),vt=gt()}}}function decay(i){var $=i.velocity,_=$===void 0?0:$,_e=i.from,tt=_e===void 0?0:_e,nt=i.power,st=nt===void 0?.8:nt,at=i.timeConstant,ht=at===void 0?350:at,lt=i.restDelta,pt=lt===void 0?.5:lt,dt=i.modifyTarget,gt={done:!1,value:tt},vt=st*_,bt=tt+vt,$t=dt===void 0?bt:dt(bt);return $t!==bt&&(vt=$t-tt),{next:function(Tt){var St=-vt*Math.exp(-Tt/ht);return gt.done=!(St>pt||St<-pt),gt.value=gt.done?$t:$t+St,gt},flipTarget:function(){}}}var types={keyframes:keyframes$1,spring,decay};function detectAnimationFromOptions(i){if(Array.isArray(i.to))return keyframes$1;if(types[i.type])return types[i.type];var $=new Set(Object.keys(i));return $.has("ease")||$.has("duration")&&!$.has("dampingRatio")?keyframes$1:$.has("dampingRatio")||$.has("stiffness")||$.has("mass")||$.has("damping")||$.has("restSpeed")||$.has("restDelta")?spring:keyframes$1}function loopElapsed(i,$,_){return _===void 0&&(_=0),i-$-_}function reverseElapsed(i,$,_,_e){return _===void 0&&(_=0),_e===void 0&&(_e=!0),_e?loopElapsed($+-i,$,_):$-(i-$)+_}function hasRepeatDelayElapsed(i,$,_,_e){return _e?i>=$+_:i<=-_}var framesync=function(i){var $=function(_){var _e=_.delta;return i(_e)};return{start:function(){return sync.update($,!0)},stop:function(){return cancelSync.update($)}}};function animate(i){var $,_,_e=i.from,tt=i.autoplay,nt=tt===void 0?!0:tt,st=i.driver,at=st===void 0?framesync:st,ht=i.elapsed,lt=ht===void 0?0:ht,pt=i.repeat,dt=pt===void 0?0:pt,gt=i.repeatType,vt=gt===void 0?"loop":gt,bt=i.repeatDelay,$t=bt===void 0?0:bt,Tt=i.onPlay,St=i.onStop,Bt=i.onComplete,Dt=i.onRepeat,Vt=i.onUpdate,Ht=__rest(i,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),Wt=Ht.to,zt,Ut=0,ao=Ht.duration,lo,Ao=!1,Zo=!0,Qo,Wo=detectAnimationFromOptions(Ht);!((_=($=Wo).needsInterpolation)===null||_===void 0)&&_.call($,_e,Wt)&&(Qo=interpolate([0,100],[_e,Wt],{clamp:!1}),_e=0,Wt=100);var An=Wo(__assign(__assign({},Ht),{from:_e,to:Wt}));function Oo(){Ut++,vt==="reverse"?(Zo=Ut%2===0,lt=reverseElapsed(lt,ao,$t,Zo)):(lt=loopElapsed(lt,ao,$t),vt==="mirror"&&An.flipTarget()),Ao=!1,Dt&&Dt()}function kn(){zt.stop(),Bt&&Bt()}function oo(Io){if(Zo||(Io=-Io),lt+=Io,!Ao){var Pt=An.next(Math.max(0,lt));lo=Pt.value,Qo&&(lo=Qo(lo)),Ao=Zo?Pt.done:lt<=0}Vt==null||Vt(lo),Ao&&(Ut===0&&(ao!=null||(ao=lt)),Ut<dt?hasRepeatDelayElapsed(lt,ao,$t,Zo)&&Oo():kn())}function Bo(){Tt==null||Tt(),zt=at(oo),zt.start()}return nt&&Bo(),{stop:function(){St==null||St(),zt.stop()}}}function velocityPerSecond(i,$){return $?i*(1e3/$):0}function inertia(i){var $=i.from,_=$===void 0?0:$,_e=i.velocity,tt=_e===void 0?0:_e,nt=i.min,st=i.max,at=i.power,ht=at===void 0?.8:at,lt=i.timeConstant,pt=lt===void 0?750:lt,dt=i.bounceStiffness,gt=dt===void 0?500:dt,vt=i.bounceDamping,bt=vt===void 0?10:vt,$t=i.restDelta,Tt=$t===void 0?1:$t,St=i.modifyTarget,Bt=i.driver,Dt=i.onUpdate,Vt=i.onComplete,Ht;function Wt(Oo){return nt!==void 0&&Oo<nt||st!==void 0&&Oo>st}function zt(Oo){return nt===void 0?st:st===void 0||Math.abs(nt-Oo)<Math.abs(st-Oo)?nt:st}function Ut(Oo){Ht==null||Ht.stop(),Ht=animate(__assign(__assign({},Oo),{driver:Bt,onUpdate:function(kn){var oo;Dt==null||Dt(kn),(oo=Oo.onUpdate)===null||oo===void 0||oo.call(Oo,kn)},onComplete:Vt}))}function ao(Oo){Ut(__assign({type:"spring",stiffness:gt,damping:bt,restDelta:Tt},Oo))}if(Wt(_))ao({from:_,velocity:tt,to:zt(_)});else{var lo=ht*tt+_;typeof St<"u"&&(lo=St(lo));var Ao=zt(lo),Zo=Ao===nt?-1:1,Qo,Wo,An=function(Oo){Qo=Wo,Wo=Oo,tt=velocityPerSecond(Oo-Qo,getFrameData().delta),(Zo===1&&Oo>Ao||Zo===-1&&Oo<Ao)&&ao({from:Oo,to:Ao,velocity:tt})};Ut({type:"decay",from:_,velocity:tt,timeConstant:pt,power:ht,restDelta:Tt,modifyTarget:St,onUpdate:Wt(lo)?An:void 0})}return{stop:function(){return Ht==null?void 0:Ht.stop()}}}var isPoint=function(i){return i.hasOwnProperty("x")&&i.hasOwnProperty("y")},isPoint3D=function(i){return isPoint(i)&&i.hasOwnProperty("z")},distance1D=function(i,$){return Math.abs(i-$)};function distance(i,$){if(isNum(i)&&isNum($))return distance1D(i,$);if(isPoint(i)&&isPoint($)){var _=distance1D(i.x,$.x),_e=distance1D(i.y,$.y),tt=isPoint3D(i)&&isPoint3D($)?distance1D(i.z,$.z):0;return Math.sqrt(Math.pow(_,2)+Math.pow(_e,2)+Math.pow(tt,2))}}var a=function(i,$){return 1-3*$+3*i},b=function(i,$){return 3*$-6*i},c=function(i){return 3*i},calcBezier=function(i,$,_){return((a($,_)*i+b($,_))*i+c($))*i},getSlope=function(i,$,_){return 3*a($,_)*i*i+2*b($,_)*i+c($)},subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(i,$,_,_e,tt){var nt,st,at=0;do st=$+(_-$)/2,nt=calcBezier(st,_e,tt)-i,nt>0?_=st:$=st;while(Math.abs(nt)>subdivisionPrecision&&++at<subdivisionMaxIterations);return st}var newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(i,$,_,_e){for(var tt=0;tt<newtonIterations;++tt){var nt=getSlope($,_,_e);if(nt===0)return $;var st=calcBezier($,_,_e)-i;$-=st/nt}return $}var kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(i,$,_,_e){if(i===$&&_===_e)return linear;for(var tt=new Float32Array(kSplineTableSize),nt=0;nt<kSplineTableSize;++nt)tt[nt]=calcBezier(nt*kSampleStepSize,i,_);function st(at){for(var ht=0,lt=1,pt=kSplineTableSize-1;lt!==pt&&tt[lt]<=at;++lt)ht+=kSampleStepSize;--lt;var dt=(at-tt[lt])/(tt[lt+1]-tt[lt]),gt=ht+dt*kSampleStepSize,vt=getSlope(gt,i,_);return vt>=newtonMinSlope?newtonRaphsonIterate(at,gt,i,_):vt===0?gt:binarySubdivide(at,ht,ht+kSampleStepSize,i,_)}return function(at){return at===0||at===1?at:calcBezier(st(at),$,_e)}}function useTapGesture(i){var $=i.onTap,_=i.onTapStart,_e=i.onTapCancel,tt=i.whileTap,nt=i.visualElement,st=$||_||_e||tt,at=react.exports.useRef(!1),ht=react.exports.useRef(null);function lt(){var bt;(bt=ht.current)===null||bt===void 0||bt.call(ht),ht.current=null}function pt(){var bt;return lt(),at.current=!1,(bt=nt.animationState)===null||bt===void 0||bt.setActive(AnimationType.Tap,!1),!isDragActive()}function dt(bt,$t){!pt()||(isNodeOrChild(nt.getInstance(),bt.target)?$==null||$(bt,$t):_e==null||_e(bt,$t))}function gt(bt,$t){!pt()||_e==null||_e(bt,$t)}function vt(bt,$t){var Tt;lt(),!at.current&&(at.current=!0,ht.current=pipe(addPointerEvent(window,"pointerup",dt),addPointerEvent(window,"pointercancel",gt)),_==null||_(bt,$t),(Tt=nt.animationState)===null||Tt===void 0||Tt.setActive(AnimationType.Tap,!0))}usePointerEvent(nt,"pointerdown",st?vt:void 0),useUnmountEffect(lt)}var makeRenderlessComponent=function(i){return function($){return i($),null}},gestureAnimations={tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)};function shallowCompare(i,$){if(!Array.isArray($))return!1;var _=$.length;if(_!==i.length)return!1;for(var _e=0;_e<_;_e++)if($[_e]!==i[_e])return!1;return!0}var secondsToMilliseconds=function(i){return i*1e3},easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut},easingDefinitionToFunction=function(i){if(Array.isArray(i)){invariant(i.length===4);var $=__read(i,4),_=$[0],_e=$[1],tt=$[2],nt=$[3];return cubicBezier(_,_e,tt,nt)}else if(typeof i=="string")return easingLookup[i];return i},isEasingArray=function(i){return Array.isArray(i)&&typeof i[0]!="number"},isAnimatable=function(i,$){return i==="zIndex"?!1:!!(typeof $=="number"||Array.isArray($)||typeof $=="string"&&complex.test($)&&!$.startsWith("url("))},underDampedSpring=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},criticallyDampedSpring=function(i){return{type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},linearTween=function(){return{type:"keyframes",ease:"linear",duration:.3}},keyframes=function(i){return{type:"keyframes",duration:.8,values:i}},defaultTransitions={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=function(i,$){var _;return isKeyframesTarget($)?_=keyframes:_=defaultTransitions[i]||defaultTransitions.default,__assign({to:$},_($))},defaultValueTypes=__assign(__assign({},numberValueTypes),{color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter}),getDefaultValueType=function(i){return defaultValueTypes[i]};function getAnimatableNone(i,$){var _,_e=getDefaultValueType(i);return _e!==filter&&(_e=complex),(_=_e.getAnimatableNone)===null||_===void 0?void 0:_.call(_e,$)}function isTransitionDefined(i){i.when,i.delay,i.delayChildren,i.staggerChildren,i.staggerDirection,i.repeat,i.repeatType,i.repeatDelay,i.from;var $=__rest(i,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys($).length}function convertTransitionToAnimationOptions(i){var $=i.ease,_=i.times,_e=i.yoyo,tt=i.flip,nt=i.loop,st=__rest(i,["ease","times","yoyo","flip","loop"]),at=__assign({},st);return _&&(at.offset=_),st.duration&&(at.duration=secondsToMilliseconds(st.duration)),st.repeatDelay&&(at.repeatDelay=secondsToMilliseconds(st.repeatDelay)),$&&(at.ease=isEasingArray($)?$.map(easingDefinitionToFunction):easingDefinitionToFunction($)),st.type==="tween"&&(at.type="keyframes"),(_e||nt||tt)&&(_e?at.repeatType="reverse":nt?at.repeatType="loop":tt&&(at.repeatType="mirror"),at.repeat=nt||_e||tt||st.repeat),st.type!=="spring"&&(at.type="keyframes"),at}function getDelayFromTransition(i,$){var _,_e=getValueTransition(i,$)||{};return(_=_e.delay)!==null&&_!==void 0?_:0}function hydrateKeyframes(i){return Array.isArray(i.to)&&i.to[0]===null&&(i.to=__spreadArray([],__read(i.to)),i.to[0]=i.from),i}function getPopmotionAnimationOptions(i,$,_){var _e;return Array.isArray($.to)&&((_e=i.duration)!==null&&_e!==void 0||(i.duration=.8)),hydrateKeyframes($),isTransitionDefined(i)||(i=__assign(__assign({},i),getDefaultTransition(_,$.to))),__assign(__assign({},$),convertTransitionToAnimationOptions(i))}function getAnimation(i,$,_,_e,tt){var nt,st=getValueTransition(_e,i),at=(nt=st.from)!==null&&nt!==void 0?nt:$.get(),ht=isAnimatable(i,_);at==="none"&&ht&&typeof _=="string"?at=getAnimatableNone(i,_):isZero(at)&&typeof _=="string"?at=getZeroUnit(_):!Array.isArray(_)&&isZero(_)&&typeof at=="string"&&(_=getZeroUnit(at));var lt=isAnimatable(i,at);function pt(){var gt={from:at,to:_,velocity:$.getVelocity(),onComplete:tt,onUpdate:function(vt){return $.set(vt)}};return st.type==="inertia"||st.type==="decay"?inertia(__assign(__assign({},gt),st)):animate(__assign(__assign({},getPopmotionAnimationOptions(st,gt,i)),{onUpdate:function(vt){var bt;gt.onUpdate(vt),(bt=st.onUpdate)===null||bt===void 0||bt.call(st,vt)},onComplete:function(){var vt;gt.onComplete(),(vt=st.onComplete)===null||vt===void 0||vt.call(st)}}))}function dt(){var gt;return $.set(_),tt(),(gt=st==null?void 0:st.onComplete)===null||gt===void 0||gt.call(st),{stop:function(){}}}return!lt||!ht||st.type===!1?dt:pt}function isZero(i){return i===0||typeof i=="string"&&parseFloat(i)===0&&i.indexOf(" ")===-1}function getZeroUnit(i){return typeof i=="number"?0:getAnimatableNone("",i)}function getValueTransition(i,$){return i[$]||i.default||i}function startAnimation(i,$,_,_e){return _e===void 0&&(_e={}),$.start(function(tt){var nt,st,at=getAnimation(i,$,_,_e,tt),ht=getDelayFromTransition(_e,i),lt=function(){return st=at()};return ht?nt=setTimeout(lt,secondsToMilliseconds(ht)):lt(),function(){clearTimeout(nt),st==null||st.stop()}})}var isNumericalString=function(i){return/^\-?\d*\.?\d+$/.test(i)};function addUniqueItem(i,$){i.indexOf($)===-1&&i.push($)}function removeItem(i,$){var _=i.indexOf($);_>-1&&i.splice(_,1)}var SubscriptionManager=function(){function i(){this.subscriptions=[]}return i.prototype.add=function($){var _=this;return addUniqueItem(this.subscriptions,$),function(){return removeItem(_.subscriptions,$)}},i.prototype.notify=function($,_,_e){var tt=this.subscriptions.length;if(!!tt)if(tt===1)this.subscriptions[0]($,_,_e);else for(var nt=0;nt<tt;nt++){var st=this.subscriptions[nt];st&&st($,_,_e)}},i.prototype.getSize=function(){return this.subscriptions.length},i.prototype.clear=function(){this.subscriptions.length=0},i}(),isFloat=function(i){return!isNaN(parseFloat(i))},MotionValue=function(){function i($){var _=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new SubscriptionManager,this.velocityUpdateSubscribers=new SubscriptionManager,this.renderSubscribers=new SubscriptionManager,this.canTrackVelocity=!1,this.updateAndNotify=function(_e,tt){tt===void 0&&(tt=!0),_.prev=_.current,_.current=_e;var nt=getFrameData(),st=nt.delta,at=nt.timestamp;_.lastUpdated!==at&&(_.timeDelta=st,_.lastUpdated=at,sync.postRender(_.scheduleVelocityCheck)),_.prev!==_.current&&_.updateSubscribers.notify(_.current),_.velocityUpdateSubscribers.getSize()&&_.velocityUpdateSubscribers.notify(_.getVelocity()),tt&&_.renderSubscribers.notify(_.current)},this.scheduleVelocityCheck=function(){return sync.postRender(_.velocityCheck)},this.velocityCheck=function(_e){var tt=_e.timestamp;tt!==_.lastUpdated&&(_.prev=_.current,_.velocityUpdateSubscribers.notify(_.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=$,this.canTrackVelocity=isFloat(this.current)}return i.prototype.onChange=function($){return this.updateSubscribers.add($)},i.prototype.clearListeners=function(){this.updateSubscribers.clear()},i.prototype.onRenderRequest=function($){return $(this.get()),this.renderSubscribers.add($)},i.prototype.attach=function($){this.passiveEffect=$},i.prototype.set=function($,_){_===void 0&&(_=!0),!_||!this.passiveEffect?this.updateAndNotify($,_):this.passiveEffect($,this.updateAndNotify)},i.prototype.get=function(){return this.current},i.prototype.getPrevious=function(){return this.prev},i.prototype.getVelocity=function(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},i.prototype.start=function($){var _=this;return this.stop(),new Promise(function(_e){_.hasAnimated=!0,_.stopAnimation=$(_e)}).then(function(){return _.clearAnimation()})},i.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},i.prototype.isAnimating=function(){return!!this.stopAnimation},i.prototype.clearAnimation=function(){this.stopAnimation=null},i.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},i}();function motionValue(i){return new MotionValue(i)}var testValueType=function(i){return function($){return $.test(i)}},auto={test:function(i){return i==="auto"},parse:function(i){return i}},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=function(i){return dimensionValueTypes.find(testValueType(i))},valueTypes=__spreadArray(__spreadArray([],__read(dimensionValueTypes)),[color,complex]),findValueType=function(i){return valueTypes.find(testValueType(i))};function setMotionValue(i,$,_){i.hasValue($)?i.getValue($).set(_):i.addValue($,motionValue(_))}function setTarget(i,$){var _=resolveVariant(i,$),_e=_?i.makeTargetAnimatable(_,!1):{},tt=_e.transitionEnd,nt=tt===void 0?{}:tt;_e.transition;var st=__rest(_e,["transitionEnd","transition"]);st=__assign(__assign({},st),nt);for(var at in st){var ht=resolveFinalValueInKeyframes(st[at]);setMotionValue(i,at,ht)}}function checkTargetForNewValues(i,$,_){var _e,tt,nt,st,at=Object.keys($).filter(function(vt){return!i.hasValue(vt)}),ht=at.length;if(!!ht)for(var lt=0;lt<ht;lt++){var pt=at[lt],dt=$[pt],gt=null;Array.isArray(dt)&&(gt=dt[0]),gt===null&&(gt=(tt=(_e=_[pt])!==null&&_e!==void 0?_e:i.readValue(pt))!==null&&tt!==void 0?tt:$[pt]),gt!=null&&(typeof gt=="string"&&isNumericalString(gt)?gt=parseFloat(gt):!findValueType(gt)&&complex.test(dt)&&(gt=getAnimatableNone(pt,dt)),i.addValue(pt,motionValue(gt)),(nt=(st=_)[pt])!==null&&nt!==void 0||(st[pt]=gt),i.setBaseTarget(pt,gt))}}function getOriginFromTransition(i,$){if(!!$){var _=$[i]||$.default||$;return _.from}}function getOrigin(i,$,_){var _e,tt,nt={};for(var st in i)nt[st]=(_e=getOriginFromTransition(st,$))!==null&&_e!==void 0?_e:(tt=_.getValue(st))===null||tt===void 0?void 0:tt.get();return nt}function animateVisualElement(i,$,_){_===void 0&&(_={}),i.notifyAnimationStart();var _e;if(Array.isArray($)){var tt=$.map(function(st){return animateVariant(i,st,_)});_e=Promise.all(tt)}else if(typeof $=="string")_e=animateVariant(i,$,_);else{var nt=typeof $=="function"?resolveVariant(i,$,_.custom):$;_e=animateTarget(i,nt,_)}return _e.then(function(){return i.notifyAnimationComplete($)})}function animateVariant(i,$,_){var _e;_===void 0&&(_={});var tt=resolveVariant(i,$,_.custom),nt=(tt||{}).transition,st=nt===void 0?i.getDefaultTransition()||{}:nt;_.transitionOverride&&(st=_.transitionOverride);var at=tt?function(){return animateTarget(i,tt,_)}:function(){return Promise.resolve()},ht=!((_e=i.variantChildren)===null||_e===void 0)&&_e.size?function(vt){vt===void 0&&(vt=0);var bt=st.delayChildren,$t=bt===void 0?0:bt,Tt=st.staggerChildren,St=st.staggerDirection;return animateChildren(i,$,$t+vt,Tt,St,_)}:function(){return Promise.resolve()},lt=st.when;if(lt){var pt=__read(lt==="beforeChildren"?[at,ht]:[ht,at],2),dt=pt[0],gt=pt[1];return dt().then(gt)}else return Promise.all([at(),ht(_.delay)])}function animateTarget(i,$,_){var _e,tt=_===void 0?{}:_,nt=tt.delay,st=nt===void 0?0:nt,at=tt.transitionOverride,ht=tt.type,lt=i.makeTargetAnimatable($),pt=lt.transition,dt=pt===void 0?i.getDefaultTransition():pt,gt=lt.transitionEnd,vt=__rest(lt,["transition","transitionEnd"]);at&&(dt=at);var bt=[],$t=ht&&((_e=i.animationState)===null||_e===void 0?void 0:_e.getState()[ht]);for(var Tt in vt){var St=i.getValue(Tt),Bt=vt[Tt];if(!(!St||Bt===void 0||$t&&shouldBlockAnimation($t,Tt))){var Dt=startAnimation(Tt,St,Bt,__assign({delay:st},dt));bt.push(Dt)}}return Promise.all(bt).then(function(){gt&&setTarget(i,gt)})}function animateChildren(i,$,_,_e,tt,nt){_===void 0&&(_=0),_e===void 0&&(_e=0),tt===void 0&&(tt=1);var st=[],at=(i.variantChildren.size-1)*_e,ht=tt===1?function(lt){return lt===void 0&&(lt=0),lt*_e}:function(lt){return lt===void 0&&(lt=0),at-lt*_e};return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach(function(lt,pt){st.push(animateVariant(lt,$,__assign(__assign({},nt),{delay:_+ht(pt)})).then(function(){return lt.notifyAnimationComplete($)}))}),Promise.all(st)}function sortByTreeOrder(i,$){return i.sortNodePosition($)}function shouldBlockAnimation(i,$){var _=i.protectedKeys,_e=i.needsAnimating,tt=_.hasOwnProperty($)&&_e[$]!==!0;return _e[$]=!1,tt}var variantPriorityOrder=[AnimationType.Animate,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Focus,AnimationType.Exit],reversePriorityOrder=__spreadArray([],__read(variantPriorityOrder)).reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return function($){return Promise.all($.map(function(_){var _e=_.animation,tt=_.options;return animateVisualElement(i,_e,tt)}))}}function createAnimationState(i){var $=animateList(i),_=createState(),_e={},tt=!0,nt=function(pt,dt){var gt=resolveVariant(i,dt);if(gt){gt.transition;var vt=gt.transitionEnd,bt=__rest(gt,["transition","transitionEnd"]);pt=__assign(__assign(__assign({},pt),bt),vt)}return pt};function st(pt){return _e[pt]!==void 0}function at(pt){$=pt(i)}function ht(pt,dt){for(var gt,vt=i.getProps(),bt=i.getVariantContext(!0)||{},$t=[],Tt=new Set,St={},Bt=1/0,Dt=function(zt){var Ut=reversePriorityOrder[zt],ao=_[Ut],lo=(gt=vt[Ut])!==null&&gt!==void 0?gt:bt[Ut],Ao=isVariantLabel(lo),Zo=Ut===dt?ao.isActive:null;Zo===!1&&(Bt=zt);var Qo=lo===bt[Ut]&&lo!==vt[Ut]&&Ao;if(Qo&&tt&&i.manuallyAnimateOnMount&&(Qo=!1),ao.protectedKeys=__assign({},St),!ao.isActive&&Zo===null||!lo&&!ao.prevProp||isAnimationControls(lo)||typeof lo=="boolean")return"continue";var Wo=variantsHaveChanged(ao.prevProp,lo)||Ut===dt&&ao.isActive&&!Qo&&Ao||zt>Bt&&Ao,An=Array.isArray(lo)?lo:[lo],Oo=An.reduce(nt,{});Zo===!1&&(Oo={});var kn=ao.prevResolvedValues,oo=kn===void 0?{}:kn,Bo=__assign(__assign({},oo),Oo),Io=function(Po){Wo=!0,Tt.delete(Po),ao.needsAnimating[Po]=!0};for(var Pt in Bo){var io=Oo[Pt],vo=oo[Pt];St.hasOwnProperty(Pt)||(io!==vo?isKeyframesTarget(io)&&isKeyframesTarget(vo)?shallowCompare(io,vo)?ao.protectedKeys[Pt]=!0:Io(Pt):io!==void 0?Io(Pt):Tt.add(Pt):io!==void 0&&Tt.has(Pt)?Io(Pt):ao.protectedKeys[Pt]=!0)}ao.prevProp=lo,ao.prevResolvedValues=Oo,ao.isActive&&(St=__assign(__assign({},St),Oo)),tt&&i.blockInitialAnimation&&(Wo=!1),Wo&&!Qo&&$t.push.apply($t,__spreadArray([],__read(An.map(function(Po){return{animation:Po,options:__assign({type:Ut},pt)}}))))},Vt=0;Vt<numAnimationTypes;Vt++)Dt(Vt);if(_e=__assign({},St),Tt.size){var Ht={};Tt.forEach(function(zt){var Ut=i.getBaseTarget(zt);Ut!==void 0&&(Ht[zt]=Ut)}),$t.push({animation:Ht})}var Wt=Boolean($t.length);return tt&&vt.initial===!1&&!i.manuallyAnimateOnMount&&(Wt=!1),tt=!1,Wt?$($t):Promise.resolve()}function lt(pt,dt,gt){var vt;return _[pt].isActive===dt?Promise.resolve():((vt=i.variantChildren)===null||vt===void 0||vt.forEach(function(bt){var $t;return($t=bt.animationState)===null||$t===void 0?void 0:$t.setActive(pt,dt)}),_[pt].isActive=dt,ht(gt,pt))}return{isAnimated:st,animateChanges:ht,setActive:lt,setAnimateFunction:at,getState:function(){return _}}}function variantsHaveChanged(i,$){return typeof $=="string"?$!==i:isVariantLabels($)?!shallowCompare($,i):!1}function createTypeState(i){return i===void 0&&(i=!1),{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){var i;return i={},i[AnimationType.Animate]=createTypeState(!0),i[AnimationType.Hover]=createTypeState(),i[AnimationType.Tap]=createTypeState(),i[AnimationType.Drag]=createTypeState(),i[AnimationType.Focus]=createTypeState(),i[AnimationType.Exit]=createTypeState(),i}var animations={animation:makeRenderlessComponent(function(i){var $=i.visualElement,_=i.animate;$.animationState||($.animationState=createAnimationState($)),isAnimationControls(_)&&react.exports.useEffect(function(){return _.subscribe($)},[_])}),exit:makeRenderlessComponent(function(i){var $=i.custom,_=i.visualElement,_e=__read(usePresence(),2),tt=_e[0],nt=_e[1],st=react.exports.useContext(PresenceContext);react.exports.useEffect(function(){var at,ht,lt=(at=_.animationState)===null||at===void 0?void 0:at.setActive(AnimationType.Exit,!tt,{custom:(ht=st==null?void 0:st.custom)!==null&&ht!==void 0?ht:$});!tt&&(lt==null||lt.then(nt))},[tt])})},PanSession=function(){function i($,_,_e){var tt=this,nt=_e===void 0?{}:_e,st=nt.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(tt.lastMoveEvent&&tt.lastMoveEventInfo)){var gt=getPanInfo(tt.lastMoveEventInfo,tt.history),vt=tt.startEvent!==null,bt=distance(gt.offset,{x:0,y:0})>=3;if(!(!vt&&!bt)){var $t=gt.point,Tt=getFrameData().timestamp;tt.history.push(__assign(__assign({},$t),{timestamp:Tt}));var St=tt.handlers,Bt=St.onStart,Dt=St.onMove;vt||(Bt&&Bt(tt.lastMoveEvent,gt),tt.startEvent=tt.lastMoveEvent),Dt&&Dt(tt.lastMoveEvent,gt)}}},this.handlePointerMove=function(gt,vt){if(tt.lastMoveEvent=gt,tt.lastMoveEventInfo=transformPoint(vt,tt.transformPagePoint),isMouseEvent(gt)&&gt.buttons===0){tt.handlePointerUp(gt,vt);return}sync.update(tt.updatePoint,!0)},this.handlePointerUp=function(gt,vt){tt.end();var bt=tt.handlers,$t=bt.onEnd,Tt=bt.onSessionEnd,St=getPanInfo(transformPoint(vt,tt.transformPagePoint),tt.history);tt.startEvent&&$t&&$t(gt,St),Tt&&Tt(gt,St)},!(isTouchEvent($)&&$.touches.length>1)){this.handlers=_,this.transformPagePoint=st;var at=extractEventInfo($),ht=transformPoint(at,this.transformPagePoint),lt=ht.point,pt=getFrameData().timestamp;this.history=[__assign(__assign({},lt),{timestamp:pt})];var dt=_.onSessionStart;dt&&dt($,getPanInfo(ht,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}}return i.prototype.updateHandlers=function($){this.handlers=$},i.prototype.end=function(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)},i}();function transformPoint(i,$){return $?{point:$(i.point)}:i}function subtractPoint(i,$){return{x:i.x-$.x,y:i.y-$.y}}function getPanInfo(i,$){var _=i.point;return{point:_,delta:subtractPoint(_,lastDevicePoint($)),offset:subtractPoint(_,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,$){if(i.length<2)return{x:0,y:0};for(var _=i.length-1,_e=null,tt=lastDevicePoint(i);_>=0&&(_e=i[_],!(tt.timestamp-_e.timestamp>secondsToMilliseconds($)));)_--;if(!_e)return{x:0,y:0};var nt=(tt.timestamp-_e.timestamp)/1e3;if(nt===0)return{x:0,y:0};var st={x:(tt.x-_e.x)/nt,y:(tt.y-_e.y)/nt};return st.x===1/0&&(st.x=0),st.y===1/0&&(st.y=0),st}function noop$1(i){return i}function convertBoundingBoxToAxisBox(i){var $=i.top,_=i.left,_e=i.right,tt=i.bottom;return{x:{min:_,max:_e},y:{min:$,max:tt}}}function convertAxisBoxToBoundingBox(i){var $=i.x,_=i.y;return{top:_.min,bottom:_.max,left:$.min,right:$.max}}function transformBoundingBox(i,$){var _=i.top,_e=i.left,tt=i.bottom,nt=i.right;$===void 0&&($=noop$1);var st=$({x:_e,y:_}),at=$({x:nt,y:tt});return{top:st.y,left:st.x,bottom:at.y,right:at.x}}function axisBox(){return{x:{min:0,max:1},y:{min:0,max:1}}}function copyAxisBox(i){return{x:__assign({},i.x),y:__assign({},i.y)}}var zeroDelta={translate:0,scale:1,origin:0,originPoint:0};function delta(){return{x:__assign({},zeroDelta),y:__assign({},zeroDelta)}}function eachAxis(i){return[i("x"),i("y")]}function applyConstraints(i,$,_){var _e=$.min,tt=$.max;return _e!==void 0&&i<_e?i=_?mix(_e,i,_.min):Math.max(i,_e):tt!==void 0&&i>tt&&(i=_?mix(tt,i,_.max):Math.min(i,tt)),i}function calcConstrainedMinPoint(i,$,_,_e,tt){var nt=i-$*_;return _e?applyConstraints(nt,_e,tt):nt}function calcRelativeAxisConstraints(i,$,_){return{min:$!==void 0?i.min+$:void 0,max:_!==void 0?i.max+_-(i.max-i.min):void 0}}function calcRelativeConstraints(i,$){var _=$.top,_e=$.left,tt=$.bottom,nt=$.right;return{x:calcRelativeAxisConstraints(i.x,_e,nt),y:calcRelativeAxisConstraints(i.y,_,tt)}}function calcViewportAxisConstraints(i,$){var _,_e=$.min-i.min,tt=$.max-i.max;return $.max-$.min<i.max-i.min&&(_=__read([tt,_e],2),_e=_[0],tt=_[1]),{min:i.min+_e,max:i.min+tt}}function calcViewportConstraints(i,$){return{x:calcViewportAxisConstraints(i.x,$.x),y:calcViewportAxisConstraints(i.y,$.y)}}function calcPositionFromProgress(i,$,_){var _e=i.max-i.min,tt=mix($.min,$.max-_e,_);return{min:tt,max:tt+_e}}function rebaseAxisConstraints(i,$){var _={};return $.min!==void 0&&(_.min=$.min-i.min),$.max!==void 0&&(_.max=$.max-i.min),_}var defaultElastic=.35;function resolveDragElastic(i){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,$,_){return{min:resolvePointElastic(i,$),max:resolvePointElastic(i,_)}}function resolvePointElastic(i,$){var _;return typeof i=="number"?i:(_=i[$])!==null&&_!==void 0?_:0}function getBoundingBox(i,$){var _=i.getBoundingClientRect();return convertBoundingBoxToAxisBox(transformBoundingBox(_,$))}var clampProgress=function(i){return clamp(0,1,i)};function isNear(i,$,_){return $===void 0&&($=0),_===void 0&&(_=.01),distance(i,$)<_}function calcLength(i){return i.max-i.min}function calcOrigin(i,$){var _=.5,_e=calcLength(i),tt=calcLength($);return tt>_e?_=progress($.min,$.max-_e,i.min):_e>tt&&(_=progress(i.min,i.max-tt,$.min)),clampProgress(_)}function updateAxisDelta(i,$,_,_e){_e===void 0&&(_e=.5),i.origin=_e,i.originPoint=mix($.min,$.max,i.origin),i.scale=calcLength(_)/calcLength($),isNear(i.scale,1,1e-4)&&(i.scale=1),i.translate=mix(_.min,_.max,i.origin)-i.originPoint,isNear(i.translate)&&(i.translate=0)}function updateBoxDelta(i,$,_,_e){updateAxisDelta(i.x,$.x,_.x,defaultOrigin(_e.originX)),updateAxisDelta(i.y,$.y,_.y,defaultOrigin(_e.originY))}function defaultOrigin(i){return typeof i=="number"?i:.5}function calcRelativeAxis(i,$,_){i.min=_.min+$.min,i.max=i.min+calcLength($)}function calcRelativeBox(i,$){calcRelativeAxis(i.target.x,i.relativeTarget.x,$.target.x),calcRelativeAxis(i.target.y,i.relativeTarget.y,$.target.y)}var compareByDepth=function(i,$){return i.depth-$.depth};function isProjecting(i){var $=i.projection.isEnabled;return $||i.shouldResetTransform()}function collectProjectingAncestors(i,$){$===void 0&&($=[]);var _=i.parent;return _&&collectProjectingAncestors(_,$),isProjecting(i)&&$.push(i),$}function collectProjectingChildren(i){var $=[],_=function(_e){isProjecting(_e)&&$.push(_e),_e.children.forEach(_)};return i.children.forEach(_),$.sort(compareByDepth)}function updateLayoutMeasurement(i){if(!i.shouldResetTransform()){var $=i.getLayoutState();i.notifyBeforeLayoutMeasure($.layout),$.isHydrated=!0,$.layout=i.measureViewportBox(),$.layoutCorrected=copyAxisBox($.layout),i.notifyLayoutMeasure($.layout,i.prevViewportBox||$.layout),sync.update(function(){return i.rebaseProjectionTarget()})}}function snapshotViewportBox(i){i.shouldResetTransform()||(i.prevViewportBox=i.measureViewportBox(!1),i.rebaseProjectionTarget(!1,i.prevViewportBox))}function tweenAxis(i,$,_,_e){i.min=mix($.min,_.min,_e),i.max=mix($.max,_.max,_e)}function calcRelativeOffsetAxis(i,$){return{min:$.min-i.min,max:$.max-i.min}}function calcRelativeOffset(i,$){return{x:calcRelativeOffsetAxis(i.x,$.x),y:calcRelativeOffsetAxis(i.y,$.y)}}function checkIfParentHasChanged(i,$){var _=i.getLayoutId(),_e=$.getLayoutId();return _!==_e||_e===void 0&&i!==$}function isDraggable(i){var $=i.getProps(),_=$.drag,_e=$._dragX;return _&&!_e}function resetAxis(i,$){i.min=$.min,i.max=$.max}function resetBox(i,$){resetAxis(i.x,$.x),resetAxis(i.y,$.y)}function scalePoint(i,$,_){var _e=i-_,tt=$*_e;return _+tt}function applyPointDelta(i,$,_,_e,tt){return tt!==void 0&&(i=scalePoint(i,tt,_e)),scalePoint(i,_,_e)+$}function applyAxisDelta(i,$,_,_e,tt){$===void 0&&($=0),_===void 0&&(_=1),i.min=applyPointDelta(i.min,$,_,_e,tt),i.max=applyPointDelta(i.max,$,_,_e,tt)}function applyBoxDelta(i,$){var _=$.x,_e=$.y;applyAxisDelta(i.x,_.translate,_.scale,_.originPoint),applyAxisDelta(i.y,_e.translate,_e.scale,_e.originPoint)}function applyAxisTransforms(i,$,_,_e){var tt=__read(_e,3),nt=tt[0],st=tt[1],at=tt[2];i.min=$.min,i.max=$.max;var ht=_[at]!==void 0?_[at]:.5,lt=mix($.min,$.max,ht);applyAxisDelta(i,_[nt],_[st],lt,_.scale)}var xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function applyBoxTransforms(i,$,_){applyAxisTransforms(i.x,$.x,_,xKeys),applyAxisTransforms(i.y,$.y,_,yKeys)}function removePointDelta(i,$,_,_e,tt){return i-=$,i=scalePoint(i,1/_,_e),tt!==void 0&&(i=scalePoint(i,1/tt,_e)),i}function removeAxisDelta(i,$,_,_e,tt){$===void 0&&($=0),_===void 0&&(_=1),_e===void 0&&(_e=.5);var nt=mix(i.min,i.max,_e)-$;i.min=removePointDelta(i.min,$,_,nt,tt),i.max=removePointDelta(i.max,$,_,nt,tt)}function removeAxisTransforms(i,$,_){var _e=__read(_,3),tt=_e[0],nt=_e[1],st=_e[2];removeAxisDelta(i,$[tt],$[nt],$[st],$.scale)}function removeBoxTransforms(i,$){removeAxisTransforms(i.x,$,xKeys),removeAxisTransforms(i.y,$,yKeys)}function applyTreeDeltas(i,$,_){var _e=_.length;if(!!_e){$.x=$.y=1;for(var tt,nt,st=0;st<_e;st++)tt=_[st],nt=tt.getLayoutState().delta,$.x*=nt.x.scale,$.y*=nt.y.scale,applyBoxDelta(i,nt),isDraggable(tt)&&applyBoxTransforms(i,i,tt.getLatestValues())}}function convertToRelativeProjection(i,$){$===void 0&&($=!0);var _=i.getProjectionParent();if(!_)return!1;var _e;return $?(_e=calcRelativeOffset(_.projection.target,i.projection.target),removeBoxTransforms(_e,_.getLatestValues())):_e=calcRelativeOffset(_.getLayoutState().layout,i.getLayoutState().layout),eachAxis(function(tt){return i.setProjectionTargetAxis(tt,_e[tt].min,_e[tt].max,!0)}),!0}var unresolvedJobs=new Set;function pushJob(i,$,_){i[_]||(i[_]=[]),i[_].push($)}function batchLayout(i){return unresolvedJobs.add(i),function(){return unresolvedJobs.delete(i)}}function flushLayout(){if(!!unresolvedJobs.size){var i=0,$=[[]],_=[],_e=function(at){return pushJob($,at,i)},tt=function(at){pushJob(_,at,i),i++};unresolvedJobs.forEach(function(at){at(_e,tt),i=0}),unresolvedJobs.clear();for(var nt=_.length,st=0;st<=nt;st++)$[st]&&$[st].forEach(executeJob),_[st]&&_[st].forEach(executeJob)}}var executeJob=function(i){return i()},elementDragControls=new WeakMap,lastPointerEvent,VisualElementDragControls=function(){function i($){var _=$.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic=axisBox(),this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=_,this.visualElement.enableLayoutProjection(),elementDragControls.set(_,this)}return i.prototype.start=function($,_){var _e=this,tt=_===void 0?{}:_,nt=tt.snapToCursor,st=nt===void 0?!1:nt,at=tt.cursorProgress,ht=function(vt){var bt;_e.stopMotion();var $t=getViewportPointFromEvent(vt).point;(bt=_e.cancelLayout)===null||bt===void 0||bt.call(_e),_e.cancelLayout=batchLayout(function(Tt,St){var Bt=collectProjectingAncestors(_e.visualElement),Dt=collectProjectingChildren(_e.visualElement),Vt=__spreadArray(__spreadArray([],__read(Bt)),__read(Dt)),Ht=!1;_e.isLayoutDrag()&&_e.visualElement.lockProjectionTarget(),St(function(){Vt.forEach(function(Wt){return Wt.resetTransform()})}),Tt(function(){updateLayoutMeasurement(_e.visualElement),Dt.forEach(updateLayoutMeasurement)}),St(function(){Vt.forEach(function(Wt){return Wt.restoreTransform()}),st&&(Ht=_e.snapToCursor($t))}),Tt(function(){var Wt=Boolean(_e.getAxisMotionValue("x")&&!_e.isExternalDrag());Wt||_e.visualElement.rebaseProjectionTarget(!0,_e.visualElement.measureViewportBox(!1)),_e.visualElement.scheduleUpdateLayoutProjection();var zt=_e.visualElement.projection;eachAxis(function(Ut){if(!Ht){var ao=zt.target[Ut],lo=ao.min,Ao=ao.max;_e.cursorProgress[Ut]=at?at[Ut]:progress(lo,Ao,$t[Ut])}var Zo=_e.getAxisMotionValue(Ut);Zo&&(_e.originPoint[Ut]=Zo.get())})}),St(function(){flushSync.update(),flushSync.preRender(),flushSync.render(),flushSync.postRender()}),Tt(function(){return _e.resolveDragConstraints()})})},lt=function(vt,bt){var $t,Tt,St,Bt=_e.props,Dt=Bt.drag,Vt=Bt.dragPropagation;Dt&&!Vt&&(_e.openGlobalLock&&_e.openGlobalLock(),_e.openGlobalLock=getGlobalLock(Dt),!_e.openGlobalLock)||(flushLayout(),_e.isDragging=!0,_e.currentDirection=null,(Tt=($t=_e.props).onDragStart)===null||Tt===void 0||Tt.call($t,vt,bt),(St=_e.visualElement.animationState)===null||St===void 0||St.setActive(AnimationType.Drag,!0))},pt=function(vt,bt){var $t,Tt,St,Bt,Dt=_e.props,Vt=Dt.dragPropagation,Ht=Dt.dragDirectionLock;if(!(!Vt&&!_e.openGlobalLock)){var Wt=bt.offset;if(Ht&&_e.currentDirection===null){_e.currentDirection=getCurrentDirection(Wt),_e.currentDirection!==null&&((Tt=($t=_e.props).onDirectionLock)===null||Tt===void 0||Tt.call($t,_e.currentDirection));return}_e.updateAxis("x",bt.point,Wt),_e.updateAxis("y",bt.point,Wt),(Bt=(St=_e.props).onDrag)===null||Bt===void 0||Bt.call(St,vt,bt),lastPointerEvent=vt}},dt=function(vt,bt){return _e.stop(vt,bt)},gt=this.props.transformPagePoint;this.panSession=new PanSession($,{onSessionStart:ht,onStart:lt,onMove:pt,onSessionEnd:dt},{transformPagePoint:gt})},i.prototype.resolveDragConstraints=function(){var $=this,_=this.props,_e=_.dragConstraints,tt=_.dragElastic,nt=this.visualElement.getLayoutState().layoutCorrected;_e?this.constraints=isRefObject(_e)?this.resolveRefConstraints(nt,_e):calcRelativeConstraints(nt,_e):this.constraints=!1,this.elastic=resolveDragElastic(tt),this.constraints&&!this.hasMutatedConstraints&&eachAxis(function(st){$.getAxisMotionValue(st)&&($.constraints[st]=rebaseAxisConstraints(nt[st],$.constraints[st]))})},i.prototype.resolveRefConstraints=function($,_){var _e=this.props,tt=_e.onMeasureDragConstraints,nt=_e.transformPagePoint,st=_.current;this.constraintsBox=getBoundingBox(st,nt);var at=calcViewportConstraints($,this.constraintsBox);if(tt){var ht=tt(convertAxisBoxToBoundingBox(at));this.hasMutatedConstraints=!!ht,ht&&(at=convertBoundingBoxToAxisBox(ht))}return at},i.prototype.cancelDrag=function(){var $,_;this.visualElement.unlockProjectionTarget(),($=this.cancelLayout)===null||$===void 0||$.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(_=this.visualElement.animationState)===null||_===void 0||_.setActive(AnimationType.Drag,!1)},i.prototype.stop=function($,_){var _e,tt,nt;(_e=this.panSession)===null||_e===void 0||_e.end(),this.panSession=null;var st=this.isDragging;if(this.cancelDrag(),!!st){var at=_.velocity;this.animateDragEnd(at),(nt=(tt=this.props).onDragEnd)===null||nt===void 0||nt.call(tt,$,_)}},i.prototype.snapToCursor=function($){var _=this;return eachAxis(function(_e){var tt=_.props.drag;if(!!shouldDrag(_e,tt,_.currentDirection)){var nt=_.getAxisMotionValue(_e);if(nt){var st=_.visualElement.getLayoutState().layout,at=st[_e].max-st[_e].min,ht=st[_e].min+at/2,lt=$[_e]-ht;_.originPoint[_e]=$[_e],nt.set(lt)}else return _.cursorProgress[_e]=.5,!0}}).includes(!0)},i.prototype.updateAxis=function($,_,_e){var tt=this.props.drag;if(!!shouldDrag($,tt,this.currentDirection))return this.getAxisMotionValue($)?this.updateAxisMotionValue($,_e):this.updateVisualElementAxis($,_)},i.prototype.updateAxisMotionValue=function($,_){var _e=this.getAxisMotionValue($);if(!(!_||!_e)){var tt=this.originPoint[$]+_[$],nt=this.constraints?applyConstraints(tt,this.constraints[$],this.elastic[$]):tt;_e.set(nt)}},i.prototype.updateVisualElementAxis=function($,_){var _e,tt=this.visualElement.getLayoutState().layout[$],nt=tt.max-tt.min,st=this.cursorProgress[$],at=calcConstrainedMinPoint(_[$],nt,st,(_e=this.constraints)===null||_e===void 0?void 0:_e[$],this.elastic[$]);this.visualElement.setProjectionTargetAxis($,at,at+nt)},i.prototype.setProps=function($){var _=$.drag,_e=_===void 0?!1:_,tt=$.dragDirectionLock,nt=tt===void 0?!1:tt,st=$.dragPropagation,at=st===void 0?!1:st,ht=$.dragConstraints,lt=ht===void 0?!1:ht,pt=$.dragElastic,dt=pt===void 0?defaultElastic:pt,gt=$.dragMomentum,vt=gt===void 0?!0:gt,bt=__rest($,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=__assign({drag:_e,dragDirectionLock:nt,dragPropagation:at,dragConstraints:lt,dragElastic:dt,dragMomentum:vt},bt)},i.prototype.getAxisMotionValue=function($){var _=this.props,_e=_.layout,tt=_.layoutId,nt="_drag"+$.toUpperCase();if(this.props[nt])return this.props[nt];if(!_e&&tt===void 0)return this.visualElement.getValue($,0)},i.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},i.prototype.isExternalDrag=function(){var $=this.props,_=$._dragX,_e=$._dragY;return _||_e},i.prototype.animateDragEnd=function($){var _=this,_e=this.props,tt=_e.drag,nt=_e.dragMomentum,st=_e.dragElastic,at=_e.dragTransition,ht=convertToRelativeProjection(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),lt=this.constraints||{};if(ht&&Object.keys(lt).length&&this.isLayoutDrag()){var pt=this.visualElement.getProjectionParent();if(pt){var dt=calcRelativeOffset(pt.projection.targetFinal,lt);eachAxis(function(vt){var bt=dt[vt],$t=bt.min,Tt=bt.max;lt[vt]={min:isNaN($t)?void 0:$t,max:isNaN(Tt)?void 0:Tt}})}}var gt=eachAxis(function(vt){var bt;if(!!shouldDrag(vt,tt,_.currentDirection)){var $t=(bt=lt==null?void 0:lt[vt])!==null&&bt!==void 0?bt:{},Tt=st?200:1e6,St=st?40:1e7,Bt=__assign(__assign({type:"inertia",velocity:nt?$[vt]:0,bounceStiffness:Tt,bounceDamping:St,timeConstant:750,restDelta:1,restSpeed:10},at),$t);return _.getAxisMotionValue(vt)?_.startAxisValueAnimation(vt,Bt):_.visualElement.startLayoutAnimation(vt,Bt,ht)}});return Promise.all(gt).then(function(){var vt,bt;(bt=(vt=_.props).onDragTransitionEnd)===null||bt===void 0||bt.call(vt)})},i.prototype.stopMotion=function(){var $=this;eachAxis(function(_){var _e=$.getAxisMotionValue(_);_e?_e.stop():$.visualElement.stopLayoutAnimation()})},i.prototype.startAxisValueAnimation=function($,_){var _e=this.getAxisMotionValue($);if(!!_e){var tt=_e.get();return _e.set(tt),_e.set(tt),startAnimation($,_e,0,_)}},i.prototype.scalePoint=function(){var $=this,_=this.props,_e=_.drag,tt=_.dragConstraints;if(!(!isRefObject(tt)||!this.constraintsBox)){this.stopMotion();var nt={x:0,y:0};eachAxis(function(st){nt[st]=calcOrigin($.visualElement.projection.target[st],$.constraintsBox[st])}),this.updateConstraints(function(){eachAxis(function(st){if(!!shouldDrag(st,_e,null)){var at=calcPositionFromProgress($.visualElement.projection.target[st],$.constraintsBox[st],nt[st]),ht=at.min,lt=at.max;$.visualElement.setProjectionTargetAxis(st,ht,lt)}})}),setTimeout(flushLayout,1)}},i.prototype.updateConstraints=function($){var _=this;this.cancelLayout=batchLayout(function(_e,tt){var nt=collectProjectingAncestors(_.visualElement);tt(function(){return nt.forEach(function(st){return st.resetTransform()})}),_e(function(){return updateLayoutMeasurement(_.visualElement)}),tt(function(){return nt.forEach(function(st){return st.restoreTransform()})}),_e(function(){_.resolveDragConstraints()}),$&&tt($)})},i.prototype.mount=function($){var _=this,_e=$.getInstance(),tt=addPointerEvent(_e,"pointerdown",function(ht){var lt=_.props,pt=lt.drag,dt=lt.dragListener,gt=dt===void 0?!0:dt;pt&&gt&&_.start(ht)}),nt=addDomEvent(window,"resize",function(){_.scalePoint()}),st=$.onLayoutUpdate(function(){_.isDragging&&_.resolveDragConstraints()}),at=$.prevDragCursor;return at&&this.start(lastPointerEvent,{cursorProgress:at}),function(){tt==null||tt(),nt==null||nt(),st==null||st(),_.cancelDrag()}},i}();function shouldDrag(i,$,_){return($===!0||$===i)&&(_===null||_===i)}function getCurrentDirection(i,$){$===void 0&&($=10);var _=null;return Math.abs(i.y)>$?_="y":Math.abs(i.x)>$&&(_="x"),_}function useDrag(i){var $=i.dragControls,_=i.visualElement,_e=react.exports.useContext(MotionConfigContext).transformPagePoint,tt=useConstant(function(){return new VisualElementDragControls({visualElement:_})});tt.setProps(__assign(__assign({},i),{transformPagePoint:_e})),react.exports.useEffect(function(){return $&&$.subscribe(tt)},[tt]),react.exports.useEffect(function(){return tt.mount(_)},[])}function usePanGesture(i){var $=i.onPan,_=i.onPanStart,_e=i.onPanEnd,tt=i.onPanSessionStart,nt=i.visualElement,st=$||_||_e||tt,at=react.exports.useRef(null),ht=react.exports.useContext(MotionConfigContext).transformPagePoint,lt={onSessionStart:tt,onStart:_,onMove:$,onEnd:function(dt,gt){at.current=null,_e&&_e(dt,gt)}};react.exports.useEffect(function(){at.current!==null&&at.current.updateHandlers(lt)});function pt(dt){at.current=new PanSession(dt,lt,{transformPagePoint:ht})}usePointerEvent(nt,"pointerdown",st&&pt),useUnmountEffect(function(){return at.current&&at.current.end()})}var drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag)},Presence;(function(i){i[i.Entering=0]="Entering",i[i.Present=1]="Present",i[i.Exiting=2]="Exiting"})(Presence||(Presence={}));var VisibilityAction;(function(i){i[i.Hide=0]="Hide",i[i.Show=1]="Show"})(VisibilityAction||(VisibilityAction={}));function isCSSVariable(i){return typeof i=="string"&&i.startsWith("var(--")}var cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(i){var $=cssVariableRegex.exec(i);if(!$)return[,];var _=__read($,3),_e=_[1],tt=_[2];return[_e,tt]}function getVariableValue(i,$,_){var _e=__read(parseCSSVariable(i),2),tt=_e[0],nt=_e[1];if(!!tt){var st=window.getComputedStyle($).getPropertyValue(tt);return st?st.trim():isCSSVariable(nt)?getVariableValue(nt,$):nt}}function resolveCSSVariables(i,$,_){var _e,tt=__rest($,[]),nt=i.getInstance();if(!(nt instanceof HTMLElement))return{target:tt,transitionEnd:_};_&&(_=__assign({},_)),i.forEachValue(function(lt){var pt=lt.get();if(!!isCSSVariable(pt)){var dt=getVariableValue(pt,nt);dt&&lt.set(dt)}});for(var st in tt){var at=tt[st];if(!!isCSSVariable(at)){var ht=getVariableValue(at,nt);!ht||(tt[st]=ht,_&&((_e=_[st])!==null&&_e!==void 0||(_[st]=at)))}}return{target:tt,transitionEnd:_}}function pixelsToPercent(i,$){return i/($.max-$.min)*100}function correctBorderRadius(i,$,_){var _e=_.target;if(typeof i=="string")if(px$1.test(i))i=parseFloat(i);else return i;var tt=pixelsToPercent(i,_e.x),nt=pixelsToPercent(i,_e.y);return tt+"% "+nt+"%"}var varToken="_$css";function correctBoxShadow(i,$){var _=$.delta,_e=$.treeScale,tt=i,nt=i.includes("var("),st=[];nt&&(i=i.replace(cssVariableRegex,function($t){return st.push($t),varToken}));var at=complex.parse(i);if(at.length>5)return tt;var ht=complex.createTransformer(i),lt=typeof at[0]!="number"?1:0,pt=_.x.scale*_e.x,dt=_.y.scale*_e.y;at[0+lt]/=pt,at[1+lt]/=dt;var gt=mix(pt,dt,.5);typeof at[2+lt]=="number"&&(at[2+lt]/=gt),typeof at[3+lt]=="number"&&(at[3+lt]/=gt);var vt=ht(at);if(nt){var bt=0;vt=vt.replace(varToken,function(){var $t=st[bt];return bt++,$t})}return vt}var borderCorrectionDefinition={process:correctBorderRadius},defaultScaleCorrectors={borderRadius:__assign(__assign({},borderCorrectionDefinition),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:borderCorrectionDefinition,borderTopRightRadius:borderCorrectionDefinition,borderBottomLeftRadius:borderCorrectionDefinition,borderBottomRightRadius:borderCorrectionDefinition,boxShadow:{process:correctBoxShadow}},progressTarget=1e3,Animate=function(i){__extends($,i);function $(){var _=i!==null&&i.apply(this,arguments)||this;return _.frameTarget=axisBox(),_.currentAnimationTarget=axisBox(),_.isAnimating={x:!1,y:!1},_.stopAxisAnimation={x:void 0,y:void 0},_.isAnimatingTree=!1,_.animate=function(_e,tt,nt){nt===void 0&&(nt={});var st=nt.originBox,at=nt.targetBox,ht=nt.visibilityAction,lt=nt.shouldStackAnimate,pt=nt.onComplete,dt=nt.prevParent,gt=__rest(nt,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),vt=_.props,bt=vt.visualElement,$t=vt.layout;if(lt===!1)return _.isAnimatingTree=!1,_.safeToRemove();if(!(_.isAnimatingTree&&lt!==!0)){lt&&(_.isAnimatingTree=!0),tt=st||tt,_e=at||_e;var Tt=!1,St=bt.getProjectionParent();if(St){var Bt=St.prevViewportBox,Dt=St.getLayoutState().layout;dt&&(at&&(Dt=dt.getLayoutState().layout),st&&!checkIfParentHasChanged(dt,St)&&dt.prevViewportBox&&(Bt=dt.prevViewportBox)),Bt&&isProvidedCorrectDataForRelativeSharedLayout(dt,st,at)&&(Tt=!0,tt=calcRelativeOffset(Bt,tt),_e=calcRelativeOffset(Dt,_e))}var Vt=hasMoved(tt,_e),Ht=eachAxis(function(Wt){var zt,Ut;if($t==="position"){var ao=_e[Wt].max-_e[Wt].min;tt[Wt].max=tt[Wt].min+ao}if(!bt.projection.isTargetLocked)if(ht!==void 0)bt.setVisibility(ht===VisibilityAction.Show);else return Vt?_.animateAxis(Wt,_e[Wt],tt[Wt],__assign(__assign({},gt),{isRelative:Tt})):((Ut=(zt=_.stopAxisAnimation)[Wt])===null||Ut===void 0||Ut.call(zt),bt.setProjectionTargetAxis(Wt,_e[Wt].min,_e[Wt].max,Tt))});return bt.syncRender(),Promise.all(Ht).then(function(){_.isAnimatingTree=!1,pt&&pt(),bt.notifyLayoutAnimationComplete()})}},_}return $.prototype.componentDidMount=function(){var _=this,_e=this.props.visualElement;_e.animateMotionValue=startAnimation,_e.enableLayoutProjection(),this.unsubLayoutReady=_e.onLayoutUpdate(this.animate),_e.layoutSafeToRemove=function(){return _.safeToRemove()},addScaleCorrection(defaultScaleCorrectors)},$.prototype.componentWillUnmount=function(){var _=this;this.unsubLayoutReady(),eachAxis(function(_e){var tt,nt;return(nt=(tt=_.stopAxisAnimation)[_e])===null||nt===void 0?void 0:nt.call(tt)})},$.prototype.animateAxis=function(_,_e,tt,nt){var st=this,at,ht,lt=nt===void 0?{}:nt,pt=lt.transition,dt=lt.isRelative;if(!(this.isAnimating[_]&&axisIsEqual(_e,this.currentAnimationTarget[_]))){(ht=(at=this.stopAxisAnimation)[_])===null||ht===void 0||ht.call(at),this.isAnimating[_]=!0;var gt=this.props.visualElement,vt=this.frameTarget[_],bt=gt.getProjectionAnimationProgress()[_];bt.clearListeners(),bt.set(0),bt.set(0);var $t=function(){var Dt=bt.get()/progressTarget;tweenAxis(vt,tt,_e,Dt),gt.setProjectionTargetAxis(_,vt.min,vt.max,dt)};$t();var Tt=bt.onChange($t);this.stopAxisAnimation[_]=function(){st.isAnimating[_]=!1,bt.stop(),Tt()},this.currentAnimationTarget[_]=_e;var St=pt||gt.getDefaultTransition()||defaultLayoutTransition,Bt=startAnimation(_==="x"?"layoutX":"layoutY",bt,progressTarget,St&&getValueTransition(St,"layout")).then(this.stopAxisAnimation[_]);return Bt}},$.prototype.safeToRemove=function(){var _,_e;(_e=(_=this.props).safeToRemove)===null||_e===void 0||_e.call(_)},$.prototype.render=function(){return null},$}(react.exports.Component);function AnimateLayoutContextProvider(i){var $=__read(usePresence(),2),_=$[1];return jsx(Animate,{...__assign({},i,{safeToRemove:_})})}function hasMoved(i,$){return!isZeroBox(i)&&!isZeroBox($)&&(!axisIsEqual(i.x,$.x)||!axisIsEqual(i.y,$.y))}var zeroAxis={min:0,max:0};function isZeroBox(i){return axisIsEqual(i.x,zeroAxis)&&axisIsEqual(i.y,zeroAxis)}function axisIsEqual(i,$){return i.min===$.min&&i.max===$.max}var defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function isProvidedCorrectDataForRelativeSharedLayout(i,$,_){return i||!i&&!($||_)}var defaultHandler={layoutReady:function(i){return i.notifyLayoutReady()}};function createBatcher(){var i=new Set;return{add:function($){return i.add($)},flush:function($){var _=$===void 0?defaultHandler:$,_e=_.layoutReady,tt=_.parent;batchLayout(function(nt,st){var at=Array.from(i).sort(compareByDepth),ht=tt?collectProjectingAncestors(tt):[];st(function(){var lt=__spreadArray(__spreadArray([],__read(ht)),__read(at));lt.forEach(function(pt){return pt.resetTransform()})}),nt(function(){at.forEach(updateLayoutMeasurement)}),st(function(){ht.forEach(function(lt){return lt.restoreTransform()}),at.forEach(_e)}),nt(function(){at.forEach(function(lt){lt.isPresent&&(lt.presence=Presence.Present)})}),st(function(){flushSync.preRender(),flushSync.render()}),nt(function(){sync.postRender(function(){return at.forEach(assignProjectionToSnapshot)}),i.clear()})}),flushLayout()}}}function assignProjectionToSnapshot(i){i.prevViewportBox=i.projection.target}var SharedLayoutContext=react.exports.createContext(createBatcher()),FramerTreeLayoutContext=react.exports.createContext(createBatcher());function isSharedLayout(i){return!!i.forceUpdate}var Measure=function(i){__extends($,i);function $(){return i!==null&&i.apply(this,arguments)||this}return $.prototype.componentDidMount=function(){var _=this.props,_e=_.syncLayout,tt=_.framerSyncLayout,nt=_.visualElement;isSharedLayout(_e)&&_e.register(nt),isSharedLayout(tt)&&tt.register(nt),nt.onUnmount(function(){isSharedLayout(_e)&&_e.remove(nt),isSharedLayout(tt)&&tt.remove(nt)})},$.prototype.getSnapshotBeforeUpdate=function(){var _=this.props,_e=_.syncLayout,tt=_.visualElement;return isSharedLayout(_e)?_e.syncUpdate():(snapshotViewportBox(tt),_e.add(tt)),null},$.prototype.componentDidUpdate=function(){var _=this.props.syncLayout;isSharedLayout(_)||_.flush()},$.prototype.render=function(){return null},$}(React.Component);function MeasureContextProvider(i){var $=react.exports.useContext(SharedLayoutContext),_=react.exports.useContext(FramerTreeLayoutContext);return jsx(Measure,{...__assign({},i,{syncLayout:$,framerSyncLayout:_})})}var layoutAnimations={measureLayout:MeasureContextProvider,layoutAnimation:AnimateLayoutContextProvider},createProjectionState=function(){return{isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:axisBox(),targetFinal:axisBox()}};function createLayoutState(){return{isHydrated:!1,layout:axisBox(),layoutCorrected:axisBox(),treeScale:{x:1,y:1},delta:delta(),deltaFinal:delta(),deltaTransform:""}}var zeroLayout=createLayoutState();function buildLayoutProjectionTransform(i,$,_){var _e=i.x,tt=i.y,nt=_e.translate/$.x,st=tt.translate/$.y,at="translate3d("+nt+"px, "+st+"px, 0) ";if(_){var ht=_.rotate,lt=_.rotateX,pt=_.rotateY;ht&&(at+="rotate("+ht+") "),lt&&(at+="rotateX("+lt+") "),pt&&(at+="rotateY("+pt+") ")}return at+="scale("+_e.scale+", "+tt.scale+")",!_&&at===identityProjection?"":at}function buildLayoutProjectionTransformOrigin(i){var $=i.deltaFinal;return $.x.origin*100+"% "+$.y.origin*100+"% 0"}var identityProjection=buildLayoutProjectionTransform(zeroLayout.delta,zeroLayout.treeScale,{x:1,y:1}),names$1=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function createLifecycles(){var i=names$1.map(function(){return new SubscriptionManager}),$={},_={clearAllListeners:function(){return i.forEach(function(_e){return _e.clear()})},updatePropListeners:function(_e){return names$1.forEach(function(tt){var nt;(nt=$[tt])===null||nt===void 0||nt.call($);var st="on"+tt,at=_e[st];at&&($[tt]=_[st](at))})}};return i.forEach(function(_e,tt){_["on"+names$1[tt]]=function(nt){return _e.add(nt)},_["notify"+names$1[tt]]=function(){for(var nt=[],st=0;st<arguments.length;st++)nt[st]=arguments[st];return _e.notify.apply(_e,__spreadArray([],__read(nt)))}}),_}function updateMotionValuesFromProps(i,$,_){var _e;for(var tt in $){var nt=$[tt],st=_[tt];if(isMotionValue(nt))i.addValue(tt,nt);else if(isMotionValue(st))i.addValue(tt,motionValue(nt));else if(st!==nt)if(i.hasValue(tt)){var at=i.getValue(tt);!at.hasAnimated&&at.set(nt)}else i.addValue(tt,motionValue((_e=i.getStaticValue(tt))!==null&&_e!==void 0?_e:nt))}for(var tt in _)$[tt]===void 0&&i.removeValue(tt);return $}function updateLayoutDeltas(i,$,_,_e){var tt=i.delta,nt=i.layout,st=i.layoutCorrected,at=i.treeScale,ht=$.target;resetBox(st,nt),applyTreeDeltas(st,at,_),updateBoxDelta(tt,st,ht,_e)}var FlatTree=function(){function i(){this.children=[],this.isDirty=!1}return i.prototype.add=function($){addUniqueItem(this.children,$),this.isDirty=!0},i.prototype.remove=function($){removeItem(this.children,$),this.isDirty=!0},i.prototype.forEach=function($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)},i}();function setCurrentViewportBox(i){var $=i.getProjectionParent();if(!$){i.rebaseProjectionTarget();return}var _=calcRelativeOffset($.getLayoutState().layout,i.getLayoutState().layout);eachAxis(function(_e){i.setProjectionTargetAxis(_e,_[_e].min,_[_e].max,!0)})}var visualElement=function(i){var $=i.treeType,_=$===void 0?"":$,_e=i.build,tt=i.getBaseTarget,nt=i.makeTargetAnimatable,st=i.measureViewportBox,at=i.render,ht=i.readValueFromInstance,lt=i.resetTransform,pt=i.restoreTransform,dt=i.removeValueFromRenderState,gt=i.sortNodePosition,vt=i.scrapeMotionValuesFromProps;return function(bt,$t){var Tt=bt.parent,St=bt.props,Bt=bt.presenceId,Dt=bt.blockInitialAnimation,Vt=bt.visualState;$t===void 0&&($t={});var Ht=Vt.latestValues,Wt=Vt.renderState,zt,Ut=createLifecycles(),ao=createProjectionState(),lo,Ao=ao,Zo=Ht,Qo,Wo=createLayoutState(),An,Oo=!1,kn=new Map,oo=new Map,Bo={},Io,Pt=__assign({},Ht),io;function vo(){!zt||(co.isProjectionReady()&&(applyBoxTransforms(Ao.targetFinal,Ao.target,Zo),updateBoxDelta(Wo.deltaFinal,Wo.layoutCorrected,Ao.targetFinal,Ht)),Po(),at(zt,Wt))}function Po(){var so=Ht;if(An&&An.isActive()){var fo=An.getCrossfadeState(co);fo&&(so=fo)}_e(co,Wt,so,Ao,Wo,$t,St)}function Ko(){Ut.notifyUpdate(Ht)}function No(){if(!!co.isProjectionReady()){var so=Wo.delta,fo=Wo.treeScale,gn=fo.x,Nn=fo.y,Gn=Wo.deltaTransform;updateLayoutDeltas(Wo,Ao,co.path,Ht),Oo&&co.notifyViewportBoxUpdate(Ao.target,so),Oo=!1;var ho=buildLayoutProjectionTransform(so,fo);(ho!==Gn||gn!==fo.x||Nn!==fo.y)&&co.scheduleRender(),Wo.deltaTransform=ho}}function kt(){co.layoutTree.forEach(fireUpdateLayoutProjection)}function jo(so,fo){var gn=fo.onChange(function(Gn){Ht[so]=Gn,St.onUpdate&&sync.update(Ko,!1,!0)}),Nn=fo.onRenderRequest(co.scheduleRender);oo.set(so,function(){gn(),Nn()})}var mt=vt(St);for(var At in mt){var Ot=mt[At];Ht[At]!==void 0&&isMotionValue(Ot)&&Ot.set(Ht[At],!1)}var Yt=checkIfControllingVariants(St),Qt=checkIfVariantNode(St),co=__assign(__assign({treeType:_,current:null,depth:Tt?Tt.depth+1:0,parent:Tt,children:new Set,path:Tt?__spreadArray(__spreadArray([],__read(Tt.path)),[Tt]):[],layoutTree:Tt?Tt.layoutTree:new FlatTree,presenceId:Bt,projection:ao,variantChildren:Qt?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(Tt==null?void 0:Tt.isMounted()),blockInitialAnimation:Dt,isMounted:function(){return Boolean(zt)},mount:function(so){zt=co.current=so,co.pointTo(co),Qt&&Tt&&!Yt&&(io=Tt==null?void 0:Tt.addVariantChild(co)),Tt==null||Tt.children.add(co)},unmount:function(){cancelSync.update(Ko),cancelSync.render(vo),cancelSync.preRender(co.updateLayoutProjection),oo.forEach(function(so){return so()}),co.stopLayoutAnimation(),co.layoutTree.remove(co),io==null||io(),Tt==null||Tt.children.delete(co),Qo==null||Qo(),Ut.clearAllListeners()},addVariantChild:function(so){var fo,gn=co.getClosestVariantNode();if(gn)return(fo=gn.variantChildren)===null||fo===void 0||fo.add(so),function(){return gn.variantChildren.delete(so)}},sortNodePosition:function(so){return!gt||_!==so.treeType?0:gt(co.getInstance(),so.getInstance())},getClosestVariantNode:function(){return Qt?co:Tt==null?void 0:Tt.getClosestVariantNode()},scheduleUpdateLayoutProjection:Tt?Tt.scheduleUpdateLayoutProjection:function(){return sync.preRender(co.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return St.layoutId},getInstance:function(){return zt},getStaticValue:function(so){return Ht[so]},setStaticValue:function(so,fo){return Ht[so]=fo},getLatestValues:function(){return Ht},setVisibility:function(so){co.isVisible!==so&&(co.isVisible=so,co.scheduleRender())},makeTargetAnimatable:function(so,fo){return fo===void 0&&(fo=!0),nt(co,so,St,fo)},addValue:function(so,fo){co.hasValue(so)&&co.removeValue(so),kn.set(so,fo),Ht[so]=fo.get(),jo(so,fo)},removeValue:function(so){var fo;kn.delete(so),(fo=oo.get(so))===null||fo===void 0||fo(),oo.delete(so),delete Ht[so],dt(so,Wt)},hasValue:function(so){return kn.has(so)},getValue:function(so,fo){var gn=kn.get(so);return gn===void 0&&fo!==void 0&&(gn=motionValue(fo),co.addValue(so,gn)),gn},forEachValue:function(so){return kn.forEach(so)},readValue:function(so){var fo;return(fo=Ht[so])!==null&&fo!==void 0?fo:ht(zt,so,$t)},setBaseTarget:function(so,fo){Pt[so]=fo},getBaseTarget:function(so){if(tt){var fo=tt(St,so);if(fo!==void 0&&!isMotionValue(fo))return fo}return Pt[so]}},Ut),{build:function(){return Po(),Wt},scheduleRender:function(){sync.render(vo,!1,!0)},syncRender:vo,setProps:function(so){St=so,Ut.updatePropListeners(so),Bo=updateMotionValuesFromProps(co,vt(St),Bo)},getProps:function(){return St},getVariant:function(so){var fo;return(fo=St.variants)===null||fo===void 0?void 0:fo[so]},getDefaultTransition:function(){return St.transition},getVariantContext:function(so){if(so===void 0&&(so=!1),so)return Tt==null?void 0:Tt.getVariantContext();if(!Yt){var fo=(Tt==null?void 0:Tt.getVariantContext())||{};return St.initial!==void 0&&(fo.initial=St.initial),fo}for(var gn={},Nn=0;Nn<numVariantProps;Nn++){var Gn=variantProps[Nn],ho=St[Gn];(isVariantLabel(ho)||ho===!1)&&(gn[Gn]=ho)}return gn},enableLayoutProjection:function(){ao.isEnabled=!0,co.layoutTree.add(co)},lockProjectionTarget:function(){ao.isTargetLocked=!0},unlockProjectionTarget:function(){co.stopLayoutAnimation(),ao.isTargetLocked=!1},getLayoutState:function(){return Wo},setCrossfader:function(so){An=so},isProjectionReady:function(){return ao.isEnabled&&ao.isHydrated&&Wo.isHydrated},startLayoutAnimation:function(so,fo,gn){gn===void 0&&(gn=!1);var Nn=co.getProjectionAnimationProgress()[so],Gn=gn?ao.relativeTarget[so]:ao.target[so],ho=Gn.min,zr=Gn.max,Or=zr-ho;return Nn.clearListeners(),Nn.set(ho),Nn.set(ho),Nn.onChange(function(mn){co.setProjectionTargetAxis(so,mn,mn+Or,gn)}),co.animateMotionValue(so,Nn,0,fo)},stopLayoutAnimation:function(){eachAxis(function(so){return co.getProjectionAnimationProgress()[so].stop()})},measureViewportBox:function(so){so===void 0&&(so=!0);var fo=st(zt,$t);return so||removeBoxTransforms(fo,Ht),fo},getProjectionAnimationProgress:function(){return Io||(Io={x:motionValue(0),y:motionValue(0)}),Io},setProjectionTargetAxis:function(so,fo,gn,Nn){Nn===void 0&&(Nn=!1);var Gn;Nn?(ao.relativeTarget||(ao.relativeTarget=axisBox()),Gn=ao.relativeTarget[so]):(ao.relativeTarget=void 0,Gn=ao.target[so]),ao.isHydrated=!0,Gn.min=fo,Gn.max=gn,Oo=!0,Ut.notifySetAxisTarget()},rebaseProjectionTarget:function(so,fo){fo===void 0&&(fo=Wo.layout);var gn=co.getProjectionAnimationProgress(),Nn=gn.x,Gn=gn.y,ho=!ao.relativeTarget&&!ao.isTargetLocked&&!Nn.isAnimating()&&!Gn.isAnimating();(so||ho)&&eachAxis(function(zr){var Or=fo[zr],mn=Or.min,qs=Or.max;co.setProjectionTargetAxis(zr,mn,qs)})},notifyLayoutReady:function(so){setCurrentViewportBox(co),co.notifyLayoutUpdate(Wo.layout,co.prevViewportBox||Wo.layout,so)},resetTransform:function(){return lt(co,zt,St)},restoreTransform:function(){return pt(zt,Wt)},updateLayoutProjection:No,updateTreeLayoutProjection:function(){co.layoutTree.forEach(fireResolveRelativeTargetBox),sync.preRender(kt,!1,!0)},getProjectionParent:function(){if(lo===void 0){for(var so=!1,fo=co.path.length-1;fo>=0;fo--){var gn=co.path[fo];if(gn.projection.isEnabled){so=gn;break}}lo=so}return lo},resolveRelativeTargetBox:function(){var so=co.getProjectionParent();if(!(!ao.relativeTarget||!so)&&(calcRelativeBox(ao,so.projection),isDraggable(so))){var fo=ao.target;applyBoxTransforms(fo,fo,so.getLatestValues())}},shouldResetTransform:function(){return Boolean(St._layoutResetTransform)},pointTo:function(so){Ao=so.projection,Zo=so.getLatestValues(),Qo==null||Qo(),Qo=pipe(so.onSetAxisTarget(co.scheduleUpdateLayoutProjection),so.onLayoutAnimationComplete(function(){var fo;co.isPresent?co.presence=Presence.Present:(fo=co.layoutSafeToRemove)===null||fo===void 0||fo.call(co)}))},isPresent:!0,presence:Presence.Entering});return co}};function fireResolveRelativeTargetBox(i){i.resolveRelativeTargetBox()}function fireUpdateLayoutProjection(i){i.updateLayoutProjection()}var variantProps=__spreadArray(["initial"],__read(variantPriorityOrder)),numVariantProps=variantProps.length,positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=function(i){return positionalKeys.has(i)},hasPositionalKey=function(i){return Object.keys(i).some(isPositionalKey)},setAndResetVelocity=function(i,$){i.set($,!1),i.set($)},isNumOrPxType=function(i){return i===number||i===px$1},BoundingBoxDimension;(function(i){i.width="width",i.height="height",i.left="left",i.right="right",i.top="top",i.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));var getPosFromMatrix=function(i,$){return parseFloat(i.split(", ")[$])},getTranslateFromMatrix=function(i,$){return function(_,_e){var tt=_e.transform;if(tt==="none"||!tt)return 0;var nt=tt.match(/^matrix3d\((.+)\)$/);if(nt)return getPosFromMatrix(nt[1],$);var st=tt.match(/^matrix\((.+)\)$/);return st?getPosFromMatrix(st[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformProps.filter(function(i){return!transformKeys.has(i)});function removeNonTranslationalTransform(i){var $=[];return nonTranslationalTransformKeys.forEach(function(_){var _e=i.getValue(_);_e!==void 0&&($.push([_,_e.get()]),_e.set(_.startsWith("scale")?1:0))}),$.length&&i.syncRender(),$}var positionalValues={width:function(i){var $=i.x;return $.max-$.min},height:function(i){var $=i.y;return $.max-$.min},top:function(i,$){var _=$.top;return parseFloat(_)},left:function(i,$){var _=$.left;return parseFloat(_)},bottom:function(i,$){var _=i.y,_e=$.top;return parseFloat(_e)+(_.max-_.min)},right:function(i,$){var _=i.x,_e=$.left;return parseFloat(_e)+(_.max-_.min)},x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=function(i,$,_){var _e=$.measureViewportBox(),tt=$.getInstance(),nt=getComputedStyle(tt),st=nt.display,at=nt.top,ht=nt.left,lt=nt.bottom,pt=nt.right,dt=nt.transform,gt={top:at,left:ht,bottom:lt,right:pt,transform:dt};st==="none"&&$.setStaticValue("display",i.display||"block"),$.syncRender();var vt=$.measureViewportBox();return _.forEach(function(bt){var $t=$.getValue(bt);setAndResetVelocity($t,positionalValues[bt](_e,gt)),i[bt]=positionalValues[bt](vt,nt)}),i},checkAndConvertChangedValueTypes=function(i,$,_,_e){_===void 0&&(_={}),_e===void 0&&(_e={}),$=__assign({},$),_e=__assign({},_e);var tt=Object.keys($).filter(isPositionalKey),nt=[],st=!1,at=[];if(tt.forEach(function(lt){var pt=i.getValue(lt);if(!!i.hasValue(lt)){var dt=_[lt],gt=$[lt],vt=findDimensionValueType(dt),bt;if(isKeyframesTarget(gt))for(var $t=gt.length,Tt=gt[0]===null?1:0;Tt<$t;Tt++)bt?invariant(findDimensionValueType(gt[Tt])===bt):bt=findDimensionValueType(gt[Tt]);else bt=findDimensionValueType(gt);if(vt!==bt)if(isNumOrPxType(vt)&&isNumOrPxType(bt)){var St=pt.get();typeof St=="string"&&pt.set(parseFloat(St)),typeof gt=="string"?$[lt]=parseFloat(gt):Array.isArray(gt)&&bt===px$1&&($[lt]=gt.map(parseFloat))}else(vt==null?void 0:vt.transform)&&(bt==null?void 0:bt.transform)&&(dt===0||gt===0)?dt===0?pt.set(bt.transform(dt)):$[lt]=vt.transform(gt):(st||(nt=removeNonTranslationalTransform(i),st=!0),at.push(lt),_e[lt]=_e[lt]!==void 0?_e[lt]:$[lt],setAndResetVelocity(pt,gt))}}),at.length){var ht=convertChangedValueTypes($,i,at);return nt.length&&nt.forEach(function(lt){var pt=__read(lt,2),dt=pt[0],gt=pt[1];i.getValue(dt).set(gt)}),i.syncRender(),{target:ht,transitionEnd:_e}}else return{target:$,transitionEnd:_e}};function unitConversion(i,$,_,_e){return hasPositionalKey($)?checkAndConvertChangedValueTypes(i,$,_,_e):{target:$,transitionEnd:_e}}var parseDomVariant=function(i,$,_,_e){var tt=resolveCSSVariables(i,$,_e);return $=tt.target,_e=tt.transitionEnd,unitConversion(i,$,_,_e)};function getComputedStyle$1(i){return window.getComputedStyle(i)}var htmlConfig={treeType:"dom",readValueFromInstance:function(i,$){if(isTransformProp($)){var _=getDefaultValueType($);return _&&_.default||0}else{var _e=getComputedStyle$1(i);return(isCSSVariable$1($)?_e.getPropertyValue($):_e[$])||0}},sortNodePosition:function(i,$){return i.compareDocumentPosition($)&2?1:-1},getBaseTarget:function(i,$){var _;return(_=i.style)===null||_===void 0?void 0:_[$]},measureViewportBox:function(i,$){var _=$.transformPagePoint;return getBoundingBox(i,_)},resetTransform:function(i,$,_){var _e=_.transformTemplate;$.style.transform=_e?_e({},""):"none",i.scheduleRender()},restoreTransform:function(i,$){i.style.transform=$.style.transform},removeValueFromRenderState:function(i,$){var _=$.vars,_e=$.style;delete _[i],delete _e[i]},makeTargetAnimatable:function(i,$,_,_e){var tt=_.transformValues;_e===void 0&&(_e=!0);var nt=$.transition,st=$.transitionEnd,at=__rest($,["transition","transitionEnd"]),ht=getOrigin(at,nt||{},i);if(tt&&(st&&(st=tt(st)),at&&(at=tt(at)),ht&&(ht=tt(ht))),_e){checkTargetForNewValues(i,at,ht);var lt=parseDomVariant(i,at,ht,st);st=lt.transitionEnd,at=lt.target}return __assign({transition:nt,transitionEnd:st},at)},scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,build:function(i,$,_,_e,tt,nt,st){i.isVisible!==void 0&&($.style.visibility=i.isVisible?"visible":"hidden");var at=_e.isEnabled&&tt.isHydrated;buildHTMLStyles($,_,_e,tt,nt,st.transformTemplate,at?buildLayoutProjectionTransform:void 0,at?buildLayoutProjectionTransformOrigin:void 0)},render:renderHTML},htmlVisualElement=visualElement(htmlConfig),svgVisualElement=visualElement(__assign(__assign({},htmlConfig),{getBaseTarget:function(i,$){return i[$]},readValueFromInstance:function(i,$){var _;return isTransformProp($)?((_=getDefaultValueType($))===null||_===void 0?void 0:_.default)||0:($=camelCaseAttributes.has($)?$:camelToDash($),i.getAttribute($))},scrapeMotionValuesFromProps,build:function(i,$,_,_e,tt,nt,st){var at=_e.isEnabled&&tt.isHydrated;buildSVGAttrs($,_,_e,tt,nt,st.transformTemplate,at?buildLayoutProjectionTransform:void 0,at?buildLayoutProjectionTransformOrigin:void 0)},render:renderSVG})),createDomVisualElement=function(i,$){return isSVGComponent(i)?svgVisualElement($,{enableHardwareAcceleration:!1}):htmlVisualElement($,{enableHardwareAcceleration:!0})},featureBundle=__assign(__assign(__assign(__assign({},animations),gestureAnimations),drag),layoutAnimations),motion=createMotionProxy(function(i,$){return createDomMotionConfig(i,$,featureBundle,createDomVisualElement)});function useForceUpdate(){var i=react.exports.useRef(!1),$=__read(react.exports.useState(0),2),_=$[0],_e=$[1];return useUnmountEffect(function(){return i.current=!0}),react.exports.useCallback(function(){!i.current&&_e(_+1)},[_])}var presenceId=0;function getPresenceId(){var i=presenceId;return presenceId++,i}var PresenceChild=function(i){var $=i.children,_=i.initial,_e=i.isPresent,tt=i.onExitComplete,nt=i.custom,st=i.presenceAffectsLayout,at=useConstant(newChildrenMap),ht=useConstant(getPresenceId),lt=react.exports.useMemo(function(){return{id:ht,initial:_,isPresent:_e,custom:nt,onExitComplete:function(pt){at.set(pt,!0);var dt=!0;at.forEach(function(gt){gt||(dt=!1)}),dt&&(tt==null||tt())},register:function(pt){return at.set(pt,!1),function(){return at.delete(pt)}}}},st?void 0:[_e]);return react.exports.useMemo(function(){at.forEach(function(pt,dt){return at.set(dt,!1)})},[_e]),react.exports.useEffect(function(){!_e&&!at.size&&(tt==null||tt())},[_e]),jsx(PresenceContext.Provider,{value:lt,children:$})};function newChildrenMap(){return new Map}function getChildKey(i){return i.key||""}function updateChildLookup(i,$){i.forEach(function(_){var _e=getChildKey(_);$.set(_e,_)})}function onlyElements(i){var $=[];return react.exports.Children.forEach(i,function(_){react.exports.isValidElement(_)&&$.push(_)}),$}var AnimatePresence=function(i){var $=i.children,_=i.custom,_e=i.initial,tt=_e===void 0?!0:_e,nt=i.onExitComplete,st=i.exitBeforeEnter,at=i.presenceAffectsLayout,ht=at===void 0?!0:at,lt=useForceUpdate(),pt=react.exports.useContext(SharedLayoutContext);isSharedLayout(pt)&&(lt=pt.forceUpdate);var dt=react.exports.useRef(!0),gt=onlyElements($),vt=react.exports.useRef(gt),bt=react.exports.useRef(new Map).current,$t=react.exports.useRef(new Set).current;if(updateChildLookup(gt,bt),dt.current)return dt.current=!1,jsx(Fragment,{children:gt.map(function(Wt){return jsx(PresenceChild,{isPresent:!0,initial:tt?void 0:!1,presenceAffectsLayout:ht,children:Wt},getChildKey(Wt))})});for(var Tt=__spreadArray([],__read(gt)),St=vt.current.map(getChildKey),Bt=gt.map(getChildKey),Dt=St.length,Vt=0;Vt<Dt;Vt++){var Ht=St[Vt];Bt.indexOf(Ht)===-1?$t.add(Ht):$t.delete(Ht)}return st&&$t.size&&(Tt=[]),$t.forEach(function(Wt){if(Bt.indexOf(Wt)===-1){var zt=bt.get(Wt);if(!!zt){var Ut=St.indexOf(Wt),ao=function(){bt.delete(Wt),$t.delete(Wt);var lo=vt.current.findIndex(function(Ao){return Ao.key===Wt});vt.current.splice(lo,1),$t.size||(vt.current=gt,lt(),nt&&nt())};Tt.splice(Ut,0,jsx(PresenceChild,{isPresent:!1,onExitComplete:ao,custom:_,presenceAffectsLayout:ht,children:zt},getChildKey(zt)))}}}),Tt=Tt.map(function(Wt){var zt=Wt.key;return $t.has(zt)?Wt:jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:ht,children:Wt},getChildKey(Wt))}),vt.current=Tt,jsx(Fragment,{children:$t.size?Tt:Tt.map(function(Wt){return react.exports.cloneElement(Wt)})})},cx$4=(...i)=>i.filter(Boolean).join(" "),spin=keyframes$2({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((i,$)=>{const _=useStyleConfig("Spinner",i),{label:_e="Loading...",thickness:tt="2px",speed:nt="0.45s",emptyColor:st="transparent",className:at,...ht}=omitThemingProps(i),lt=cx$4("chakra-spinner",at),pt={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:tt,borderBottomColor:st,borderLeftColor:st,animation:`${spin} ${nt} linear infinite`,..._};return React.createElement(chakra.div,{ref:$,__css:pt,className:lt,...ht},_e&&React.createElement(chakra.span,{srOnly:!0},_e))});Spinner.displayName="Spinner";var cx$3=(...i)=>i.filter(Boolean).join(" ");function CheckIcon(i){return jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(i){return jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(i){return jsx(Icon,{viewBox:"0 0 24 24",...i,children:jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var[AlertProvider,useAlertContext]=createContext({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(i){return STATUSES[i].colorScheme}function getStatusIcon(i){return STATUSES[i].icon}var Alert=forwardRef(function($,_){var lt;const{status:_e="info",addRole:tt=!0,...nt}=omitThemingProps($),st=(lt=$.colorScheme)!=null?lt:getStatusColorScheme(_e),at=useMultiStyleConfig("Alert",{...$,colorScheme:st}),ht={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...at.container};return React.createElement(AlertProvider,{value:{status:_e}},React.createElement(AlertStylesProvider,{value:at},React.createElement(chakra.div,{role:tt?"alert":void 0,ref:_,...nt,className:cx$3("chakra-alert",$.className),__css:ht})))});Alert.displayName="Alert";var AlertDescription=forwardRef(function($,_){const _e=useAlertStyles(),tt={display:"inline",..._e.description};return React.createElement(chakra.div,{ref:_,...$,className:cx$3("chakra-alert__desc",$.className),__css:tt})});AlertDescription.displayName="AlertDescription";function AlertIcon(i){const{status:$}=useAlertContext(),_=getStatusIcon($),_e=useAlertStyles(),tt=$==="loading"?_e.spinner:_e.icon;return React.createElement(chakra.span,{display:"inherit",...i,className:cx$3("chakra-alert__icon",i.className),__css:tt},i.children||jsx(_,{h:"100%",w:"100%"}))}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function($,_){const _e=useAlertStyles();return React.createElement(chakra.div,{ref:_,...$,className:cx$3("chakra-alert__title",$.className),__css:_e.title})});AlertTitle.displayName="AlertTitle";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(i,$)=>function(){return $||(0,i[__getOwnPropNames(i)[0]])(($={exports:{}}).exports,$),$.exports},__copyProps=(i,$,_,_e)=>{if($&&typeof $=="object"||typeof $=="function")for(let tt of __getOwnPropNames($))!__hasOwnProp.call(i,tt)&&tt!==_&&__defProp(i,tt,{get:()=>$[tt],enumerable:!(_e=__getOwnPropDesc($,tt))||_e.enumerable});return i},__toESM=(i,$,_)=>(_=i!=null?__create(__getProtoOf(i)):{},__copyProps($||!i||!i.__esModule?__defProp(_,"default",{value:i,enumerable:!0}):_,i)),require_react_production_min=__commonJS({"../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(i){var $=Symbol.for("react.element"),_=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),at=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),pt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),gt=Symbol.iterator;function vt(Pt){return Pt===null||typeof Pt!="object"?null:(Pt=gt&&Pt[gt]||Pt["@@iterator"],typeof Pt=="function"?Pt:null)}var bt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$t=Object.assign,Tt={};function St(Pt,io,vo){this.props=Pt,this.context=io,this.refs=Tt,this.updater=vo||bt}St.prototype.isReactComponent={},St.prototype.setState=function(Pt,io){if(typeof Pt!="object"&&typeof Pt!="function"&&Pt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pt,io,"setState")},St.prototype.forceUpdate=function(Pt){this.updater.enqueueForceUpdate(this,Pt,"forceUpdate")};function Bt(){}Bt.prototype=St.prototype;function Dt(Pt,io,vo){this.props=Pt,this.context=io,this.refs=Tt,this.updater=vo||bt}var Vt=Dt.prototype=new Bt;Vt.constructor=Dt,$t(Vt,St.prototype),Vt.isPureReactComponent=!0;var Ht=Array.isArray,Wt=Object.prototype.hasOwnProperty,zt={current:null},Ut={key:!0,ref:!0,__self:!0,__source:!0};function ao(Pt,io,vo){var Po,Ko={},No=null,kt=null;if(io!=null)for(Po in io.ref!==void 0&&(kt=io.ref),io.key!==void 0&&(No=""+io.key),io)Wt.call(io,Po)&&!Ut.hasOwnProperty(Po)&&(Ko[Po]=io[Po]);var jo=arguments.length-2;if(jo===1)Ko.children=vo;else if(1<jo){for(var mt=Array(jo),At=0;At<jo;At++)mt[At]=arguments[At+2];Ko.children=mt}if(Pt&&Pt.defaultProps)for(Po in jo=Pt.defaultProps,jo)Ko[Po]===void 0&&(Ko[Po]=jo[Po]);return{$$typeof:$,type:Pt,key:No,ref:kt,props:Ko,_owner:zt.current}}function lo(Pt,io){return{$$typeof:$,type:Pt.type,key:io,ref:Pt.ref,props:Pt.props,_owner:Pt._owner}}function Ao(Pt){return typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===$}function Zo(Pt){var io={"=":"=0",":":"=2"};return"$"+Pt.replace(/[=:]/g,function(vo){return io[vo]})}var Qo=/\/+/g;function Wo(Pt,io){return typeof Pt=="object"&&Pt!==null&&Pt.key!=null?Zo(""+Pt.key):io.toString(36)}function An(Pt,io,vo,Po,Ko){var No=typeof Pt;(No==="undefined"||No==="boolean")&&(Pt=null);var kt=!1;if(Pt===null)kt=!0;else switch(No){case"string":case"number":kt=!0;break;case"object":switch(Pt.$$typeof){case $:case _:kt=!0}}if(kt)return kt=Pt,Ko=Ko(kt),Pt=Po===""?"."+Wo(kt,0):Po,Ht(Ko)?(vo="",Pt!=null&&(vo=Pt.replace(Qo,"$&/")+"/"),An(Ko,io,vo,"",function(At){return At})):Ko!=null&&(Ao(Ko)&&(Ko=lo(Ko,vo+(!Ko.key||kt&&kt.key===Ko.key?"":(""+Ko.key).replace(Qo,"$&/")+"/")+Pt)),io.push(Ko)),1;if(kt=0,Po=Po===""?".":Po+":",Ht(Pt))for(var jo=0;jo<Pt.length;jo++){No=Pt[jo];var mt=Po+Wo(No,jo);kt+=An(No,io,vo,mt,Ko)}else if(mt=vt(Pt),typeof mt=="function")for(Pt=mt.call(Pt),jo=0;!(No=Pt.next()).done;)No=No.value,mt=Po+Wo(No,jo++),kt+=An(No,io,vo,mt,Ko);else if(No==="object")throw io=String(Pt),Error("Objects are not valid as a React child (found: "+(io==="[object Object]"?"object with keys {"+Object.keys(Pt).join(", ")+"}":io)+"). If you meant to render a collection of children, use an array instead.");return kt}function Oo(Pt,io,vo){if(Pt==null)return Pt;var Po=[],Ko=0;return An(Pt,Po,"","",function(No){return io.call(vo,No,Ko++)}),Po}function kn(Pt){if(Pt._status===-1){var io=Pt._result;io=io(),io.then(function(vo){(Pt._status===0||Pt._status===-1)&&(Pt._status=1,Pt._result=vo)},function(vo){(Pt._status===0||Pt._status===-1)&&(Pt._status=2,Pt._result=vo)}),Pt._status===-1&&(Pt._status=0,Pt._result=io)}if(Pt._status===1)return Pt._result.default;throw Pt._result}var oo={current:null},Bo={transition:null},Io={ReactCurrentDispatcher:oo,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:zt};i.Children={map:Oo,forEach:function(Pt,io,vo){Oo(Pt,function(){io.apply(this,arguments)},vo)},count:function(Pt){var io=0;return Oo(Pt,function(){io++}),io},toArray:function(Pt){return Oo(Pt,function(io){return io})||[]},only:function(Pt){if(!Ao(Pt))throw Error("React.Children.only expected to receive a single React element child.");return Pt}},i.Component=St,i.Fragment=_e,i.Profiler=nt,i.PureComponent=Dt,i.StrictMode=tt,i.Suspense=lt,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Io,i.cloneElement=function(Pt,io,vo){if(Pt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Pt+".");var Po=$t({},Pt.props),Ko=Pt.key,No=Pt.ref,kt=Pt._owner;if(io!=null){if(io.ref!==void 0&&(No=io.ref,kt=zt.current),io.key!==void 0&&(Ko=""+io.key),Pt.type&&Pt.type.defaultProps)var jo=Pt.type.defaultProps;for(mt in io)Wt.call(io,mt)&&!Ut.hasOwnProperty(mt)&&(Po[mt]=io[mt]===void 0&&jo!==void 0?jo[mt]:io[mt])}var mt=arguments.length-2;if(mt===1)Po.children=vo;else if(1<mt){jo=Array(mt);for(var At=0;At<mt;At++)jo[At]=arguments[At+2];Po.children=jo}return{$$typeof:$,type:Pt.type,key:Ko,ref:No,props:Po,_owner:kt}},i.createContext=function(Pt){return Pt={$$typeof:at,_currentValue:Pt,_currentValue2:Pt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Pt.Provider={$$typeof:st,_context:Pt},Pt.Consumer=Pt},i.createElement=ao,i.createFactory=function(Pt){var io=ao.bind(null,Pt);return io.type=Pt,io},i.createRef=function(){return{current:null}},i.forwardRef=function(Pt){return{$$typeof:ht,render:Pt}},i.isValidElement=Ao,i.lazy=function(Pt){return{$$typeof:dt,_payload:{_status:-1,_result:Pt},_init:kn}},i.memo=function(Pt,io){return{$$typeof:pt,type:Pt,compare:io===void 0?null:io}},i.startTransition=function(Pt){var io=Bo.transition;Bo.transition={};try{Pt()}finally{Bo.transition=io}},i.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},i.useCallback=function(Pt,io){return oo.current.useCallback(Pt,io)},i.useContext=function(Pt){return oo.current.useContext(Pt)},i.useDebugValue=function(){},i.useDeferredValue=function(Pt){return oo.current.useDeferredValue(Pt)},i.useEffect=function(Pt,io){return oo.current.useEffect(Pt,io)},i.useId=function(){return oo.current.useId()},i.useImperativeHandle=function(Pt,io,vo){return oo.current.useImperativeHandle(Pt,io,vo)},i.useInsertionEffect=function(Pt,io){return oo.current.useInsertionEffect(Pt,io)},i.useLayoutEffect=function(Pt,io){return oo.current.useLayoutEffect(Pt,io)},i.useMemo=function(Pt,io){return oo.current.useMemo(Pt,io)},i.useReducer=function(Pt,io,vo){return oo.current.useReducer(Pt,io,vo)},i.useRef=function(Pt){return oo.current.useRef(Pt)},i.useState=function(Pt){return oo.current.useState(Pt)},i.useSyncExternalStore=function(Pt,io,vo){return oo.current.useSyncExternalStore(Pt,io,vo)},i.useTransition=function(){return oo.current.useTransition()},i.version="18.2.0"}}),require_react=__commonJS({"../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(i,$){$.exports=require_react_production_min()}}),import_react=__toESM(require_react());function getValidChildren(i){return import_react.Children.toArray(i).filter($=>(0,import_react.isValidElement)($))}/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx$2=(...i)=>i.filter(Boolean).join(" "),dataAttr$1=i=>i?"":void 0,[ButtonGroupProvider,useButtonGroup]=createContext({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(i){const{children:$,className:_,..._e}=i,tt=react.exports.isValidElement($)?react.exports.cloneElement($,{"aria-hidden":!0,focusable:!1}):$,nt=cx$2("chakra-button__icon",_);return React.createElement(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,..._e,className:nt},tt)}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(i){const{label:$,placement:_,spacing:_e="0.5rem",children:tt=jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:nt,__css:st,...at}=i,ht=cx$2("chakra-button__spinner",nt),lt=_==="start"?"marginEnd":"marginStart",pt=react.exports.useMemo(()=>({display:"flex",alignItems:"center",position:$?"relative":"absolute",[lt]:$?_e:0,fontSize:"1em",lineHeight:"normal",...st}),[st,$,lt,_e]);return React.createElement(chakra.div,{className:ht,...at,__css:pt},tt)}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(i){const[$,_]=react.exports.useState(!i);return{ref:react.exports.useCallback(nt=>{!nt||_(nt.tagName==="BUTTON")},[]),type:$?"button":void 0}}var Button=forwardRef((i,$)=>{const _=useButtonGroup(),_e=useStyleConfig("Button",{..._,...i}),{isDisabled:tt=_==null?void 0:_.isDisabled,isLoading:nt,isActive:st,children:at,leftIcon:ht,rightIcon:lt,loadingText:pt,iconSpacing:dt="0.5rem",type:gt,spinner:vt,spinnerPlacement:bt="start",className:$t,as:Tt,...St}=omitThemingProps(i),Bt=react.exports.useMemo(()=>{const Wt={..._e==null?void 0:_e._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",..._e,...!!_&&{_focus:Wt}}},[_e,_]),{ref:Dt,type:Vt}=useButtonType(Tt),Ht={rightIcon:lt,leftIcon:ht,iconSpacing:dt,children:at};return React.createElement(chakra.button,{disabled:tt||nt,ref:useMergeRefs($,Dt),as:Tt,type:gt!=null?gt:Vt,"data-active":dataAttr$1(st),"data-loading":dataAttr$1(nt),__css:Bt,className:cx$2("chakra-button",$t),...St},nt&&bt==="start"&&jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:pt,placement:"start",spacing:dt,children:vt}),nt?pt||React.createElement(chakra.span,{opacity:0},jsx(ButtonContent,{...Ht})):jsx(ButtonContent,{...Ht}),nt&&bt==="end"&&jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:pt,placement:"end",spacing:dt,children:vt}))});Button.displayName="Button";function ButtonContent(i){const{leftIcon:$,rightIcon:_,children:_e,iconSpacing:tt}=i;return jsxs(Fragment,{children:[$&&jsx(ButtonIcon,{marginEnd:tt,children:$}),_e,_&&jsx(ButtonIcon,{marginStart:tt,children:_})]})}var ButtonGroup=forwardRef(function($,_){const{size:_e,colorScheme:tt,variant:nt,className:st,spacing:at="0.5rem",isAttached:ht,isDisabled:lt,...pt}=$,dt=cx$2("chakra-button__group",st),gt=react.exports.useMemo(()=>({size:_e,colorScheme:tt,variant:nt,isDisabled:lt}),[_e,tt,nt,lt]);let vt={display:"inline-flex"};return ht?vt={...vt,"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:vt={...vt,"& > *:not(style) ~ *:not(style)":{marginStart:at}},React.createElement(ButtonGroupProvider,{value:gt},React.createElement(chakra.div,{ref:_,role:"group",__css:vt,className:dt,"data-attached":ht?"":void 0,...pt}))});ButtonGroup.displayName="ButtonGroup";var IconButton=forwardRef((i,$)=>{const{icon:_,children:_e,isRound:tt,"aria-label":nt,...st}=i,at=_||_e,ht=react.exports.isValidElement(at)?react.exports.cloneElement(at,{"aria-hidden":!0,focusable:!1}):null;return jsx(Button,{padding:"0",borderRadius:tt?"full":void 0,ref:$,"aria-label":nt,...st,children:ht})});IconButton.displayName="IconButton";var cx$1=(...i)=>i.filter(Boolean).join(" "),dataAttr=i=>i?"":void 0,ariaAttr=i=>i?!0:void 0;function callAllHandlers(...i){return function(_){i.some(_e=>(_e==null||_e(_),_==null?void 0:_.defaultPrevented))}}var[FormControlStylesProvider,useFormControlStyles]=createContext({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext({strict:!1,name:"FormControlContext"});function useFormControlProvider(i){const{id:$,isRequired:_,isInvalid:_e,isDisabled:tt,isReadOnly:nt,...st}=i,at=react.exports.useId(),ht=$||`field-${at}`,lt=`${ht}-label`,pt=`${ht}-feedback`,dt=`${ht}-helptext`,[gt,vt]=react.exports.useState(!1),[bt,$t]=react.exports.useState(!1),[Tt,St]=react.exports.useState(!1),Bt=react.exports.useCallback((zt={},Ut=null)=>({id:dt,...zt,ref:mergeRefs(Ut,ao=>{!ao||$t(!0)})}),[dt]),Dt=react.exports.useCallback((zt={},Ut=null)=>{var ao,lo;return{...zt,ref:Ut,"data-focus":dataAttr(Tt),"data-disabled":dataAttr(tt),"data-invalid":dataAttr(_e),"data-readonly":dataAttr(nt),id:(ao=zt.id)!=null?ao:lt,htmlFor:(lo=zt.htmlFor)!=null?lo:ht}},[ht,tt,Tt,_e,nt,lt]),Vt=react.exports.useCallback((zt={},Ut=null)=>({id:pt,...zt,ref:mergeRefs(Ut,ao=>{!ao||vt(!0)}),"aria-live":"polite"}),[pt]),Ht=react.exports.useCallback((zt={},Ut=null)=>({...zt,...st,ref:Ut,role:"group"}),[st]),Wt=react.exports.useCallback((zt={},Ut=null)=>({...zt,ref:Ut,role:"presentation","aria-hidden":!0,children:zt.children||"*"}),[]);return{isRequired:!!_,isInvalid:!!_e,isReadOnly:!!nt,isDisabled:!!tt,isFocused:!!Tt,onFocus:()=>St(!0),onBlur:()=>St(!1),hasFeedbackText:gt,setHasFeedbackText:vt,hasHelpText:bt,setHasHelpText:$t,id:ht,labelId:lt,feedbackId:pt,helpTextId:dt,htmlProps:st,getHelpTextProps:Bt,getErrorMessageProps:Vt,getRootProps:Ht,getLabelProps:Dt,getRequiredIndicatorProps:Wt}}var FormControl=forwardRef(function($,_){const _e=useMultiStyleConfig("Form",$),tt=omitThemingProps($),{getRootProps:nt,htmlProps:st,...at}=useFormControlProvider(tt),ht=cx$1("chakra-form-control",$.className);return React.createElement(FormControlProvider,{value:at},React.createElement(FormControlStylesProvider,{value:_e},React.createElement(chakra.div,{...nt({},_),className:ht,__css:_e.container})))});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function($,_){const _e=useFormControlContext(),tt=useFormControlStyles(),nt=cx$1("chakra-form__helper-text",$.className);return React.createElement(chakra.div,{..._e==null?void 0:_e.getHelpTextProps($,_),__css:tt.helperText,className:nt})});FormHelperText.displayName="FormHelperText";function useFormControl(i){const{isDisabled:$,isInvalid:_,isReadOnly:_e,isRequired:tt,...nt}=useFormControlProps(i);return{...nt,disabled:$,readOnly:_e,required:tt,"aria-invalid":ariaAttr(_),"aria-required":ariaAttr(tt),"aria-readonly":ariaAttr(_e)}}function useFormControlProps(i){var bt,$t,Tt;const $=useFormControlContext(),{id:_,disabled:_e,readOnly:tt,required:nt,isRequired:st,isInvalid:at,isReadOnly:ht,isDisabled:lt,onFocus:pt,onBlur:dt,...gt}=i,vt=i["aria-describedby"]?[i["aria-describedby"]]:[];return($==null?void 0:$.hasFeedbackText)&&($==null?void 0:$.isInvalid)&&vt.push($.feedbackId),$!=null&&$.hasHelpText&&vt.push($.helpTextId),{...gt,"aria-describedby":vt.join(" ")||void 0,id:_!=null?_:$==null?void 0:$.id,isDisabled:(bt=_e!=null?_e:lt)!=null?bt:$==null?void 0:$.isDisabled,isReadOnly:($t=tt!=null?tt:ht)!=null?$t:$==null?void 0:$.isReadOnly,isRequired:(Tt=nt!=null?nt:st)!=null?Tt:$==null?void 0:$.isRequired,isInvalid:at!=null?at:$==null?void 0:$.isInvalid,onFocus:callAllHandlers($==null?void 0:$.onFocus,pt),onBlur:callAllHandlers($==null?void 0:$.onBlur,dt)}}var[FormErrorStylesProvider,useFormErrorStyles]=createContext({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),FormErrorMessage=forwardRef((i,$)=>{const _=useMultiStyleConfig("FormError",i),_e=omitThemingProps(i),tt=useFormControlContext();return tt!=null&&tt.isInvalid?React.createElement(FormErrorStylesProvider,{value:_},React.createElement(chakra.div,{...tt==null?void 0:tt.getErrorMessageProps(_e,$),className:cx$1("chakra-form__error-message",i.className),__css:{display:"flex",alignItems:"center",..._.text}})):null});FormErrorMessage.displayName="FormErrorMessage";var FormErrorIcon=forwardRef((i,$)=>{const _=useFormErrorStyles(),_e=useFormControlContext();if(!(_e!=null&&_e.isInvalid))return null;const tt=cx$1("chakra-form__error-icon",i.className);return jsx(Icon,{ref:$,"aria-hidden":!0,...i,__css:_.icon,className:tt,children:jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});FormErrorIcon.displayName="FormErrorIcon";var FormLabel=forwardRef(function($,_){var gt;const _e=useStyleConfig("FormLabel",$),tt=omitThemingProps($),{className:nt,children:st,requiredIndicator:at=jsx(RequiredIndicator,{}),optionalIndicator:ht=null,...lt}=tt,pt=useFormControlContext(),dt=(gt=pt==null?void 0:pt.getLabelProps(lt,_))!=null?gt:{ref:_,...lt};return React.createElement(chakra.label,{...dt,className:cx$1("chakra-form__label",tt.className),__css:{display:"block",textAlign:"start",..._e}},st,pt!=null&&pt.isRequired?at:ht)});FormLabel.displayName="FormLabel";var RequiredIndicator=forwardRef(function($,_){const _e=useFormControlContext(),tt=useFormControlStyles();if(!(_e!=null&&_e.isRequired))return null;const nt=cx$1("chakra-form__required-indicator",$.className);return React.createElement(chakra.span,{..._e==null?void 0:_e.getRequiredIndicatorProps($,_),__css:tt.requiredIndicator,className:nt})});RequiredIndicator.displayName="RequiredIndicator";function useUpdateEffect(i,$){const _=react.exports.useRef(!1),_e=react.exports.useRef(!1);react.exports.useEffect(()=>{if(_.current&&_e.current)return i();_e.current=!0},$),react.exports.useEffect(()=>(_.current=!0,()=>{_.current=!1}),[])}function CloseIcon(i){return jsx(Icon,{focusable:"false","aria-hidden":!0,...i,children:jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function($,_){const _e=useStyleConfig("CloseButton",$),{children:tt,isDisabled:nt,__css:st,...at}=omitThemingProps($),ht={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return React.createElement(chakra.button,{type:"button","aria-label":"Close",ref:_,disabled:nt,__css:{...ht,..._e,...st},...at},tt||jsx(CloseIcon,{width:"1em",height:"1em"}))});CloseButton.displayName="CloseButton";var CSSReset=()=>jsx(Global,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }
    `}),css_reset_default=CSSReset;function compact(i){const $=Object.assign({},i);for(let _ in $)$[_]===void 0&&delete $[_];return $}function isObject(i){const $=typeof i;return i!=null&&($==="object"||$==="function")&&!Array.isArray(i)}Object.freeze(["base","sm","md","lg","xl","2xl"]);function mapResponsive(i,$){return Array.isArray(i)?i.map(_=>_===null?null:$(_)):isObject(i)?Object.keys(i).reduce((_,_e)=>(_[_e]=$(i[_e]),_),{}):i!=null?$(i):null}var AspectRatio=forwardRef(function(i,$){const{ratio:_=4/3,children:_e,className:tt,...nt}=i,st=react.exports.Children.only(_e),at=cx$5("chakra-aspect-ratio",tt);return React.createElement(chakra.div,{ref:$,position:"relative",className:at,_before:{height:0,content:'""',display:"block",paddingBottom:mapResponsive(_,ht=>`${1/ht*100}%`)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}},...nt},st)});AspectRatio.displayName="AspectRatio";var Badge=forwardRef(function($,_){const _e=useStyleConfig("Badge",$),{className:tt,...nt}=omitThemingProps($);return React.createElement(chakra.span,{ref:_,className:cx$5("chakra-badge",$.className),...nt,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",..._e}})});Badge.displayName="Badge";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function($,_){const{size:_e,centerContent:tt=!0,...nt}=$;return jsx(Box,{ref:_,boxSize:_e,__css:{...tt?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...nt})});Square.displayName="Square";var Circle=forwardRef(function($,_){const{size:_e,...tt}=$;return jsx(Square,{size:_e,ref:_,borderRadius:"9999px",...tt})});Circle.displayName="Circle";var Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";var centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function($,_){const{axis:_e="both",...tt}=$;return React.createElement(chakra.div,{ref:_,__css:centerStyles[_e],...tt,position:"absolute"})});var Code=forwardRef(function($,_){const _e=useStyleConfig("Code",$),{className:tt,...nt}=omitThemingProps($);return React.createElement(chakra.code,{ref:_,className:cx$5("chakra-code",$.className),...nt,__css:{display:"inline-block",..._e}})});Code.displayName="Code";var Container$1=forwardRef(function($,_){const{className:_e,centerContent:tt,...nt}=omitThemingProps($),st=useStyleConfig("Container",$);return React.createElement(chakra.div,{ref:_,className:cx$5("chakra-container",_e),...nt,__css:{...st,...tt&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Container$1.displayName="Container";var Divider=forwardRef(function($,_){const{borderLeftWidth:_e,borderBottomWidth:tt,borderTopWidth:nt,borderRightWidth:st,borderWidth:at,borderStyle:ht,borderColor:lt,...pt}=useStyleConfig("Divider",$),{className:dt,orientation:gt="horizontal",__css:vt,...bt}=omitThemingProps($),$t={vertical:{borderLeftWidth:_e||st||at||"1px",height:"100%"},horizontal:{borderBottomWidth:tt||nt||at||"1px",width:"100%"}};return React.createElement(chakra.hr,{ref:_,"aria-orientation":gt,...bt,__css:{...pt,border:"0",borderColor:lt,borderStyle:ht,...$t[gt],...vt},className:cx$5("chakra-divider",dt)})});Divider.displayName="Divider";var Flex=forwardRef(function($,_){const{direction:_e,align:tt,justify:nt,wrap:st,basis:at,grow:ht,shrink:lt,...pt}=$,dt={display:"flex",flexDirection:_e,alignItems:tt,justifyContent:nt,flexWrap:st,flexBasis:at,flexGrow:ht,flexShrink:lt};return React.createElement(chakra.div,{ref:_,__css:dt,...pt})});Flex.displayName="Flex";var Grid=forwardRef(function($,_){const{templateAreas:_e,gap:tt,rowGap:nt,columnGap:st,column:at,row:ht,autoFlow:lt,autoRows:pt,templateRows:dt,autoColumns:gt,templateColumns:vt,...bt}=$,$t={display:"grid",gridTemplateAreas:_e,gridGap:tt,gridRowGap:nt,gridColumnGap:st,gridAutoColumns:gt,gridColumn:at,gridRow:ht,gridAutoFlow:lt,gridAutoRows:pt,gridTemplateRows:dt,gridTemplateColumns:vt};return React.createElement(chakra.div,{ref:_,__css:$t,...bt})});Grid.displayName="Grid";function spanFn(i){return mapResponsive(i,$=>$==="auto"?"auto":`span ${$}/span ${$}`)}var GridItem=forwardRef(function($,_){const{area:_e,colSpan:tt,colStart:nt,colEnd:st,rowEnd:at,rowSpan:ht,rowStart:lt,...pt}=$,dt=compact({gridArea:_e,gridColumn:spanFn(tt),gridRow:spanFn(ht),gridColumnStart:nt,gridColumnEnd:st,gridRowStart:lt,gridRowEnd:at});return React.createElement(chakra.div,{ref:_,__css:dt,...pt})});GridItem.displayName="GridItem";var Heading=forwardRef(function($,_){const _e=useStyleConfig("Heading",$),{className:tt,...nt}=omitThemingProps($);return React.createElement(chakra.h2,{ref:_,className:cx$5("chakra-heading",$.className),...nt,__css:_e})});Heading.displayName="Heading";forwardRef(function($,_){const _e=useStyleConfig("Mark",$),tt=omitThemingProps($);return jsx(Box,{ref:_,...tt,as:"mark",__css:{bg:"transparent",whiteSpace:"nowrap",..._e}})});var Kbd=forwardRef(function($,_){const _e=useStyleConfig("Kbd",$),{className:tt,...nt}=omitThemingProps($);return React.createElement(chakra.kbd,{ref:_,className:cx$5("chakra-kbd",tt),...nt,__css:{fontFamily:"mono",..._e}})});Kbd.displayName="Kbd";var Link=forwardRef(function($,_){const _e=useStyleConfig("Link",$),{className:tt,isExternal:nt,...st}=omitThemingProps($);return React.createElement(chakra.a,{target:nt?"_blank":void 0,rel:nt?"noopener":void 0,ref:_,className:cx$5("chakra-link",tt),...st,__css:_e})});Link.displayName="Link";forwardRef(function($,_){const{isExternal:_e,target:tt,rel:nt,className:st,...at}=$;return React.createElement(chakra.a,{...at,ref:_,className:cx$5("chakra-linkbox__overlay",st),rel:_e?"noopener noreferrer":nt,target:_e?"_blank":tt,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}})});forwardRef(function($,_){const{className:_e,...tt}=$;return React.createElement(chakra.div,{ref:_,position:"relative",...tt,className:cx$5("chakra-linkbox",_e),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}})});var[ListStylesProvider,useListStyles]=createContext({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function($,_){const _e=useMultiStyleConfig("List",$),{children:tt,styleType:nt="none",stylePosition:st,spacing:at,...ht}=omitThemingProps($),lt=getValidChildren(tt),dt=at?{["& > *:not(style) ~ *:not(style)"]:{mt:at}}:{};return React.createElement(ListStylesProvider,{value:_e},React.createElement(chakra.ul,{ref:_,listStyleType:nt,listStylePosition:st,role:"list",__css:{..._e.container,...dt},...ht},lt))});List.displayName="List";var OrderedList=forwardRef((i,$)=>{const{as:_,..._e}=i;return jsx(List,{ref:$,as:"ol",styleType:"decimal",marginStart:"1em",..._e})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function($,_){const{as:_e,...tt}=$;return jsx(List,{ref:_,as:"ul",styleType:"initial",marginStart:"1em",...tt})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function($,_){const _e=useListStyles();return React.createElement(chakra.li,{ref:_,...$,__css:_e.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function($,_){const _e=useListStyles();return jsx(Icon,{ref:_,role:"presentation",...$,__css:_e.icon})});ListIcon.displayName="ListIcon";var SimpleGrid=forwardRef(function($,_){const{columns:_e,spacingX:tt,spacingY:nt,spacing:st,minChildWidth:at,...ht}=$,lt=useTheme(),pt=at?widthToColumns(at,lt):countToColumns(_e);return jsx(Grid,{ref:_,gap:st,columnGap:tt,rowGap:nt,templateColumns:pt,...ht})});SimpleGrid.displayName="SimpleGrid";function toPx(i){return typeof i=="number"?`${i}px`:i}function widthToColumns(i,$){return mapResponsive(i,_=>{const _e=getToken("sizes",_,toPx(_))($);return _===null?null:`repeat(auto-fit, minmax(${_e}, 1fr))`})}function countToColumns(i){return mapResponsive(i,$=>$===null?null:`repeat(${$}, minmax(0, 1fr))`)}var Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";var selector="& > *:not(style) ~ *:not(style)";function getStackStyles(i){const{spacing:$,direction:_}=i,_e={column:{marginTop:$,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:$},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:$,marginStart:0},"row-reverse":{marginTop:0,marginEnd:$,marginBottom:0,marginStart:0}};return{flexDirection:_,[selector]:mapResponsive(_,tt=>_e[tt])}}function getDividerStyles(i){const{spacing:$,direction:_}=i,_e={column:{my:$,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:$,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:$,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:$,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(_,tt=>_e[tt])}}var StackItem=i=>React.createElement(chakra.div,{className:"chakra-stack__item",...i,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...i.__css}});StackItem.displayName="StackItem";var Stack=forwardRef((i,$)=>{const{isInline:_,direction:_e,align:tt,justify:nt,spacing:st="0.5rem",wrap:at,children:ht,divider:lt,className:pt,shouldWrapChildren:dt,...gt}=i,vt=_?"row":_e!=null?_e:"column",bt=react.exports.useMemo(()=>getStackStyles({direction:vt,spacing:st}),[vt,st]),$t=react.exports.useMemo(()=>getDividerStyles({spacing:st,direction:vt}),[st,vt]),Tt=!!lt,St=!dt&&!Tt,Bt=getValidChildren(ht),Dt=St?Bt:Bt.map((Ht,Wt)=>{const zt=typeof Ht.key<"u"?Ht.key:Wt,Ut=Wt+1===Bt.length,lo=dt?jsx(StackItem,{children:Ht},zt):Ht;if(!Tt)return lo;const Ao=react.exports.cloneElement(lt,{__css:$t}),Zo=Ut?null:Ao;return jsxs(react.exports.Fragment,{children:[lo,Zo]},zt)}),Vt=cx$5("chakra-stack",pt);return React.createElement(chakra.div,{ref:$,display:"flex",alignItems:tt,justifyContent:nt,flexDirection:bt.flexDirection,flexWrap:at,className:Vt,__css:Tt?{}:{[selector]:bt[selector]},...gt},Dt)});Stack.displayName="Stack";var HStack=forwardRef((i,$)=>jsx(Stack,{align:"center",...i,direction:"row",ref:$}));HStack.displayName="HStack";var VStack=forwardRef((i,$)=>jsx(Stack,{align:"center",...i,direction:"column",ref:$}));VStack.displayName="VStack";var Text=forwardRef(function($,_){const _e=useStyleConfig("Text",$),{className:tt,align:nt,decoration:st,casing:at,...ht}=omitThemingProps($),lt=compact({textAlign:$.align,textDecoration:$.decoration,textTransform:$.casing});return React.createElement(chakra.p,{ref:_,className:cx$5("chakra-text",$.className),...lt,...ht,__css:_e})});Text.displayName="Text";function px(i){return typeof i=="number"?`${i}px`:i}var Wrap=forwardRef(function($,_){const{spacing:_e="0.5rem",spacingX:tt,spacingY:nt,children:st,justify:at,direction:ht,align:lt,className:pt,shouldWrapChildren:dt,...gt}=$,vt=react.exports.useMemo(()=>{const{spacingX:$t=_e,spacingY:Tt=_e}={spacingX:tt,spacingY:nt};return{"--chakra-wrap-x-spacing":St=>mapResponsive($t,Bt=>px(tokenToCSSVar("space",Bt)(St))),"--chakra-wrap-y-spacing":St=>mapResponsive(Tt,Bt=>px(tokenToCSSVar("space",Bt)(St))),"--wrap-x-spacing":"calc(var(--chakra-wrap-x-spacing) / 2)","--wrap-y-spacing":"calc(var(--chakra-wrap-y-spacing) / 2)",display:"flex",flexWrap:"wrap",justifyContent:at,alignItems:lt,flexDirection:ht,listStyleType:"none",padding:"0",margin:"calc(var(--wrap-y-spacing) * -1) calc(var(--wrap-x-spacing) * -1)","& > *:not(style)":{margin:"var(--wrap-y-spacing) var(--wrap-x-spacing)"}}},[_e,tt,nt,at,lt,ht]),bt=dt?react.exports.Children.map(st,($t,Tt)=>jsx(WrapItem,{children:$t},Tt)):st;return React.createElement(chakra.div,{ref:_,className:cx$5("chakra-wrap",pt),overflow:"hidden",...gt},React.createElement(chakra.ul,{className:"chakra-wrap__list",__css:vt},bt))});Wrap.displayName="Wrap";var WrapItem=forwardRef(function($,_){const{className:_e,...tt}=$;return React.createElement(chakra.li,{ref:_,__css:{display:"flex",alignItems:"flex-start"},className:cx$5("chakra-wrap__listitem",_e),...tt})});WrapItem.displayName="WrapItem";var doc={body:{classList:{add(){},remove(){}}},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}}},ssrDocument=doc,noop=()=>{},win={document:ssrDocument,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:noop,removeEventListener:noop,getComputedStyle(){return{getPropertyValue(){return""}}},matchMedia(){return{matches:!1,addListener:noop,removeListener:noop}},requestAnimationFrame(i){return typeof setTimeout>"u"?(i(),null):setTimeout(i,0)},cancelAnimationFrame(i){typeof setTimeout>"u"||clearTimeout(i)},setTimeout:()=>0,clearTimeout:noop,setInterval:()=>0,clearInterval:noop},ssrWindow=win,mockEnv={window:ssrWindow,document:ssrDocument},defaultEnv=typeof window<"u"?{window,document}:mockEnv,EnvironmentContext=react.exports.createContext(defaultEnv);EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(i){const{children:$,environment:_}=i,[_e,tt]=react.exports.useState(null),[nt,st]=react.exports.useState(!1);react.exports.useEffect(()=>st(!0),[]);const at=react.exports.useMemo(()=>{if(_)return _;const ht=_e==null?void 0:_e.ownerDocument,lt=_e==null?void 0:_e.ownerDocument.defaultView;return ht?{document:ht,window:lt}:defaultEnv},[_e,_]);return jsxs(EnvironmentContext.Provider,{value:at,children:[$,!_&&nt&&jsx("span",{id:"__chakra_env",hidden:!0,ref:ht=>{react.exports.startTransition(()=>{ht&&tt(ht)})}})]})}EnvironmentProvider.displayName="EnvironmentProvider";var[PortalManagerContextProvider,usePortalManager]=createContext({strict:!1,name:"PortalManagerContext"});function PortalManager(i){const{children:$,zIndex:_}=i;return jsx(PortalManagerContextProvider,{value:{zIndex:_},children:$})}PortalManager.displayName="PortalManager";var[PortalContextProvider,usePortalContext]=createContext({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=i=>jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:i.zIndex,top:0,left:0,right:0},children:i.children}),DefaultPortal=i=>{const{appendToParentPortal:$,children:_}=i,[_e,tt]=react.exports.useState(null),nt=react.exports.useRef(null),[,st]=react.exports.useState({});react.exports.useEffect(()=>st({}),[]);const at=usePortalContext(),ht=usePortalManager();useSafeLayoutEffect(()=>{if(!_e)return;const pt=_e.ownerDocument,dt=$&&at!=null?at:pt.body;if(!dt)return;nt.current=pt.createElement("div"),nt.current.className=PORTAL_CLASSNAME,dt.appendChild(nt.current),st({});const gt=nt.current;return()=>{dt.contains(gt)&&dt.removeChild(gt)}},[_e]);const lt=ht!=null&&ht.zIndex?jsx(Container,{zIndex:ht==null?void 0:ht.zIndex,children:_}):_;return nt.current?reactDom.exports.createPortal(jsx(PortalContextProvider,{value:nt.current,children:lt}),nt.current):jsx("span",{ref:pt=>{pt&&tt(pt)}})},ContainerPortal=i=>{const{children:$,containerRef:_,appendToParentPortal:_e}=i,tt=_.current,nt=tt!=null?tt:typeof window<"u"?document.body:void 0,st=react.exports.useMemo(()=>{const ht=tt==null?void 0:tt.ownerDocument.createElement("div");return ht&&(ht.className=PORTAL_CLASSNAME),ht},[tt]),[,at]=react.exports.useState({});return useSafeLayoutEffect(()=>at({}),[]),useSafeLayoutEffect(()=>{if(!(!st||!nt))return nt.appendChild(st),()=>{nt.removeChild(st)}},[st,nt]),nt&&st?reactDom.exports.createPortal(jsx(PortalContextProvider,{value:_e?st:null,children:$}),st):null};function Portal(i){const{containerRef:$,..._}=i;return $?jsx(ContainerPortal,{containerRef:$,..._}):jsx(DefaultPortal,{..._})}Portal.defaultProps={appendToParentPortal:!0};Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";var cx=(...i)=>i.filter(Boolean).join(" ");function omit(i,$=[]){const _=Object.assign({},i);for(const _e of $)_e in _&&delete _[_e];return _}var omitted=["h","minH","height","minHeight"],Textarea=forwardRef((i,$)=>{const _=useStyleConfig("Textarea",i),{className:_e,rows:tt,...nt}=omitThemingProps(i),st=useFormControl(nt),at=tt?omit(_,omitted):_;return React.createElement(chakra.textarea,{ref:$,rows:tt,...st,className:cx("chakra-textarea",_e),__css:at})});Textarea.displayName="Textarea";function anatomy(i,$={}){let _=!1;function _e(){if(!_){_=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function tt(...pt){_e();for(const dt of pt)$[dt]=ht(dt);return anatomy(i,$)}function nt(...pt){for(const dt of pt)dt in $||($[dt]=ht(dt));return anatomy(i,$)}function st(){return Object.fromEntries(Object.entries($).map(([dt,gt])=>[dt,gt.selector]))}function at(){return Object.fromEntries(Object.entries($).map(([dt,gt])=>[dt,gt.className]))}function ht(pt){const vt=`chakra-${(["container","root"].includes(pt!=null?pt:"")?[i]:[i,pt]).filter(Boolean).join("__")}`;return{className:vt,selector:`.${vt}`,toString:()=>pt}}return{parts:tt,toPart:ht,extend:nt,selectors:st,classnames:at,get keys(){return Object.keys($)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton");function bound01(i,$){isOnePointZero(i)&&(i="100%");var _=isPercentage(i);return i=$===360?i:Math.min($,Math.max(0,parseFloat(i))),_&&(i=parseInt(String(i*$),10)/100),Math.abs(i-$)<1e-6?1:($===360?i=(i<0?i%$+$:i%$)/parseFloat(String($)):i=i%$/parseFloat(String($)),i)}function clamp01(i){return Math.min(1,Math.max(0,i))}function isOnePointZero(i){return typeof i=="string"&&i.indexOf(".")!==-1&&parseFloat(i)===1}function isPercentage(i){return typeof i=="string"&&i.indexOf("%")!==-1}function boundAlpha(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function convertToPercentage(i){return i<=1?"".concat(Number(i)*100,"%"):i}function pad2(i){return i.length===1?"0"+i:String(i)}function rgbToRgb(i,$,_){return{r:bound01(i,255)*255,g:bound01($,255)*255,b:bound01(_,255)*255}}function rgbToHsl(i,$,_){i=bound01(i,255),$=bound01($,255),_=bound01(_,255);var _e=Math.max(i,$,_),tt=Math.min(i,$,_),nt=0,st=0,at=(_e+tt)/2;if(_e===tt)st=0,nt=0;else{var ht=_e-tt;switch(st=at>.5?ht/(2-_e-tt):ht/(_e+tt),_e){case i:nt=($-_)/ht+($<_?6:0);break;case $:nt=(_-i)/ht+2;break;case _:nt=(i-$)/ht+4;break}nt/=6}return{h:nt,s:st,l:at}}function hue2rgb(i,$,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?i+($-i)*(6*_):_<1/2?$:_<2/3?i+($-i)*(2/3-_)*6:i}function hslToRgb(i,$,_){var _e,tt,nt;if(i=bound01(i,360),$=bound01($,100),_=bound01(_,100),$===0)tt=_,nt=_,_e=_;else{var st=_<.5?_*(1+$):_+$-_*$,at=2*_-st;_e=hue2rgb(at,st,i+1/3),tt=hue2rgb(at,st,i),nt=hue2rgb(at,st,i-1/3)}return{r:_e*255,g:tt*255,b:nt*255}}function rgbToHsv(i,$,_){i=bound01(i,255),$=bound01($,255),_=bound01(_,255);var _e=Math.max(i,$,_),tt=Math.min(i,$,_),nt=0,st=_e,at=_e-tt,ht=_e===0?0:at/_e;if(_e===tt)nt=0;else{switch(_e){case i:nt=($-_)/at+($<_?6:0);break;case $:nt=(_-i)/at+2;break;case _:nt=(i-$)/at+4;break}nt/=6}return{h:nt,s:ht,v:st}}function hsvToRgb(i,$,_){i=bound01(i,360)*6,$=bound01($,100),_=bound01(_,100);var _e=Math.floor(i),tt=i-_e,nt=_*(1-$),st=_*(1-tt*$),at=_*(1-(1-tt)*$),ht=_e%6,lt=[_,st,nt,nt,at,_][ht],pt=[at,_,_,st,nt,nt][ht],dt=[nt,nt,at,_,_,st][ht];return{r:lt*255,g:pt*255,b:dt*255}}function rgbToHex(i,$,_,_e){var tt=[pad2(Math.round(i).toString(16)),pad2(Math.round($).toString(16)),pad2(Math.round(_).toString(16))];return _e&&tt[0].startsWith(tt[0].charAt(1))&&tt[1].startsWith(tt[1].charAt(1))&&tt[2].startsWith(tt[2].charAt(1))?tt[0].charAt(0)+tt[1].charAt(0)+tt[2].charAt(0):tt.join("")}function rgbaToHex(i,$,_,_e,tt){var nt=[pad2(Math.round(i).toString(16)),pad2(Math.round($).toString(16)),pad2(Math.round(_).toString(16)),pad2(convertDecimalToHex(_e))];return tt&&nt[0].startsWith(nt[0].charAt(1))&&nt[1].startsWith(nt[1].charAt(1))&&nt[2].startsWith(nt[2].charAt(1))&&nt[3].startsWith(nt[3].charAt(1))?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0)+nt[3].charAt(0):nt.join("")}function convertDecimalToHex(i){return Math.round(parseFloat(i)*255).toString(16)}function convertHexToDecimal(i){return parseIntFromHex(i)/255}function parseIntFromHex(i){return parseInt(i,16)}function numberInputToObject(i){return{r:i>>16,g:(i&65280)>>8,b:i&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(i){var $={r:0,g:0,b:0},_=1,_e=null,tt=null,nt=null,st=!1,at=!1;return typeof i=="string"&&(i=stringInputToObject(i)),typeof i=="object"&&(isValidCSSUnit(i.r)&&isValidCSSUnit(i.g)&&isValidCSSUnit(i.b)?($=rgbToRgb(i.r,i.g,i.b),st=!0,at=String(i.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(i.h)&&isValidCSSUnit(i.s)&&isValidCSSUnit(i.v)?(_e=convertToPercentage(i.s),tt=convertToPercentage(i.v),$=hsvToRgb(i.h,_e,tt),st=!0,at="hsv"):isValidCSSUnit(i.h)&&isValidCSSUnit(i.s)&&isValidCSSUnit(i.l)&&(_e=convertToPercentage(i.s),nt=convertToPercentage(i.l),$=hslToRgb(i.h,_e,nt),st=!0,at="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(_=i.a)),_=boundAlpha(_),{ok:st,format:i.format||at,r:Math.min(255,Math.max($.r,0)),g:Math.min(255,Math.max($.g,0)),b:Math.min(255,Math.max($.b,0)),a:_}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(i){if(i=i.trim().toLowerCase(),i.length===0)return!1;var $=!1;if(names[i])i=names[i],$=!0;else if(i==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var _=matchers.rgb.exec(i);return _?{r:_[1],g:_[2],b:_[3]}:(_=matchers.rgba.exec(i),_?{r:_[1],g:_[2],b:_[3],a:_[4]}:(_=matchers.hsl.exec(i),_?{h:_[1],s:_[2],l:_[3]}:(_=matchers.hsla.exec(i),_?{h:_[1],s:_[2],l:_[3],a:_[4]}:(_=matchers.hsv.exec(i),_?{h:_[1],s:_[2],v:_[3]}:(_=matchers.hsva.exec(i),_?{h:_[1],s:_[2],v:_[3],a:_[4]}:(_=matchers.hex8.exec(i),_?{r:parseIntFromHex(_[1]),g:parseIntFromHex(_[2]),b:parseIntFromHex(_[3]),a:convertHexToDecimal(_[4]),format:$?"name":"hex8"}:(_=matchers.hex6.exec(i),_?{r:parseIntFromHex(_[1]),g:parseIntFromHex(_[2]),b:parseIntFromHex(_[3]),format:$?"name":"hex"}:(_=matchers.hex4.exec(i),_?{r:parseIntFromHex(_[1]+_[1]),g:parseIntFromHex(_[2]+_[2]),b:parseIntFromHex(_[3]+_[3]),a:convertHexToDecimal(_[4]+_[4]),format:$?"name":"hex8"}:(_=matchers.hex3.exec(i),_?{r:parseIntFromHex(_[1]+_[1]),g:parseIntFromHex(_[2]+_[2]),b:parseIntFromHex(_[3]+_[3]),format:$?"name":"hex"}:!1)))))))))}function isValidCSSUnit(i){return Boolean(matchers.CSS_UNIT.exec(String(i)))}var TinyColor=function(){function i($,_){$===void 0&&($=""),_===void 0&&(_={});var _e;if($ instanceof i)return $;typeof $=="number"&&($=numberInputToObject($)),this.originalInput=$;var tt=inputToRGB($);this.originalInput=$,this.r=tt.r,this.g=tt.g,this.b=tt.b,this.a=tt.a,this.roundA=Math.round(100*this.a)/100,this.format=(_e=_.format)!==null&&_e!==void 0?_e:tt.format,this.gradientType=_.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=tt.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var $=this.toRgb();return($.r*299+$.g*587+$.b*114)/1e3},i.prototype.getLuminance=function(){var $=this.toRgb(),_,_e,tt,nt=$.r/255,st=$.g/255,at=$.b/255;return nt<=.03928?_=nt/12.92:_=Math.pow((nt+.055)/1.055,2.4),st<=.03928?_e=st/12.92:_e=Math.pow((st+.055)/1.055,2.4),at<=.03928?tt=at/12.92:tt=Math.pow((at+.055)/1.055,2.4),.2126*_+.7152*_e+.0722*tt},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function($){return this.a=boundAlpha($),this.roundA=Math.round(100*this.a)/100,this},i.prototype.toHsv=function(){var $=rgbToHsv(this.r,this.g,this.b);return{h:$.h*360,s:$.s,v:$.v,a:this.a}},i.prototype.toHsvString=function(){var $=rgbToHsv(this.r,this.g,this.b),_=Math.round($.h*360),_e=Math.round($.s*100),tt=Math.round($.v*100);return this.a===1?"hsv(".concat(_,", ").concat(_e,"%, ").concat(tt,"%)"):"hsva(".concat(_,", ").concat(_e,"%, ").concat(tt,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var $=rgbToHsl(this.r,this.g,this.b);return{h:$.h*360,s:$.s,l:$.l,a:this.a}},i.prototype.toHslString=function(){var $=rgbToHsl(this.r,this.g,this.b),_=Math.round($.h*360),_e=Math.round($.s*100),tt=Math.round($.l*100);return this.a===1?"hsl(".concat(_,", ").concat(_e,"%, ").concat(tt,"%)"):"hsla(".concat(_,", ").concat(_e,"%, ").concat(tt,"%, ").concat(this.roundA,")")},i.prototype.toHex=function($){return $===void 0&&($=!1),rgbToHex(this.r,this.g,this.b,$)},i.prototype.toHexString=function($){return $===void 0&&($=!1),"#"+this.toHex($)},i.prototype.toHex8=function($){return $===void 0&&($=!1),rgbaToHex(this.r,this.g,this.b,this.a,$)},i.prototype.toHex8String=function($){return $===void 0&&($=!1),"#"+this.toHex8($)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var $=Math.round(this.r),_=Math.round(this.g),_e=Math.round(this.b);return this.a===1?"rgb(".concat($,", ").concat(_,", ").concat(_e,")"):"rgba(".concat($,", ").concat(_,", ").concat(_e,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var $=function(_){return"".concat(Math.round(bound01(_,255)*100),"%")};return{r:$(this.r),g:$(this.g),b:$(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var $=function(_){return Math.round(bound01(_,255)*100)};return this.a===1?"rgb(".concat($(this.r),"%, ").concat($(this.g),"%, ").concat($(this.b),"%)"):"rgba(".concat($(this.r),"%, ").concat($(this.g),"%, ").concat($(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var $="#"+rgbToHex(this.r,this.g,this.b,!1),_=0,_e=Object.entries(names);_<_e.length;_++){var tt=_e[_],nt=tt[0],st=tt[1];if($===st)return nt}return!1},i.prototype.toString=function($){var _=Boolean($);$=$!=null?$:this.format;var _e=!1,tt=this.a<1&&this.a>=0,nt=!_&&tt&&($.startsWith("hex")||$==="name");return nt?$==="name"&&this.a===0?this.toName():this.toRgbString():($==="rgb"&&(_e=this.toRgbString()),$==="prgb"&&(_e=this.toPercentageRgbString()),($==="hex"||$==="hex6")&&(_e=this.toHexString()),$==="hex3"&&(_e=this.toHexString(!0)),$==="hex4"&&(_e=this.toHex8String(!0)),$==="hex8"&&(_e=this.toHex8String()),$==="name"&&(_e=this.toName()),$==="hsl"&&(_e=this.toHslString()),$==="hsv"&&(_e=this.toHsvString()),_e||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function($){$===void 0&&($=10);var _=this.toHsl();return _.l+=$/100,_.l=clamp01(_.l),new i(_)},i.prototype.brighten=function($){$===void 0&&($=10);var _=this.toRgb();return _.r=Math.max(0,Math.min(255,_.r-Math.round(255*-($/100)))),_.g=Math.max(0,Math.min(255,_.g-Math.round(255*-($/100)))),_.b=Math.max(0,Math.min(255,_.b-Math.round(255*-($/100)))),new i(_)},i.prototype.darken=function($){$===void 0&&($=10);var _=this.toHsl();return _.l-=$/100,_.l=clamp01(_.l),new i(_)},i.prototype.tint=function($){return $===void 0&&($=10),this.mix("white",$)},i.prototype.shade=function($){return $===void 0&&($=10),this.mix("black",$)},i.prototype.desaturate=function($){$===void 0&&($=10);var _=this.toHsl();return _.s-=$/100,_.s=clamp01(_.s),new i(_)},i.prototype.saturate=function($){$===void 0&&($=10);var _=this.toHsl();return _.s+=$/100,_.s=clamp01(_.s),new i(_)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function($){var _=this.toHsl(),_e=(_.h+$)%360;return _.h=_e<0?360+_e:_e,new i(_)},i.prototype.mix=function($,_){_===void 0&&(_=50);var _e=this.toRgb(),tt=new i($).toRgb(),nt=_/100,st={r:(tt.r-_e.r)*nt+_e.r,g:(tt.g-_e.g)*nt+_e.g,b:(tt.b-_e.b)*nt+_e.b,a:(tt.a-_e.a)*nt+_e.a};return new i(st)},i.prototype.analogous=function($,_){$===void 0&&($=6),_===void 0&&(_=30);var _e=this.toHsl(),tt=360/_,nt=[this];for(_e.h=(_e.h-(tt*$>>1)+720)%360;--$;)_e.h=(_e.h+tt)%360,nt.push(new i(_e));return nt},i.prototype.complement=function(){var $=this.toHsl();return $.h=($.h+180)%360,new i($)},i.prototype.monochromatic=function($){$===void 0&&($=6);for(var _=this.toHsv(),_e=_.h,tt=_.s,nt=_.v,st=[],at=1/$;$--;)st.push(new i({h:_e,s:tt,v:nt})),nt=(nt+at)%1;return st},i.prototype.splitcomplement=function(){var $=this.toHsl(),_=$.h;return[this,new i({h:(_+72)%360,s:$.s,l:$.l}),new i({h:(_+216)%360,s:$.s,l:$.l})]},i.prototype.onBackground=function($){var _=this.toRgb(),_e=new i($).toRgb();return new i({r:_e.r+(_.r-_e.r)*_.a,g:_e.g+(_.g-_e.g)*_.a,b:_e.b+(_.b-_e.b)*_.a})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function($){for(var _=this.toHsl(),_e=_.h,tt=[this],nt=360/$,st=1;st<$;st++)tt.push(new i({h:(_e+st*nt)%360,s:_.s,l:_.l}));return tt},i.prototype.equals=function($){return this.toRgbString()===new i($).toRgbString()},i}();function random(i){if(i===void 0&&(i={}),i.count!==void 0&&i.count!==null){var $=i.count,_=[];for(i.count=void 0;$>_.length;)i.count=null,i.seed&&(i.seed+=1),_.push(random(i));return i.count=$,_}var _e=pickHue(i.hue,i.seed),tt=pickSaturation(_e,i),nt=pickBrightness(_e,tt,i),st={h:_e,s:tt,v:nt};return i.alpha!==void 0&&(st.a=i.alpha),new TinyColor(st)}function pickHue(i,$){var _=getHueRange(i),_e=randomWithin(_,$);return _e<0&&(_e=360+_e),_e}function pickSaturation(i,$){if($.hue==="monochrome")return 0;if($.luminosity==="random")return randomWithin([0,100],$.seed);var _=getColorInfo(i).saturationRange,_e=_[0],tt=_[1];switch($.luminosity){case"bright":_e=55;break;case"dark":_e=tt-10;break;case"light":tt=55;break}return randomWithin([_e,tt],$.seed)}function pickBrightness(i,$,_){var _e=getMinimumBrightness(i,$),tt=100;switch(_.luminosity){case"dark":tt=_e+20;break;case"light":_e=(tt+_e)/2;break;case"random":_e=0,tt=100;break}return randomWithin([_e,tt],_.seed)}function getMinimumBrightness(i,$){for(var _=getColorInfo(i).lowerBounds,_e=0;_e<_.length-1;_e++){var tt=_[_e][0],nt=_[_e][1],st=_[_e+1][0],at=_[_e+1][1];if($>=tt&&$<=st){var ht=(at-nt)/(st-tt),lt=nt-ht*tt;return ht*$+lt}}return 0}function getHueRange(i){var $=parseInt(i,10);if(!Number.isNaN($)&&$<360&&$>0)return[$,$];if(typeof i=="string"){var _=bounds.find(function(st){return st.name===i});if(_){var _e=defineColor(_);if(_e.hueRange)return _e.hueRange}var tt=new TinyColor(i);if(tt.isValid){var nt=tt.toHsv().h;return[nt,nt]}}return[0,360]}function getColorInfo(i){i>=334&&i<=360&&(i-=360);for(var $=0,_=bounds;$<_.length;$++){var _e=_[$],tt=defineColor(_e);if(tt.hueRange&&i>=tt.hueRange[0]&&i<=tt.hueRange[1])return tt}throw Error("Color not found")}function randomWithin(i,$){if($===void 0)return Math.floor(i[0]+Math.random()*(i[1]+1-i[0]));var _=i[1]||1,_e=i[0]||0;$=($*9301+49297)%233280;var tt=$/233280;return Math.floor(_e+tt*(_-_e))}function defineColor(i){var $=i.lowerBounds[0][0],_=i.lowerBounds[i.lowerBounds.length-1][0],_e=i.lowerBounds[i.lowerBounds.length-1][1],tt=i.lowerBounds[0][1];return{name:i.name,hueRange:i.hueRange,lowerBounds:i.lowerBounds,saturationRange:[$,_],brightnessRange:[_e,tt]}}var bounds=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}],getColor=(i,$,_)=>{const _e=memoizedGet(i,`colors.${$}`,$),{isValid:tt}=new TinyColor(_e);return tt?_e:_},tone=i=>$=>{const _=getColor($,i);return new TinyColor(_).isDark()?"dark":"light"},isDark=i=>$=>tone(i)($)==="dark",transparentize=(i,$)=>_=>{const _e=getColor(_,i);return new TinyColor(_e).setAlpha($).toRgbString()};function generateStripe(i="1rem",$="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${$} 25%,
    transparent 25%,
    transparent 50%,
    ${$} 50%,
    ${$} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${i} ${i}`}}function randomColor(i){const $=random().toHexString();return!i||isEmptyObject(i)?$:i.string&&i.colors?randomColorFromList(i.string,i.colors):i.string&&!i.colors?randomColorFromString(i.string):i.colors&&!i.string?randomFromList(i.colors):$}function randomColorFromString(i){let $=0;if(i.length===0)return $.toString();for(let _e=0;_e<i.length;_e+=1)$=i.charCodeAt(_e)+(($<<5)-$),$=$&$;let _="#";for(let _e=0;_e<3;_e+=1)_+=`00${($>>_e*8&255).toString(16)}`.substr(-2);return _}function randomColorFromList(i,$){let _=0;if(i.length===0)return $[0];for(let _e=0;_e<i.length;_e+=1)_=i.charCodeAt(_e)+((_<<5)-_),_=_&_;return _=(_%$.length+$.length)%$.length,$[_]}function randomFromList(i){return i[Math.floor(Math.random()*i.length)]}function mode(i,$){return _=>_.colorMode==="dark"?$:i}function orient(i){const{orientation:$,vertical:_,horizontal:_e}=i;return $?$==="vertical"?_:_e:{}}function toRef(i){return isObject$1(i)&&i.reference?i.reference:String(i)}var toExpr=(i,...$)=>$.map(toRef).join(` ${i} `).replace(/calc/g,""),add=(...i)=>`calc(${toExpr("+",...i)})`,subtract=(...i)=>`calc(${toExpr("-",...i)})`,multiply=(...i)=>`calc(${toExpr("*",...i)})`,divide=(...i)=>`calc(${toExpr("/",...i)})`,negate=i=>{const $=toRef(i);return $!=null&&!Number.isNaN(parseFloat($))?String($).startsWith("-")?String($).slice(1):`-${$}`:multiply($,-1)},calc=Object.assign(i=>({add:(...$)=>calc(add(i,...$)),subtract:(...$)=>calc(subtract(i,...$)),multiply:(...$)=>calc(multiply(i,...$)),divide:(...$)=>calc(divide(i,...$)),negate:()=>calc(negate(i)),toString:()=>i.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(i){return!Number.isInteger(parseFloat(i.toString()))}function replaceWhiteSpace(i,$="-"){return i.replace(/\s+/g,$)}function escape(i){const $=replaceWhiteSpace(i.toString());return $.includes("\\.")?i:isDecimal(i)?$.replace(".","\\."):i}function addPrefix(i,$=""){return[$,escape(i)].filter(Boolean).join("-")}function toVarRef(i,$){return`var(${escape(i)}${$?`, ${$}`:""})`}function toVar(i,$=""){return`--${addPrefix(i,$)}`}function cssVar(i,$){const _=toVar(i,$==null?void 0:$.prefix);return{variable:_,reference:toVarRef(_,getFallback($==null?void 0:$.fallback))}}function getFallback(i){return typeof i=="string"?i:i==null?void 0:i.reference}var baseStyleContainer={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"1rem",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:4,py:2},baseStylePanel={pt:2,px:4,pb:5},baseStyleIcon={fontSize:"1.25em"},baseStyle={root:{},container:baseStyleContainer,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon},accordion_default={parts:accordionAnatomy.keys,baseStyle},baseStyle2={container:{px:4,py:3},title:{fontWeight:"bold",lineHeight:6,marginEnd:2},description:{lineHeight:6},icon:{flexShrink:0,marginEnd:3,w:5,h:6},spinner:{flexShrink:0,marginEnd:3,w:5,h:5}};function getBg(i){const{theme:$,colorScheme:_}=i,_e=getColor($,`${_}.100`,_),tt=transparentize(`${_}.200`,.16)($);return mode(_e,tt)(i)}var variantSubtle=i=>{const{colorScheme:$}=i;return{container:{bg:getBg(i)},icon:{color:mode(`${$}.500`,`${$}.200`)(i)},spinner:{color:mode(`${$}.500`,`${$}.200`)(i)}}},variantLeftAccent=i=>{const{colorScheme:$}=i;return{container:{paddingStart:3,borderStartWidth:"4px",borderStartColor:mode(`${$}.500`,`${$}.200`)(i),bg:getBg(i)},icon:{color:mode(`${$}.500`,`${$}.200`)(i)},spinner:{color:mode(`${$}.500`,`${$}.200`)(i)}}},variantTopAccent=i=>{const{colorScheme:$}=i;return{container:{pt:2,borderTopWidth:"4px",borderTopColor:mode(`${$}.500`,`${$}.200`)(i),bg:getBg(i)},icon:{color:mode(`${$}.500`,`${$}.200`)(i)},spinner:{color:mode(`${$}.500`,`${$}.200`)(i)}}},variantSolid=i=>{const{colorScheme:$}=i;return{container:{bg:mode(`${$}.500`,`${$}.200`)(i),color:mode("white","gray.900")(i)}}},variants={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},defaultProps={variant:"subtle",colorScheme:"blue"},alert_default={parts:alertAnatomy.keys,baseStyle:baseStyle2,variants,defaultProps},spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes={...spacing,...largeSizes,container},sizes_default=sizes,baseStyleBadge=i=>({transform:"translate(25%, 25%)",borderRadius:"full",border:"0.2em solid",borderColor:mode("white","gray.800")(i)}),baseStyleExcessLabel=i=>({bg:mode("gray.200","whiteAlpha.400")(i)}),baseStyleContainer2=i=>{const{name:$,theme:_}=i,_e=$?randomColor({string:$}):"gray.400",tt=isDark(_e)(_);let nt="white";tt||(nt="gray.800");const st=mode("white","gray.800")(i);return{bg:_e,color:nt,borderColor:st,verticalAlign:"top"}},baseStyle3=i=>({badge:baseStyleBadge(i),excessLabel:baseStyleExcessLabel(i),container:baseStyleContainer2(i)});function getSize(i){const $=i!=="100%"?sizes_default[i]:void 0;return{container:{width:i,height:i,fontSize:`calc(${$!=null?$:i} / 2.5)`},excessLabel:{width:i,height:i},label:{fontSize:`calc(${$!=null?$:i} / 2.5)`,lineHeight:i!=="100%"?$!=null?$:i:void 0}}}var sizes2={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},defaultProps2={size:"md"},avatar_default={parts:avatarAnatomy.keys,baseStyle:baseStyle3,sizes:sizes2,defaultProps:defaultProps2},baseStyle4={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},variantSolid2=i=>{const{colorScheme:$,theme:_}=i,_e=transparentize(`${$}.500`,.6)(_);return{bg:mode(`${$}.500`,_e)(i),color:mode("white","whiteAlpha.800")(i)}},variantSubtle2=i=>{const{colorScheme:$,theme:_}=i,_e=transparentize(`${$}.200`,.16)(_);return{bg:mode(`${$}.100`,_e)(i),color:mode(`${$}.800`,`${$}.200`)(i)}},variantOutline=i=>{const{colorScheme:$,theme:_}=i,_e=transparentize(`${$}.200`,.8)(_),tt=getColor(_,`${$}.500`),nt=mode(tt,_e)(i);return{color:nt,boxShadow:`inset 0 0 0px 1px ${nt}`}},variants2={solid:variantSolid2,subtle:variantSubtle2,outline:variantOutline},defaultProps3={variant:"subtle",colorScheme:"gray"},badge_default={baseStyle:baseStyle4,variants:variants2,defaultProps:defaultProps3},baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},baseStyle5={link:baseStyleLink},breadcrumb_default={parts:breadcrumbAnatomy.keys,baseStyle:baseStyle5},baseStyle6={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=i=>{const{colorScheme:$,theme:_}=i;if($==="gray")return{color:mode("inherit","whiteAlpha.900")(i),_hover:{bg:mode("gray.100","whiteAlpha.200")(i)},_active:{bg:mode("gray.200","whiteAlpha.300")(i)}};const _e=transparentize(`${$}.200`,.12)(_),tt=transparentize(`${$}.200`,.24)(_);return{color:mode(`${$}.600`,`${$}.200`)(i),bg:"transparent",_hover:{bg:mode(`${$}.50`,_e)(i)},_active:{bg:mode(`${$}.100`,tt)(i)}}},variantOutline2=i=>{const{colorScheme:$}=i,_=mode("gray.200","whiteAlpha.300")(i);return{border:"1px solid",borderColor:$==="gray"?_:"currentColor",".chakra-button__group[data-attached] > &:not(:last-of-type)":{marginEnd:"-1px"},...variantGhost(i)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid3=i=>{var at;const{colorScheme:$}=i;if($==="gray"){const ht=mode("gray.100","whiteAlpha.200")(i);return{bg:ht,_hover:{bg:mode("gray.200","whiteAlpha.300")(i),_disabled:{bg:ht}},_active:{bg:mode("gray.300","whiteAlpha.400")(i)}}}const{bg:_=`${$}.500`,color:_e="white",hoverBg:tt=`${$}.600`,activeBg:nt=`${$}.700`}=(at=accessibleColorMap[$])!=null?at:{},st=mode(_,`${$}.200`)(i);return{bg:st,color:mode(_e,"gray.800")(i),_hover:{bg:mode(tt,`${$}.300`)(i),_disabled:{bg:st}},_active:{bg:mode(nt,`${$}.400`)(i)}}},variantLink=i=>{const{colorScheme:$}=i;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${$}.500`,`${$}.200`)(i),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${$}.700`,`${$}.500`)(i)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:0,p:0},variants3={ghost:variantGhost,outline:variantOutline2,solid:variantSolid3,link:variantLink,unstyled:variantUnstyled},sizes3={lg:{h:12,minW:12,fontSize:"lg",px:6},md:{h:10,minW:10,fontSize:"md",px:4},sm:{h:8,minW:8,fontSize:"sm",px:3},xs:{h:6,minW:6,fontSize:"xs",px:2}},defaultProps4={variant:"solid",size:"md",colorScheme:"gray"},button_default={baseStyle:baseStyle6,variants:variants3,sizes:sizes3,defaultProps:defaultProps4},baseStyleControl=i=>{const{colorScheme:$}=i;return{w:"100%",transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${$}.500`,`${$}.200`)(i),borderColor:mode(`${$}.500`,`${$}.200`)(i),color:mode("white","gray.900")(i),_hover:{bg:mode(`${$}.600`,`${$}.300`)(i),borderColor:mode(`${$}.600`,`${$}.300`)(i)},_disabled:{borderColor:mode("gray.200","transparent")(i),bg:mode("gray.200","whiteAlpha.300")(i),color:mode("gray.500","whiteAlpha.500")(i)}},_indeterminate:{bg:mode(`${$}.500`,`${$}.200`)(i),borderColor:mode(`${$}.500`,`${$}.200`)(i),color:mode("white","gray.900")(i)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(i),borderColor:mode("gray.100","transparent")(i)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(i)}}},baseStyleContainer3={_disabled:{cursor:"not-allowed"}},baseStyleLabel={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon2={transitionProperty:"transform",transitionDuration:"normal"},baseStyle7=i=>({icon:baseStyleIcon2,container:baseStyleContainer3,control:baseStyleControl(i),label:baseStyleLabel}),sizes4={sm:{control:{h:3,w:3},label:{fontSize:"sm"},icon:{fontSize:"0.45rem"}},md:{control:{w:4,h:4},label:{fontSize:"md"},icon:{fontSize:"0.625rem"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"},icon:{fontSize:"0.625rem"}}},defaultProps5={size:"md",colorScheme:"blue"},checkbox_default={parts:checkboxAnatomy.keys,baseStyle:baseStyle7,sizes:sizes4,defaultProps:defaultProps5},$size=cssVar("close-button-size"),baseStyle8=i=>{const $=mode("blackAlpha.100","whiteAlpha.100")(i),_=mode("blackAlpha.200","whiteAlpha.200")(i);return{w:[$size.reference],h:[$size.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:$},_active:{bg:_},_focusVisible:{boxShadow:"outline"}}},sizes5={lg:{[$size.variable]:"40px",fontSize:"16px"},md:{[$size.variable]:"32px",fontSize:"12px"},sm:{[$size.variable]:"24px",fontSize:"10px"}},defaultProps6={size:"md"},close_button_default={baseStyle:baseStyle8,sizes:sizes5,defaultProps:defaultProps6},{variants:variants4,defaultProps:defaultProps7}=badge_default,baseStyle9={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},code_default={baseStyle:baseStyle9,variants:variants4,defaultProps:defaultProps7},baseStyle10={w:"100%",mx:"auto",maxW:"60ch",px:"1rem"},container_default={baseStyle:baseStyle10},baseStyle11={opacity:.6,borderColor:"inherit"},variantSolid4={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants5={solid:variantSolid4,dashed:variantDashed},defaultProps8={variant:"solid"},divider_default={baseStyle:baseStyle11,variants:variants5,defaultProps:defaultProps8};function getSize2(i){return i==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:i}}}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"overlay"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=i=>{const{isFullHeight:$}=i;return{...$&&{height:"100vh"},zIndex:"modal",maxH:"100vh",bg:mode("white","gray.700")(i),color:"inherit",boxShadow:mode("lg","dark-lg")(i)}},baseStyleHeader={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:2,insetEnd:3},baseStyleBody={px:6,py:2,flex:1,overflow:"auto"},baseStyleFooter={px:6,py:4},baseStyle12=i=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:baseStyleDialog(i),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter}),sizes6={xs:getSize2("xs"),sm:getSize2("md"),md:getSize2("lg"),lg:getSize2("2xl"),xl:getSize2("4xl"),full:getSize2("full")},defaultProps9={size:"xs"},drawer_default={parts:drawerAnatomy.keys,baseStyle:baseStyle12,sizes:sizes6,defaultProps:defaultProps9},baseStylePreview={borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle13={preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea},editable_default={parts:editableAnatomy.keys,baseStyle:baseStyle13},baseStyleRequiredIndicator=i=>({marginStart:1,color:mode("red.500","red.300")(i)}),baseStyleHelperText=i=>({mt:2,color:mode("gray.600","whiteAlpha.600")(i),lineHeight:"normal",fontSize:"sm"}),baseStyle14=i=>({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator(i),helperText:baseStyleHelperText(i)}),form_control_default={parts:formAnatomy.keys,baseStyle:baseStyle14},baseStyleText=i=>({color:mode("red.500","red.300")(i),mt:2,fontSize:"sm",lineHeight:"normal"}),baseStyleIcon3=i=>({marginEnd:"0.5em",color:mode("red.500","red.300")(i)}),baseStyle15=i=>({text:baseStyleText(i),icon:baseStyleIcon3(i)}),form_error_default={parts:formErrorAnatomy.keys,baseStyle:baseStyle15},baseStyle16={fontSize:"md",marginEnd:3,mb:2,fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},form_label_default={baseStyle:baseStyle16},baseStyle17={fontFamily:"heading",fontWeight:"bold"},sizes7={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps10={size:"xl"},heading_default={baseStyle:baseStyle17,sizes:sizes7,defaultProps:defaultProps10},baseStyle18={field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal"}},size={lg:{fontSize:"lg",px:4,h:12,borderRadius:"md"},md:{fontSize:"md",px:4,h:10,borderRadius:"md"},sm:{fontSize:"sm",px:3,h:8,borderRadius:"sm"},xs:{fontSize:"xs",px:2,h:6,borderRadius:"sm"}},sizes8={lg:{field:size.lg,addon:size.lg},md:{field:size.md,addon:size.md},sm:{field:size.sm,addon:size.sm},xs:{field:size.xs,addon:size.xs}};function getDefaults(i){const{focusBorderColor:$,errorBorderColor:_}=i;return{focusBorderColor:$||mode("blue.500","blue.300")(i),errorBorderColor:_||mode("red.500","red.300")(i)}}var variantOutline3=i=>{const{theme:$}=i,{focusBorderColor:_,errorBorderColor:_e}=getDefaults(i);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:getColor($,_e),boxShadow:`0 0 0 1px ${getColor($,_e)}`},_focusVisible:{zIndex:1,borderColor:getColor($,_),boxShadow:`0 0 0 1px ${getColor($,_)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(i),bg:mode("gray.100","whiteAlpha.300")(i)}}},variantFilled=i=>{const{theme:$}=i,{focusBorderColor:_,errorBorderColor:_e}=getDefaults(i);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i),_hover:{bg:mode("gray.200","whiteAlpha.100")(i)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:.4,cursor:"not-allowed"},_invalid:{borderColor:getColor($,_e)},_focusVisible:{bg:"transparent",borderColor:getColor($,_)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(i)}}},variantFlushed=i=>{const{theme:$}=i,{focusBorderColor:_,errorBorderColor:_e}=getDefaults(i);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor($,_e),boxShadow:`0px 1px 0px 0px ${getColor($,_e)}`},_focusVisible:{borderColor:getColor($,_),boxShadow:`0px 1px 0px 0px ${getColor($,_)}`},_disabled:{opacity:.4,cursor:"not-allowed"}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent"}}},variantUnstyled2={field:{bg:"transparent",px:0,height:"auto",_disabled:{opacity:.4,cursor:"not-allowed"}},addon:{bg:"transparent",px:0,height:"auto"}},variants6={outline:variantOutline3,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled2},defaultProps11={size:"md",variant:"outline"},input_default={parts:inputAnatomy.keys,baseStyle:baseStyle18,sizes:sizes8,variants:variants6,defaultProps:defaultProps11},baseStyle19=i=>({bg:mode("gray.100","whiteAlpha")(i),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}),kbd_default={baseStyle:baseStyle19},baseStyle20={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},link_default={baseStyle:baseStyle20},baseStyleIcon4={marginEnd:"0.5rem",display:"inline",verticalAlign:"text-bottom"},baseStyle21={container:{},item:{},icon:baseStyleIcon4},list_default={parts:listAnatomy.keys,baseStyle:baseStyle21},baseStyleList=i=>({bg:mode("#fff","gray.700")(i),boxShadow:mode("sm","dark-lg")(i),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}),baseStyleItem=i=>({py:"0.4rem",px:"0.8rem",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:mode("gray.100","whiteAlpha.100")(i)},_active:{bg:mode("gray.200","whiteAlpha.200")(i)},_expanded:{bg:mode("gray.100","whiteAlpha.100")(i)},_disabled:{opacity:.4,cursor:"not-allowed"}}),baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"0.5rem",opacity:.6},baseStyleButton2={transitionProperty:"common",transitionDuration:"normal"},baseStyle22=i=>({button:baseStyleButton2,list:baseStyleList(i),item:baseStyleItem(i),groupTitle:baseStyleGroupTitle,command:baseStyleCommand,divider:baseStyleDivider}),menu_default={parts:menuAnatomy.keys,baseStyle:baseStyle22},baseStyleOverlay2={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer2=i=>{const{isCentered:$,scrollBehavior:_}=i;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:$?"center":"flex-start",overflow:_==="inside"?"hidden":"auto"}},baseStyleDialog2=i=>{const{scrollBehavior:$}=i;return{borderRadius:"md",bg:mode("white","gray.700")(i),color:"inherit",my:"3.75rem",zIndex:"modal",maxH:$==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:mode("lg","dark-lg")(i)}},baseStyleHeader2={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton2={position:"absolute",top:2,insetEnd:3},baseStyleBody2=i=>{const{scrollBehavior:$}=i;return{px:6,py:2,flex:1,overflow:$==="inside"?"auto":void 0}},baseStyleFooter2={px:6,py:4},baseStyle23=i=>({overlay:baseStyleOverlay2,dialogContainer:baseStyleDialogContainer2(i),dialog:baseStyleDialog2(i),header:baseStyleHeader2,closeButton:baseStyleCloseButton2,body:baseStyleBody2(i),footer:baseStyleFooter2});function getSize3(i){return i==="full"?{dialog:{maxW:"100vw",minH:"100vh","@supports(min-height: -webkit-fill-available)":{minH:"-webkit-fill-available"},my:0,borderRadius:0}}:{dialog:{maxW:i}}}var sizes9={xs:getSize3("xs"),sm:getSize3("sm"),md:getSize3("md"),lg:getSize3("lg"),xl:getSize3("xl"),"2xl":getSize3("2xl"),"3xl":getSize3("3xl"),"4xl":getSize3("4xl"),"5xl":getSize3("5xl"),"6xl":getSize3("6xl"),full:getSize3("full")},defaultProps12={size:"md"},modal_default={parts:modalAnatomy.keys,baseStyle:baseStyle23,sizes:sizes9,defaultProps:defaultProps12},typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,{variants:variants7,defaultProps:defaultProps13}=input_default,$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),baseStyleRoot={[$stepperWidth.variable]:"24px",[$inputPadding.variable]:inputPaddingValue},_a,xm,baseStyleField=(xm=(_a=input_default.baseStyle)==null?void 0:_a.field)!=null?xm:{},baseStyleStepperGroup={width:[$stepperWidth.reference]},baseStyleStepper=i=>({borderStart:"1px solid",borderStartColor:mode("inherit","whiteAlpha.300")(i),color:mode("inherit","whiteAlpha.800")(i),_active:{bg:mode("gray.200","whiteAlpha.300")(i)},_disabled:{opacity:.4,cursor:"not-allowed"}}),baseStyle24=i=>({root:baseStyleRoot,field:baseStyleField,stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper(i)});function getSize4(i){var st;var $;const _=input_default.sizes[i],_e={lg:"md",md:"md",sm:"sm",xs:"sm"},tt=(st=($=_.field)==null?void 0:$.fontSize)!=null?st:"md",nt=typography_default.fontSizes[tt];return{field:{..._.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(nt).multiply(.75).toString(),_first:{borderTopEndRadius:_e[i]},_last:{borderBottomEndRadius:_e[i],mt:"-1px",borderTopWidth:1}}}}var sizes10={xs:getSize4("xs"),sm:getSize4("sm"),md:getSize4("md"),lg:getSize4("lg")},number_input_default={parts:numberInputAnatomy.keys,baseStyle:baseStyle24,sizes:sizes10,variants:variants7,defaultProps:defaultProps13},baseStyle25={...input_default.baseStyle.field,textAlign:"center"},sizes11={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},Im,variants8={outline:i=>{var $;return($=input_default.variants.outline(i).field)!=null?$:{}},flushed:i=>{var $;return($=input_default.variants.flushed(i).field)!=null?$:{}},filled:i=>{var $;return($=input_default.variants.filled(i).field)!=null?$:{}},unstyled:(Im=input_default.variants.unstyled.field)!=null?Im:{}},defaultProps14=input_default.defaultProps,pin_input_default={baseStyle:baseStyle25,sizes:sizes11,variants:variants8,defaultProps:defaultProps14},$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent=i=>{const $=mode("white","gray.700")(i),_=mode("gray.200","whiteAlpha.300")(i);return{[$popperBg.variable]:`colors.${$}`,bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:`colors.${_}`,width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}}},baseStyleHeader3={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody3={px:3,py:2},baseStyleFooter3={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton3={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle26=i=>({popper:baseStylePopper,content:baseStyleContent(i),header:baseStyleHeader3,body:baseStyleBody3,footer:baseStyleFooter3,arrow:{},closeButton:baseStyleCloseButton3}),popover_default={parts:popoverAnatomy.keys,baseStyle:baseStyle26};function filledStyle(i){const{colorScheme:$,theme:_,isIndeterminate:_e,hasStripe:tt}=i,nt=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(i),st=mode(`${$}.500`,`${$}.200`)(i),at=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(_,st)} 50%,
    transparent 100%
  )`;return{...!_e&&tt&&nt,..._e?{bgImage:at}:{bgColor:st}}}var baseStyleLabel2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack=i=>({bg:mode("gray.100","whiteAlpha.300")(i)}),baseStyleFilledTrack=i=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(i)}),baseStyle27=i=>({label:baseStyleLabel2,filledTrack:baseStyleFilledTrack(i),track:baseStyleTrack(i)}),sizes12={xs:{track:{h:"0.25rem"}},sm:{track:{h:"0.5rem"}},md:{track:{h:"0.75rem"}},lg:{track:{h:"1rem"}}},defaultProps15={size:"md",colorScheme:"blue"},progress_default={parts:progressAnatomy.keys,sizes:sizes12,baseStyle:baseStyle27,defaultProps:defaultProps15},baseStyleControl2=i=>{const{control:$={}}=checkbox_default.baseStyle(i);return{...$,borderRadius:"full",_checked:{...$._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle28=i=>({label:checkbox_default.baseStyle(i).label,container:checkbox_default.baseStyle(i).container,control:baseStyleControl2(i)}),sizes13={md:{control:{w:4,h:4},label:{fontSize:"md"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"}},sm:{control:{width:3,height:3},label:{fontSize:"sm"}}},defaultProps16={size:"md",colorScheme:"blue"},radio_default={parts:radioAnatomy.keys,baseStyle:baseStyle28,sizes:sizes13,defaultProps:defaultProps16},baseStyleField2=i=>({...input_default.baseStyle.field,bg:mode("white","gray.700")(i),appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:mode("white","gray.700")(i)}}),baseStyleIcon5={width:"1.5rem",height:"100%",insetEnd:"0.5rem",position:"relative",color:"currentColor",fontSize:"1.25rem",_disabled:{opacity:.5}},baseStyle29=i=>({field:baseStyleField2(i),icon:baseStyleIcon5}),iconSpacing={paddingInlineEnd:"2rem"},sizes14=mergeWith({},input_default.sizes,{lg:{field:iconSpacing},md:{field:iconSpacing},sm:{field:iconSpacing},xs:{field:iconSpacing,icon:{insetEnd:"0.25rem"}}}),select_default={parts:selectAnatomy.keys,baseStyle:baseStyle29,sizes:sizes14,variants:input_default.variants,defaultProps:input_default.defaultProps},$startColor=cssVar("skeleton-start-color"),$endColor=cssVar("skeleton-end-color"),baseStyle30=i=>{const $=mode("gray.100","gray.800")(i),_=mode("gray.400","gray.600")(i),{startColor:_e=$,endColor:tt=_,theme:nt}=i,st=getColor(nt,_e),at=getColor(nt,tt);return{[$startColor.variable]:st,[$endColor.variable]:at,opacity:.7,borderRadius:"2px",borderColor:st,background:at}},skeleton_default={baseStyle:baseStyle30},baseStyle31=i=>({borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"1rem",position:"fixed",top:"1.5rem",insetStart:"1.5rem",bg:mode("white","gray.700")(i)}}),skip_link_default={baseStyle:baseStyle31};function thumbOrientation(i){return orient({orientation:i.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})}var baseStyleContainer4=i=>{const{orientation:$}=i;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:$,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack2=i=>({overflow:"hidden",borderRadius:"sm",bg:mode("gray.200","whiteAlpha.200")(i),_disabled:{bg:mode("gray.300","whiteAlpha.300")(i)}}),baseStyleThumb=i=>({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"},...thumbOrientation(i)}),baseStyleFilledTrack2=i=>{const{colorScheme:$}=i;return{width:"inherit",height:"inherit",bg:mode(`${$}.500`,`${$}.200`)(i)}},baseStyle32=i=>({container:baseStyleContainer4(i),track:baseStyleTrack2(i),thumb:baseStyleThumb(i),filledTrack:baseStyleFilledTrack2(i)}),sizeLg=i=>({thumb:{w:"16px",h:"16px"},track:orient({orientation:i.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}),sizeMd=i=>({thumb:{w:"14px",h:"14px"},track:orient({orientation:i.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}),sizeSm=i=>({thumb:{w:"10px",h:"10px"},track:orient({orientation:i.orientation,horizontal:{h:"2px"},vertical:{w:"2px"}})}),sizes15={lg:sizeLg,md:sizeMd,sm:sizeSm},defaultProps17={size:"md",colorScheme:"blue"},slider_default={parts:sliderAnatomy.keys,sizes:sizes15,baseStyle:baseStyle32,defaultProps:defaultProps17},$size2=cssVar("spinner-size"),baseStyle33={width:[$size2.reference],height:[$size2.reference]},sizes16={xs:{[$size2.variable]:"0.75rem"},sm:{[$size2.variable]:"1rem"},md:{[$size2.variable]:"1.5rem"},lg:{[$size2.variable]:"2rem"},xl:{[$size2.variable]:"3rem"}},defaultProps18={size:"md"},spinner_default={baseStyle:baseStyle33,sizes:sizes16,defaultProps:defaultProps18},baseStyleLabel3={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:2},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon6={marginEnd:1,w:"14px",h:"14px",verticalAlign:"middle"},baseStyle34={container:{},label:baseStyleLabel3,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon6},sizes17={md:{label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}}},defaultProps19={size:"md"},stat_default={parts:statAnatomy.keys,baseStyle:baseStyle34,sizes:sizes17,defaultProps:defaultProps19},$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),baseStyleTrack3=i=>{const{colorScheme:$}=i;return{borderRadius:"full",p:"2px",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",bg:mode("gray.300","whiteAlpha.400")(i),_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{bg:mode(`${$}.500`,`${$}.200`)(i)}}},baseStyleThumb2={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle35=i=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack3(i),thumb:baseStyleThumb2}),sizes18={sm:{container:{[$width.variable]:"1.375rem",[$height.variable]:"0.75rem"}},md:{container:{[$width.variable]:"1.875rem",[$height.variable]:"1rem"}},lg:{container:{[$width.variable]:"2.875rem",[$height.variable]:"1.5rem"}}},defaultProps20={size:"md",colorScheme:"blue"},switch_default={parts:switchAnatomy.keys,baseStyle:baseStyle35,sizes:sizes18,defaultProps:defaultProps20},baseStyle36={table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}},numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=i=>{const{colorScheme:$}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${$}.100`,`${$}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${$}.100`,`${$}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},variantStripe=i=>{const{colorScheme:$}=i;return{th:{color:mode("gray.600","gray.400")(i),borderBottom:"1px",borderColor:mode(`${$}.100`,`${$}.700`)(i),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${$}.100`,`${$}.700`)(i),...numericStyles},caption:{color:mode("gray.600","gray.100")(i)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${$}.100`,`${$}.700`)(i)},td:{background:mode(`${$}.100`,`${$}.700`)(i)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},variants9={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes19={sm:{th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}},md:{th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}},lg:{th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}}},defaultProps21={variant:"simple",size:"md",colorScheme:"gray"},table_default={parts:tableAnatomy.keys,baseStyle:baseStyle36,variants:variants9,sizes:sizes19,defaultProps:defaultProps21},baseStyleRoot2=i=>{const{orientation:$}=i;return{display:$==="vertical"?"flex":"block"}},baseStyleTab=i=>{const{isFitted:$}=i;return{flex:$?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=i=>{const{align:$="start",orientation:_}=i;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[$],flexDirection:_==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle37=i=>({root:baseStyleRoot2(i),tab:baseStyleTab(i),tablist:baseStyleTablist(i),tabpanel:baseStyleTabpanel}),sizes20={sm:{tab:{py:1,px:4,fontSize:"sm"}},md:{tab:{fontSize:"md",py:2,px:4}},lg:{tab:{fontSize:"lg",py:3,px:4}}},variantLine=i=>{const{colorScheme:$,orientation:_}=i,_e=_==="vertical",tt=_==="vertical"?"borderStart":"borderBottom",nt=_e?"marginStart":"marginBottom";return{tablist:{[tt]:"2px solid",borderColor:"inherit"},tab:{[tt]:"2px solid",borderColor:"transparent",[nt]:"-2px",_selected:{color:mode(`${$}.600`,`${$}.300`)(i),borderColor:"currentColor"},_active:{bg:mode("gray.200","whiteAlpha.300")(i)},_disabled:{_active:{bg:"none"}}}}},variantEnclosed=i=>{const{colorScheme:$}=i;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:mode(`${$}.600`,`${$}.300`)(i),borderColor:"inherit",borderBottomColor:mode("white","gray.800")(i)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},variantEnclosedColored=i=>{const{colorScheme:$}=i;return{tab:{border:"1px solid",borderColor:"inherit",bg:mode("gray.50","whiteAlpha.50")(i),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:mode("#fff","gray.800")(i),color:mode(`${$}.600`,`${$}.300`)(i),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},variantSoftRounded=i=>{const{colorScheme:$,theme:_}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(_,`${$}.700`),bg:getColor(_,`${$}.100`)}}}},variantSolidRounded=i=>{const{colorScheme:$}=i;return{tab:{borderRadius:"full",fontWeight:"semibold",color:mode("gray.600","inherit")(i),_selected:{color:mode("#fff","gray.800")(i),bg:mode(`${$}.600`,`${$}.300`)(i)}}}},variantUnstyled3={},variants10={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled3},defaultProps22={size:"md",variant:"line",colorScheme:"blue"},tabs_default={parts:tabsAnatomy.keys,baseStyle:baseStyle37,sizes:sizes20,variants:variants10,defaultProps:defaultProps22},baseStyleContainer5={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},baseStyleLabel4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton4={fontSize:"18px",w:"1.25rem",h:"1.25rem",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"0.375rem",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle38={container:baseStyleContainer5,label:baseStyleLabel4,closeButton:baseStyleCloseButton4},sizes21={sm:{container:{minH:"1.25rem",minW:"1.25rem",fontSize:"xs",px:2},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}},md:{container:{minH:"1.5rem",minW:"1.5rem",fontSize:"sm",px:2}},lg:{container:{minH:8,minW:8,fontSize:"md",px:3}}},variants11={subtle:i=>({container:badge_default.variants.subtle(i)}),solid:i=>({container:badge_default.variants.solid(i)}),outline:i=>({container:badge_default.variants.outline(i)})},defaultProps23={size:"md",variant:"subtle",colorScheme:"gray"},tag_default={parts:tagAnatomy.keys,variants:variants11,baseStyle:baseStyle38,sizes:sizes21,defaultProps:defaultProps23},baseStyle39={...input_default.baseStyle.field,paddingY:"8px",minHeight:"80px",lineHeight:"short",verticalAlign:"top"},Rm,variants12={outline:i=>{var $;return($=input_default.variants.outline(i).field)!=null?$:{}},flushed:i=>{var $;return($=input_default.variants.flushed(i).field)!=null?$:{}},filled:i=>{var $;return($=input_default.variants.filled(i).field)!=null?$:{}},unstyled:(Rm=input_default.variants.unstyled.field)!=null?Rm:{}},Dm,Om,wm,Mm,sizes22={xs:(Dm=input_default.sizes.xs.field)!=null?Dm:{},sm:(Om=input_default.sizes.sm.field)!=null?Om:{},md:(wm=input_default.sizes.md.field)!=null?wm:{},lg:(Mm=input_default.sizes.lg.field)!=null?Mm:{}},defaultProps24={size:"md",variant:"outline"},textarea_default={baseStyle:baseStyle39,sizes:sizes22,variants:variants12,defaultProps:defaultProps24},$bg=cssVar("tooltip-bg"),$arrowBg2=cssVar("popper-arrow-bg"),baseStyle40=i=>{const $=mode("gray.700","gray.300")(i);return{[$bg.variable]:`colors.${$}`,px:"8px",py:"2px",bg:[$bg.reference],[$arrowBg2.variable]:[$bg.reference],color:mode("whiteAlpha.900","gray.900")(i),borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"320px",zIndex:"tooltip"}},tooltip_default={baseStyle:baseStyle40},components={Accordion:accordion_default,Alert:alert_default,Avatar:avatar_default,Badge:badge_default,Breadcrumb:breadcrumb_default,Button:button_default,Checkbox:checkbox_default,CloseButton:close_button_default,Code:code_default,Container:container_default,Divider:divider_default,Drawer:drawer_default,Editable:editable_default,Form:form_control_default,FormError:form_error_default,FormLabel:form_label_default,Heading:heading_default,Input:input_default,Kbd:kbd_default,Link:link_default,List:list_default,Menu:menu_default,Modal:modal_default,NumberInput:number_input_default,PinInput:pin_input_default,Popover:popover_default,Progress:progress_default,Radio:radio_default,Select:select_default,Skeleton:skeleton_default,SkipLink:skip_link_default,Slider:slider_default,Spinner:spinner_default,Stat:stat_default,Switch:switch_default,Table:table_default,Tabs:tabs_default,Tag:tag_default,Textarea:textarea_default,Tooltip:tooltip_default},borders={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders,breakpoints={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints,colors={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},direction="ltr",config={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme={semanticTokens,direction,...foundations,components,styles,config};function useTimeout(i,$){const _=useCallbackRef(i);react.exports.useEffect(()=>{if($==null)return;let _e=null;return _e=window.setTimeout(()=>{_()},$),()=>{_e&&window.clearTimeout(_e)}},[$,_])}function runIfFn(i,...$){return isFunction(i)?i(...$):i}var isFunction=i=>typeof i=="function";function findToast(i,$){const _=getToastPosition(i,$),_e=_?i[_].findIndex(tt=>tt.id===$):-1;return{position:_,index:_e}}var getToastPosition=(i,$)=>{var _;return(_=Object.values(i).flat().find(_e=>_e.id===$))==null?void 0:_.position};function getToastStyle(i){const $=i.includes("right"),_=i.includes("left");let _e="center";return $&&(_e="flex-end"),_&&(_e="flex-start"),{display:"flex",flexDirection:"column",alignItems:_e}}function getToastListStyle(i){const _=i==="top"||i==="bottom"?"0 auto":void 0,_e=i.includes("top")?"env(safe-area-inset-top, 0px)":void 0,tt=i.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,nt=i.includes("left")?void 0:"env(safe-area-inset-right, 0px)",st=i.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:_,top:_e,bottom:tt,right:nt,left:st}}var initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(i){let $=i;const _=new Set,_e=tt=>{$=tt($),_.forEach(nt=>nt())};return{getState:()=>$,subscribe:tt=>(_.add(tt),()=>{_e(()=>i),_.delete(tt)}),removeToast:(tt,nt)=>{_e(st=>({...st,[nt]:st[nt].filter(at=>at.id!=tt)}))},notify:(tt,nt)=>{const st=createToast(tt,nt),{position:at,id:ht}=st;return _e(lt=>{var gt,vt;const dt=at.includes("top")?[st,...(gt=lt[at])!=null?gt:[]]:[...(vt=lt[at])!=null?vt:[],st];return{...lt,[at]:dt}}),ht},update:(tt,nt)=>{!tt||_e(st=>{const at={...st},{position:ht,index:lt}=findToast(at,tt);return ht&&lt!==-1&&(at[ht][lt]={...at[ht][lt],...nt,message:createRenderToast(nt)}),at})},closeAll:({positions:tt}={})=>{_e(nt=>{const st=["bottom","bottom-right","bottom-left","top","top-left","top-right"];return(tt!=null?tt:st).reduce((ht,lt)=>(ht[lt]=nt[lt].map(pt=>({...pt,requestClose:!0})),ht),{...nt})})},close:tt=>{_e(nt=>{const st=getToastPosition(nt,tt);return st?{...nt,[st]:nt[st].map(at=>at.id==tt?{...at,requestClose:!0}:at)}:nt})},isActive:tt=>Boolean(findToast(toastStore.getState(),tt).position)}}var counter=0;function createToast(i,$={}){var tt,nt;counter+=1;const _=(tt=$.id)!=null?tt:counter,_e=(nt=$.position)!=null?nt:"bottom";return{id:_,message:i,position:_e,duration:$.duration,onCloseComplete:$.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(_),_e),status:$.status,requestClose:!1,containerStyle:$.containerStyle}}var Toast=i=>{const{status:$,variant:_="solid",id:_e,title:tt,isClosable:nt,onClose:st,description:at,icon:ht}=i,lt=_e?{root:`toast-${_e}`,title:`toast-${_e}-title`,description:`toast-${_e}-description`}:void 0;return React.createElement(Alert,{addRole:!1,status:$,variant:_,id:lt==null?void 0:lt.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto"},jsx(AlertIcon,{children:ht}),React.createElement(chakra.div,{flex:"1",maxWidth:"100%"},tt&&jsx(AlertTitle,{id:lt==null?void 0:lt.title,children:tt}),at&&jsx(AlertDescription,{id:lt==null?void 0:lt.description,display:"block",children:at})),nt&&jsx(CloseButton,{size:"sm",onClick:st,position:"absolute",insetEnd:1,top:1}))};function createRenderToast(i={}){const{render:$,toastComponent:_=Toast}=i;return tt=>typeof $=="function"?$(tt):jsx(_,{...tt,...i})}var toastMotionVariants={initial:i=>{const{position:$}=i,_=["top","bottom"].includes($)?"y":"x";let _e=["top-right","bottom-right"].includes($)?1:-1;return $==="bottom"&&(_e=1),{opacity:0,[_]:_e*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=react.exports.memo(i=>{const{id:$,message:_,onCloseComplete:_e,onRequestRemove:tt,requestClose:nt=!1,position:st="bottom",duration:at=5e3,containerStyle:ht,motionVariants:lt=toastMotionVariants,toastSpacing:pt="0.5rem"}=i,[dt,gt]=react.exports.useState(at),vt=useIsPresent();useUpdateEffect(()=>{vt||_e==null||_e()},[vt]),useUpdateEffect(()=>{gt(at)},[at]);const bt=()=>gt(null),$t=()=>gt(at),Tt=()=>{vt&&tt()};react.exports.useEffect(()=>{vt&&nt&&tt()},[vt,nt,tt]),useTimeout(Tt,dt);const St=react.exports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:pt,...ht}),[ht,pt]),Bt=react.exports.useMemo(()=>getToastStyle(st),[st]);return React.createElement(motion.li,{layout:!0,className:"chakra-toast",variants:lt,initial:"initial",animate:"animate",exit:"exit",onHoverStart:bt,onHoverEnd:$t,custom:{position:st},style:Bt},React.createElement(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:St},runIfFn(_,{id:$,onClose:Tt})))});ToastComponent.displayName="ToastComponent";var ToastProvider=i=>{const $=react.exports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{children:_,motionVariants:_e,component:tt=ToastComponent,portalProps:nt}=i,at=Object.keys($).map(ht=>{const lt=$[ht];return jsx("ul",{role:"region","aria-live":"polite",id:`chakra-toast-manager-${ht}`,style:getToastListStyle(ht),children:jsx(AnimatePresence,{initial:!1,children:lt.map(pt=>jsx(tt,{motionVariants:_e,...pt},pt.id))})},ht)});return jsxs(Fragment,{children:[_,jsx(Portal,{...nt,children:at})]})},ChakraProvider$1=i=>{const{children:$,colorModeManager:_,portalZIndex:_e,resetCSS:tt=!0,theme:nt={},environment:st,cssVarsRoot:at}=i,ht=jsx(EnvironmentProvider,{environment:st,children:$});return jsx(ThemeProvider,{theme:nt,cssVarsRoot:at,children:jsxs(ColorModeProvider,{colorModeManager:_,options:nt.config,children:[tt&&jsx(css_reset_default,{}),jsx(GlobalStyle,{}),_e?jsx(PortalManager,{zIndex:_e,children:ht}):ht]})})};function ChakraProvider({children:i,theme:$=theme,toastOptions:_,..._e}){return jsxs(ChakraProvider$1,{theme:$,..._e,children:[i,jsx(ToastProvider,{..._})]})}var arrays$9={range:function(i,$){var _=$-i,_e=new Array(_),tt,nt;for(tt=0,nt=i;tt<_;tt++,nt++)_e[tt]=nt;return _e},find:function(i,$){var _=i.length,_e;if(typeof $=="function"){for(_e=0;_e<_;_e++)if($(i[_e]))return i[_e]}else for(_e=0;_e<_;_e++)if(i[_e]===$)return i[_e]},indexOf:function(i,$){var _=i.length,_e;if(typeof $=="function"){for(_e=0;_e<_;_e++)if($(i[_e]))return _e}else for(_e=0;_e<_;_e++)if(i[_e]===$)return _e;return-1},contains:function(i,$){return arrays$9.indexOf(i,$)!==-1},each:function(i,$){var _=i.length,_e;for(_e=0;_e<_;_e++)$(i[_e],_e)},map:function(i,$){var _=i.length,_e=new Array(_),tt;for(tt=0;tt<_;tt++)_e[tt]=$(i[tt],tt);return _e},pluck:function(i,$){return arrays$9.map(i,function(_){return _[$]})},every:function(i,$){var _=i.length,_e;for(_e=0;_e<_;_e++)if(!$(i[_e]))return!1;return!0},some:function(i,$){var _=i.length,_e;for(_e=0;_e<_;_e++)if($(i[_e]))return!0;return!1}},arrays_1=arrays$9,objects$6={keys:function(i){var $=[],_;for(_ in i)i.hasOwnProperty(_)&&$.push(_);return $},values:function(i){var $=[],_;for(_ in i)i.hasOwnProperty(_)&&$.push(i[_]);return $},clone:function(i){var $={},_;for(_ in i)i.hasOwnProperty(_)&&($[_]=i[_]);return $},defaults:function(i,$){var _;for(_ in $)$.hasOwnProperty(_)&&(_ in i||(i[_]=$[_]))}},objects_1=objects$6,classes$1={subclass:function(i,$){function _(){this.constructor=i}_.prototype=$.prototype,i.prototype=new _}},classes_1=classes$1,classes=classes_1;function GrammarError$5(i,$){this.name="GrammarError",this.message=i,this.location=$,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,GrammarError$5)}classes.subclass(GrammarError$5,Error);var grammarError=GrammarError$5;function peg$subclass(i,$){function _(){this.constructor=i}_.prototype=$.prototype,i.prototype=new _}function peg$SyntaxError(i,$,_,_e){this.message=i,this.expected=$,this.found=_,this.location=_e,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,peg$SyntaxError)}peg$subclass(peg$SyntaxError,Error);peg$SyntaxError.buildMessage=function(i,$){var _={literal:function(lt){return'"'+tt(lt.text)+'"'},class:function(lt){var pt="",dt;for(dt=0;dt<lt.parts.length;dt++)pt+=lt.parts[dt]instanceof Array?nt(lt.parts[dt][0])+"-"+nt(lt.parts[dt][1]):nt(lt.parts[dt]);return"["+(lt.inverted?"^":"")+pt+"]"},any:function(lt){return"any character"},end:function(lt){return"end of input"},other:function(lt){return lt.description}};function _e(lt){return lt.charCodeAt(0).toString(16).toUpperCase()}function tt(lt){return lt.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(pt){return"\\x0"+_e(pt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(pt){return"\\x"+_e(pt)})}function nt(lt){return lt.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(pt){return"\\x0"+_e(pt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(pt){return"\\x"+_e(pt)})}function st(lt){return _[lt.type](lt)}function at(lt){var pt=new Array(lt.length),dt,gt;for(dt=0;dt<lt.length;dt++)pt[dt]=st(lt[dt]);if(pt.sort(),pt.length>0){for(dt=1,gt=1;dt<pt.length;dt++)pt[dt-1]!==pt[dt]&&(pt[gt]=pt[dt],gt++);pt.length=gt}switch(pt.length){case 1:return pt[0];case 2:return pt[0]+" or "+pt[1];default:return pt.slice(0,-1).join(", ")+", or "+pt[pt.length-1]}}function ht(lt){return lt?'"'+tt(lt)+'"':"end of input"}return"Expected "+at(i)+" but "+ht($)+" found."};function peg$parse(i,$){$=$!==void 0?$:{};var _={},_e={Grammar:Kt},tt=Kt,nt=function(it,ft){return{type:"grammar",initializer:Ts(it,0),rules:Ql(ft,0),location:xn()}},st=function(it){return{type:"initializer",code:it,location:xn()}},at="=",ht=to("=",!1),lt=function(it,ft,_t){return{type:"rule",name:it,expression:ft!==null?{type:"named",name:ft[0],expression:_t,location:xn()}:_t,location:xn()}},pt="/",dt=to("/",!1),gt=function(it,ft){return ft.length>0?{type:"choice",alternatives:Eu(it,ft,3),location:xn()}:it},vt=function(it,ft){return ft!==null?{type:"action",expression:it,code:ft[1],location:xn()}:it},bt=function(it,ft){return ft.length>0?{type:"sequence",elements:Eu(it,ft,1),location:xn()}:it},$t=":",Tt=to(":",!1),St=function(it,ft){return{type:"labeled",label:it,expression:ft,location:xn()}},Bt=function(it,ft){return{type:Dl[it],expression:ft,location:xn()}},Dt="$",Vt=to("$",!1),Ht="&",Wt=to("&",!1),zt="!",Ut=to("!",!1),ao=function(it,ft){return{type:Qn[ft],expression:it,location:xn()}},lo="?",Ao=to("?",!1),Zo="*",Qo=to("*",!1),Wo="+",An=to("+",!1),Oo="(",kn=to("(",!1),oo=")",Bo=to(")",!1),Io=function(it){return it.type==="labeled"||it.type==="sequence"?{type:"group",expression:it}:it},Pt=function(it){return{type:"rule_ref",name:it,location:xn()}},io=function(it,ft){return{type:ns[it],code:ft,location:xn()}},vo=du(),Po=_i("whitespace"),Ko="	",No=to("	",!1),kt="\v",jo=to("\v",!1),mt="\f",At=to("\f",!1),Ot=" ",Yt=to(" ",!1),Qt="\xA0",co=to("\xA0",!1),so="\uFEFF",fo=to("\uFEFF",!1),gn=/^[\n\r\u2028\u2029]/,Nn=qn([`
`,"\r","\u2028","\u2029"],!1,!1),Gn=_i("end of line"),ho=`
`,zr=to(`
`,!1),Or=`\r
`,mn=to(`\r
`,!1),qs="\r",Ol=to("\r",!1),jt="\u2028",Xr=to("\u2028",!1),rs="\u2029",ba=to("\u2029",!1),Ml=_i("comment"),yt="/*",Zs=to("/*",!1),Xn="*/",Yr=to("*/",!1),is="//",Kr=to("//",!1),sr=function(it){return it},Jr=_i("identifier"),$a=function(it,ft){return it+ft.join("")},go="_",Ln=to("_",!1),Uo="\\",wr=to("\\",!1),Br=function(it){return it},In="\u200C",Co=to("\u200C",!1),Nl="\u200D",ss=to("\u200D",!1),Ls=_i("literal"),pr="i",tn=to("i",!1),Cs=function(it,ft){return{type:"literal",value:it,ignoreCase:ft!==null,location:xn()}},ls=_i("string"),bs='"',Pr=to('"',!1),qr=function(it){return it.join("")},Fs="'",Ps=to("'",!1),Us=function(){return ro()},xa=_i("character class"),eu="[",$s=to("[",!1),tu="^",Jo=to("^",!1),Ll="]",Fl=to("]",!1),Nt=function(it,ft,_t){return{type:"class",parts:Gr(ft),inverted:it!==null,ignoreCase:_t!==null,location:xn()}},hr="-",fr=to("-",!1),Vs=function(it,ft){return it.charCodeAt(0)>ft.charCodeAt(0)&&Fn("Invalid character range: "+ro()+"."),[it,ft]},Hs=function(){return""},Qs="0",ou=to("0",!1),_l=function(){return"\0"},nu="b",Bu=to("b",!1),Au=function(){return"\b"},xu="f",Pl=to("f",!1),Iu=function(){return"\f"},Ru="n",Ul=to("n",!1),Du=function(){return`
`},bo="r",Vl=to("r",!1),ru=function(){return"\r"},Ou="t",wu=to("t",!1),Hl=function(){return"	"},Gs="v",Yn=to("v",!1),Ws=function(){return"\v"},iu="x",Gl=to("x",!1),tr="u",$o=to("u",!1),or=function(it){return String.fromCharCode(parseInt(it,16))},To=/^[0-9]/,So=qn([["0","9"]],!1,!1),Mu=/^[0-9a-f]/i,as=qn([["0","9"],["a","f"]],!1,!0),lr=".",Ur=to(".",!1),Wl=function(){return{type:"any",location:xn()}},Kn=_i("code block"),Tn="{",us=to("{",!1),cs="}",yn=to("}",!1),yl=function(it){return it},Dn=/^[{}]/,Bs=qn(["{","}"],!1,!1),su=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,ps=qn([["a","z"],"\xB5",["\xDF","\xF6"],["\xF8","\xFF"],"\u0101","\u0103","\u0105","\u0107","\u0109","\u010B","\u010D","\u010F","\u0111","\u0113","\u0115","\u0117","\u0119","\u011B","\u011D","\u011F","\u0121","\u0123","\u0125","\u0127","\u0129","\u012B","\u012D","\u012F","\u0131","\u0133","\u0135",["\u0137","\u0138"],"\u013A","\u013C","\u013E","\u0140","\u0142","\u0144","\u0146",["\u0148","\u0149"],"\u014B","\u014D","\u014F","\u0151","\u0153","\u0155","\u0157","\u0159","\u015B","\u015D","\u015F","\u0161","\u0163","\u0165","\u0167","\u0169","\u016B","\u016D","\u016F","\u0171","\u0173","\u0175","\u0177","\u017A","\u017C",["\u017E","\u0180"],"\u0183","\u0185","\u0188",["\u018C","\u018D"],"\u0192","\u0195",["\u0199","\u019B"],"\u019E","\u01A1","\u01A3","\u01A5","\u01A8",["\u01AA","\u01AB"],"\u01AD","\u01B0","\u01B4","\u01B6",["\u01B9","\u01BA"],["\u01BD","\u01BF"],"\u01C6","\u01C9","\u01CC","\u01CE","\u01D0","\u01D2","\u01D4","\u01D6","\u01D8","\u01DA",["\u01DC","\u01DD"],"\u01DF","\u01E1","\u01E3","\u01E5","\u01E7","\u01E9","\u01EB","\u01ED",["\u01EF","\u01F0"],"\u01F3","\u01F5","\u01F9","\u01FB","\u01FD","\u01FF","\u0201","\u0203","\u0205","\u0207","\u0209","\u020B","\u020D","\u020F","\u0211","\u0213","\u0215","\u0217","\u0219","\u021B","\u021D","\u021F","\u0221","\u0223","\u0225","\u0227","\u0229","\u022B","\u022D","\u022F","\u0231",["\u0233","\u0239"],"\u023C",["\u023F","\u0240"],"\u0242","\u0247","\u0249","\u024B","\u024D",["\u024F","\u0293"],["\u0295","\u02AF"],"\u0371","\u0373","\u0377",["\u037B","\u037D"],"\u0390",["\u03AC","\u03CE"],["\u03D0","\u03D1"],["\u03D5","\u03D7"],"\u03D9","\u03DB","\u03DD","\u03DF","\u03E1","\u03E3","\u03E5","\u03E7","\u03E9","\u03EB","\u03ED",["\u03EF","\u03F3"],"\u03F5","\u03F8",["\u03FB","\u03FC"],["\u0430","\u045F"],"\u0461","\u0463","\u0465","\u0467","\u0469","\u046B","\u046D","\u046F","\u0471","\u0473","\u0475","\u0477","\u0479","\u047B","\u047D","\u047F","\u0481","\u048B","\u048D","\u048F","\u0491","\u0493","\u0495","\u0497","\u0499","\u049B","\u049D","\u049F","\u04A1","\u04A3","\u04A5","\u04A7","\u04A9","\u04AB","\u04AD","\u04AF","\u04B1","\u04B3","\u04B5","\u04B7","\u04B9","\u04BB","\u04BD","\u04BF","\u04C2","\u04C4","\u04C6","\u04C8","\u04CA","\u04CC",["\u04CE","\u04CF"],"\u04D1","\u04D3","\u04D5","\u04D7","\u04D9","\u04DB","\u04DD","\u04DF","\u04E1","\u04E3","\u04E5","\u04E7","\u04E9","\u04EB","\u04ED","\u04EF","\u04F1","\u04F3","\u04F5","\u04F7","\u04F9","\u04FB","\u04FD","\u04FF","\u0501","\u0503","\u0505","\u0507","\u0509","\u050B","\u050D","\u050F","\u0511","\u0513","\u0515","\u0517","\u0519","\u051B","\u051D","\u051F","\u0521","\u0523","\u0525","\u0527","\u0529","\u052B","\u052D","\u052F",["\u0561","\u0587"],["\u13F8","\u13FD"],["\u1D00","\u1D2B"],["\u1D6B","\u1D77"],["\u1D79","\u1D9A"],"\u1E01","\u1E03","\u1E05","\u1E07","\u1E09","\u1E0B","\u1E0D","\u1E0F","\u1E11","\u1E13","\u1E15","\u1E17","\u1E19","\u1E1B","\u1E1D","\u1E1F","\u1E21","\u1E23","\u1E25","\u1E27","\u1E29","\u1E2B","\u1E2D","\u1E2F","\u1E31","\u1E33","\u1E35","\u1E37","\u1E39","\u1E3B","\u1E3D","\u1E3F","\u1E41","\u1E43","\u1E45","\u1E47","\u1E49","\u1E4B","\u1E4D","\u1E4F","\u1E51","\u1E53","\u1E55","\u1E57","\u1E59","\u1E5B","\u1E5D","\u1E5F","\u1E61","\u1E63","\u1E65","\u1E67","\u1E69","\u1E6B","\u1E6D","\u1E6F","\u1E71","\u1E73","\u1E75","\u1E77","\u1E79","\u1E7B","\u1E7D","\u1E7F","\u1E81","\u1E83","\u1E85","\u1E87","\u1E89","\u1E8B","\u1E8D","\u1E8F","\u1E91","\u1E93",["\u1E95","\u1E9D"],"\u1E9F","\u1EA1","\u1EA3","\u1EA5","\u1EA7","\u1EA9","\u1EAB","\u1EAD","\u1EAF","\u1EB1","\u1EB3","\u1EB5","\u1EB7","\u1EB9","\u1EBB","\u1EBD","\u1EBF","\u1EC1","\u1EC3","\u1EC5","\u1EC7","\u1EC9","\u1ECB","\u1ECD","\u1ECF","\u1ED1","\u1ED3","\u1ED5","\u1ED7","\u1ED9","\u1EDB","\u1EDD","\u1EDF","\u1EE1","\u1EE3","\u1EE5","\u1EE7","\u1EE9","\u1EEB","\u1EED","\u1EEF","\u1EF1","\u1EF3","\u1EF5","\u1EF7","\u1EF9","\u1EFB","\u1EFD",["\u1EFF","\u1F07"],["\u1F10","\u1F15"],["\u1F20","\u1F27"],["\u1F30","\u1F37"],["\u1F40","\u1F45"],["\u1F50","\u1F57"],["\u1F60","\u1F67"],["\u1F70","\u1F7D"],["\u1F80","\u1F87"],["\u1F90","\u1F97"],["\u1FA0","\u1FA7"],["\u1FB0","\u1FB4"],["\u1FB6","\u1FB7"],"\u1FBE",["\u1FC2","\u1FC4"],["\u1FC6","\u1FC7"],["\u1FD0","\u1FD3"],["\u1FD6","\u1FD7"],["\u1FE0","\u1FE7"],["\u1FF2","\u1FF4"],["\u1FF6","\u1FF7"],"\u210A",["\u210E","\u210F"],"\u2113","\u212F","\u2134","\u2139",["\u213C","\u213D"],["\u2146","\u2149"],"\u214E","\u2184",["\u2C30","\u2C5E"],"\u2C61",["\u2C65","\u2C66"],"\u2C68","\u2C6A","\u2C6C","\u2C71",["\u2C73","\u2C74"],["\u2C76","\u2C7B"],"\u2C81","\u2C83","\u2C85","\u2C87","\u2C89","\u2C8B","\u2C8D","\u2C8F","\u2C91","\u2C93","\u2C95","\u2C97","\u2C99","\u2C9B","\u2C9D","\u2C9F","\u2CA1","\u2CA3","\u2CA5","\u2CA7","\u2CA9","\u2CAB","\u2CAD","\u2CAF","\u2CB1","\u2CB3","\u2CB5","\u2CB7","\u2CB9","\u2CBB","\u2CBD","\u2CBF","\u2CC1","\u2CC3","\u2CC5","\u2CC7","\u2CC9","\u2CCB","\u2CCD","\u2CCF","\u2CD1","\u2CD3","\u2CD5","\u2CD7","\u2CD9","\u2CDB","\u2CDD","\u2CDF","\u2CE1",["\u2CE3","\u2CE4"],"\u2CEC","\u2CEE","\u2CF3",["\u2D00","\u2D25"],"\u2D27","\u2D2D","\uA641","\uA643","\uA645","\uA647","\uA649","\uA64B","\uA64D","\uA64F","\uA651","\uA653","\uA655","\uA657","\uA659","\uA65B","\uA65D","\uA65F","\uA661","\uA663","\uA665","\uA667","\uA669","\uA66B","\uA66D","\uA681","\uA683","\uA685","\uA687","\uA689","\uA68B","\uA68D","\uA68F","\uA691","\uA693","\uA695","\uA697","\uA699","\uA69B","\uA723","\uA725","\uA727","\uA729","\uA72B","\uA72D",["\uA72F","\uA731"],"\uA733","\uA735","\uA737","\uA739","\uA73B","\uA73D","\uA73F","\uA741","\uA743","\uA745","\uA747","\uA749","\uA74B","\uA74D","\uA74F","\uA751","\uA753","\uA755","\uA757","\uA759","\uA75B","\uA75D","\uA75F","\uA761","\uA763","\uA765","\uA767","\uA769","\uA76B","\uA76D","\uA76F",["\uA771","\uA778"],"\uA77A","\uA77C","\uA77F","\uA781","\uA783","\uA785","\uA787","\uA78C","\uA78E","\uA791",["\uA793","\uA795"],"\uA797","\uA799","\uA79B","\uA79D","\uA79F","\uA7A1","\uA7A3","\uA7A5","\uA7A7","\uA7A9","\uA7B5","\uA7B7","\uA7FA",["\uAB30","\uAB5A"],["\uAB60","\uAB65"],["\uAB70","\uABBF"],["\uFB00","\uFB06"],["\uFB13","\uFB17"],["\uFF41","\uFF5A"]],!1,!1),zs=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,Nu=qn([["\u02B0","\u02C1"],["\u02C6","\u02D1"],["\u02E0","\u02E4"],"\u02EC","\u02EE","\u0374","\u037A","\u0559","\u0640",["\u06E5","\u06E6"],["\u07F4","\u07F5"],"\u07FA","\u081A","\u0824","\u0828","\u0971","\u0E46","\u0EC6","\u10FC","\u17D7","\u1843","\u1AA7",["\u1C78","\u1C7D"],["\u1D2C","\u1D6A"],"\u1D78",["\u1D9B","\u1DBF"],"\u2071","\u207F",["\u2090","\u209C"],["\u2C7C","\u2C7D"],"\u2D6F","\u2E2F","\u3005",["\u3031","\u3035"],"\u303B",["\u309D","\u309E"],["\u30FC","\u30FE"],"\uA015",["\uA4F8","\uA4FD"],"\uA60C","\uA67F",["\uA69C","\uA69D"],["\uA717","\uA71F"],"\uA770","\uA788",["\uA7F8","\uA7F9"],"\uA9CF","\uA9E6","\uAA70","\uAADD",["\uAAF3","\uAAF4"],["\uAB5C","\uAB5F"],"\uFF70",["\uFF9E","\uFF9F"]],!1,!1),lu=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Lu=qn(["\xAA","\xBA","\u01BB",["\u01C0","\u01C3"],"\u0294",["\u05D0","\u05EA"],["\u05F0","\u05F2"],["\u0620","\u063F"],["\u0641","\u064A"],["\u066E","\u066F"],["\u0671","\u06D3"],"\u06D5",["\u06EE","\u06EF"],["\u06FA","\u06FC"],"\u06FF","\u0710",["\u0712","\u072F"],["\u074D","\u07A5"],"\u07B1",["\u07CA","\u07EA"],["\u0800","\u0815"],["\u0840","\u0858"],["\u08A0","\u08B4"],["\u0904","\u0939"],"\u093D","\u0950",["\u0958","\u0961"],["\u0972","\u0980"],["\u0985","\u098C"],["\u098F","\u0990"],["\u0993","\u09A8"],["\u09AA","\u09B0"],"\u09B2",["\u09B6","\u09B9"],"\u09BD","\u09CE",["\u09DC","\u09DD"],["\u09DF","\u09E1"],["\u09F0","\u09F1"],["\u0A05","\u0A0A"],["\u0A0F","\u0A10"],["\u0A13","\u0A28"],["\u0A2A","\u0A30"],["\u0A32","\u0A33"],["\u0A35","\u0A36"],["\u0A38","\u0A39"],["\u0A59","\u0A5C"],"\u0A5E",["\u0A72","\u0A74"],["\u0A85","\u0A8D"],["\u0A8F","\u0A91"],["\u0A93","\u0AA8"],["\u0AAA","\u0AB0"],["\u0AB2","\u0AB3"],["\u0AB5","\u0AB9"],"\u0ABD","\u0AD0",["\u0AE0","\u0AE1"],"\u0AF9",["\u0B05","\u0B0C"],["\u0B0F","\u0B10"],["\u0B13","\u0B28"],["\u0B2A","\u0B30"],["\u0B32","\u0B33"],["\u0B35","\u0B39"],"\u0B3D",["\u0B5C","\u0B5D"],["\u0B5F","\u0B61"],"\u0B71","\u0B83",["\u0B85","\u0B8A"],["\u0B8E","\u0B90"],["\u0B92","\u0B95"],["\u0B99","\u0B9A"],"\u0B9C",["\u0B9E","\u0B9F"],["\u0BA3","\u0BA4"],["\u0BA8","\u0BAA"],["\u0BAE","\u0BB9"],"\u0BD0",["\u0C05","\u0C0C"],["\u0C0E","\u0C10"],["\u0C12","\u0C28"],["\u0C2A","\u0C39"],"\u0C3D",["\u0C58","\u0C5A"],["\u0C60","\u0C61"],["\u0C85","\u0C8C"],["\u0C8E","\u0C90"],["\u0C92","\u0CA8"],["\u0CAA","\u0CB3"],["\u0CB5","\u0CB9"],"\u0CBD","\u0CDE",["\u0CE0","\u0CE1"],["\u0CF1","\u0CF2"],["\u0D05","\u0D0C"],["\u0D0E","\u0D10"],["\u0D12","\u0D3A"],"\u0D3D","\u0D4E",["\u0D5F","\u0D61"],["\u0D7A","\u0D7F"],["\u0D85","\u0D96"],["\u0D9A","\u0DB1"],["\u0DB3","\u0DBB"],"\u0DBD",["\u0DC0","\u0DC6"],["\u0E01","\u0E30"],["\u0E32","\u0E33"],["\u0E40","\u0E45"],["\u0E81","\u0E82"],"\u0E84",["\u0E87","\u0E88"],"\u0E8A","\u0E8D",["\u0E94","\u0E97"],["\u0E99","\u0E9F"],["\u0EA1","\u0EA3"],"\u0EA5","\u0EA7",["\u0EAA","\u0EAB"],["\u0EAD","\u0EB0"],["\u0EB2","\u0EB3"],"\u0EBD",["\u0EC0","\u0EC4"],["\u0EDC","\u0EDF"],"\u0F00",["\u0F40","\u0F47"],["\u0F49","\u0F6C"],["\u0F88","\u0F8C"],["\u1000","\u102A"],"\u103F",["\u1050","\u1055"],["\u105A","\u105D"],"\u1061",["\u1065","\u1066"],["\u106E","\u1070"],["\u1075","\u1081"],"\u108E",["\u10D0","\u10FA"],["\u10FD","\u1248"],["\u124A","\u124D"],["\u1250","\u1256"],"\u1258",["\u125A","\u125D"],["\u1260","\u1288"],["\u128A","\u128D"],["\u1290","\u12B0"],["\u12B2","\u12B5"],["\u12B8","\u12BE"],"\u12C0",["\u12C2","\u12C5"],["\u12C8","\u12D6"],["\u12D8","\u1310"],["\u1312","\u1315"],["\u1318","\u135A"],["\u1380","\u138F"],["\u1401","\u166C"],["\u166F","\u167F"],["\u1681","\u169A"],["\u16A0","\u16EA"],["\u16F1","\u16F8"],["\u1700","\u170C"],["\u170E","\u1711"],["\u1720","\u1731"],["\u1740","\u1751"],["\u1760","\u176C"],["\u176E","\u1770"],["\u1780","\u17B3"],"\u17DC",["\u1820","\u1842"],["\u1844","\u1877"],["\u1880","\u18A8"],"\u18AA",["\u18B0","\u18F5"],["\u1900","\u191E"],["\u1950","\u196D"],["\u1970","\u1974"],["\u1980","\u19AB"],["\u19B0","\u19C9"],["\u1A00","\u1A16"],["\u1A20","\u1A54"],["\u1B05","\u1B33"],["\u1B45","\u1B4B"],["\u1B83","\u1BA0"],["\u1BAE","\u1BAF"],["\u1BBA","\u1BE5"],["\u1C00","\u1C23"],["\u1C4D","\u1C4F"],["\u1C5A","\u1C77"],["\u1CE9","\u1CEC"],["\u1CEE","\u1CF1"],["\u1CF5","\u1CF6"],["\u2135","\u2138"],["\u2D30","\u2D67"],["\u2D80","\u2D96"],["\u2DA0","\u2DA6"],["\u2DA8","\u2DAE"],["\u2DB0","\u2DB6"],["\u2DB8","\u2DBE"],["\u2DC0","\u2DC6"],["\u2DC8","\u2DCE"],["\u2DD0","\u2DD6"],["\u2DD8","\u2DDE"],"\u3006","\u303C",["\u3041","\u3096"],"\u309F",["\u30A1","\u30FA"],"\u30FF",["\u3105","\u312D"],["\u3131","\u318E"],["\u31A0","\u31BA"],["\u31F0","\u31FF"],["\u3400","\u4DB5"],["\u4E00","\u9FD5"],["\uA000","\uA014"],["\uA016","\uA48C"],["\uA4D0","\uA4F7"],["\uA500","\uA60B"],["\uA610","\uA61F"],["\uA62A","\uA62B"],"\uA66E",["\uA6A0","\uA6E5"],"\uA78F","\uA7F7",["\uA7FB","\uA801"],["\uA803","\uA805"],["\uA807","\uA80A"],["\uA80C","\uA822"],["\uA840","\uA873"],["\uA882","\uA8B3"],["\uA8F2","\uA8F7"],"\uA8FB","\uA8FD",["\uA90A","\uA925"],["\uA930","\uA946"],["\uA960","\uA97C"],["\uA984","\uA9B2"],["\uA9E0","\uA9E4"],["\uA9E7","\uA9EF"],["\uA9FA","\uA9FE"],["\uAA00","\uAA28"],["\uAA40","\uAA42"],["\uAA44","\uAA4B"],["\uAA60","\uAA6F"],["\uAA71","\uAA76"],"\uAA7A",["\uAA7E","\uAAAF"],"\uAAB1",["\uAAB5","\uAAB6"],["\uAAB9","\uAABD"],"\uAAC0","\uAAC2",["\uAADB","\uAADC"],["\uAAE0","\uAAEA"],"\uAAF2",["\uAB01","\uAB06"],["\uAB09","\uAB0E"],["\uAB11","\uAB16"],["\uAB20","\uAB26"],["\uAB28","\uAB2E"],["\uABC0","\uABE2"],["\uAC00","\uD7A3"],["\uD7B0","\uD7C6"],["\uD7CB","\uD7FB"],["\uF900","\uFA6D"],["\uFA70","\uFAD9"],"\uFB1D",["\uFB1F","\uFB28"],["\uFB2A","\uFB36"],["\uFB38","\uFB3C"],"\uFB3E",["\uFB40","\uFB41"],["\uFB43","\uFB44"],["\uFB46","\uFBB1"],["\uFBD3","\uFD3D"],["\uFD50","\uFD8F"],["\uFD92","\uFDC7"],["\uFDF0","\uFDFB"],["\uFE70","\uFE74"],["\uFE76","\uFEFC"],["\uFF66","\uFF6F"],["\uFF71","\uFF9D"],["\uFFA0","\uFFBE"],["\uFFC2","\uFFC7"],["\uFFCA","\uFFCF"],["\uFFD2","\uFFD7"],["\uFFDA","\uFFDC"]],!1,!1),zl=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,au=qn(["\u01C5","\u01C8","\u01CB","\u01F2",["\u1F88","\u1F8F"],["\u1F98","\u1F9F"],["\u1FA8","\u1FAF"],"\u1FBC","\u1FCC","\u1FFC"],!1,!1),Fu=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,uu=qn([["A","Z"],["\xC0","\xD6"],["\xD8","\xDE"],"\u0100","\u0102","\u0104","\u0106","\u0108","\u010A","\u010C","\u010E","\u0110","\u0112","\u0114","\u0116","\u0118","\u011A","\u011C","\u011E","\u0120","\u0122","\u0124","\u0126","\u0128","\u012A","\u012C","\u012E","\u0130","\u0132","\u0134","\u0136","\u0139","\u013B","\u013D","\u013F","\u0141","\u0143","\u0145","\u0147","\u014A","\u014C","\u014E","\u0150","\u0152","\u0154","\u0156","\u0158","\u015A","\u015C","\u015E","\u0160","\u0162","\u0164","\u0166","\u0168","\u016A","\u016C","\u016E","\u0170","\u0172","\u0174","\u0176",["\u0178","\u0179"],"\u017B","\u017D",["\u0181","\u0182"],"\u0184",["\u0186","\u0187"],["\u0189","\u018B"],["\u018E","\u0191"],["\u0193","\u0194"],["\u0196","\u0198"],["\u019C","\u019D"],["\u019F","\u01A0"],"\u01A2","\u01A4",["\u01A6","\u01A7"],"\u01A9","\u01AC",["\u01AE","\u01AF"],["\u01B1","\u01B3"],"\u01B5",["\u01B7","\u01B8"],"\u01BC","\u01C4","\u01C7","\u01CA","\u01CD","\u01CF","\u01D1","\u01D3","\u01D5","\u01D7","\u01D9","\u01DB","\u01DE","\u01E0","\u01E2","\u01E4","\u01E6","\u01E8","\u01EA","\u01EC","\u01EE","\u01F1","\u01F4",["\u01F6","\u01F8"],"\u01FA","\u01FC","\u01FE","\u0200","\u0202","\u0204","\u0206","\u0208","\u020A","\u020C","\u020E","\u0210","\u0212","\u0214","\u0216","\u0218","\u021A","\u021C","\u021E","\u0220","\u0222","\u0224","\u0226","\u0228","\u022A","\u022C","\u022E","\u0230","\u0232",["\u023A","\u023B"],["\u023D","\u023E"],"\u0241",["\u0243","\u0246"],"\u0248","\u024A","\u024C","\u024E","\u0370","\u0372","\u0376","\u037F","\u0386",["\u0388","\u038A"],"\u038C",["\u038E","\u038F"],["\u0391","\u03A1"],["\u03A3","\u03AB"],"\u03CF",["\u03D2","\u03D4"],"\u03D8","\u03DA","\u03DC","\u03DE","\u03E0","\u03E2","\u03E4","\u03E6","\u03E8","\u03EA","\u03EC","\u03EE","\u03F4","\u03F7",["\u03F9","\u03FA"],["\u03FD","\u042F"],"\u0460","\u0462","\u0464","\u0466","\u0468","\u046A","\u046C","\u046E","\u0470","\u0472","\u0474","\u0476","\u0478","\u047A","\u047C","\u047E","\u0480","\u048A","\u048C","\u048E","\u0490","\u0492","\u0494","\u0496","\u0498","\u049A","\u049C","\u049E","\u04A0","\u04A2","\u04A4","\u04A6","\u04A8","\u04AA","\u04AC","\u04AE","\u04B0","\u04B2","\u04B4","\u04B6","\u04B8","\u04BA","\u04BC","\u04BE",["\u04C0","\u04C1"],"\u04C3","\u04C5","\u04C7","\u04C9","\u04CB","\u04CD","\u04D0","\u04D2","\u04D4","\u04D6","\u04D8","\u04DA","\u04DC","\u04DE","\u04E0","\u04E2","\u04E4","\u04E6","\u04E8","\u04EA","\u04EC","\u04EE","\u04F0","\u04F2","\u04F4","\u04F6","\u04F8","\u04FA","\u04FC","\u04FE","\u0500","\u0502","\u0504","\u0506","\u0508","\u050A","\u050C","\u050E","\u0510","\u0512","\u0514","\u0516","\u0518","\u051A","\u051C","\u051E","\u0520","\u0522","\u0524","\u0526","\u0528","\u052A","\u052C","\u052E",["\u0531","\u0556"],["\u10A0","\u10C5"],"\u10C7","\u10CD",["\u13A0","\u13F5"],"\u1E00","\u1E02","\u1E04","\u1E06","\u1E08","\u1E0A","\u1E0C","\u1E0E","\u1E10","\u1E12","\u1E14","\u1E16","\u1E18","\u1E1A","\u1E1C","\u1E1E","\u1E20","\u1E22","\u1E24","\u1E26","\u1E28","\u1E2A","\u1E2C","\u1E2E","\u1E30","\u1E32","\u1E34","\u1E36","\u1E38","\u1E3A","\u1E3C","\u1E3E","\u1E40","\u1E42","\u1E44","\u1E46","\u1E48","\u1E4A","\u1E4C","\u1E4E","\u1E50","\u1E52","\u1E54","\u1E56","\u1E58","\u1E5A","\u1E5C","\u1E5E","\u1E60","\u1E62","\u1E64","\u1E66","\u1E68","\u1E6A","\u1E6C","\u1E6E","\u1E70","\u1E72","\u1E74","\u1E76","\u1E78","\u1E7A","\u1E7C","\u1E7E","\u1E80","\u1E82","\u1E84","\u1E86","\u1E88","\u1E8A","\u1E8C","\u1E8E","\u1E90","\u1E92","\u1E94","\u1E9E","\u1EA0","\u1EA2","\u1EA4","\u1EA6","\u1EA8","\u1EAA","\u1EAC","\u1EAE","\u1EB0","\u1EB2","\u1EB4","\u1EB6","\u1EB8","\u1EBA","\u1EBC","\u1EBE","\u1EC0","\u1EC2","\u1EC4","\u1EC6","\u1EC8","\u1ECA","\u1ECC","\u1ECE","\u1ED0","\u1ED2","\u1ED4","\u1ED6","\u1ED8","\u1EDA","\u1EDC","\u1EDE","\u1EE0","\u1EE2","\u1EE4","\u1EE6","\u1EE8","\u1EEA","\u1EEC","\u1EEE","\u1EF0","\u1EF2","\u1EF4","\u1EF6","\u1EF8","\u1EFA","\u1EFC","\u1EFE",["\u1F08","\u1F0F"],["\u1F18","\u1F1D"],["\u1F28","\u1F2F"],["\u1F38","\u1F3F"],["\u1F48","\u1F4D"],"\u1F59","\u1F5B","\u1F5D","\u1F5F",["\u1F68","\u1F6F"],["\u1FB8","\u1FBB"],["\u1FC8","\u1FCB"],["\u1FD8","\u1FDB"],["\u1FE8","\u1FEC"],["\u1FF8","\u1FFB"],"\u2102","\u2107",["\u210B","\u210D"],["\u2110","\u2112"],"\u2115",["\u2119","\u211D"],"\u2124","\u2126","\u2128",["\u212A","\u212D"],["\u2130","\u2133"],["\u213E","\u213F"],"\u2145","\u2183",["\u2C00","\u2C2E"],"\u2C60",["\u2C62","\u2C64"],"\u2C67","\u2C69","\u2C6B",["\u2C6D","\u2C70"],"\u2C72","\u2C75",["\u2C7E","\u2C80"],"\u2C82","\u2C84","\u2C86","\u2C88","\u2C8A","\u2C8C","\u2C8E","\u2C90","\u2C92","\u2C94","\u2C96","\u2C98","\u2C9A","\u2C9C","\u2C9E","\u2CA0","\u2CA2","\u2CA4","\u2CA6","\u2CA8","\u2CAA","\u2CAC","\u2CAE","\u2CB0","\u2CB2","\u2CB4","\u2CB6","\u2CB8","\u2CBA","\u2CBC","\u2CBE","\u2CC0","\u2CC2","\u2CC4","\u2CC6","\u2CC8","\u2CCA","\u2CCC","\u2CCE","\u2CD0","\u2CD2","\u2CD4","\u2CD6","\u2CD8","\u2CDA","\u2CDC","\u2CDE","\u2CE0","\u2CE2","\u2CEB","\u2CED","\u2CF2","\uA640","\uA642","\uA644","\uA646","\uA648","\uA64A","\uA64C","\uA64E","\uA650","\uA652","\uA654","\uA656","\uA658","\uA65A","\uA65C","\uA65E","\uA660","\uA662","\uA664","\uA666","\uA668","\uA66A","\uA66C","\uA680","\uA682","\uA684","\uA686","\uA688","\uA68A","\uA68C","\uA68E","\uA690","\uA692","\uA694","\uA696","\uA698","\uA69A","\uA722","\uA724","\uA726","\uA728","\uA72A","\uA72C","\uA72E","\uA732","\uA734","\uA736","\uA738","\uA73A","\uA73C","\uA73E","\uA740","\uA742","\uA744","\uA746","\uA748","\uA74A","\uA74C","\uA74E","\uA750","\uA752","\uA754","\uA756","\uA758","\uA75A","\uA75C","\uA75E","\uA760","\uA762","\uA764","\uA766","\uA768","\uA76A","\uA76C","\uA76E","\uA779","\uA77B",["\uA77D","\uA77E"],"\uA780","\uA782","\uA784","\uA786","\uA78B","\uA78D","\uA790","\uA792","\uA796","\uA798","\uA79A","\uA79C","\uA79E","\uA7A0","\uA7A2","\uA7A4","\uA7A6","\uA7A8",["\uA7AA","\uA7AD"],["\uA7B0","\uA7B4"],"\uA7B6",["\uFF21","\uFF3A"]],!1,!1),Pu=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,Rt=qn(["\u0903","\u093B",["\u093E","\u0940"],["\u0949","\u094C"],["\u094E","\u094F"],["\u0982","\u0983"],["\u09BE","\u09C0"],["\u09C7","\u09C8"],["\u09CB","\u09CC"],"\u09D7","\u0A03",["\u0A3E","\u0A40"],"\u0A83",["\u0ABE","\u0AC0"],"\u0AC9",["\u0ACB","\u0ACC"],["\u0B02","\u0B03"],"\u0B3E","\u0B40",["\u0B47","\u0B48"],["\u0B4B","\u0B4C"],"\u0B57",["\u0BBE","\u0BBF"],["\u0BC1","\u0BC2"],["\u0BC6","\u0BC8"],["\u0BCA","\u0BCC"],"\u0BD7",["\u0C01","\u0C03"],["\u0C41","\u0C44"],["\u0C82","\u0C83"],"\u0CBE",["\u0CC0","\u0CC4"],["\u0CC7","\u0CC8"],["\u0CCA","\u0CCB"],["\u0CD5","\u0CD6"],["\u0D02","\u0D03"],["\u0D3E","\u0D40"],["\u0D46","\u0D48"],["\u0D4A","\u0D4C"],"\u0D57",["\u0D82","\u0D83"],["\u0DCF","\u0DD1"],["\u0DD8","\u0DDF"],["\u0DF2","\u0DF3"],["\u0F3E","\u0F3F"],"\u0F7F",["\u102B","\u102C"],"\u1031","\u1038",["\u103B","\u103C"],["\u1056","\u1057"],["\u1062","\u1064"],["\u1067","\u106D"],["\u1083","\u1084"],["\u1087","\u108C"],"\u108F",["\u109A","\u109C"],"\u17B6",["\u17BE","\u17C5"],["\u17C7","\u17C8"],["\u1923","\u1926"],["\u1929","\u192B"],["\u1930","\u1931"],["\u1933","\u1938"],["\u1A19","\u1A1A"],"\u1A55","\u1A57","\u1A61",["\u1A63","\u1A64"],["\u1A6D","\u1A72"],"\u1B04","\u1B35","\u1B3B",["\u1B3D","\u1B41"],["\u1B43","\u1B44"],"\u1B82","\u1BA1",["\u1BA6","\u1BA7"],"\u1BAA","\u1BE7",["\u1BEA","\u1BEC"],"\u1BEE",["\u1BF2","\u1BF3"],["\u1C24","\u1C2B"],["\u1C34","\u1C35"],"\u1CE1",["\u1CF2","\u1CF3"],["\u302E","\u302F"],["\uA823","\uA824"],"\uA827",["\uA880","\uA881"],["\uA8B4","\uA8C3"],["\uA952","\uA953"],"\uA983",["\uA9B4","\uA9B5"],["\uA9BA","\uA9BB"],["\uA9BD","\uA9C0"],["\uAA2F","\uAA30"],["\uAA33","\uAA34"],"\uAA4D","\uAA7B","\uAA7D","\uAAEB",["\uAAEE","\uAAEF"],"\uAAF5",["\uABE3","\uABE4"],["\uABE6","\uABE7"],["\uABE9","\uABEA"],"\uABEC"],!1,!1),Ft=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,Jt=qn([["\u0300","\u036F"],["\u0483","\u0487"],["\u0591","\u05BD"],"\u05BF",["\u05C1","\u05C2"],["\u05C4","\u05C5"],"\u05C7",["\u0610","\u061A"],["\u064B","\u065F"],"\u0670",["\u06D6","\u06DC"],["\u06DF","\u06E4"],["\u06E7","\u06E8"],["\u06EA","\u06ED"],"\u0711",["\u0730","\u074A"],["\u07A6","\u07B0"],["\u07EB","\u07F3"],["\u0816","\u0819"],["\u081B","\u0823"],["\u0825","\u0827"],["\u0829","\u082D"],["\u0859","\u085B"],["\u08E3","\u0902"],"\u093A","\u093C",["\u0941","\u0948"],"\u094D",["\u0951","\u0957"],["\u0962","\u0963"],"\u0981","\u09BC",["\u09C1","\u09C4"],"\u09CD",["\u09E2","\u09E3"],["\u0A01","\u0A02"],"\u0A3C",["\u0A41","\u0A42"],["\u0A47","\u0A48"],["\u0A4B","\u0A4D"],"\u0A51",["\u0A70","\u0A71"],"\u0A75",["\u0A81","\u0A82"],"\u0ABC",["\u0AC1","\u0AC5"],["\u0AC7","\u0AC8"],"\u0ACD",["\u0AE2","\u0AE3"],"\u0B01","\u0B3C","\u0B3F",["\u0B41","\u0B44"],"\u0B4D","\u0B56",["\u0B62","\u0B63"],"\u0B82","\u0BC0","\u0BCD","\u0C00",["\u0C3E","\u0C40"],["\u0C46","\u0C48"],["\u0C4A","\u0C4D"],["\u0C55","\u0C56"],["\u0C62","\u0C63"],"\u0C81","\u0CBC","\u0CBF","\u0CC6",["\u0CCC","\u0CCD"],["\u0CE2","\u0CE3"],"\u0D01",["\u0D41","\u0D44"],"\u0D4D",["\u0D62","\u0D63"],"\u0DCA",["\u0DD2","\u0DD4"],"\u0DD6","\u0E31",["\u0E34","\u0E3A"],["\u0E47","\u0E4E"],"\u0EB1",["\u0EB4","\u0EB9"],["\u0EBB","\u0EBC"],["\u0EC8","\u0ECD"],["\u0F18","\u0F19"],"\u0F35","\u0F37","\u0F39",["\u0F71","\u0F7E"],["\u0F80","\u0F84"],["\u0F86","\u0F87"],["\u0F8D","\u0F97"],["\u0F99","\u0FBC"],"\u0FC6",["\u102D","\u1030"],["\u1032","\u1037"],["\u1039","\u103A"],["\u103D","\u103E"],["\u1058","\u1059"],["\u105E","\u1060"],["\u1071","\u1074"],"\u1082",["\u1085","\u1086"],"\u108D","\u109D",["\u135D","\u135F"],["\u1712","\u1714"],["\u1732","\u1734"],["\u1752","\u1753"],["\u1772","\u1773"],["\u17B4","\u17B5"],["\u17B7","\u17BD"],"\u17C6",["\u17C9","\u17D3"],"\u17DD",["\u180B","\u180D"],"\u18A9",["\u1920","\u1922"],["\u1927","\u1928"],"\u1932",["\u1939","\u193B"],["\u1A17","\u1A18"],"\u1A1B","\u1A56",["\u1A58","\u1A5E"],"\u1A60","\u1A62",["\u1A65","\u1A6C"],["\u1A73","\u1A7C"],"\u1A7F",["\u1AB0","\u1ABD"],["\u1B00","\u1B03"],"\u1B34",["\u1B36","\u1B3A"],"\u1B3C","\u1B42",["\u1B6B","\u1B73"],["\u1B80","\u1B81"],["\u1BA2","\u1BA5"],["\u1BA8","\u1BA9"],["\u1BAB","\u1BAD"],"\u1BE6",["\u1BE8","\u1BE9"],"\u1BED",["\u1BEF","\u1BF1"],["\u1C2C","\u1C33"],["\u1C36","\u1C37"],["\u1CD0","\u1CD2"],["\u1CD4","\u1CE0"],["\u1CE2","\u1CE8"],"\u1CED","\u1CF4",["\u1CF8","\u1CF9"],["\u1DC0","\u1DF5"],["\u1DFC","\u1DFF"],["\u20D0","\u20DC"],"\u20E1",["\u20E5","\u20F0"],["\u2CEF","\u2CF1"],"\u2D7F",["\u2DE0","\u2DFF"],["\u302A","\u302D"],["\u3099","\u309A"],"\uA66F",["\uA674","\uA67D"],["\uA69E","\uA69F"],["\uA6F0","\uA6F1"],"\uA802","\uA806","\uA80B",["\uA825","\uA826"],"\uA8C4",["\uA8E0","\uA8F1"],["\uA926","\uA92D"],["\uA947","\uA951"],["\uA980","\uA982"],"\uA9B3",["\uA9B6","\uA9B9"],"\uA9BC","\uA9E5",["\uAA29","\uAA2E"],["\uAA31","\uAA32"],["\uAA35","\uAA36"],"\uAA43","\uAA4C","\uAA7C","\uAAB0",["\uAAB2","\uAAB4"],["\uAAB7","\uAAB8"],["\uAABE","\uAABF"],"\uAAC1",["\uAAEC","\uAAED"],"\uAAF6","\uABE5","\uABE8","\uABED","\uFB1E",["\uFE00","\uFE0F"],["\uFE20","\uFE2F"]],!1,!1),ko=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,sn=qn([["0","9"],["\u0660","\u0669"],["\u06F0","\u06F9"],["\u07C0","\u07C9"],["\u0966","\u096F"],["\u09E6","\u09EF"],["\u0A66","\u0A6F"],["\u0AE6","\u0AEF"],["\u0B66","\u0B6F"],["\u0BE6","\u0BEF"],["\u0C66","\u0C6F"],["\u0CE6","\u0CEF"],["\u0D66","\u0D6F"],["\u0DE6","\u0DEF"],["\u0E50","\u0E59"],["\u0ED0","\u0ED9"],["\u0F20","\u0F29"],["\u1040","\u1049"],["\u1090","\u1099"],["\u17E0","\u17E9"],["\u1810","\u1819"],["\u1946","\u194F"],["\u19D0","\u19D9"],["\u1A80","\u1A89"],["\u1A90","\u1A99"],["\u1B50","\u1B59"],["\u1BB0","\u1BB9"],["\u1C40","\u1C49"],["\u1C50","\u1C59"],["\uA620","\uA629"],["\uA8D0","\uA8D9"],["\uA900","\uA909"],["\uA9D0","\uA9D9"],["\uA9F0","\uA9F9"],["\uAA50","\uAA59"],["\uABF0","\uABF9"],["\uFF10","\uFF19"]],!1,!1),En=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,Rn=qn([["\u16EE","\u16F0"],["\u2160","\u2182"],["\u2185","\u2188"],"\u3007",["\u3021","\u3029"],["\u3038","\u303A"],["\uA6E6","\uA6EF"]],!1,!1),on=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,Sn=qn(["_",["\u203F","\u2040"],"\u2054",["\uFE33","\uFE34"],["\uFE4D","\uFE4F"],"\uFF3F"],!1,!1),an=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,hn=qn([" ","\xA0","\u1680",["\u2000","\u200A"],"\u202F","\u205F","\u3000"],!1,!1),Ar="break",hs=to("break",!1),ds="case",cu=to("case",!1),cp="catch",Np=to("catch",!1),pp="class",xr=to("class",!1),Mr="const",Uu=to("const",!1),xt="continue",gr=to("continue",!1),Vr="debugger",Jn=to("debugger",!1),Ir="default",un=to("default",!1),pu="delete",Vu=to("delete",!1),Mt="do",nn=to("do",!1),hu="else",rn=to("else",!1),fs="enum",vr=to("enum",!1),hp="export",Lp=to("export",!1),dp="extends",Fp=to("extends",!1),fp="false",Tr=to("false",!1),gp="finally",Nr=to("finally",!1),Lr="for",Hu=to("for",!1),Xl="function",mp=to("function",!1),Gu="if",_p=to("if",!1),Wn="import",dn=to("import",!1),yp="instanceof",Pp=to("instanceof",!1),vp="in",Up=to("in",!1),Vn="new",Tp=to("new",!1),Wu="null",Ep=to("null",!1),ar="return",Tl=to("return",!1),As="super",ju=to("super",!1),kp="switch",Vp=to("switch",!1),Xs="this",El=to("this",!1),jn="throw",gs=to("throw",!1),Zr="true",Eo=to("true",!1),Sp="try",Hp=to("try",!1),Cp="typeof",Gp=to("typeof",!1),Qr="var",yo=to("var",!1),Sl="void",_o=to("void",!1),wn="while",ms=to("while",!1),Fr="with",Cl=to("with",!1),Wp=";",cn=to(";",!1),ut=0,mo=0,xs=[{line:1,column:1}],Cn=0,zu=[],It=0,xo;if("startRule"in $){if(!($.startRule in _e))throw new Error(`Can't start parsing from rule "`+$.startRule+'".');tt=_e[$.startRule]}function ro(){return i.substring(mo,ut)}function xn(){return Is(mo,ut)}function Fn(it,ft){throw ft=ft!==void 0?ft:Is(mo,ut),$l(it,ft)}function to(it,ft){return{type:"literal",text:it,ignoreCase:ft}}function qn(it,ft,_t){return{type:"class",parts:it,inverted:ft,ignoreCase:_t}}function du(){return{type:"any"}}function jp(){return{type:"end"}}function _i(it){return{type:"other",description:it}}function mr(it){var ft=xs[it],_t;if(ft)return ft;for(_t=it-1;!xs[_t];)_t--;for(ft=xs[_t],ft={line:ft.line,column:ft.column};_t<it;)i.charCodeAt(_t)===10?(ft.line++,ft.column=1):ft.column++,_t++;return xs[it]=ft,ft}function Is(it,ft){var _t=mr(it),Ct=mr(ft);return{start:{offset:it,line:_t.line,column:_t.column},end:{offset:ft,line:Ct.line,column:Ct.column}}}function Xt(it){ut<Cn||(ut>Cn&&(Cn=ut,zu=[]),zu.push(it))}function $l(it,ft){return new peg$SyntaxError(it,null,null,ft)}function Xu(it,ft,_t){return new peg$SyntaxError(peg$SyntaxError.buildMessage(it,ft),it,ft,_t)}function Kt(){var it,ft,_t,Ct,Gt,qt,ln;if(it=ut,ft=pn(),ft!==_)if(_t=ut,Ct=fu(),Ct!==_?(Gt=pn(),Gt!==_?(Ct=[Ct,Gt],_t=Ct):(ut=_t,_t=_)):(ut=_t,_t=_),_t===_&&(_t=null),_t!==_){if(Ct=[],Gt=ut,qt=Bl(),qt!==_?(ln=pn(),ln!==_?(qt=[qt,ln],Gt=qt):(ut=Gt,Gt=_)):(ut=Gt,Gt=_),Gt!==_)for(;Gt!==_;)Ct.push(Gt),Gt=ut,qt=Bl(),qt!==_?(ln=pn(),ln!==_?(qt=[qt,ln],Gt=qt):(ut=Gt,Gt=_)):(ut=Gt,Gt=_);else Ct=_;Ct!==_?(mo=it,ft=nt(_t,Ct),it=ft):(ut=it,it=_)}else ut=it,it=_;else ut=it,it=_;return it}function fu(){var it,ft,_t;return it=ut,ft=nr(),ft!==_?(_t=Tu(),_t!==_?(mo=it,ft=st(ft),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Bl(){var it,ft,_t,Ct,Gt,qt,ln,Hn;return it=ut,ft=Zu(),ft!==_?(_t=pn(),_t!==_?(Ct=ut,Gt=Ds(),Gt!==_?(qt=pn(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_),Ct===_&&(Ct=null),Ct!==_?(i.charCodeAt(ut)===61?(Gt=at,ut++):(Gt=_,It===0&&Xt(ht)),Gt!==_?(qt=pn(),qt!==_?(ln=qo(),ln!==_?(Hn=Tu(),Hn!==_?(mo=it,ft=lt(ft,Ct,ln),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),it}function qo(){var it,ft,_t,Ct,Gt,qt,ln,Hn;if(it=ut,ft=Yu(),ft!==_){for(_t=[],Ct=ut,Gt=pn(),Gt!==_?(i.charCodeAt(ut)===47?(qt=pt,ut++):(qt=_,It===0&&Xt(dt)),qt!==_?(ln=pn(),ln!==_?(Hn=Yu(),Hn!==_?(Gt=[Gt,qt,ln,Hn],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_)):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);Ct!==_;)_t.push(Ct),Ct=ut,Gt=pn(),Gt!==_?(i.charCodeAt(ut)===47?(qt=pt,ut++):(qt=_,It===0&&Xt(dt)),qt!==_?(ln=pn(),ln!==_?(Hn=Yu(),Hn!==_?(Gt=[Gt,qt,ln,Hn],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_)):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);_t!==_?(mo=it,ft=gt(ft,_t),it=ft):(ut=it,it=_)}else ut=it,it=_;return it}function Yu(){var it,ft,_t,Ct,Gt;return it=ut,ft=zp(),ft!==_?(_t=ut,Ct=pn(),Ct!==_?(Gt=nr(),Gt!==_?(Ct=[Ct,Gt],_t=Ct):(ut=_t,_t=_)):(ut=_t,_t=_),_t===_&&(_t=null),_t!==_?(mo=it,ft=vt(ft,_t),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function zp(){var it,ft,_t,Ct,Gt,qt;if(it=ut,ft=Ku(),ft!==_){for(_t=[],Ct=ut,Gt=pn(),Gt!==_?(qt=Ku(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);Ct!==_;)_t.push(Ct),Ct=ut,Gt=pn(),Gt!==_?(qt=Ku(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);_t!==_?(mo=it,ft=bt(ft,_t),it=ft):(ut=it,it=_)}else ut=it,it=_;return it}function Ku(){var it,ft,_t,Ct,Gt,qt;return it=ut,ft=Xp(),ft!==_?(_t=pn(),_t!==_?(i.charCodeAt(ut)===58?(Ct=$t,ut++):(Ct=_,It===0&&Xt(Tt)),Ct!==_?(Gt=pn(),Gt!==_?(qt=gu(),qt!==_?(mo=it,ft=St(ft,qt),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=gu()),it}function gu(){var it,ft,_t,Ct;return it=ut,ft=Ju(),ft!==_?(_t=pn(),_t!==_?(Ct=bn(),Ct!==_?(mo=it,ft=Bt(ft,Ct),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=bn()),it}function Ju(){var it;return i.charCodeAt(ut)===36?(it=Dt,ut++):(it=_,It===0&&Xt(Vt)),it===_&&(i.charCodeAt(ut)===38?(it=Ht,ut++):(it=_,It===0&&Xt(Wt)),it===_&&(i.charCodeAt(ut)===33?(it=zt,ut++):(it=_,It===0&&Xt(Ut)))),it}function bn(){var it,ft,_t,Ct;return it=ut,ft=Ys(),ft!==_?(_t=pn(),_t!==_?(Ct=qu(),Ct!==_?(mo=it,ft=ao(ft,Ct),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=Ys()),it}function qu(){var it;return i.charCodeAt(ut)===63?(it=lo,ut++):(it=_,It===0&&Xt(Ao)),it===_&&(i.charCodeAt(ut)===42?(it=Zo,ut++):(it=_,It===0&&Xt(Qo)),it===_&&(i.charCodeAt(ut)===43?(it=Wo,ut++):(it=_,It===0&&Xt(An)))),it}function Ys(){var it,ft,_t,Ct,Gt,qt;return it=Vo(),it===_&&(it=Zp(),it===_&&(it=ys(),it===_&&(it=Yl(),it===_&&(it=Al(),it===_&&(it=ut,i.charCodeAt(ut)===40?(ft=Oo,ut++):(ft=_,It===0&&Xt(kn)),ft!==_?(_t=pn(),_t!==_?(Ct=qo(),Ct!==_?(Gt=pn(),Gt!==_?(i.charCodeAt(ut)===41?(qt=oo,ut++):(qt=_,It===0&&Xt(Bo)),qt!==_?(mo=it,ft=Io(Ct),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)))))),it}function Yl(){var it,ft,_t,Ct,Gt,qt,ln,Hn;return it=ut,ft=Zu(),ft!==_?(_t=ut,It++,Ct=ut,Gt=pn(),Gt!==_?(qt=ut,ln=Ds(),ln!==_?(Hn=pn(),Hn!==_?(ln=[ln,Hn],qt=ln):(ut=qt,qt=_)):(ut=qt,qt=_),qt===_&&(qt=null),qt!==_?(i.charCodeAt(ut)===61?(ln=at,ut++):(ln=_,It===0&&Xt(ht)),ln!==_?(Gt=[Gt,qt,ln],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_)):(ut=Ct,Ct=_),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(mo=it,ft=Pt(ft),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Al(){var it,ft,_t,Ct;return it=ut,ft=es(),ft!==_?(_t=pn(),_t!==_?(Ct=nr(),Ct!==_?(mo=it,ft=io(ft,Ct),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),it}function es(){var it;return i.charCodeAt(ut)===38?(it=Ht,ut++):(it=_,It===0&&Xt(Wt)),it===_&&(i.charCodeAt(ut)===33?(it=zt,ut++):(it=_,It===0&&Xt(Ut))),it}function Lo(){var it;return i.length>ut?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(vo)),it}function vn(){var it;return It++,i.charCodeAt(ut)===9?(it=Ko,ut++):(it=_,It===0&&Xt(No)),it===_&&(i.charCodeAt(ut)===11?(it=kt,ut++):(it=_,It===0&&Xt(jo)),it===_&&(i.charCodeAt(ut)===12?(it=mt,ut++):(it=_,It===0&&Xt(At)),it===_&&(i.charCodeAt(ut)===32?(it=Ot,ut++):(it=_,It===0&&Xt(Yt)),it===_&&(i.charCodeAt(ut)===160?(it=Qt,ut++):(it=_,It===0&&Xt(co)),it===_&&(i.charCodeAt(ut)===65279?(it=so,ut++):(it=_,It===0&&Xt(fo)),it===_&&(it=em())))))),It--,it===_&&It===0&&Xt(Po),it}function Ho(){var it;return gn.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(Nn)),it}function mu(){var it;return It++,i.charCodeAt(ut)===10?(it=ho,ut++):(it=_,It===0&&Xt(zr)),it===_&&(i.substr(ut,2)===Or?(it=Or,ut+=2):(it=_,It===0&&Xt(mn)),it===_&&(i.charCodeAt(ut)===13?(it=qs,ut++):(it=_,It===0&&Xt(Ol)),it===_&&(i.charCodeAt(ut)===8232?(it=jt,ut++):(it=_,It===0&&Xt(Xr)),it===_&&(i.charCodeAt(ut)===8233?(it=rs,ut++):(it=_,It===0&&Xt(ba)))))),It--,it===_&&It===0&&Xt(Gn),it}function bp(){var it;return It++,it=$p(),it===_&&(it=Bp()),It--,it===_&&It===0&&Xt(Ml),it}function $p(){var it,ft,_t,Ct,Gt,qt;if(it=ut,i.substr(ut,2)===yt?(ft=yt,ut+=2):(ft=_,It===0&&Xt(Zs)),ft!==_){for(_t=[],Ct=ut,Gt=ut,It++,i.substr(ut,2)===Xn?(qt=Xn,ut+=2):(qt=_,It===0&&Xt(Yr)),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);Ct!==_;)_t.push(Ct),Ct=ut,Gt=ut,It++,i.substr(ut,2)===Xn?(qt=Xn,ut+=2):(qt=_,It===0&&Xt(Yr)),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);_t!==_?(i.substr(ut,2)===Xn?(Ct=Xn,ut+=2):(Ct=_,It===0&&Xt(Yr)),Ct!==_?(ft=[ft,_t,Ct],it=ft):(ut=it,it=_)):(ut=it,it=_)}else ut=it,it=_;return it}function Rs(){var it,ft,_t,Ct,Gt,qt;if(it=ut,i.substr(ut,2)===yt?(ft=yt,ut+=2):(ft=_,It===0&&Xt(Zs)),ft!==_){for(_t=[],Ct=ut,Gt=ut,It++,i.substr(ut,2)===Xn?(qt=Xn,ut+=2):(qt=_,It===0&&Xt(Yr)),qt===_&&(qt=Ho()),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);Ct!==_;)_t.push(Ct),Ct=ut,Gt=ut,It++,i.substr(ut,2)===Xn?(qt=Xn,ut+=2):(qt=_,It===0&&Xt(Yr)),qt===_&&(qt=Ho()),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);_t!==_?(i.substr(ut,2)===Xn?(Ct=Xn,ut+=2):(Ct=_,It===0&&Xt(Yr)),Ct!==_?(ft=[ft,_t,Ct],it=ft):(ut=it,it=_)):(ut=it,it=_)}else ut=it,it=_;return it}function Bp(){var it,ft,_t,Ct,Gt,qt;if(it=ut,i.substr(ut,2)===is?(ft=is,ut+=2):(ft=_,It===0&&Xt(Kr)),ft!==_){for(_t=[],Ct=ut,Gt=ut,It++,qt=Ho(),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);Ct!==_;)_t.push(Ct),Ct=ut,Gt=ut,It++,qt=Ho(),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)}else ut=it,it=_;return it}function Xp(){var it,ft,_t;return it=ut,ft=ut,It++,_t=Yp(),It--,_t===_?ft=void 0:(ut=ft,ft=_),ft!==_?(_t=Zu(),_t!==_?(mo=it,ft=sr(_t),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Zu(){var it,ft,_t,Ct;if(It++,it=ut,ft=Qu(),ft!==_){for(_t=[],Ct=zo();Ct!==_;)_t.push(Ct),Ct=zo();_t!==_?(mo=it,ft=$a(ft,_t),it=ft):(ut=it,it=_)}else ut=it,it=_;return It--,it===_&&(ft=_,It===0&&Xt(Jr)),it}function Qu(){var it,ft,_t;return it=Ap(),it===_&&(i.charCodeAt(ut)===36?(it=Dt,ut++):(it=_,It===0&&Xt(Vt)),it===_&&(i.charCodeAt(ut)===95?(it=go,ut++):(it=_,It===0&&Xt(Ln)),it===_&&(it=ut,i.charCodeAt(ut)===92?(ft=Uo,ut++):(ft=_,It===0&&Xt(wr)),ft!==_?(_t=xl(),_t!==_?(mo=it,ft=Br(_t),it=ft):(ut=it,it=_)):(ut=it,it=_)))),it}function zo(){var it;return it=Qu(),it===_&&(it=_c(),it===_&&(it=no(),it===_&&(it=_g(),it===_&&(i.charCodeAt(ut)===8204?(it=In,ut++):(it=_,It===0&&Xt(Co)),it===_&&(i.charCodeAt(ut)===8205?(it=Nl,ut++):(it=_,It===0&&Xt(ss))))))),it}function Ap(){var it;return it=Jl(),it===_&&(it=Qp(),it===_&&(it=Kl(),it===_&&(it=Ks(),it===_&&(it=_h(),it===_&&(it=_f()))))),it}function _c(){var it;return it=ur(),it===_&&(it=_d()),it}function Yp(){var it;return it=Kp(),it===_&&(it=Jp(),it===_&&(it=fm(),it===_&&(it=qp()))),it}function Kp(){var it;return it=tm(),it===_&&(it=om(),it===_&&(it=Ip(),it===_&&(it=im(),it===_&&(it=sm(),it===_&&(it=vs(),it===_&&(it=lm(),it===_&&(it=ts(),it===_&&(it=Il(),it===_&&(it=cm(),it===_&&(it=pm(),it===_&&(it=Er(),it===_&&(it=Fo(),it===_&&(it=Un(),it===_&&(it=hm(),it===_&&(it=dm(),it===_&&(it=Zl(),it===_&&(it=kr(),it===_&&(it=$n(),it===_&&(it=rr(),it===_&&(it=vu(),it===_&&(it=fn(),it===_&&(it=Do(),it===_&&(it=Rl(),it===_&&(it=ir(),it===_&&(it=Rr()))))))))))))))))))))))))),it}function Jp(){var it;return it=nm(),it===_&&(it=rm(),it===_&&(it=am(),it===_&&(it=Go(),it===_&&(it=_r(),it===_&&(it=os(),it===_&&(it=wo())))))),it}function qp(){var it;return it=zn(),it===_&&(it=um()),it}function Vo(){var it,ft,_t;return It++,it=ut,ft=Ds(),ft!==_?(i.charCodeAt(ut)===105?(_t=pr,ut++):(_t=_,It===0&&Xt(tn)),_t===_&&(_t=null),_t!==_?(mo=it,ft=Cs(ft,_t),it=ft):(ut=it,it=_)):(ut=it,it=_),It--,it===_&&(ft=_,It===0&&Xt(Ls)),it}function Ds(){var it,ft,_t,Ct;if(It++,it=ut,i.charCodeAt(ut)===34?(ft=bs,ut++):(ft=_,It===0&&Xt(Pr)),ft!==_){for(_t=[],Ct=eo();Ct!==_;)_t.push(Ct),Ct=eo();_t!==_?(i.charCodeAt(ut)===34?(Ct=bs,ut++):(Ct=_,It===0&&Xt(Pr)),Ct!==_?(mo=it,ft=qr(_t),it=ft):(ut=it,it=_)):(ut=it,it=_)}else ut=it,it=_;if(it===_)if(it=ut,i.charCodeAt(ut)===39?(ft=Fs,ut++):(ft=_,It===0&&Xt(Ps)),ft!==_){for(_t=[],Ct=Xo();Ct!==_;)_t.push(Ct),Ct=Xo();_t!==_?(i.charCodeAt(ut)===39?(Ct=Fs,ut++):(Ct=_,It===0&&Xt(Ps)),Ct!==_?(mo=it,ft=qr(_t),it=ft):(ut=it,it=_)):(ut=it,it=_)}else ut=it,it=_;return It--,it===_&&(ft=_,It===0&&Xt(ls)),it}function eo(){var it,ft,_t;return it=ut,ft=ut,It++,i.charCodeAt(ut)===34?(_t=bs,ut++):(_t=_,It===0&&Xt(Pr)),_t===_&&(i.charCodeAt(ut)===92?(_t=Uo,ut++):(_t=_,It===0&&Xt(wr)),_t===_&&(_t=Ho())),It--,_t===_?ft=void 0:(ut=ft,ft=_),ft!==_?(_t=Lo(),_t!==_?(mo=it,ft=Us(),it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ut,i.charCodeAt(ut)===92?(ft=Uo,ut++):(ft=_,It===0&&Xt(wr)),ft!==_?(_t=Yo(),_t!==_?(mo=it,ft=Br(_t),it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ep())),it}function Xo(){var it,ft,_t;return it=ut,ft=ut,It++,i.charCodeAt(ut)===39?(_t=Fs,ut++):(_t=_,It===0&&Xt(Ps)),_t===_&&(i.charCodeAt(ut)===92?(_t=Uo,ut++):(_t=_,It===0&&Xt(wr)),_t===_&&(_t=Ho())),It--,_t===_?ft=void 0:(ut=ft,ft=_),ft!==_?(_t=Lo(),_t!==_?(mo=it,ft=Us(),it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ut,i.charCodeAt(ut)===92?(ft=Uo,ut++):(ft=_,It===0&&Xt(wr)),ft!==_?(_t=Yo(),_t!==_?(mo=it,ft=Br(_t),it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ep())),it}function Zp(){var it,ft,_t,Ct,Gt,qt;if(It++,it=ut,i.charCodeAt(ut)===91?(ft=eu,ut++):(ft=_,It===0&&Xt($s)),ft!==_)if(i.charCodeAt(ut)===94?(_t=tu,ut++):(_t=_,It===0&&Xt(Jo)),_t===_&&(_t=null),_t!==_){for(Ct=[],Gt=xp(),Gt===_&&(Gt=_u());Gt!==_;)Ct.push(Gt),Gt=xp(),Gt===_&&(Gt=_u());Ct!==_?(i.charCodeAt(ut)===93?(Gt=Ll,ut++):(Gt=_,It===0&&Xt(Fl)),Gt!==_?(i.charCodeAt(ut)===105?(qt=pr,ut++):(qt=_,It===0&&Xt(tn)),qt===_&&(qt=null),qt!==_?(mo=it,ft=Nt(_t,Ct,qt),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_)}else ut=it,it=_;else ut=it,it=_;return It--,it===_&&(ft=_,It===0&&Xt(xa)),it}function xp(){var it,ft,_t,Ct;return it=ut,ft=_u(),ft!==_?(i.charCodeAt(ut)===45?(_t=hr,ut++):(_t=_,It===0&&Xt(fr)),_t!==_?(Ct=_u(),Ct!==_?(mo=it,ft=Vs(ft,Ct),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),it}function _u(){var it,ft,_t;return it=ut,ft=ut,It++,i.charCodeAt(ut)===93?(_t=Ll,ut++):(_t=_,It===0&&Xt(Fl)),_t===_&&(i.charCodeAt(ut)===92?(_t=Uo,ut++):(_t=_,It===0&&Xt(wr)),_t===_&&(_t=Ho())),It--,_t===_?ft=void 0:(ut=ft,ft=_),ft!==_?(_t=Lo(),_t!==_?(mo=it,ft=Us(),it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ut,i.charCodeAt(ut)===92?(ft=Uo,ut++):(ft=_,It===0&&Xt(wr)),ft!==_?(_t=Yo(),_t!==_?(mo=it,ft=Br(_t),it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ep())),it}function ep(){var it,ft,_t;return it=ut,i.charCodeAt(ut)===92?(ft=Uo,ut++):(ft=_,It===0&&Xt(wr)),ft!==_?(_t=mu(),_t!==_?(mo=it,ft=Hs(),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Yo(){var it,ft,_t,Ct;return it=tp(),it===_&&(it=ut,i.charCodeAt(ut)===48?(ft=Qs,ut++):(ft=_,It===0&&Xt(ou)),ft!==_?(_t=ut,It++,Ct=po(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(mo=it,ft=_l(),it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=yu(),it===_&&(it=xl()))),it}function tp(){var it;return it=Hr(),it===_&&(it=_s()),it}function Hr(){var it,ft;return i.charCodeAt(ut)===39?(it=Fs,ut++):(it=_,It===0&&Xt(Ps)),it===_&&(i.charCodeAt(ut)===34?(it=bs,ut++):(it=_,It===0&&Xt(Pr)),it===_&&(i.charCodeAt(ut)===92?(it=Uo,ut++):(it=_,It===0&&Xt(wr)),it===_&&(it=ut,i.charCodeAt(ut)===98?(ft=nu,ut++):(ft=_,It===0&&Xt(Bu)),ft!==_&&(mo=it,ft=Au()),it=ft,it===_&&(it=ut,i.charCodeAt(ut)===102?(ft=xu,ut++):(ft=_,It===0&&Xt(Pl)),ft!==_&&(mo=it,ft=Iu()),it=ft,it===_&&(it=ut,i.charCodeAt(ut)===110?(ft=Ru,ut++):(ft=_,It===0&&Xt(Ul)),ft!==_&&(mo=it,ft=Du()),it=ft,it===_&&(it=ut,i.charCodeAt(ut)===114?(ft=bo,ut++):(ft=_,It===0&&Xt(Vl)),ft!==_&&(mo=it,ft=ru()),it=ft,it===_&&(it=ut,i.charCodeAt(ut)===116?(ft=Ou,ut++):(ft=_,It===0&&Xt(wu)),ft!==_&&(mo=it,ft=Hl()),it=ft,it===_&&(it=ut,i.charCodeAt(ut)===118?(ft=Gs,ut++):(ft=_,It===0&&Xt(Yn)),ft!==_&&(mo=it,ft=Ws()),it=ft)))))))),it}function _s(){var it,ft,_t;return it=ut,ft=ut,It++,_t=dr(),_t===_&&(_t=Ho()),It--,_t===_?ft=void 0:(ut=ft,ft=_),ft!==_?(_t=Lo(),_t!==_?(mo=it,ft=Us(),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function dr(){var it;return it=Hr(),it===_&&(it=po(),it===_&&(i.charCodeAt(ut)===120?(it=iu,ut++):(it=_,It===0&&Xt(Gl)),it===_&&(i.charCodeAt(ut)===117?(it=tr,ut++):(it=_,It===0&&Xt($o))))),it}function yu(){var it,ft,_t,Ct,Gt,qt;return it=ut,i.charCodeAt(ut)===120?(ft=iu,ut++):(ft=_,It===0&&Xt(Gl)),ft!==_?(_t=ut,Ct=ut,Gt=Zn(),Gt!==_?(qt=Zn(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_),Ct!==_?_t=i.substring(_t,ut):_t=Ct,_t!==_?(mo=it,ft=or(_t),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function xl(){var it,ft,_t,Ct,Gt,qt,ln,Hn;return it=ut,i.charCodeAt(ut)===117?(ft=tr,ut++):(ft=_,It===0&&Xt($o)),ft!==_?(_t=ut,Ct=ut,Gt=Zn(),Gt!==_?(qt=Zn(),qt!==_?(ln=Zn(),ln!==_?(Hn=Zn(),Hn!==_?(Gt=[Gt,qt,ln,Hn],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_)):(ut=Ct,Ct=_)):(ut=Ct,Ct=_),Ct!==_?_t=i.substring(_t,ut):_t=Ct,_t!==_?(mo=it,ft=or(_t),it=ft):(ut=it,it=_)):(ut=it,it=_),it}function po(){var it;return To.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(So)),it}function Zn(){var it;return Mu.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(as)),it}function ys(){var it,ft;return it=ut,i.charCodeAt(ut)===46?(ft=lr,ut++):(ft=_,It===0&&Xt(Ur)),ft!==_&&(mo=it,ft=Wl()),it=ft,it}function nr(){var it,ft,_t,Ct;return It++,it=ut,i.charCodeAt(ut)===123?(ft=Tn,ut++):(ft=_,It===0&&Xt(us)),ft!==_?(_t=np(),_t!==_?(i.charCodeAt(ut)===125?(Ct=cs,ut++):(Ct=_,It===0&&Xt(yn)),Ct!==_?(mo=it,ft=yl(_t),it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),It--,it===_&&(ft=_,It===0&&Xt(Kn)),it}function np(){var it,ft,_t,Ct,Gt,qt;if(it=ut,ft=[],_t=[],Ct=ut,Gt=ut,It++,Dn.test(i.charAt(ut))?(qt=i.charAt(ut),ut++):(qt=_,It===0&&Xt(Bs)),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_),Ct!==_)for(;Ct!==_;)_t.push(Ct),Ct=ut,Gt=ut,It++,Dn.test(i.charAt(ut))?(qt=i.charAt(ut),ut++):(qt=_,It===0&&Xt(Bs)),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);else _t=_;for(_t===_&&(_t=ut,i.charCodeAt(ut)===123?(Ct=Tn,ut++):(Ct=_,It===0&&Xt(us)),Ct!==_?(Gt=np(),Gt!==_?(i.charCodeAt(ut)===125?(qt=cs,ut++):(qt=_,It===0&&Xt(yn)),qt!==_?(Ct=[Ct,Gt,qt],_t=Ct):(ut=_t,_t=_)):(ut=_t,_t=_)):(ut=_t,_t=_));_t!==_;){if(ft.push(_t),_t=[],Ct=ut,Gt=ut,It++,Dn.test(i.charAt(ut))?(qt=i.charAt(ut),ut++):(qt=_,It===0&&Xt(Bs)),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_),Ct!==_)for(;Ct!==_;)_t.push(Ct),Ct=ut,Gt=ut,It++,Dn.test(i.charAt(ut))?(qt=i.charAt(ut),ut++):(qt=_,It===0&&Xt(Bs)),It--,qt===_?Gt=void 0:(ut=Gt,Gt=_),Gt!==_?(qt=Lo(),qt!==_?(Gt=[Gt,qt],Ct=Gt):(ut=Ct,Ct=_)):(ut=Ct,Ct=_);else _t=_;_t===_&&(_t=ut,i.charCodeAt(ut)===123?(Ct=Tn,ut++):(Ct=_,It===0&&Xt(us)),Ct!==_?(Gt=np(),Gt!==_?(i.charCodeAt(ut)===125?(qt=cs,ut++):(qt=_,It===0&&Xt(yn)),qt!==_?(Ct=[Ct,Gt,qt],_t=Ct):(ut=_t,_t=_)):(ut=_t,_t=_)):(ut=_t,_t=_))}return ft!==_?it=i.substring(it,ut):it=ft,it}function Qp(){var it;return su.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(ps)),it}function Ks(){var it;return zs.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(Nu)),it}function _h(){var it;return lu.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(Lu)),it}function Kl(){var it;return zl.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(au)),it}function Jl(){var it;return Fu.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(uu)),it}function _d(){var it;return Pu.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(Rt)),it}function ur(){var it;return Ft.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(Jt)),it}function no(){var it;return ko.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(sn)),it}function _f(){var it;return En.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(Rn)),it}function _g(){var it;return on.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(Sn)),it}function em(){var it;return an.test(i.charAt(ut))?(it=i.charAt(ut),ut++):(it=_,It===0&&Xt(hn)),it}function tm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===Ar?(ft=Ar,ut+=5):(ft=_,It===0&&Xt(hs)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function om(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===ds?(ft=ds,ut+=4):(ft=_,It===0&&Xt(cu)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Ip(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===cp?(ft=cp,ut+=5):(ft=_,It===0&&Xt(Np)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function nm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===pp?(ft=pp,ut+=5):(ft=_,It===0&&Xt(xr)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function rm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===Mr?(ft=Mr,ut+=5):(ft=_,It===0&&Xt(Uu)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function im(){var it,ft,_t,Ct;return it=ut,i.substr(ut,8)===xt?(ft=xt,ut+=8):(ft=_,It===0&&Xt(gr)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function sm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,8)===Vr?(ft=Vr,ut+=8):(ft=_,It===0&&Xt(Jn)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function vs(){var it,ft,_t,Ct;return it=ut,i.substr(ut,7)===Ir?(ft=Ir,ut+=7):(ft=_,It===0&&Xt(un)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function lm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,6)===pu?(ft=pu,ut+=6):(ft=_,It===0&&Xt(Vu)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function ts(){var it,ft,_t,Ct;return it=ut,i.substr(ut,2)===Mt?(ft=Mt,ut+=2):(ft=_,It===0&&Xt(nn)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Il(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===hu?(ft=hu,ut+=4):(ft=_,It===0&&Xt(rn)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function am(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===fs?(ft=fs,ut+=4):(ft=_,It===0&&Xt(vr)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Go(){var it,ft,_t,Ct;return it=ut,i.substr(ut,6)===hp?(ft=hp,ut+=6):(ft=_,It===0&&Xt(Lp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function _r(){var it,ft,_t,Ct;return it=ut,i.substr(ut,7)===dp?(ft=dp,ut+=7):(ft=_,It===0&&Xt(Fp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function um(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===fp?(ft=fp,ut+=5):(ft=_,It===0&&Xt(Tr)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function cm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,7)===gp?(ft=gp,ut+=7):(ft=_,It===0&&Xt(Nr)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function pm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,3)===Lr?(ft=Lr,ut+=3):(ft=_,It===0&&Xt(Hu)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Er(){var it,ft,_t,Ct;return it=ut,i.substr(ut,8)===Xl?(ft=Xl,ut+=8):(ft=_,It===0&&Xt(mp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Fo(){var it,ft,_t,Ct;return it=ut,i.substr(ut,2)===Gu?(ft=Gu,ut+=2):(ft=_,It===0&&Xt(_p)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function os(){var it,ft,_t,Ct;return it=ut,i.substr(ut,6)===Wn?(ft=Wn,ut+=6):(ft=_,It===0&&Xt(dn)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Un(){var it,ft,_t,Ct;return it=ut,i.substr(ut,10)===yp?(ft=yp,ut+=10):(ft=_,It===0&&Xt(Pp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function hm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,2)===vp?(ft=vp,ut+=2):(ft=_,It===0&&Xt(Up)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function dm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,3)===Vn?(ft=Vn,ut+=3):(ft=_,It===0&&Xt(Tp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function fm(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===Wu?(ft=Wu,ut+=4):(ft=_,It===0&&Xt(Ep)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Zl(){var it,ft,_t,Ct;return it=ut,i.substr(ut,6)===ar?(ft=ar,ut+=6):(ft=_,It===0&&Xt(Tl)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function wo(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===As?(ft=As,ut+=5):(ft=_,It===0&&Xt(ju)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function kr(){var it,ft,_t,Ct;return it=ut,i.substr(ut,6)===kp?(ft=kp,ut+=6):(ft=_,It===0&&Xt(Vp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function $n(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===Xs?(ft=Xs,ut+=4):(ft=_,It===0&&Xt(El)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function rr(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===jn?(ft=jn,ut+=5):(ft=_,It===0&&Xt(gs)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function zn(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===Zr?(ft=Zr,ut+=4):(ft=_,It===0&&Xt(Eo)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function vu(){var it,ft,_t,Ct;return it=ut,i.substr(ut,3)===Sp?(ft=Sp,ut+=3):(ft=_,It===0&&Xt(Hp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function fn(){var it,ft,_t,Ct;return it=ut,i.substr(ut,6)===Cp?(ft=Cp,ut+=6):(ft=_,It===0&&Xt(Gp)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Do(){var it,ft,_t,Ct;return it=ut,i.substr(ut,3)===Qr?(ft=Qr,ut+=3):(ft=_,It===0&&Xt(yo)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Rl(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===Sl?(ft=Sl,ut+=4):(ft=_,It===0&&Xt(_o)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function ir(){var it,ft,_t,Ct;return it=ut,i.substr(ut,5)===wn?(ft=wn,ut+=5):(ft=_,It===0&&Xt(ms)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function Rr(){var it,ft,_t,Ct;return it=ut,i.substr(ut,4)===Fr?(ft=Fr,ut+=4):(ft=_,It===0&&Xt(Cl)),ft!==_?(_t=ut,It++,Ct=zo(),It--,Ct===_?_t=void 0:(ut=_t,_t=_),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it}function pn(){var it,ft;for(it=[],ft=vn(),ft===_&&(ft=mu(),ft===_&&(ft=bp()));ft!==_;)it.push(ft),ft=vn(),ft===_&&(ft=mu(),ft===_&&(ft=bp()));return it}function Sr(){var it,ft;for(it=[],ft=vn(),ft===_&&(ft=Rs());ft!==_;)it.push(ft),ft=vn(),ft===_&&(ft=Rs());return it}function Tu(){var it,ft,_t,Ct;return it=ut,ft=pn(),ft!==_?(i.charCodeAt(ut)===59?(_t=Wp,ut++):(_t=_,It===0&&Xt(cn)),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ut,ft=Sr(),ft!==_?(_t=Bp(),_t===_&&(_t=null),_t!==_?(Ct=mu(),Ct!==_?(ft=[ft,_t,Ct],it=ft):(ut=it,it=_)):(ut=it,it=_)):(ut=it,it=_),it===_&&(it=ut,ft=pn(),ft!==_?(_t=rp(),_t!==_?(ft=[ft,_t],it=ft):(ut=it,it=_)):(ut=it,it=_))),it}function rp(){var it,ft;return it=ut,It++,i.length>ut?(ft=i.charAt(ut),ut++):(ft=_,It===0&&Xt(vo)),It--,ft===_?it=void 0:(ut=it,it=_),it}var Dl={$:"text","&":"simple_and","!":"simple_not"},Qn={"?":"optional","*":"zero_or_more","+":"one_or_more"},ns={"&":"semantic_and","!":"semantic_not"};function Gr(it){var ft=[],_t;for(_t=0;_t<it.length;_t++)it[_t]!==""&&ft.push(it[_t]);return ft}function Ts(it,ft){return it?it[ft]:null}function Ql(it,ft){var _t=new Array(it.length),Ct;for(Ct=0;Ct<it.length;Ct++)_t[Ct]=it[Ct][ft];return _t}function Eu(it,ft,_t){return[it].concat(Ql(ft,_t))}if(xo=tt(),xo!==_&&ut===i.length)return xo;throw xo!==_&&ut<i.length&&Xt(jp()),Xu(zu,Cn<i.length?i.charAt(Cn):null,Cn<i.length?Is(Cn,Cn+1):Is(Cn,Cn))}var parser={SyntaxError:peg$SyntaxError,parse:peg$parse},objects$5=objects_1,arrays$8=arrays_1,visitor$8={build:function(i){function $(st){return i[st.type].apply(null,arguments)}function _(){}function _e(st){var at=Array.prototype.slice.call(arguments,1);$.apply(null,[st.expression].concat(at))}function tt(st){return function(at){var ht=Array.prototype.slice.call(arguments,1);arrays$8.each(at[st],function(lt){$.apply(null,[lt].concat(ht))})}}var nt={grammar:function(st){var at=Array.prototype.slice.call(arguments,1);st.initializer&&$.apply(null,[st.initializer].concat(at)),arrays$8.each(st.rules,function(ht){$.apply(null,[ht].concat(at))})},initializer:_,rule:_e,named:_e,choice:tt("alternatives"),action:_e,sequence:tt("elements"),labeled:_e,text:_e,simple_and:_e,simple_not:_e,optional:_e,zero_or_more:_e,one_or_more:_e,group:_e,semantic_and:_,semantic_not:_,rule_ref:_,literal:_,class:_,any:_};return objects$5.defaults(i,nt),$}},visitor_1=visitor$8,arrays$7=arrays_1,visitor$7=visitor_1,asts$5={findRule:function(i,$){return arrays$7.find(i.rules,function(_){return _.name===$})},indexOfRule:function(i,$){return arrays$7.indexOf(i.rules,function(_){return _.name===$})},alwaysConsumesOnSuccess:function(i,$){function _(){return!0}function _e(){return!1}function tt(st){return nt(st.expression)}var nt=visitor$7.build({rule:tt,named:tt,choice:function(st){return arrays$7.every(st.alternatives,nt)},action:tt,sequence:function(st){return arrays$7.some(st.elements,nt)},labeled:tt,text:tt,simple_and:_e,simple_not:_e,optional:_e,zero_or_more:_e,one_or_more:tt,group:tt,semantic_and:_e,semantic_not:_e,rule_ref:function(st){return nt(asts$5.findRule(i,st.name))},literal:function(st){return st.value!==""},class:_,any:_});return nt($)}},asts_1=asts$5,GrammarError$4=grammarError,asts$4=asts_1,visitor$6=visitor_1;function reportUndefinedRules(i){var $=visitor$6.build({rule_ref:function(_){if(!asts$4.findRule(i,_.name))throw new GrammarError$4('Rule "'+_.name+'" is not defined.',_.location)}});$(i)}var reportUndefinedRules_1=reportUndefinedRules,GrammarError$3=grammarError,visitor$5=visitor_1;function reportDuplicateRules(i){var $={},_=visitor$5.build({rule:function(_e){if($.hasOwnProperty(_e.name))throw new GrammarError$3('Rule "'+_e.name+'" is already defined at line '+$[_e.name].start.line+", column "+$[_e.name].start.column+".",_e.location);$[_e.name]=_e.location}});_(i)}var reportDuplicateRules_1=reportDuplicateRules,GrammarError$2=grammarError,arrays$6=arrays_1,objects$4=objects_1,visitor$4=visitor_1;function reportDuplicateLabels(i){function $(_e,tt){_(_e.expression,objects$4.clone(tt))}var _=visitor$4.build({rule:function(_e){_(_e.expression,{})},choice:function(_e,tt){arrays$6.each(_e.alternatives,function(nt){_(nt,objects$4.clone(tt))})},action:$,labeled:function(_e,tt){if(tt.hasOwnProperty(_e.label))throw new GrammarError$2('Label "'+_e.label+'" is already defined at line '+tt[_e.label].start.line+", column "+tt[_e.label].start.column+".",_e.location);_(_e.expression,tt),tt[_e.label]=_e.location},text:$,simple_and:$,simple_not:$,optional:$,zero_or_more:$,one_or_more:$,group:$});_(i)}var reportDuplicateLabels_1=reportDuplicateLabels,arrays$5=arrays_1,GrammarError$1=grammarError,asts$3=asts_1,visitor$3=visitor_1;function reportInfiniteRecursion(i){var $=[],_=visitor$3.build({rule:function(_e){$.push(_e.name),_(_e.expression),$.pop(_e.name)},sequence:function(_e){arrays$5.every(_e.elements,function(tt){return _(tt),!asts$3.alwaysConsumesOnSuccess(i,tt)})},rule_ref:function(_e){if(arrays$5.contains($,_e.name))throw $.push(_e.name),new GrammarError$1("Possible infinite loop when parsing (left recursion: "+$.join(" -> ")+").",_e.location);_(asts$3.findRule(i,_e.name))}});_(i)}var reportInfiniteRecursion_1=reportInfiniteRecursion,GrammarError=grammarError,asts$2=asts_1,visitor$2=visitor_1;function reportInfiniteRepetition(i){var $=visitor$2.build({zero_or_more:function(_){if(!asts$2.alwaysConsumesOnSuccess(i,_.expression))throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",_.location)},one_or_more:function(_){if(!asts$2.alwaysConsumesOnSuccess(i,_.expression))throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",_.location)}});$(i)}var reportInfiniteRepetition_1=reportInfiniteRepetition,arrays$4=arrays_1,visitor$1=visitor_1;function removeProxyRules(i,$){function _(nt){return nt.type==="rule"&&nt.expression.type==="rule_ref"}function _e(nt,st,at){var ht=visitor$1.build({rule_ref:function(lt){lt.name===st&&(lt.name=at)}});ht(nt)}var tt=[];arrays$4.each(i.rules,function(nt,st){_(nt)&&(_e(i,nt.name,nt.expression.name),arrays$4.contains($.allowedStartRules,nt.name)||tt.push(st))}),tt.reverse(),arrays$4.each(tt,function(nt){i.rules.splice(nt,1)})}var removeProxyRules_1=removeProxyRules,opcodes={PUSH:0,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29},opcodes_1=opcodes;function hex(i){return i.charCodeAt(0).toString(16).toUpperCase()}var js$2={stringEscape:function(i){return i.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+hex($)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function($){return"\\x"+hex($)}).replace(/[\u0100-\u0FFF]/g,function($){return"\\u0"+hex($)}).replace(/[\u1000-\uFFFF]/g,function($){return"\\u"+hex($)})},regexpClassEscape:function(i){return i.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+hex($)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function($){return"\\x"+hex($)}).replace(/[\u0100-\u0FFF]/g,function($){return"\\u0"+hex($)}).replace(/[\u1000-\uFFFF]/g,function($){return"\\u"+hex($)})}},js_1=js$2,arrays$3=arrays_1,objects$3=objects_1,asts$1=asts_1,visitor=visitor_1,op$1=opcodes_1,js$1=js_1;function generateBytecode(i){var $=[];function _(gt){var vt=arrays$3.indexOf($,gt);return vt===-1?$.push(gt)-1:vt}function _e(gt,vt){return _("function("+gt.join(", ")+") {"+vt+"}")}function tt(){return Array.prototype.concat.apply([],arguments)}function nt(gt,vt,bt){return gt.concat([vt.length,bt.length],vt,bt)}function st(gt,vt){return gt.concat([vt.length],vt)}function at(gt,vt,bt,$t){var Tt=arrays$3.map(objects$3.values(bt),function(St){return $t-St});return[op$1.CALL,gt,vt,Tt.length].concat(Tt)}function ht(gt,vt,bt){return tt([op$1.PUSH_CURR_POS],[op$1.SILENT_FAILS_ON],dt(gt,{sp:bt.sp+1,env:objects$3.clone(bt.env),action:null}),[op$1.SILENT_FAILS_OFF],nt([vt?op$1.IF_ERROR:op$1.IF_NOT_ERROR],tt([op$1.POP],[vt?op$1.POP:op$1.POP_CURR_POS],[op$1.PUSH_UNDEFINED]),tt([op$1.POP],[vt?op$1.POP_CURR_POS:op$1.POP],[op$1.PUSH_FAILED])))}function lt(gt,vt,bt){var $t=_e(objects$3.keys(bt.env),gt);return tt([op$1.UPDATE_SAVED_POS],at($t,0,bt.env,bt.sp),nt([op$1.IF],tt([op$1.POP],vt?[op$1.PUSH_FAILED]:[op$1.PUSH_UNDEFINED]),tt([op$1.POP],vt?[op$1.PUSH_UNDEFINED]:[op$1.PUSH_FAILED])))}function pt(gt){return st([op$1.WHILE_NOT_ERROR],tt([op$1.APPEND],gt))}var dt=visitor.build({grammar:function(gt){arrays$3.each(gt.rules,dt),gt.consts=$},rule:function(gt){gt.bytecode=dt(gt.expression,{sp:-1,env:{},action:null})},named:function(gt,vt){var bt=_('peg$otherExpectation("'+js$1.stringEscape(gt.name)+'")');return tt([op$1.SILENT_FAILS_ON],dt(gt.expression,vt),[op$1.SILENT_FAILS_OFF],nt([op$1.IF_ERROR],[op$1.FAIL,bt],[]))},choice:function(gt,vt){function bt($t,Tt){return tt(dt($t[0],{sp:Tt.sp,env:objects$3.clone(Tt.env),action:null}),$t.length>1?nt([op$1.IF_ERROR],tt([op$1.POP],bt($t.slice(1),Tt)),[]):[])}return bt(gt.alternatives,vt)},action:function(gt,vt){var bt=objects$3.clone(vt.env),$t=gt.expression.type!=="sequence"||gt.expression.elements.length===0,Tt=dt(gt.expression,{sp:vt.sp+($t?1:0),env:bt,action:gt}),St=_e(objects$3.keys(bt),gt.code);return $t?tt([op$1.PUSH_CURR_POS],Tt,nt([op$1.IF_NOT_ERROR],tt([op$1.LOAD_SAVED_POS,1],at(St,1,bt,vt.sp+2)),[]),[op$1.NIP]):Tt},sequence:function(gt,vt){function bt($t,Tt){var St,Bt;return $t.length>0?(St=gt.elements.length-$t.slice(1).length,tt(dt($t[0],{sp:Tt.sp,env:Tt.env,action:null}),nt([op$1.IF_NOT_ERROR],bt($t.slice(1),{sp:Tt.sp+1,env:Tt.env,action:Tt.action}),tt(St>1?[op$1.POP_N,St]:[op$1.POP],[op$1.POP_CURR_POS],[op$1.PUSH_FAILED])))):Tt.action?(Bt=_e(objects$3.keys(Tt.env),Tt.action.code),tt([op$1.LOAD_SAVED_POS,gt.elements.length],at(Bt,gt.elements.length,Tt.env,Tt.sp),[op$1.NIP])):tt([op$1.WRAP,gt.elements.length],[op$1.NIP])}return tt([op$1.PUSH_CURR_POS],bt(gt.elements,{sp:vt.sp+1,env:vt.env,action:vt.action}))},labeled:function(gt,vt){var bt=objects$3.clone(vt.env);return vt.env[gt.label]=vt.sp+1,dt(gt.expression,{sp:vt.sp,env:bt,action:null})},text:function(gt,vt){return tt([op$1.PUSH_CURR_POS],dt(gt.expression,{sp:vt.sp+1,env:objects$3.clone(vt.env),action:null}),nt([op$1.IF_NOT_ERROR],tt([op$1.POP],[op$1.TEXT]),[op$1.NIP]))},simple_and:function(gt,vt){return ht(gt.expression,!1,vt)},simple_not:function(gt,vt){return ht(gt.expression,!0,vt)},optional:function(gt,vt){return tt(dt(gt.expression,{sp:vt.sp,env:objects$3.clone(vt.env),action:null}),nt([op$1.IF_ERROR],tt([op$1.POP],[op$1.PUSH_NULL]),[]))},zero_or_more:function(gt,vt){var bt=dt(gt.expression,{sp:vt.sp+1,env:objects$3.clone(vt.env),action:null});return tt([op$1.PUSH_EMPTY_ARRAY],bt,pt(bt),[op$1.POP])},one_or_more:function(gt,vt){var bt=dt(gt.expression,{sp:vt.sp+1,env:objects$3.clone(vt.env),action:null});return tt([op$1.PUSH_EMPTY_ARRAY],bt,nt([op$1.IF_NOT_ERROR],tt(pt(bt),[op$1.POP]),tt([op$1.POP],[op$1.POP],[op$1.PUSH_FAILED])))},group:function(gt,vt){return dt(gt.expression,{sp:vt.sp,env:objects$3.clone(vt.env),action:null})},semantic_and:function(gt,vt){return lt(gt.code,!1,vt)},semantic_not:function(gt,vt){return lt(gt.code,!0,vt)},rule_ref:function(gt){return[op$1.RULE,asts$1.indexOfRule(i,gt.name)]},literal:function(gt){var vt,bt;return gt.value.length>0?(vt=_('"'+js$1.stringEscape(gt.ignoreCase?gt.value.toLowerCase():gt.value)+'"'),bt=_('peg$literalExpectation("'+js$1.stringEscape(gt.value)+'", '+gt.ignoreCase+")"),nt(gt.ignoreCase?[op$1.MATCH_STRING_IC,vt]:[op$1.MATCH_STRING,vt],gt.ignoreCase?[op$1.ACCEPT_N,gt.value.length]:[op$1.ACCEPT_STRING,vt],[op$1.FAIL,bt])):(vt=_('""'),[op$1.PUSH,vt])},class:function(gt){var vt,bt,$t,Tt;return gt.parts.length>0?vt="/^["+(gt.inverted?"^":"")+arrays$3.map(gt.parts,function(St){return St instanceof Array?js$1.regexpClassEscape(St[0])+"-"+js$1.regexpClassEscape(St[1]):js$1.regexpClassEscape(St)}).join("")+"]/"+(gt.ignoreCase?"i":""):vt=gt.inverted?"/^[\\S\\s]/":"/^(?!)/",bt="["+arrays$3.map(gt.parts,function(St){return St instanceof Array?'["'+js$1.stringEscape(St[0])+'", "'+js$1.stringEscape(St[1])+'"]':'"'+js$1.stringEscape(St)+'"'}).join(", ")+"]",$t=_(vt),Tt=_("peg$classExpectation("+bt+", "+gt.inverted+", "+gt.ignoreCase+")"),nt([op$1.MATCH_REGEXP,$t],[op$1.ACCEPT_N,1],[op$1.FAIL,Tt])},any:function(){var gt=_("peg$anyExpectation()");return nt([op$1.MATCH_ANY],[op$1.ACCEPT_N,1],[op$1.FAIL,gt])}});dt(i)}var generateBytecode_1=generateBytecode,arrays$2=arrays_1,objects$2=objects_1,asts=asts_1,op=opcodes_1,js=js_1;function generateJS(ast,options){function indent2(i){return i.replace(/^(.+)$/gm,"  $1")}function indent6(i){return i.replace(/^(.+)$/gm,"      $1")}function indent10(i){return i.replace(/^(.+)$/gm,"          $1")}function generateTables(){return options.optimize==="size"?["peg$consts = [",indent2(ast.consts.join(`,
`)),"],","","peg$bytecode = [",indent2(arrays$2.map(ast.rules,function(i){return'peg$decode("'+js.stringEscape(arrays$2.map(i.bytecode,function($){return String.fromCharCode($+32)}).join(""))+'")'}).join(`,
`)),"],"].join(`
`):arrays$2.map(ast.consts,function(i,$){return"peg$c"+$+" = "+i+","}).join(`
`)}function generateRuleHeader(i,$){var _=[];return _.push(""),options.trace&&_.push(["peg$tracer.trace({",'  type:     "rule.enter",',"  rule:     "+i+",","  location: peg$computeLocation(startPos, startPos)","});",""].join(`
`)),options.cache&&(_.push(["var key    = peg$currPos * "+ast.rules.length+" + "+$+",","    cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""].join(`
`)),options.trace&&_.push(["if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+i+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+i+",","    location: peg$computeLocation(startPos, startPos)","  });","}",""].join(`
`)),_.push(["  return cached.result;","}",""].join(`
`))),_.join(`
`)}function generateRuleFooter(i,$){var _=[];return options.cache&&_.push(["","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+$+" };"].join(`
`)),options.trace&&_.push(["","if ("+$+" !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+i+",","    result: "+$+",","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+i+",","    location: peg$computeLocation(startPos, startPos)","  });","}"].join(`
`)),_.push(["","return "+$+";"].join(`
`)),_.join(`
`)}function generateInterpreter(){var i=[];function $(tt,nt){var st=nt+3,at="bc[ip + "+(st-2)+"]",ht="bc[ip + "+(st-1)+"]";return["ends.push(end);","ips.push(ip + "+st+" + "+at+" + "+ht+");","","if ("+tt+") {","  end = ip + "+st+" + "+at+";","  ip += "+st+";","} else {","  end = ip + "+st+" + "+at+" + "+ht+";","  ip += "+st+" + "+at+";","}","","break;"].join(`
`)}function _(tt){var nt=2,st="bc[ip + "+(nt-1)+"]";return["if ("+tt+") {","  ends.push(end);","  ips.push(ip);","","  end = ip + "+nt+" + "+st+";","  ip += "+nt+";","} else {","  ip += "+nt+" + "+st+";","}","","break;"].join(`
`)}function _e(){var tt=4,nt="bc[ip + "+(tt-1)+"]";return["params = bc.slice(ip + "+tt+", ip + "+tt+" + "+nt+");","for (i = 0; i < "+nt+"; i++) {","  params[i] = stack[stack.length - 1 - params[i]];","}","","stack.splice(","  stack.length - bc[ip + 2],","  bc[ip + 2],","  peg$consts[bc[ip + 1]].apply(null, params)",");","","ip += "+tt+" + "+nt+";","break;"].join(`
`)}return i.push(["function peg$decode(s) {","  var bc = new Array(s.length), i;","","  for (i = 0; i < s.length; i++) {","    bc[i] = s.charCodeAt(i) - 32;","  }","","  return bc;","}","","function peg$parseRule(index) {"].join(`
`)),options.trace?i.push(["  var bc       = peg$bytecode[index],","      ip       = 0,","      ips      = [],","      end      = bc.length,","      ends     = [],","      stack    = [],","      startPos = peg$currPos,","      params, i;"].join(`
`)):i.push(["  var bc    = peg$bytecode[index],","      ip    = 0,","      ips   = [],","      end   = bc.length,","      ends  = [],","      stack = [],","      params, i;"].join(`
`)),i.push(indent2(generateRuleHeader("peg$ruleNames[index]","index"))),i.push(["  while (true) {","    while (ip < end) {","      switch (bc[ip]) {","        case "+op.PUSH+":","          stack.push(peg$consts[bc[ip + 1]]);","          ip += 2;","          break;","","        case "+op.PUSH_UNDEFINED+":","          stack.push(void 0);","          ip++;","          break;","","        case "+op.PUSH_NULL+":","          stack.push(null);","          ip++;","          break;","","        case "+op.PUSH_FAILED+":","          stack.push(peg$FAILED);","          ip++;","          break;","","        case "+op.PUSH_EMPTY_ARRAY+":","          stack.push([]);","          ip++;","          break;","","        case "+op.PUSH_CURR_POS+":","          stack.push(peg$currPos);","          ip++;","          break;","","        case "+op.POP+":","          stack.pop();","          ip++;","          break;","","        case "+op.POP_CURR_POS+":","          peg$currPos = stack.pop();","          ip++;","          break;","","        case "+op.POP_N+":","          stack.length -= bc[ip + 1];","          ip += 2;","          break;","","        case "+op.NIP+":","          stack.splice(-2, 1);","          ip++;","          break;","","        case "+op.APPEND+":","          stack[stack.length - 2].push(stack.pop());","          ip++;","          break;","","        case "+op.WRAP+":","          stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.TEXT+":","          stack.push(input.substring(stack.pop(), peg$currPos));","          ip++;","          break;","","        case "+op.IF+":",indent10($("stack[stack.length - 1]",0)),"","        case "+op.IF_ERROR+":",indent10($("stack[stack.length - 1] === peg$FAILED",0)),"","        case "+op.IF_NOT_ERROR+":",indent10($("stack[stack.length - 1] !== peg$FAILED",0)),"","        case "+op.WHILE_NOT_ERROR+":",indent10(_("stack[stack.length - 1] !== peg$FAILED")),"","        case "+op.MATCH_ANY+":",indent10($("input.length > peg$currPos",0)),"","        case "+op.MATCH_STRING+":",indent10($("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_STRING_IC+":",indent10($("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_REGEXP+":",indent10($("peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))",1)),"","        case "+op.ACCEPT_N+":","          stack.push(input.substr(peg$currPos, bc[ip + 1]));","          peg$currPos += bc[ip + 1];","          ip += 2;","          break;","","        case "+op.ACCEPT_STRING+":","          stack.push(peg$consts[bc[ip + 1]]);","          peg$currPos += peg$consts[bc[ip + 1]].length;","          ip += 2;","          break;","","        case "+op.FAIL+":","          stack.push(peg$FAILED);","          if (peg$silentFails === 0) {","            peg$fail(peg$consts[bc[ip + 1]]);","          }","          ip += 2;","          break;","","        case "+op.LOAD_SAVED_POS+":","          peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];","          ip += 2;","          break;","","        case "+op.UPDATE_SAVED_POS+":","          peg$savedPos = peg$currPos;","          ip++;","          break;","","        case "+op.CALL+":",indent10(_e()),"","        case "+op.RULE+":","          stack.push(peg$parseRule(bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.SILENT_FAILS_ON+":","          peg$silentFails++;","          ip++;","          break;","","        case "+op.SILENT_FAILS_OFF+":","          peg$silentFails--;","          ip++;","          break;","","        default:",'          throw new Error("Invalid opcode: " + bc[ip] + ".");',"      }","    }","","    if (ends.length > 0) {","      end = ends.pop();","      ip = ips.pop();","    } else {","      break;","    }","  }"].join(`
`)),i.push(indent2(generateRuleFooter("peg$ruleNames[index]","stack[0]"))),i.push("}"),i.join(`
`)}function generateRuleFunction(rule){var parts=[],code;function c(i){return"peg$c"+i}function s(i){return"s"+i}var stack={sp:-1,maxSp:-1,push:function(i){var $=s(++this.sp)+" = "+i+";";return this.sp>this.maxSp&&(this.maxSp=this.sp),$},pop:function(i){var $;return i===void 0?s(this.sp--):($=arrays$2.map(arrays$2.range(this.sp-i+1,this.sp+1),s),this.sp-=i,$)},top:function(){return s(this.sp)},index:function(i){return s(this.sp-i)}};function compile(bc){var ip=0,end=bc.length,parts=[],value;function compileCondition(i,$){var _=$+3,_e=bc[ip+_-2],tt=bc[ip+_-1],nt=stack.sp,st,at,ht,lt;if(ip+=_,st=compile(bc.slice(ip,ip+_e)),ht=stack.sp,ip+=_e,tt>0&&(stack.sp=nt,at=compile(bc.slice(ip,ip+tt)),lt=stack.sp,ip+=tt,ht!==lt))throw new Error("Branches of a condition must move the stack pointer in the same way.");parts.push("if ("+i+") {"),parts.push(indent2(st)),tt>0&&(parts.push("} else {"),parts.push(indent2(at))),parts.push("}")}function compileLoop(i){var $=2,_=bc[ip+$-1],_e=stack.sp,tt,nt;if(ip+=$,tt=compile(bc.slice(ip,ip+_)),nt=stack.sp,ip+=_,nt!==_e)throw new Error("Body of a loop can't move the stack pointer.");parts.push("while ("+i+") {"),parts.push(indent2(tt)),parts.push("}")}function compileCall(){var i=4,$=bc[ip+i-1],_=c(bc[ip+1])+"("+arrays$2.map(bc.slice(ip+i,ip+i+$),function(_e){return stack.index(_e)}).join(", ")+")";stack.pop(bc[ip+2]),parts.push(stack.push(_)),ip+=i+$}for(;ip<end;)switch(bc[ip]){case op.PUSH:parts.push(stack.push(c(bc[ip+1]))),ip+=2;break;case op.PUSH_CURR_POS:parts.push(stack.push("peg$currPos")),ip++;break;case op.PUSH_UNDEFINED:parts.push(stack.push("void 0")),ip++;break;case op.PUSH_NULL:parts.push(stack.push("null")),ip++;break;case op.PUSH_FAILED:parts.push(stack.push("peg$FAILED")),ip++;break;case op.PUSH_EMPTY_ARRAY:parts.push(stack.push("[]")),ip++;break;case op.POP:stack.pop(),ip++;break;case op.POP_CURR_POS:parts.push("peg$currPos = "+stack.pop()+";"),ip++;break;case op.POP_N:stack.pop(bc[ip+1]),ip+=2;break;case op.NIP:value=stack.pop(),stack.pop(),parts.push(stack.push(value)),ip++;break;case op.APPEND:value=stack.pop(),parts.push(stack.top()+".push("+value+");"),ip++;break;case op.WRAP:parts.push(stack.push("["+stack.pop(bc[ip+1]).join(", ")+"]")),ip+=2;break;case op.TEXT:parts.push(stack.push("input.substring("+stack.pop()+", peg$currPos)")),ip++;break;case op.IF:compileCondition(stack.top(),0);break;case op.IF_ERROR:compileCondition(stack.top()+" === peg$FAILED",0);break;case op.IF_NOT_ERROR:compileCondition(stack.top()+" !== peg$FAILED",0);break;case op.WHILE_NOT_ERROR:compileLoop(stack.top()+" !== peg$FAILED");break;case op.MATCH_ANY:compileCondition("input.length > peg$currPos",0);break;case op.MATCH_STRING:compileCondition(eval(ast.consts[bc[ip+1]]).length>1?"input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+") === "+c(bc[ip+1]):"input.charCodeAt(peg$currPos) === "+eval(ast.consts[bc[ip+1]]).charCodeAt(0),1);break;case op.MATCH_STRING_IC:compileCondition("input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+").toLowerCase() === "+c(bc[ip+1]),1);break;case op.MATCH_REGEXP:compileCondition(c(bc[ip+1])+".test(input.charAt(peg$currPos))",1);break;case op.ACCEPT_N:parts.push(stack.push(bc[ip+1]>1?"input.substr(peg$currPos, "+bc[ip+1]+")":"input.charAt(peg$currPos)")),parts.push(bc[ip+1]>1?"peg$currPos += "+bc[ip+1]+";":"peg$currPos++;"),ip+=2;break;case op.ACCEPT_STRING:parts.push(stack.push(c(bc[ip+1]))),parts.push(eval(ast.consts[bc[ip+1]]).length>1?"peg$currPos += "+eval(ast.consts[bc[ip+1]]).length+";":"peg$currPos++;"),ip+=2;break;case op.FAIL:parts.push(stack.push("peg$FAILED")),parts.push("if (peg$silentFails === 0) { peg$fail("+c(bc[ip+1])+"); }"),ip+=2;break;case op.LOAD_SAVED_POS:parts.push("peg$savedPos = "+stack.index(bc[ip+1])+";"),ip+=2;break;case op.UPDATE_SAVED_POS:parts.push("peg$savedPos = peg$currPos;"),ip++;break;case op.CALL:compileCall();break;case op.RULE:parts.push(stack.push("peg$parse"+ast.rules[bc[ip+1]].name+"()")),ip+=2;break;case op.SILENT_FAILS_ON:parts.push("peg$silentFails++;"),ip++;break;case op.SILENT_FAILS_OFF:parts.push("peg$silentFails--;"),ip++;break;default:throw new Error("Invalid opcode: "+bc[ip]+".")}return parts.join(`
`)}return code=compile(rule.bytecode),parts.push("function peg$parse"+rule.name+"() {"),options.trace?parts.push(["  var "+arrays$2.map(arrays$2.range(0,stack.maxSp+1),s).join(", ")+",","      startPos = peg$currPos;"].join(`
`)):parts.push("  var "+arrays$2.map(arrays$2.range(0,stack.maxSp+1),s).join(", ")+";"),parts.push(indent2(generateRuleHeader('"'+js.stringEscape(rule.name)+'"',asts.indexOfRule(ast,rule.name)))),parts.push(indent2(code)),parts.push(indent2(generateRuleFooter('"'+js.stringEscape(rule.name)+'"',s(0)))),parts.push("}"),parts.join(`
`)}function generateToplevel(){var i=[],$,_,_e,tt,nt;return i.push(["function peg$subclass(child, parent) {","  function ctor() { this.constructor = child; }","  ctor.prototype = parent.prototype;","  child.prototype = new ctor();","}","","function peg$SyntaxError(message, expected, found, location) {","  this.message  = message;","  this.expected = expected;","  this.found    = found;","  this.location = location;",'  this.name     = "SyntaxError";',"",'  if (typeof Error.captureStackTrace === "function") {',"    Error.captureStackTrace(this, peg$SyntaxError);","  }","}","","peg$subclass(peg$SyntaxError, Error);","","peg$SyntaxError.buildMessage = function(expected, found) {","  var DESCRIBE_EXPECTATION_FNS = {","        literal: function(expectation) {",'          return "\\"" + literalEscape(expectation.text) + "\\"";',"        },","",'        "class": function(expectation) {','          var escapedParts = "",',"              i;","","          for (i = 0; i < expectation.parts.length; i++) {","            escapedParts += expectation.parts[i] instanceof Array",'              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])',"              : classEscape(expectation.parts[i]);","          }","",'          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";',"        },","","        any: function(expectation) {",'          return "any character";',"        },","","        end: function(expectation) {",'          return "end of input";',"        },","","        other: function(expectation) {","          return expectation.description;","        }","      };","","  function hex(ch) {","    return ch.charCodeAt(0).toString(16).toUpperCase();","  }","","  function literalEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')",`      .replace(/"/g,  '\\\\"')`,"      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function classEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\\]/g, '\\\\]')","      .replace(/\\^/g, '\\\\^')","      .replace(/-/g,  '\\\\-')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function describeExpectation(expectation) {","    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","  }","","  function describeExpected(expected) {","    var descriptions = new Array(expected.length),","        i, j;","","    for (i = 0; i < expected.length; i++) {","      descriptions[i] = describeExpectation(expected[i]);","    }","","    descriptions.sort();","","    if (descriptions.length > 0) {","      for (i = 1, j = 1; i < descriptions.length; i++) {","        if (descriptions[i - 1] !== descriptions[i]) {","          descriptions[j] = descriptions[i];","          j++;","        }","      }","      descriptions.length = j;","    }","","    switch (descriptions.length) {","      case 1:","        return descriptions[0];","","      case 2:",'        return descriptions[0] + " or " + descriptions[1];',"","      default:",'        return descriptions.slice(0, -1).join(", ")','          + ", or "',"          + descriptions[descriptions.length - 1];","    }","  }","","  function describeFound(found) {",'    return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"  }","",'  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"};",""].join(`
`)),options.trace&&i.push(["function peg$DefaultTracer() {","  this.indentLevel = 0;","}","","peg$DefaultTracer.prototype.trace = function(event) {","  var that = this;","","  function log(event) {","    function repeat(string, n) {",'       var result = "", i;',"","       for (i = 0; i < n; i++) {","         result += string;","       }","","       return result;","    }","","    function pad(string, length) {",'      return string + repeat(" ", length - string.length);',"    }","",'    if (typeof console === "object") {',"      console.log(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + pad(event.type, 10) + " "','          + repeat("  ", that.indentLevel) + event.rule',"      );","    }","  }","","  switch (event.type) {",'    case "rule.enter":',"      log(event);","      this.indentLevel++;","      break;","",'    case "rule.match":',"      this.indentLevel--;","      log(event);","      break;","",'    case "rule.fail":',"      this.indentLevel--;","      log(event);","      break;","","    default:",'      throw new Error("Invalid event type: " + event.type + ".");',"  }","};",""].join(`
`)),i.push(["function peg$parse(input, options) {","  options = options !== void 0 ? options : {};","","  var peg$FAILED = {},",""].join(`
`)),options.optimize==="size"?($="{ "+arrays$2.map(options.allowedStartRules,function(st){return st+": "+asts.indexOfRule(ast,st)}).join(", ")+" }",_=asts.indexOfRule(ast,options.allowedStartRules[0]),i.push(["      peg$startRuleIndices = "+$+",","      peg$startRuleIndex   = "+_+","].join(`
`))):(_e="{ "+arrays$2.map(options.allowedStartRules,function(st){return st+": peg$parse"+st}).join(", ")+" }",tt="peg$parse"+options.allowedStartRules[0],i.push(["      peg$startRuleFunctions = "+_e+",","      peg$startRuleFunction  = "+tt+","].join(`
`))),i.push(""),i.push(indent6(generateTables())),i.push(["","      peg$currPos          = 0,","      peg$savedPos         = 0,","      peg$posDetailsCache  = [{ line: 1, column: 1 }],","      peg$maxFailPos       = 0,","      peg$maxFailExpected  = [],","      peg$silentFails      = 0,",""].join(`
`)),options.cache&&i.push(["      peg$resultsCache = {},",""].join(`
`)),options.trace&&(options.optimize==="size"&&(nt="["+arrays$2.map(ast.rules,function(st){return'"'+js.stringEscape(st.name)+'"'}).join(", ")+"]",i.push(["      peg$ruleNames = "+nt+",",""].join(`
`))),i.push(['      peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer(),',""].join(`
`))),i.push(["      peg$result;",""].join(`
`)),options.optimize==="size"?i.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleIndices)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleIndex = peg$startRuleIndices[options.startRule];","  }"].join(`
`)):i.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleFunctions)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }"].join(`
`)),i.push(["","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text: text, ignoreCase: ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase) {",'    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description: description };',"  }","","  function peg$computePosDetails(pos) {","    var details = peg$posDetailsCache[pos], p;","","    if (details) {","      return details;","    } else {","      p = pos - 1;","      while (!peg$posDetailsCache[p]) {","        p--;","      }","","      details = peg$posDetailsCache[p];","      details = {","        line:   details.line,","        column: details.column","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos) {","    var startPosDetails = peg$computePosDetails(startPos),","        endPosDetails   = peg$computePosDetails(endPos);","","    return {","      start: {","        offset: startPos,","        line:   startPosDetails.line,","        column: startPosDetails.column","      },","      end: {","        offset: endPos,","        line:   endPosDetails.line,","        column: endPosDetails.column","      }","    };","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""].join(`
`)),options.optimize==="size"?(i.push(indent2(generateInterpreter())),i.push("")):arrays$2.each(ast.rules,function(st){i.push(indent2(generateRuleFunction(st))),i.push("")}),ast.initializer&&(i.push(indent2(ast.initializer.code)),i.push("")),options.optimize==="size"?i.push("  peg$result = peg$parseRule(peg$startRuleIndex);"):i.push("  peg$result = peg$startRuleFunction();"),i.push(["","  if (peg$result !== peg$FAILED && peg$currPos === input.length) {","    return peg$result;","  } else {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","}"].join(`
`)),i.join(`
`)}function generateWrapper(i){function $(){return["/*"," * Generated by PEG.js 0.10.0."," *"," * http://pegjs.org/"," */"].join(`
`)}function _(){return options.trace?["{","  SyntaxError:   peg$SyntaxError,","  DefaultTracer: peg$DefaultTracer,","  parse:         peg$parse","}"].join(`
`):["{","  SyntaxError: peg$SyntaxError,","  parse:       peg$parse","}"].join(`
`)}var _e={bare:function(){return[$(),"(function() {",'  "use strict";',"",indent2(i),"",indent2("return "+_()+";"),"})()"].join(`
`)},commonjs:function(){var tt=[],nt=objects$2.keys(options.dependencies),st=arrays$2.map(nt,function(at){return at+' = require("'+js.stringEscape(options.dependencies[at])+'")'});return tt.push([$(),"",'"use strict";',""].join(`
`)),st.length>0&&(tt.push("var "+st.join(", ")+";"),tt.push("")),tt.push([i,"","module.exports = "+_()+";",""].join(`
`)),tt.join(`
`)},amd:function(){var tt=objects$2.values(options.dependencies),nt=objects$2.keys(options.dependencies),st="["+arrays$2.map(tt,function(ht){return'"'+js.stringEscape(ht)+'"'}).join(", ")+"]",at=nt.join(", ");return[$(),"define("+st+", function("+at+") {",'  "use strict";',"",indent2(i),"",indent2("return "+_()+";"),"});",""].join(`
`)},globals:function(){return[$(),"(function(root) {",'  "use strict";',"",indent2(i),"",indent2("root."+options.exportVar+" = "+_()+";"),"})(this);",""].join(`
`)},umd:function(){var tt=[],nt=objects$2.values(options.dependencies),st=objects$2.keys(options.dependencies),at="["+arrays$2.map(nt,function(pt){return'"'+js.stringEscape(pt)+'"'}).join(", ")+"]",ht=arrays$2.map(nt,function(pt){return'require("'+js.stringEscape(pt)+'")'}).join(", "),lt=st.join(", ");return tt.push([$(),"(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+at+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+ht+");"].join(`
`)),options.exportVar!==null&&tt.push(["  } else {","    root."+options.exportVar+" = factory();"].join(`
`)),tt.push(["  }","})(this, function("+lt+") {",'  "use strict";',"",indent2(i),"",indent2("return "+_()+";"),"});",""].join(`
`)),tt.join(`
`)}};return _e[options.format]()}ast.code=generateWrapper(generateToplevel())}var generateJs=generateJS,arrays$1=arrays_1,objects$1=objects_1,compiler={visitor:visitor_1,passes:{check:{reportUndefinedRules:reportUndefinedRules_1,reportDuplicateRules:reportDuplicateRules_1,reportDuplicateLabels:reportDuplicateLabels_1,reportInfiniteRecursion:reportInfiniteRecursion_1,reportInfiniteRepetition:reportInfiniteRepetition_1},transform:{removeProxyRules:removeProxyRules_1},generate:{generateBytecode:generateBytecode_1,generateJS:generateJs}},compile:function(ast,passes,options){options=options!==void 0?options:{};var stage;options=objects$1.clone(options),objects$1.defaults(options,{allowedStartRules:[ast.rules[0].name],cache:!1,dependencies:{},exportVar:null,format:"bare",optimize:"speed",output:"parser",trace:!1});for(stage in passes)passes.hasOwnProperty(stage)&&arrays$1.each(passes[stage],function(i){i(ast,options)});switch(options.output){case"parser":return eval(ast.code);case"source":return ast.code}}},compiler_1=compiler,arrays=arrays_1,objects=objects_1,peg={VERSION:"0.10.0",GrammarError:grammarError,parser,compiler:compiler_1,generate:function(i,$){$=$!==void 0?$:{};function _(nt){var st={},at;for(at in nt)nt.hasOwnProperty(at)&&(st[at]=objects.values(nt[at]));return st}$=objects.clone($);var _e="plugins"in $?$.plugins:[],tt={parser:peg.parser,passes:_(peg.compiler.passes)};return arrays.each(_e,function(nt){nt.use(tt,$)}),peg.compiler.compile(tt.parser.parse(i),tt.passes,$)}},peg_1=peg,blockly$1={exports:{}},browser={exports:{}},coreBrowser={exports:{}},blockly={exports:{}},blockly_compressed={exports:{}},hasRequiredBlockly_compressed;function requireBlockly_compressed(){return hasRequiredBlockly_compressed||(hasRequiredBlockly_compressed=1,function(i,$){(function(_,_e){i.exports=_e()})(commonjsGlobal,function(){var _={};_.$jscomp=_.$jscomp||{},_.$jscomp.scope={},_.$jscomp.createTemplateTagFirstArg=function(o){return o.raw=o},_.$jscomp.createTemplateTagFirstArgWithRaw=function(o,j){return o.raw=j,o},_.$jscomp.arrayIteratorImpl=function(o){var j=0;return function(){return j<o.length?{done:!1,value:o[j++]}:{done:!0}}},_.$jscomp.arrayIterator=function(o){return{next:_.$jscomp.arrayIteratorImpl(o)}},_.$jscomp.makeIterator=function(o){var j=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return j?j.call(o):_.$jscomp.arrayIterator(o)},_.$jscomp.arrayFromIterator=function(o){for(var j,et=[];!(j=o.next()).done;)et.push(j.value);return et},_.$jscomp.arrayFromIterable=function(o){return o instanceof Array?o:_.$jscomp.arrayFromIterator(_.$jscomp.makeIterator(o))},_.$jscomp.owns=function(o,j){return Object.prototype.hasOwnProperty.call(o,j)},_.$jscomp.ASSUME_ES5=!1,_.$jscomp.ASSUME_NO_NATIVE_MAP=!1,_.$jscomp.ASSUME_NO_NATIVE_SET=!1,_.$jscomp.SIMPLE_FROUND_POLYFILL=!1,_.$jscomp.ISOLATE_POLYFILLS=!1,_.$jscomp.FORCE_POLYFILL_PROMISE=!1,_.$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,_.$jscomp.defineProperty=_.$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(o,j,et){return o==Array.prototype||o==Object.prototype||(o[j]=et.value),o},_.$jscomp.getGlobal=function(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var j=0;j<o.length;++j){var et=o[j];if(et&&et.Math==Math)return et}throw Error("Cannot find global object")},_.$jscomp.global=_.$jscomp.getGlobal(this),_.$jscomp.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",_.$jscomp.TRUST_ES6_POLYFILLS=!_.$jscomp.ISOLATE_POLYFILLS||_.$jscomp.IS_SYMBOL_NATIVE,_.$jscomp.polyfills={},_.$jscomp.propertyToPolyfillSymbol={},_.$jscomp.POLYFILL_PREFIX="$jscp$",_.$jscomp.polyfill=function(o,j,et,ot){j&&(_.$jscomp.ISOLATE_POLYFILLS?_.$jscomp.polyfillIsolated(o,j,et,ot):_.$jscomp.polyfillUnisolated(o,j,et,ot))},_.$jscomp.polyfillUnisolated=function(o,j,et,ot){for(et=_.$jscomp.global,o=o.split("."),ot=0;ot<o.length-1;ot++){var rt=o[ot];if(!(rt in et))return;et=et[rt]}o=o[o.length-1],ot=et[o],j=j(ot),j!=ot&&j!=null&&_.$jscomp.defineProperty(et,o,{configurable:!0,writable:!0,value:j})},_.$jscomp.polyfillIsolated=function(o,j,et,ot){var rt=o.split(".");o=rt.length===1,ot=rt[0],ot=!o&&ot in _.$jscomp.polyfills?_.$jscomp.polyfills:_.$jscomp.global;for(var ct=0;ct<rt.length-1;ct++){var Et=rt[ct];if(!(Et in ot))return;ot=ot[Et]}rt=rt[rt.length-1],et=_.$jscomp.IS_SYMBOL_NATIVE&&et==="es6"?ot[rt]:null,j=j(et),j!=null&&(o?_.$jscomp.defineProperty(_.$jscomp.polyfills,rt,{configurable:!0,writable:!0,value:j}):j!==et&&(_.$jscomp.propertyToPolyfillSymbol[rt]===void 0&&(et=1e9*Math.random()>>>0,_.$jscomp.propertyToPolyfillSymbol[rt]=_.$jscomp.IS_SYMBOL_NATIVE?_.$jscomp.global.Symbol(rt):_.$jscomp.POLYFILL_PREFIX+et+"$"+rt),_.$jscomp.defineProperty(ot,_.$jscomp.propertyToPolyfillSymbol[rt],{configurable:!0,writable:!0,value:j})))},_.$jscomp.assign=_.$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.assign=="function"?Object.assign:function(o,j){for(var et=1;et<arguments.length;et++){var ot=arguments[et];if(ot)for(var rt in ot)_.$jscomp.owns(ot,rt)&&(o[rt]=ot[rt])}return o},_.$jscomp.polyfill("Object.assign",function(o){return o||_.$jscomp.assign},"es6","es3"),_.$jscomp.objectCreate=_.$jscomp.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(o){var j=function(){};return j.prototype=o,new j},_.$jscomp.getConstructImplementation=function(){function o(){function et(){}return Reflect.construct(et,[],function(){}),new et instanceof et}if(_.$jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(o())return Reflect.construct;var j=Reflect.construct;return function(et,ot,rt){return et=j(et,ot),rt&&Reflect.setPrototypeOf(et,rt.prototype),et}}return function(et,ot,rt){return rt===void 0&&(rt=et),rt=_.$jscomp.objectCreate(rt.prototype||Object.prototype),Function.prototype.apply.call(et,rt,ot)||rt}},_.$jscomp.construct={valueOf:_.$jscomp.getConstructImplementation}.valueOf(),_.$jscomp.underscoreProtoCanBeSet=function(){var o={a:!0},j={};try{return j.__proto__=o,j.a}catch{}return!1},_.$jscomp.setPrototypeOf=_.$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:_.$jscomp.underscoreProtoCanBeSet()?function(o,j){if(o.__proto__=j,o.__proto__!==j)throw new TypeError(o+" is not extensible");return o}:null,_.$jscomp.inherits=function(o,j){if(o.prototype=_.$jscomp.objectCreate(j.prototype),o.prototype.constructor=o,_.$jscomp.setPrototypeOf){var et=_.$jscomp.setPrototypeOf;et(o,j)}else for(et in j)if(et!="prototype")if(Object.defineProperties){var ot=Object.getOwnPropertyDescriptor(j,et);ot&&Object.defineProperty(o,et,ot)}else o[et]=j[et];o.superClass_=j.prototype},_.$jscomp.polyfill("Reflect",function(o){return o||{}},"es6","es3"),_.$jscomp.polyfill("Reflect.construct",function(o){return _.$jscomp.construct},"es6","es3"),_.$jscomp.polyfill("Reflect.setPrototypeOf",function(o){if(o)return o;if(_.$jscomp.setPrototypeOf){var j=_.$jscomp.setPrototypeOf;return function(et,ot){try{return j(et,ot),!0}catch{return!1}}}return null},"es6","es5"),_.$jscomp.polyfill("globalThis",function(o){return o||_.$jscomp.global},"es_2020","es3"),_.$jscomp.checkStringArgs=function(o,j,et){if(o==null)throw new TypeError("The 'this' value for String.prototype."+et+" must not be null or undefined");if(j instanceof RegExp)throw new TypeError("First argument to String.prototype."+et+" must not be a regular expression");return o+""},_.$jscomp.polyfill("String.prototype.startsWith",function(o){return o||function(j,et){var ot=_.$jscomp.checkStringArgs(this,j,"startsWith");j+="";var rt=ot.length,ct=j.length;et=Math.max(0,Math.min(et|0,ot.length));for(var Et=0;Et<ct&&et<rt;)if(ot[et++]!=j[Et++])return!1;return Et>=ct}},"es6","es3"),_.$jscomp.initSymbol=function(){},_.$jscomp.polyfill("Symbol",function(o){if(o)return o;var j=function(ct,Et){this.$jscomp$symbol$id_=ct,_.$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:Et})};j.prototype.toString=function(){return this.$jscomp$symbol$id_};var et="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ot=0,rt=function(ct){if(this instanceof rt)throw new TypeError("Symbol is not a constructor");return new j(et+(ct||"")+"_"+ot++,ct)};return rt},"es6","es3"),_.$jscomp.polyfill("Symbol.iterator",function(o){if(o)return o;o=Symbol("Symbol.iterator");for(var j="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),et=0;et<j.length;et++){var ot=_.$jscomp.global[j[et]];typeof ot=="function"&&typeof ot.prototype[o]!="function"&&_.$jscomp.defineProperty(ot.prototype,o,{configurable:!0,writable:!0,value:function(){return _.$jscomp.iteratorPrototype(_.$jscomp.arrayIteratorImpl(this))}})}return o},"es6","es3"),_.$jscomp.iteratorPrototype=function(o){return o={next:o},o[Symbol.iterator]=function(){return this},o},_.$jscomp.iteratorFromArray=function(o,j){o instanceof String&&(o+="");var et=0,ot=!1,rt={next:function(){if(!ot&&et<o.length){var ct=et++;return{value:j(ct,o[ct]),done:!1}}return ot=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt},_.$jscomp.polyfill("Array.prototype.keys",function(o){return o||function(){return _.$jscomp.iteratorFromArray(this,function(j){return j})}},"es6","es3"),_.$jscomp.polyfill("Object.setPrototypeOf",function(o){return o||_.$jscomp.setPrototypeOf},"es6","es5"),_.$jscomp.polyfill("Array.prototype.values",function(o){return o||function(){return _.$jscomp.iteratorFromArray(this,function(j,et){return et})}},"es8","es3"),_.$jscomp.checkEs6ConformanceViaProxy=function(){try{var o={},j=Object.create(new _.$jscomp.global.Proxy(o,{get:function(et,ot,rt){return et==o&&ot=="q"&&rt==j}}));return j.q===!0}catch{return!1}},_.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,_.$jscomp.ES6_CONFORMANCE=_.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&_.$jscomp.checkEs6ConformanceViaProxy(),_.$jscomp.polyfill("WeakMap",function(o){function j(){if(!o||!Object.seal)return!1;try{var Zt=Object.seal({}),uo=Object.seal({}),Mo=new o([[Zt,2],[uo,3]]);return Mo.get(Zt)!=2||Mo.get(uo)!=3?!1:(Mo.delete(Zt),Mo.set(uo,4),!Mo.has(Zt)&&Mo.get(uo)==4)}catch{return!1}}function et(){}function ot(Zt){var uo=typeof Zt;return uo==="object"&&Zt!==null||uo==="function"}function rt(Zt){if(!_.$jscomp.owns(Zt,Et)){var uo=new et;_.$jscomp.defineProperty(Zt,Et,{value:uo})}}function ct(Zt){if(!_.$jscomp.ISOLATE_POLYFILLS){var uo=Object[Zt];uo&&(Object[Zt]=function(Mo){return Mo instanceof et?Mo:(Object.isExtensible(Mo)&&rt(Mo),uo(Mo))})}}if(_.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(o&&_.$jscomp.ES6_CONFORMANCE)return o}else if(j())return o;var Et="$jscomp_hidden_"+Math.random();ct("freeze"),ct("preventExtensions"),ct("seal");var wt=0,Lt=function(Zt){if(this.id_=(wt+=Math.random()+1).toString(),Zt){Zt=_.$jscomp.makeIterator(Zt);for(var uo;!(uo=Zt.next()).done;)uo=uo.value,this.set(uo[0],uo[1])}};return Lt.prototype.set=function(Zt,uo){if(!ot(Zt))throw Error("Invalid WeakMap key");if(rt(Zt),!_.$jscomp.owns(Zt,Et))throw Error("WeakMap key fail: "+Zt);return Zt[Et][this.id_]=uo,this},Lt.prototype.get=function(Zt){return ot(Zt)&&_.$jscomp.owns(Zt,Et)?Zt[Et][this.id_]:void 0},Lt.prototype.has=function(Zt){return ot(Zt)&&_.$jscomp.owns(Zt,Et)&&_.$jscomp.owns(Zt[Et],this.id_)},Lt.prototype.delete=function(Zt){return ot(Zt)&&_.$jscomp.owns(Zt,Et)&&_.$jscomp.owns(Zt[Et],this.id_)?delete Zt[Et][this.id_]:!1},Lt},"es6","es3"),_.$jscomp.polyfill("Object.entries",function(o){return o||function(j){var et=[],ot;for(ot in j)_.$jscomp.owns(j,ot)&&et.push([ot,j[ot]]);return et}},"es8","es3"),_.$jscomp.polyfill("Object.getOwnPropertySymbols",function(o){return o||function(){return[]}},"es6","es5"),_.$jscomp.polyfill("Reflect.ownKeys",function(o){return o||function(j){var et=[],ot=Object.getOwnPropertyNames(j);j=Object.getOwnPropertySymbols(j);for(var rt=0;rt<ot.length;rt++)(ot[rt].substring(0,14)=="jscomp_symbol_"?j:et).push(ot[rt]);return et.concat(j)}},"es6","es5"),_.$jscomp.polyfill("Object.getOwnPropertyDescriptors",function(o){return o||function(j){for(var et={},ot=Reflect.ownKeys(j),rt=0;rt<ot.length;rt++)et[ot[rt]]=Object.getOwnPropertyDescriptor(j,ot[rt]);return et}},"es8","es5"),_.$jscomp.polyfill("Array.prototype.fill",function(o){return o||function(j,et,ot){var rt=this.length||0;for(0>et&&(et=Math.max(0,rt+et)),(ot==null||ot>rt)&&(ot=rt),ot=Number(ot),0>ot&&(ot=Math.max(0,rt+ot)),et=Number(et||0);et<ot;et++)this[et]=j;return this}},"es6","es3"),_.$jscomp.typedArrayFill=function(o){return o||Array.prototype.fill},_.$jscomp.polyfill("Int8Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Uint8Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Uint8ClampedArray.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Int16Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Uint16Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Int32Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Uint32Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Float32Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.polyfill("Float64Array.prototype.fill",_.$jscomp.typedArrayFill,"es6","es5"),_.$jscomp.MapEntry=function(){},_.$jscomp.polyfill("Map",function(o){function j(){if(_.$jscomp.ASSUME_NO_NATIVE_MAP||!o||typeof o!="function"||!o.prototype.entries||typeof Object.seal!="function")return!1;try{var Lt=Object.seal({x:4}),Zt=new o(_.$jscomp.makeIterator([[Lt,"s"]]));if(Zt.get(Lt)!="s"||Zt.size!=1||Zt.get({x:4})||Zt.set({x:4},"t")!=Zt||Zt.size!=2)return!1;var uo=Zt.entries(),Mo=uo.next();return Mo.done||Mo.value[0]!=Lt||Mo.value[1]!="s"?!1:(Mo=uo.next(),!(Mo.done||Mo.value[0].x!=4||Mo.value[1]!="t"||!uo.next().done))}catch{return!1}}if(_.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(o&&_.$jscomp.ES6_CONFORMANCE)return o}else if(j())return o;var et=new WeakMap,ot=function(Lt){if(this.data_={},this.head_=Et(),this.size=0,Lt){Lt=_.$jscomp.makeIterator(Lt);for(var Zt;!(Zt=Lt.next()).done;)Zt=Zt.value,this.set(Zt[0],Zt[1])}};ot.prototype.set=function(Lt,Zt){Lt=Lt===0?0:Lt;var uo=rt(this,Lt);return uo.list||(uo.list=this.data_[uo.id]=[]),uo.entry?uo.entry.value=Zt:(uo.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:Lt,value:Zt},uo.list.push(uo.entry),this.head_.previous.next=uo.entry,this.head_.previous=uo.entry,this.size++),this},ot.prototype.delete=function(Lt){return Lt=rt(this,Lt),Lt.entry&&Lt.list?(Lt.list.splice(Lt.index,1),Lt.list.length||delete this.data_[Lt.id],Lt.entry.previous.next=Lt.entry.next,Lt.entry.next.previous=Lt.entry.previous,Lt.entry.head=null,this.size--,!0):!1},ot.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=Et(),this.size=0},ot.prototype.has=function(Lt){return!!rt(this,Lt).entry},ot.prototype.get=function(Lt){return(Lt=rt(this,Lt).entry)&&Lt.value},ot.prototype.entries=function(){return ct(this,function(Lt){return[Lt.key,Lt.value]})},ot.prototype.keys=function(){return ct(this,function(Lt){return Lt.key})},ot.prototype.values=function(){return ct(this,function(Lt){return Lt.value})},ot.prototype.forEach=function(Lt,Zt){for(var uo=this.entries(),Mo;!(Mo=uo.next()).done;)Mo=Mo.value,Lt.call(Zt,Mo[1],Mo[0],this)},ot.prototype[Symbol.iterator]=ot.prototype.entries;var rt=function(Lt,Zt){var uo=Zt&&typeof Zt;uo=="object"||uo=="function"?et.has(Zt)?uo=et.get(Zt):(uo=""+ ++wt,et.set(Zt,uo)):uo="p_"+Zt;var Mo=Lt.data_[uo];if(Mo&&_.$jscomp.owns(Lt.data_,uo))for(Lt=0;Lt<Mo.length;Lt++){var On=Mo[Lt];if(Zt!==Zt&&On.key!==On.key||Zt===On.key)return{id:uo,list:Mo,index:Lt,entry:On}}return{id:uo,list:Mo,index:-1,entry:void 0}},ct=function(Lt,Zt){var uo=Lt.head_;return _.$jscomp.iteratorPrototype(function(){if(uo){for(;uo.head!=Lt.head_;)uo=uo.previous;for(;uo.next!=uo.head;)return uo=uo.next,{done:!1,value:Zt(uo)};uo=null}return{done:!0,value:void 0}})},Et=function(){var Lt={};return Lt.previous=Lt.next=Lt.head=Lt},wt=0;return ot},"es6","es3"),_.$jscomp.polyfill("Set",function(o){function j(){if(_.$jscomp.ASSUME_NO_NATIVE_SET||!o||typeof o!="function"||!o.prototype.entries||typeof Object.seal!="function")return!1;try{var ot=Object.seal({x:4}),rt=new o(_.$jscomp.makeIterator([ot]));if(!rt.has(ot)||rt.size!=1||rt.add(ot)!=rt||rt.size!=1||rt.add({x:4})!=rt||rt.size!=2)return!1;var ct=rt.entries(),Et=ct.next();return Et.done||Et.value[0]!=ot||Et.value[1]!=ot?!1:(Et=ct.next(),Et.done||Et.value[0]==ot||Et.value[0].x!=4||Et.value[1]!=Et.value[0]?!1:ct.next().done)}catch{return!1}}if(_.$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(o&&_.$jscomp.ES6_CONFORMANCE)return o}else if(j())return o;var et=function(ot){if(this.map_=new Map,ot){ot=_.$jscomp.makeIterator(ot);for(var rt;!(rt=ot.next()).done;)this.add(rt.value)}this.size=this.map_.size};return et.prototype.add=function(ot){return ot=ot===0?0:ot,this.map_.set(ot,ot),this.size=this.map_.size,this},et.prototype.delete=function(ot){return ot=this.map_.delete(ot),this.size=this.map_.size,ot},et.prototype.clear=function(){this.map_.clear(),this.size=0},et.prototype.has=function(ot){return this.map_.has(ot)},et.prototype.entries=function(){return this.map_.entries()},et.prototype.values=function(){return this.map_.values()},et.prototype.keys=et.prototype.values,et.prototype[Symbol.iterator]=et.prototype.values,et.prototype.forEach=function(ot,rt){var ct=this;this.map_.forEach(function(Et){return ot.call(rt,Et,Et,ct)})},et},"es6","es3");var _e=_e||{};_e.global=globalThis||root,_e.define=function(o,j){return j},_e.DEBUG=!1,_e.DISALLOW_TEST_ONLY_CODE=!_e.DEBUG,_e.provide=function(o){},_e.module=function(o){},_e.module.get=function(o){},_e.module.declareLegacyNamespace=function(){},_e.setTestOnly=function(o){if(_e.DISALLOW_TEST_ONLY_CODE)throw o=o||"",Error("Importing test-only code into non-debug environment"+(o?": "+o:"."))},_e.require=function(o){},_e.requireType=function(o){};var tt={warn:function(o,j,et,ot){o=o+" was deprecated on "+j+" and will be deleted on "+et+".",ot&&(o+=`
Use `+ot+" instead."),console.warn(o)}},nt={},st=!1;nt.register=function(o){if(st)throw Error("CSS already injected");Array.isArray(o)?((0,tt.warn)("Registering CSS by passing an array of strings","September 2021","September 2022","css.register passing a multiline string"),nt.content+=`
`+o.join(`
`)):nt.content+=`
`+o},nt.inject=function(o,j){st||(st=!0,o&&(o=j.replace(/[\\/]$/,""),j=nt.content.replace(/<<<PATH>>>/g,o),nt.content="",o=document.createElement("style"),o.id="blockly-common-style",j=document.createTextNode(j),o.appendChild(j),document.head.insertBefore(o,document.head.firstChild)))},nt.content=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyWsDragSurface {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
}

/* Added as a separate rule with multiple classes to make it more specific
   than a bootstrap rule that selects svg:root. See issue #1275 for context.
*/
.blocklyWsDragSurface.blocklyOverflowVisible {
  overflow: visible;
}

.blocklyBlockDragSurface {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 50;  /* Display below toolbox, but above everything else. */
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  // @todo: spec for maximum height.
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  /* backup for browsers (e.g. IE11) that don't support grab */
  cursor: url("<<<PATH>>>/handopen.cur"), auto;
  cursor: grab;
  cursor: -webkit-grab;
}

  /* backup for browsers (e.g. IE11) that don't support grabbing */
.blocklyDragging {
  /* backup for browsers (e.g. IE11) that don't support grabbing */
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  /* backup for browsers (e.g. IE11) that don't support grabbing */
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Change the cursor on the whole drag surface in case the mouse gets
   ahead of block during a drag. This way the cursor is still a closed hand.
  */
.blocklyBlockDragSurface .blocklyDraggable {
  /* backup for browsers (e.g. IE11) that don't support grabbing */
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyMultilineText {
  font-family: monospace;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text,
.blocklyBlockDragSurface text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Edge and IE introduce a close icon when the input value is longer than a
   certain length. This affects our sizing calculations of the text input.
   Hiding the close icon to avoid that. */
.blocklyHtmlInput::-ms-clear {
  display: none;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}
`;var at,ht,lt,pt;_.module$exports$Blockly$utils$string={startsWith:function(o,j){return o.lastIndexOf(j,0)===0},shortestStringLength:function(o){return o.length?o.reduce(function(j,et){return j.length<et.length?j:et}).length:0},commonWordPrefix:function(o,j){if(!o.length)return 0;if(o.length===1)return o[0].length;var et=0;j=j||(0,_.module$exports$Blockly$utils$string.shortestStringLength)(o);var ot;for(ot=0;ot<j;ot++){for(var rt=o[0][ot],ct=1;ct<o.length;ct++)if(rt!==o[ct][ot])return et;rt===" "&&(et=ot+1)}for(rt=1;rt<o.length;rt++)if((ct=o[rt][ot])&&ct!==" ")return et;return j},commonWordSuffix:function(o,j){if(!o.length)return 0;if(o.length===1)return o[0].length;var et=0;j=j||(0,_.module$exports$Blockly$utils$string.shortestStringLength)(o);var ot;for(ot=0;ot<j;ot++){for(var rt=o[0].substr(-ot-1,1),ct=1;ct<o.length;ct++)if(rt!==o[ct].substr(-ot-1,1))return et;rt===" "&&(et=ot+1)}for(rt=1;rt<o.length;rt++)if((ct=o[rt].charAt(o[rt].length-ot-1))&&ct!==" ")return et;return j},wrap:function(o,j){o=o.split(`
`);for(var et=0;et<o.length;et++)o[et]=at(o[et],j);return o.join(`
`)}},at=function(o,j){if(o.length<=j)return o;for(var et=o.trim().split(/\s+/),ot=0;ot<et.length;ot++)et[ot].length>j&&(j=et[ot].length);var rt=-1/0,ct=1;do{ot=rt;var Et=o;o=[],rt=et.length/ct;for(var wt=1,Lt=0;Lt<et.length-1;Lt++)wt<(Lt+1.5)/rt?(wt++,o[Lt]=!0):o[Lt]=!1;o=lt(et,o,j),rt=ht(et,o,j),o=pt(et,o),ct++}while(rt>ot);return Et},ht=function(o,j,et){for(var ot=[0],rt=[],ct=0;ct<o.length;ct++)ot[ot.length-1]+=o[ct].length,j[ct]===!0?(ot.push(0),rt.push(o[ct].charAt(o[ct].length-1))):j[ct]===!1&&ot[ot.length-1]++;for(o=Math.max.apply(Math,ot),ct=j=0;ct<ot.length;ct++)j-=2*Math.pow(Math.abs(et-ot[ct]),1.5),j-=Math.pow(o-ot[ct],1.5),".?!".indexOf(rt[ct])!==-1?j+=et/3:",;)]}".indexOf(rt[ct])!==-1&&(j+=et/4);return 1<ot.length&&ot[ot.length-1]<=ot[ot.length-2]&&(j+=.5),j},lt=function(o,j,et){for(var ot=ht(o,j,et),rt,ct=0;ct<j.length-1;ct++)if(j[ct]!==j[ct+1]){var Et=[].concat(j);Et[ct]=!Et[ct],Et[ct+1]=!Et[ct+1];var wt=ht(o,Et,et);wt>ot&&(ot=wt,rt=Et)}return rt?lt(o,rt,et):j},pt=function(o,j){for(var et=[],ot=0;ot<o.length;ot++)et.push(o[ot]),j[ot]!==void 0&&et.push(j[ot]?`
`:" ");return et.join("")},_.module$exports$Blockly$utils$string.isNumber=function(o){return/^\s*-?\d+(\.\d+)?\s*$/.test(o)},_.module$exports$Blockly$utils$global={},_.module$exports$Blockly$utils$global.globalThis=function(){return typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof commonjsGlobal=="object"?commonjsGlobal:this}();var dt={},gt=750;dt.TOUCH_ENABLED="ontouchstart"in _.module$exports$Blockly$utils$global.globalThis||!!(_.module$exports$Blockly$utils$global.globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!_.module$exports$Blockly$utils$global.globalThis.navigator||!_.module$exports$Blockly$utils$global.globalThis.navigator.maxTouchPoints&&!_.module$exports$Blockly$utils$global.globalThis.navigator.msMaxTouchPoints);var vt=null;dt.TOUCH_MAP={},_.module$exports$Blockly$utils$global.globalThis.PointerEvent?dt.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:dt.TOUCH_ENABLED&&(dt.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var bt=0;dt.longStart=function(o,j){(0,dt.longStop)(),o.changedTouches&&o.changedTouches.length!==1||(bt=setTimeout(function(){o.changedTouches&&(o.button=2,o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),j&&j.handleRightClick(o)},gt))},dt.longStop=function(){bt&&(clearTimeout(bt),bt=0)},dt.clearTouchIdentifier=function(){vt=null},dt.shouldHandleEvent=function(o){return!(0,dt.isMouseOrTouchEvent)(o)||(0,dt.checkTouchIdentifier)(o)},dt.getTouchIdentifierFromEvent=function(o){return o.pointerId!==void 0?o.pointerId:o.changedTouches&&o.changedTouches[0]&&o.changedTouches[0].identifier!==void 0&&o.changedTouches[0].identifier!==null?o.changedTouches[0].identifier:"mouse"},dt.checkTouchIdentifier=function(o){var j=(0,dt.getTouchIdentifierFromEvent)(o);return vt!=null?vt===j:o.type==="mousedown"||o.type==="touchstart"||o.type==="pointerdown"?(vt=j,!0):!1},dt.setClientFromTouch=function(o){if((0,_.module$exports$Blockly$utils$string.startsWith)(o.type,"touch")&&o.changedTouches){var j=o.changedTouches[0];o.clientX=j.clientX,o.clientY=j.clientY}},dt.isMouseOrTouchEvent=function(o){return(0,_.module$exports$Blockly$utils$string.startsWith)(o.type,"touch")||(0,_.module$exports$Blockly$utils$string.startsWith)(o.type,"mouse")||(0,_.module$exports$Blockly$utils$string.startsWith)(o.type,"pointer")},dt.isTouchEvent=function(o){return(0,_.module$exports$Blockly$utils$string.startsWith)(o.type,"touch")||(0,_.module$exports$Blockly$utils$string.startsWith)(o.type,"pointer")},dt.splitEventByTouches=function(o){var j=[];if(o.changedTouches)for(var et=0;et<o.changedTouches.length;et++)j[et]={type:o.type,changedTouches:[o.changedTouches[et]],target:o.target,stopPropagation:function(){o.stopPropagation()},preventDefault:function(){o.preventDefault()}};else j.push(o);return j};var $t={};(function(o){function j(ot){return et.indexOf(ot.toUpperCase())!==-1}$t.raw=o;var et=$t.raw.toUpperCase();$t.IE=j("Trident")||j("MSIE"),$t.EDGE=j("Edge"),$t.JavaFx=j("JavaFX"),$t.CHROME=(j("Chrome")||j("CriOS"))&&!$t.EDGE,$t.WEBKIT=j("WebKit")&&!$t.EDGE,$t.GECKO=j("Gecko")&&!$t.WEBKIT&&!$t.IE&&!$t.EDGE,$t.ANDROID=j("Android"),o=_.module$exports$Blockly$utils$global.globalThis.navigator&&_.module$exports$Blockly$utils$global.globalThis.navigator.maxTouchPoints,$t.IPAD=j("iPad")||j("Macintosh")&&0<o,$t.IPOD=j("iPod"),$t.IPHONE=j("iPhone")&&!$t.IPAD&&!$t.IPOD,$t.MAC=j("Macintosh"),$t.TABLET=$t.IPAD||$t.ANDROID&&!j("Mobile")||j("Silk"),$t.MOBILE=!$t.TABLET&&($t.IPOD||$t.IPHONE||$t.ANDROID||j("IEMobile"))})(_.module$exports$Blockly$utils$global.globalThis.navigator&&_.module$exports$Blockly$utils$global.globalThis.navigator.userAgent||"");var Tt={},St=40,Bt=125;Tt.conditionalBind=function(o,j,et,ot,rt,ct){var Et=!1,wt=function(On){var Ms=!rt;On=(0,dt.splitEventByTouches)(On);for(var Ns=0;Ns<On.length;Ns++){var $u=On[Ns];(!Ms||(0,dt.shouldHandleEvent)($u))&&((0,dt.setClientFromTouch)($u),et?ot.call(et,$u):ot($u),Et=!0)}},Lt=[];if(_.module$exports$Blockly$utils$global.globalThis.PointerEvent&&j in dt.TOUCH_MAP)for(var Zt=0;Zt<dt.TOUCH_MAP[j].length;Zt++){var uo=dt.TOUCH_MAP[j][Zt];o.addEventListener(uo,wt,!1),Lt.push([o,uo,wt])}else if(o.addEventListener(j,wt,!1),Lt.push([o,j,wt]),j in dt.TOUCH_MAP)for(Zt=function(On){wt(On);var Ms=!ct;Et&&Ms&&On.preventDefault()},uo=0;uo<dt.TOUCH_MAP[j].length;uo++){var Mo=dt.TOUCH_MAP[j][uo];o.addEventListener(Mo,Zt,!1),Lt.push([o,Mo,Zt])}return Lt},Tt.bind=function(o,j,et,ot){var rt=function(Zt){et?ot.call(et,Zt):ot(Zt)},ct=[];if(_.module$exports$Blockly$utils$global.globalThis.PointerEvent&&j in dt.TOUCH_MAP)for(var Et=0;Et<dt.TOUCH_MAP[j].length;Et++){var wt=dt.TOUCH_MAP[j][Et];o.addEventListener(wt,rt,!1),ct.push([o,wt,rt])}else if(o.addEventListener(j,rt,!1),ct.push([o,j,rt]),j in dt.TOUCH_MAP)for(Et=function(Zt){if(Zt.changedTouches&&Zt.changedTouches.length===1){var uo=Zt.changedTouches[0];Zt.clientX=uo.clientX,Zt.clientY=uo.clientY}rt(Zt),Zt.preventDefault()},wt=0;wt<dt.TOUCH_MAP[j].length;wt++){var Lt=dt.TOUCH_MAP[j][wt];o.addEventListener(Lt,Et,!1),ct.push([o,Lt,Et])}return ct},Tt.unbind=function(o){for(var j;o.length;){j=o.pop();var et=j[0],ot=j[1];j=j[2],et.removeEventListener(ot,j,!1)}return j},Tt.isTargetInput=function(o){return o.target.type==="textarea"||o.target.type==="text"||o.target.type==="number"||o.target.type==="email"||o.target.type==="password"||o.target.type==="search"||o.target.type==="tel"||o.target.type==="url"||o.target.isContentEditable||o.target.dataset&&o.target.dataset.isTextInput==="true"},Tt.isRightButton=function(o){return o.ctrlKey&&$t.MAC?!0:o.button===2},Tt.mouseToSvg=function(o,j,et){var ot=j.createSVGPoint();return ot.x=o.clientX,ot.y=o.clientY,et||(et=j.getScreenCTM().inverse()),ot.matrixTransform(et)},Tt.getScrollDeltaPixels=function(o){switch(o.deltaMode){default:return{x:o.deltaX,y:o.deltaY};case 1:return{x:o.deltaX*St,y:o.deltaY*St};case 2:return{x:o.deltaX*Bt,y:o.deltaY*Bt}}};var Dt={};Dt.Blocks=Object.create(null);var Vt;_.module$exports$Blockly$common={},_.module$exports$Blockly$common.getMainWorkspace=function(){return Vt},_.module$exports$Blockly$common.setMainWorkspace=function(o){Vt=o};var Ht=null;_.module$exports$Blockly$common.getSelected=function(){return Ht},_.module$exports$Blockly$common.setSelected=function(o){Ht=o};var Wt;_.module$exports$Blockly$common.getParentContainer=function(){return Wt},_.module$exports$Blockly$common.setParentContainer=function(o){Wt=o},_.module$exports$Blockly$common.svgResize=function(o){for(;o.options.parentWorkspace;)o=o.options.parentWorkspace;var j=o.getParentSvg(),et=o.getCachedParentSvgSize(),ot=j.parentNode;if(ot){var rt=ot.offsetWidth;ot=ot.offsetHeight,et.width!==rt&&(j.setAttribute("width",rt+"px"),o.setCachedParentSvgSize(rt,null)),et.height!==ot&&(j.setAttribute("height",ot+"px"),o.setCachedParentSvgSize(null,ot)),o.resize()}},_.module$exports$Blockly$common.draggingConnections=[],_.module$exports$Blockly$common.getBlockTypeCounts=function(o,j){var et=Object.create(null),ot=o.getDescendants(!0);for(j&&(o=o.getNextBlock())&&(o=ot.indexOf(o),ot.splice(o,ot.length-o)),o=0;j=ot[o];o++)et[j.type]?et[j.type]++:et[j.type]=1;return et};var zt=function(o){return function(){this.jsonInit(o)}};_.module$exports$Blockly$common.defineBlocksWithJsonArray=function(o){(0,_.module$exports$Blockly$common.defineBlocks)((0,_.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)(o))},_.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray=function(o){for(var j={},et=0;et<o.length;et++){var ot=o[et];if(ot){var rt=ot.type;rt?j[rt]={init:zt(ot)}:console.warn("Block definition #"+et+" in JSON array is missing a type attribute. Skipping.")}else console.warn("Block definition #"+et+" in JSON array is "+ot+". Skipping")}return j},_.module$exports$Blockly$common.defineBlocks=function(o){for(var j=_.$jscomp.makeIterator(Object.keys(o)),et=j.next();!et.done;et=j.next()){et=et.value;var ot=o[et];et in Dt.Blocks&&console.warn('Block definiton "'+et+'" overwrites previous definition.'),Dt.Blocks[et]=ot}};var Ut={},ao=void 0;Ut.setCustomTooltip=function(o){ao=o},Ut.getCustomTooltip=function(){return ao};var lo=!1;Ut.isVisible=function(){return lo},Object.defineProperties(Ut,{visible:{get:function(){return(0,tt.warn)("Blockly.Tooltip.visible","September 2021","September 2022","Blockly.Tooltip.isVisible()"),(0,Ut.isVisible)()}}});var Ao=!1;Ut.LIMIT=50;var Zo=0,Qo=0,Wo=0,An=0,Oo=null,kn=null;Ut.OFFSET_X=0,Ut.OFFSET_Y=10,Ut.RADIUS_OK=10,Ut.HOVER_MS=750,Ut.MARGINS=5;var oo=null;Ut.getDiv=function(){return oo},Object.defineProperties(Ut,{DIV:{get:function(){return(0,tt.warn)("Blockly.Tooltip.DIV","September 2021","September 2022","Blockly.Tooltip.getDiv()"),(0,Ut.getDiv)()}}}),Ut.getTooltipOfObject=function(o){if(o=Bo(o)){for(o=o.tooltip;typeof o=="function";)o=o();if(typeof o!="string")throw Error("Tooltip function must return a string.");return o}return""};var Bo=function(o){for(;o&&o.tooltip;){if(typeof o.tooltip=="string"||typeof o.tooltip=="function")return o;o=o.tooltip}return null};Ut.createDom=function(){oo||(oo=document.createElement("div"),oo.className="blocklyTooltipDiv",((0,_.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(oo))},Ut.bindMouseEvents=function(o){o.mouseOverWrapper_=(0,Tt.bind)(o,"mouseover",null,Io),o.mouseOutWrapper_=(0,Tt.bind)(o,"mouseout",null,Pt),o.addEventListener("mousemove",io,!1)},Ut.unbindMouseEvents=function(o){o&&((0,Tt.unbind)(o.mouseOverWrapper_),(0,Tt.unbind)(o.mouseOutWrapper_),o.removeEventListener("mousemove",io))};var Io=function(o){Ao||(o=Bo(o.currentTarget),Oo!==o&&((0,Ut.hide)(),kn=null,Oo=o),clearTimeout(Zo))},Pt=function(o){Ao||(Zo=setTimeout(function(){kn=Oo=null,(0,Ut.hide)()},1),clearTimeout(Qo))},io=function(o){if(Oo&&Oo.tooltip&&!Ao)if(lo){var j=Wo-o.pageX;o=An-o.pageY,Math.sqrt(j*j+o*o)>Ut.RADIUS_OK&&(0,Ut.hide)()}else kn!==Oo&&(clearTimeout(Qo),Wo=o.pageX,An=o.pageY,Qo=setTimeout(No,Ut.HOVER_MS))};Ut.dispose=function(){kn=Oo=null,(0,Ut.hide)()},Ut.hide=function(){lo&&(lo=!1,oo&&(oo.style.display="none")),Qo&&clearTimeout(Qo)},Ut.block=function(){(0,Ut.hide)(),Ao=!0},Ut.unblock=function(){Ao=!1};var vo=function(){oo&&Oo&&(typeof ao=="function"?ao(oo,Oo):Po())},Po=function(){var o=(0,Ut.getTooltipOfObject)(Oo);o=(0,_.module$exports$Blockly$utils$string.wrap)(o,Ut.LIMIT),o=o.split(`
`);for(var j=0;j<o.length;j++){var et=document.createElement("div");et.appendChild(document.createTextNode(o[j])),oo.appendChild(et)}},Ko=function(o){var j=document.documentElement.clientWidth,et=document.documentElement.clientHeight,ot=Wo;ot=o?ot-(Ut.OFFSET_X+oo.offsetWidth):ot+Ut.OFFSET_X;var rt=An+Ut.OFFSET_Y;return rt+oo.offsetHeight>et+window.scrollY&&(rt-=oo.offsetHeight+2*Ut.OFFSET_Y),o?ot=Math.max(Ut.MARGINS-window.scrollX,ot):ot+oo.offsetWidth>j+window.scrollX-2*Ut.MARGINS&&(ot=j-oo.offsetWidth-2*Ut.MARGINS),{x:ot,y:rt}},No=function(){if(!Ao&&(kn=Oo,oo)){oo.textContent="",vo();var o=Oo.RTL;oo.style.direction=o?"rtl":"ltr",oo.style.display="block",lo=!0,o=Ko(o);var j=o.y;oo.style.left=o.x+"px",oo.style.top=j+"px"}},kt={SVG_NS:"http://www.w3.org/2000/svg",HTML_NS:"http://www.w3.org/1999/xhtml",XLINK_NS:"http://www.w3.org/1999/xlink",NodeType:{ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16}},jo=null,mt=0,At=null;kt.createSvgElement=function(o,j,et){o=document.createElementNS(kt.SVG_NS,String(o));for(var ot in j)o.setAttribute(ot,j[ot]);return document.body.runtimeStyle&&(o.runtimeStyle=o.currentStyle=o.style),et&&et.appendChild(o),o},kt.addClass=function(o,j){var et=o.getAttribute("class")||"";return(" "+et+" ").indexOf(" "+j+" ")!==-1?!1:(et&&(et+=" "),o.setAttribute("class",et+j),!0)},kt.removeClasses=function(o,j){j=j.split(" ");for(var et=0;et<j.length;et++)(0,kt.removeClass)(o,j[et])},kt.removeClass=function(o,j){var et=o.getAttribute("class");if((" "+et+" ").indexOf(" "+j+" ")===-1)return!1;et=et.split(/\s+/);for(var ot=0;ot<et.length;ot++)et[ot]&&et[ot]!==j||(et.splice(ot,1),ot--);return et.length?o.setAttribute("class",et.join(" ")):o.removeAttribute("class"),!0},kt.hasClass=function(o,j){return(" "+o.getAttribute("class")+" ").indexOf(" "+j+" ")!==-1},kt.removeNode=function(o){return o&&o.parentNode?o.parentNode.removeChild(o):null},kt.insertAfter=function(o,j){var et=j.nextSibling;if(j=j.parentNode,!j)throw Error("Reference node has no parent.");et?j.insertBefore(o,et):j.appendChild(o)},kt.containsNode=function(o,j){return!!(o.compareDocumentPosition(j)&kt.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},kt.setCssTransform=function(o,j){o.style.transform=j,o.style["-webkit-transform"]=j},kt.startTextWidthCache=function(){mt++,jo||(jo=Object.create(null))},kt.stopTextWidthCache=function(){mt--,mt||(jo=null)},kt.getTextWidth=function(o){var j=o.textContent+`
`+o.className.baseVal,et;if(jo&&(et=jo[j]))return et;try{et=$t.IE||$t.EDGE?o.getBBox().width:o.getComputedTextLength()}catch{return 8*o.textContent.length}return jo&&(jo[j]=et),et},kt.getFastTextWidth=function(o,j,et,ot){return(0,kt.getFastTextWidthWithSizeString)(o,j+"pt",et,ot)},kt.getFastTextWidthWithSizeString=function(o,j,et,ot){var rt=o.textContent;o=rt+`
`+o.className.baseVal;var ct;return jo&&(ct=jo[o])||(At||(ct=document.createElement("canvas"),ct.className="blocklyComputeCanvas",document.body.appendChild(ct),At=ct.getContext("2d")),At.font=et+" "+j+" "+ot,ct=At.measureText(rt).width,jo&&(jo[o]=ct)),ct},kt.measureFontMetrics=function(o,j,et,ot){var rt=document.createElement("span");rt.style.font=et+" "+j+" "+ot,rt.textContent=o,o=document.createElement("div"),o.style.width="1px",o.style.height=0,j=document.createElement("div"),j.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),j.appendChild(rt),j.appendChild(o),document.body.appendChild(j),et={height:0,baseline:0};try{j.style.alignItems="baseline",et.baseline=o.offsetTop-rt.offsetTop,j.style.alignItems="flex-end",et.height=o.offsetTop-rt.offsetTop}finally{document.body.removeChild(j)}return et};var Ot={},Yt=null,Qt=null,co="",so="",fo;Ot.getDiv=function(){return fo},Ot.testOnly_setDiv=function(o){fo=o},Object.defineProperties(Ot,{DIV:{get:function(){return(0,tt.warn)("Blockly.WidgetDiv.DIV","September 2021","September 2022","Blockly.WidgetDiv.getDiv()"),(0,Ot.getDiv)()}}}),Ot.createDom=function(){fo||(fo=document.createElement("div"),fo.className="blocklyWidgetDiv",((0,_.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(fo))},Ot.show=function(o,j,et){(0,Ot.hide)(),Yt=o,Qt=et,o=fo,o.style.direction=j?"rtl":"ltr",o.style.display="block",j=(0,_.module$exports$Blockly$common.getMainWorkspace)(),co=j.getRenderer().getClassName(),so=j.getTheme().getClassName(),(0,kt.addClass)(o,co),(0,kt.addClass)(o,so)},Ot.hide=function(){if((0,Ot.isVisible)()){Yt=null;var o=fo;o.style.display="none",o.style.left="",o.style.top="",Qt&&Qt(),Qt=null,o.textContent="",co&&((0,kt.removeClass)(o,co),co=""),so&&((0,kt.removeClass)(o,so),so=""),(0,_.module$exports$Blockly$common.getMainWorkspace)().markFocused()}},Ot.isVisible=function(){return!!Yt},Ot.hideIfOwner=function(o){Yt===o&&(0,Ot.hide)()};var gn=function(o,j,et){fo.style.left=o+"px",fo.style.top=j+"px",fo.style.height=et+"px"};Ot.positionWithAnchor=function(o,j,et,ot){var rt=Gn(o,j,et);o=Nn(o,j,et,ot),0>rt?gn(o,0,et.height+rt):gn(o,rt,et.height)};var Nn=function(o,j,et,ot){return ot?Math.min(Math.max(j.right-et.width,o.left),o.right-et.width):Math.max(Math.min(j.left,o.right-et.width),o.left)},Gn=function(o,j,et){return j.bottom+et.height>=o.bottom?j.top-et.height:j.bottom},ho={},zr="aria-",Or="role";ho.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},ho.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},ho.setRole=function(o,j){o.setAttribute(Or,j)},ho.setState=function(o,j,et){Array.isArray(et)&&(et=et.join(" ")),o.setAttribute(zr+j,et)};var mn={TEST_ONLY:{}},qs=0;mn.getNextUniqueId=function(){return"blockly-"+(qs++).toString(36)};var Ol="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";mn.TEST_ONLY.genUid=function(){for(var o=Ol.length,j=[],et=0;20>et;et++)j[et]=Ol.charAt(Math.random()*o);return j.join("")},mn.genUid=function(){return mn.TEST_ONLY.genUid()};var jt={},Xr=Object.create(null);jt.TEST_ONLY={typeMap:Xr};var rs=Object.create(null);jt.DEFAULT="default",jt.Type=function(o){this.name_=o},jt.Type.prototype.toString=function(){return this.name_},jt.Type.CONNECTION_CHECKER=new jt.Type("connectionChecker"),jt.Type.CURSOR=new jt.Type("cursor"),jt.Type.EVENT=new jt.Type("event"),jt.Type.FIELD=new jt.Type("field"),jt.Type.RENDERER=new jt.Type("renderer"),jt.Type.TOOLBOX=new jt.Type("toolbox"),jt.Type.THEME=new jt.Type("theme"),jt.Type.TOOLBOX_ITEM=new jt.Type("toolboxItem"),jt.Type.FLYOUTS_VERTICAL_TOOLBOX=new jt.Type("flyoutsVerticalToolbox"),jt.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new jt.Type("flyoutsHorizontalToolbox"),jt.Type.METRICS_MANAGER=new jt.Type("metricsManager"),jt.Type.BLOCK_DRAGGER=new jt.Type("blockDragger"),jt.Type.SERIALIZER=new jt.Type("serializer"),jt.register=function(o,j,et,ot){if(!(o instanceof jt.Type)&&typeof o!="string"||String(o).trim()==="")throw Error('Invalid type "'+o+'". The type must be a non-empty string or a Blockly.registry.Type.');if(o=String(o).toLowerCase(),typeof j!="string"||j.trim()==="")throw Error('Invalid name "'+j+'". The name must be a non-empty string.');var rt=j.toLowerCase();if(!et)throw Error("Can not register a null value");var ct=Xr[o],Et=rs[o];if(ct||(ct=Xr[o]=Object.create(null),Et=rs[o]=Object.create(null)),ba(o,et),!ot&&ct[rt])throw Error('Name "'+rt+'" with type "'+o+'" already registered.');ct[rt]=et,Et[rt]=j};var ba=function(o,j){switch(o){case String(jt.Type.FIELD):if(typeof j.fromJson!="function")throw Error('Type "'+o+'" must have a fromJson function')}};jt.unregister=function(o,j){o=String(o).toLowerCase(),j=j.toLowerCase();var et=Xr[o];et&&et[j]?(delete Xr[o][j],delete rs[o][j]):console.warn("Unable to unregister ["+j+"]["+o+"] from the registry.")};var Ml=function(o,j,et){o=String(o).toLowerCase(),j=j.toLowerCase();var ot=Xr[o];if(!ot||!ot[j]){if(j="Unable to find ["+j+"]["+o+"] in the registry.",et)throw Error(j+" You must require or register a "+o+" plugin.");return console.warn(j),null}return ot[j]};jt.hasItem=function(o,j){return o=String(o).toLowerCase(),j=j.toLowerCase(),(o=Xr[o])?!!o[j]:!1},jt.getClass=function(o,j,et){return Ml(o,j,et)},jt.getObject=function(o,j,et){return Ml(o,j,et)},jt.getAllItems=function(o,j,et){o=String(o).toLowerCase();var ot=Xr[o];if(!ot){if(ot="Unable to find ["+o+"] in the registry.",et)throw Error(ot+" You must require or register a "+o+" plugin.");return console.warn(ot),null}if(!j)return ot;o=rs[o],et=Object.create(null),j=Object.keys(ot);for(var rt=0;rt<j.length;rt++){var ct=j[rt];et[o[ct]]=ot[ct]}return et},jt.getClassFromOptions=function(o,j,et){return j=j.plugins[o.toString()]||jt.DEFAULT,typeof j=="function"?j:(0,jt.getClass)(o,j,et)};var yt={},Zs="",Xn=!0;yt.setRecordUndo=function(o){Xn=o},yt.getRecordUndo=function(){return Xn};var Yr=0;yt.CREATE="create",yt.BLOCK_CREATE=yt.CREATE,yt.DELETE="delete",yt.BLOCK_DELETE=yt.DELETE,yt.CHANGE="change",yt.BLOCK_CHANGE=yt.CHANGE,yt.MOVE="move",yt.BLOCK_MOVE=yt.MOVE,yt.VAR_CREATE="var_create",yt.VAR_DELETE="var_delete",yt.VAR_RENAME="var_rename",yt.UI="ui",yt.BLOCK_DRAG="drag",yt.SELECTED="selected",yt.CLICK="click",yt.MARKER_MOVE="marker_move",yt.BUBBLE_OPEN="bubble_open",yt.TRASHCAN_OPEN="trashcan_open",yt.TOOLBOX_ITEM_SELECT="toolbox_item_select",yt.THEME_CHANGE="theme_change",yt.VIEWPORT_CHANGE="viewport_change",yt.COMMENT_CREATE="comment_create",yt.COMMENT_DELETE="comment_delete",yt.COMMENT_CHANGE="comment_change",yt.COMMENT_MOVE="comment_move",yt.FINISHED_LOADING="finished_loading",yt.BUMP_EVENTS=[yt.CREATE,yt.MOVE,yt.COMMENT_CREATE,yt.COMMENT_MOVE];var is=[];yt.fire=function(o){(0,yt.isEnabled)()&&(is.length||setTimeout(Kr,0),is.push(o))};var Kr=function(){for(var o=(0,yt.filter)(is,!0),j=is.length=0,et;et=o[j];j++)if(et.workspaceId){var ot=yo.Workspace.getById(et.workspaceId);ot&&ot.fireChangeListener(et)}};yt.filter=function(o,j){o=o.slice(),j||o.reverse();for(var et=[],ot=Object.create(null),rt=0,ct=void 0;ct=o[rt];rt++)if(!ct.isNull()){var Et=[ct.isUiEvent?yt.UI:ct.type,ct.blockId,ct.workspaceId].join(" "),wt=ot[Et],Lt=wt?wt.event:null;wt?ct.type===yt.MOVE&&wt.index===rt-1?(Lt.newParentId=ct.newParentId,Lt.newInputName=ct.newInputName,Lt.newCoordinate=ct.newCoordinate,wt.index=rt):ct.type===yt.CHANGE&&ct.element===Lt.element&&ct.name===Lt.name?Lt.newValue=ct.newValue:ct.type===yt.VIEWPORT_CHANGE?(wt=ct,Lt.viewTop=wt.viewTop,Lt.viewLeft=wt.viewLeft,Lt.scale=wt.scale,Lt.oldScale=wt.oldScale):(ct.type!==yt.CLICK||Lt.type!==yt.BUBBLE_OPEN)&&(ot[Et]={event:ct,index:rt},et.push(ct)):(ot[Et]={event:ct,index:rt},et.push(ct))}for(o=et.filter(function(Zt){return!Zt.isNull()}),j||o.reverse(),j=1,et=void 0;et=o[j];j++)et.type===yt.CHANGE&&et.element==="mutation"&&o.unshift(o.splice(j,1)[0]);return o},yt.clearPendingUndo=function(){for(var o=0,j;j=is[o];o++)j.recordUndo=!1},yt.disable=function(){Yr++},yt.enable=function(){Yr--},yt.isEnabled=function(){return Yr===0},yt.getGroup=function(){return Zs},yt.setGroup=function(o){Zs=typeof o=="boolean"?o?(0,mn.genUid)():"":o},yt.getDescendantIds=function(o){var j=[];o=o.getDescendants(!1);for(var et=0,ot;ot=o[et];et++)j[et]=ot.id;return j},yt.fromJson=function(o,j){var et=(0,yt.get)(o.type);if(!et)throw Error("Unknown event type.");return et=new et,et.fromJson(o),et.workspaceId=j.id,et},yt.get=function(o){return(0,jt.getClass)(jt.Type.EVENT,o)},yt.disableOrphans=function(o){if((o.type===yt.MOVE||o.type===yt.CREATE)&&o.workspaceId){var j=yo.Workspace.getById(o.workspaceId),et=j.getBlockById(o.blockId);if(et){o=Xn;try{Xn=!1;var ot=et.getParent();if(ot&&ot.isEnabled()){var rt=et.getDescendants(!1);for(j=0,ot=void 0;ot=rt[j];j++)ot.setEnabled(!0)}else if((et.outputConnection||et.previousConnection)&&!j.isDragging())do et.setEnabled(!1),et=et.getNextBlock();while(et)}finally{Xn=o}}}},yt.TEST_ONLY={FIRE_QUEUE:is,fireNow:Kr};var sr={toRadians:function(o){return o*Math.PI/180},toDegrees:function(o){return 180*o/Math.PI},clamp:function(o,j,et){if(et<o){var ot=et;et=o,o=ot}return Math.max(o,Math.min(j,et))}},Jr={bumpIntoBounds:function(o,j,et){var ot=et.getBoundingRectangle(),rt=ot.right-ot.left,ct=(0,sr.clamp)(j.top,ot.top,j.top+j.height-(ot.bottom-ot.top))-ot.top,Et=j.left;return j=j.left+j.width-rt,o.RTL?Et=Math.min(j,Et):j=Math.max(Et,j),(o=(0,sr.clamp)(Et,ot.left,j)-ot.left)||ct?(et.moveBy(o,ct),!0):!1},bumpIntoBoundsHandler:function(o){return function(j){var et=o.getMetricsManager();if(et.hasFixedEdges()&&!o.isDragging())if(yt.BUMP_EVENTS.indexOf(j.type)!==-1){et=et.getScrollMetrics(!0);var ot=$a(o,j);if(ot){var rt=(0,yt.getGroup)();(0,yt.setGroup)(j.group),(0,Jr.bumpIntoBounds)(o,et,ot)&&!j.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),rt!==null&&(0,yt.setGroup)(rt)}}else j.type===yt.VIEWPORT_CHANGE&&j.scale>j.oldScale&&(0,Jr.bumpTopObjectsIntoBounds)(o)}}},$a=function(o,j){var et=null;switch(j.type){case yt.CREATE:case yt.MOVE:(et=o.getBlockById(j.blockId))&&(et=et.getRootBlock());break;case yt.COMMENT_CREATE:case yt.COMMENT_MOVE:et=o.getCommentById(j.commentId)}return et};Jr.bumpTopObjectsIntoBounds=function(o){var j=o.getMetricsManager();if(j.hasFixedEdges()&&!o.isDragging()){j=j.getScrollMetrics(!0);for(var et=o.getTopBoundedElements(),ot=0,rt;rt=et[ot];ot++)(0,Jr.bumpIntoBounds)(o,j,rt)}};var go={Coordinate:function(o,j){this.x=o,this.y=j}};go.Coordinate.prototype.clone=function(){return new go.Coordinate(this.x,this.y)},go.Coordinate.prototype.scale=function(o){return this.x*=o,this.y*=o,this},go.Coordinate.prototype.translate=function(o,j){return this.x+=o,this.y+=j,this},go.Coordinate.equals=function(o,j){return o===j?!0:o&&j?o.x===j.x&&o.y===j.y:!1},go.Coordinate.distance=function(o,j){var et=o.x-j.x;return o=o.y-j.y,Math.sqrt(et*et+o*o)},go.Coordinate.magnitude=function(o){return Math.sqrt(o.x*o.x+o.y*o.y)},go.Coordinate.difference=function(o,j){return new go.Coordinate(o.x-j.x,o.y-j.y)},go.Coordinate.sum=function(o,j){return new go.Coordinate(o.x+j.x,o.y+j.y)};var Ln={Size:function(o,j){this.width=o,this.height=j}};Ln.Size.equals=function(o,j){return o===j?!0:o&&j?o.width===j.width&&o.height===j.height:!1};var Uo={getSize:function(o){if(Br(o,"display")!=="none")return wr(o);var j=o.style,et=j.display,ot=j.visibility,rt=j.position;j.visibility="hidden",j.position="absolute",j.display="inline";var ct=o.offsetWidth;return o=o.offsetHeight,j.display=et,j.position=rt,j.visibility=ot,new Ln.Size(ct,o)}},wr=function(o){return new Ln.Size(o.offsetWidth,o.offsetHeight)},Br=function(o,j){return(0,Uo.getComputedStyle)(o,j)||(0,Uo.getCascadedStyle)(o,j)||o.style&&o.style[j]};Uo.getComputedStyle=function(o,j){return document.defaultView&&document.defaultView.getComputedStyle&&(o=document.defaultView.getComputedStyle(o,null))&&(o[j]||o.getPropertyValue(j))||""},Uo.getCascadedStyle=function(o,j){return o.currentStyle?o.currentStyle[j]:null},Uo.getPageOffset=function(o){var j=new go.Coordinate(0,0);o=o.getBoundingClientRect();var et=document.documentElement;return et=new go.Coordinate(window.pageXOffset||et.scrollLeft,window.pageYOffset||et.scrollTop),j.x=o.left+et.x,j.y=o.top+et.y,j},Uo.getViewportPageOffset=function(){var o=document.body,j=document.documentElement;return new go.Coordinate(o.scrollLeft||j.scrollLeft,o.scrollTop||j.scrollTop)},Uo.setElementShown=function(o,j){o.style.display=j?"":"none"},Uo.isRightToLeft=function(o){return Br(o,"direction")==="rtl"},Uo.getBorderBox=function(o){var j=(0,Uo.getComputedStyle)(o,"borderLeftWidth"),et=(0,Uo.getComputedStyle)(o,"borderRightWidth"),ot=(0,Uo.getComputedStyle)(o,"borderTopWidth");return o=(0,Uo.getComputedStyle)(o,"borderBottomWidth"),{top:parseFloat(ot),right:parseFloat(et),bottom:parseFloat(o),left:parseFloat(j)}},Uo.scrollIntoContainerView=function(o,j,et){o=(0,Uo.getContainerOffsetToScrollInto)(o,j,et),j.scrollLeft=o.x,j.scrollTop=o.y},Uo.getContainerOffsetToScrollInto=function(o,j,et){var ot=(0,Uo.getPageOffset)(o),rt=(0,Uo.getPageOffset)(j),ct=(0,Uo.getBorderBox)(j),Et=ot.x-rt.x-ct.left;return ot=ot.y-rt.y-ct.top,rt=wr(o),o=j.clientWidth-rt.width,rt=j.clientHeight-rt.height,ct=j.scrollLeft,j=j.scrollTop,et?(ct+=Et-o/2,j+=ot-rt/2):(ct+=Math.min(Et,Math.max(Et-o,0)),j+=Math.min(ot,Math.max(ot-rt,0))),new go.Coordinate(ct,j)};var In={Rect:function(o,j,et,ot){this.top=o,this.bottom=j,this.left=et,this.right=ot}};In.Rect.prototype.contains=function(o,j){return o>=this.left&&o<=this.right&&j>=this.top&&j<=this.bottom},In.Rect.prototype.intersects=function(o){return!(this.left>o.right||this.right<o.left||this.top>o.bottom||this.bottom<o.top)};var Co={ARROW_SIZE:16,BORDER_SIZE:1,ARROW_HORIZONTAL_PADDING:12,PADDING_Y:16,ANIMATION_TIME:.25},Nl=null,ss=null,Ls="",pr="",tn,Cs,ls,bs=null,Pr=null,qr=null;Co.createDom=function(){tn||(tn=document.createElement("div"),tn.className="blocklyDropDownDiv",((0,_.module$exports$Blockly$common.getParentContainer)()||document.body).appendChild(tn),Cs=document.createElement("div"),Cs.className="blocklyDropDownContent",tn.appendChild(Cs),ls=document.createElement("div"),ls.className="blocklyDropDownArrow",tn.appendChild(ls),tn.style.opacity=0,tn.style.transition="transform "+Co.ANIMATION_TIME+"s, opacity "+Co.ANIMATION_TIME+"s",tn.addEventListener("focusin",function(){(0,kt.addClass)(tn,"blocklyFocused")}),tn.addEventListener("focusout",function(){(0,kt.removeClass)(tn,"blocklyFocused")}))},Co.setBoundsElement=function(o){bs=o},Co.getContentDiv=function(){return Cs},Co.clearContent=function(){Cs.textContent="",Cs.style.width=""},Co.setColour=function(o,j){tn.style.backgroundColor=o,tn.style.borderColor=j},Co.showPositionedByBlock=function(o,j,et,ot){return Us(Fs(j),o,et,ot)},Co.showPositionedByField=function(o,j,et){return qr=!0,Us(Ps(o),o,j,et)};var Fs=function(o){var j=o.getSvgRoot(),et=j.getBBox(),ot=o.workspace.scale;return o=et.height*ot,et=et.width*ot,j=(0,Uo.getPageOffset)(j),new In.Rect(j.y,j.y+o,j.x,j.x+et)},Ps=function(o){return o=o.getScaledBBox(),new In.Rect(o.top,o.bottom,o.left,o.right)},Us=function(o,j,et,ot){var rt=o.left+(o.right-o.left)/2,ct=o.bottom;o=o.top,ot&&(o+=ot),ot=j.getSourceBlock();for(var Et=ot.workspace;Et.options.parentWorkspace;)Et=Et.options.parentWorkspace;return(0,Co.setBoundsElement)(Et.getParentSvg().parentNode),(0,Co.show)(j,ot.RTL,rt,ct,rt,o,et)};Co.show=function(o,j,et,ot,rt,ct,Et){return Pr=o,ss=Et||null,tn.style.direction=j?"rtl":"ltr",o=(0,_.module$exports$Blockly$common.getMainWorkspace)(),Ls=o.getRenderer().getClassName(),pr=o.getTheme().getClassName(),(0,kt.addClass)(tn,Ls),(0,kt.addClass)(tn,pr),tu(et,ot,rt,ct)},Co.TEST_ONLY={},Co.TEST_ONLY.getBoundsInfo=function(){var o=(0,Uo.getPageOffset)(bs),j=(0,Uo.getSize)(bs);return{left:o.x,right:o.x+j.width,top:o.y,bottom:o.y+j.height,width:j.width,height:j.height}},Co.TEST_ONLY.getPositionMetrics=function(o,j,et,ot){var rt=Co.TEST_ONLY.getBoundsInfo(),ct=(0,Uo.getSize)(tn);return j+ct.height<rt.bottom?xa(o,j,rt,ct):ot-ct.height>rt.top?eu(et,ot,rt,ct):j+ct.height<document.documentElement.clientHeight?xa(o,j,rt,ct):ot-ct.height>document.documentElement.clientTop?eu(et,ot,rt,ct):$s(o,rt,ct)};var xa=function(o,j,et,ot){return o=(0,Co.getPositionX)(o,et.left,et.right,ot.width),{initialX:o.divX,initialY:j,finalX:o.divX,finalY:j+Co.PADDING_Y,arrowX:o.arrowX,arrowY:-(Co.ARROW_SIZE/2+Co.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},eu=function(o,j,et,ot){return o=(0,Co.getPositionX)(o,et.left,et.right,ot.width),{initialX:o.divX,initialY:j-ot.height,finalX:o.divX,finalY:j-ot.height-Co.PADDING_Y,arrowX:o.arrowX,arrowY:ot.height-2*Co.BORDER_SIZE-Co.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},$s=function(o,j,et){return o=(0,Co.getPositionX)(o,j.left,j.right,et.width),{initialX:o.divX,initialY:0,finalX:o.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}};Co.getPositionX=function(o,j,et,ot){return j=(0,sr.clamp)(j,o-ot/2,et-ot),o=o-Co.ARROW_SIZE/2-j,et=Co.ARROW_HORIZONTAL_PADDING,o=(0,sr.clamp)(et,o,ot-et-Co.ARROW_SIZE),{arrowX:o,divX:j}},Co.isVisible=function(){return!!Pr},Co.hideIfOwner=function(o,j){return Pr===o?(j?(0,Co.hideWithoutAnimation)():(0,Co.hide)(),!0):!1},Co.hide=function(){tn.style.transform="translate(0, 0)",tn.style.opacity=0,Nl=setTimeout(function(){(0,Co.hideWithoutAnimation)()},1e3*Co.ANIMATION_TIME),ss&&(ss(),ss=null)},Co.hideWithoutAnimation=function(){(0,Co.isVisible)()&&(Nl&&clearTimeout(Nl),tn.style.transform="",tn.style.left="",tn.style.top="",tn.style.opacity=0,tn.style.display="none",tn.style.backgroundColor="",tn.style.borderColor="",ss&&(ss(),ss=null),(0,Co.clearContent)(),Pr=null,Ls&&((0,kt.removeClass)(tn,Ls),Ls=""),pr&&((0,kt.removeClass)(tn,pr),pr=""),(0,_.module$exports$Blockly$common.getMainWorkspace)().markFocused())};var tu=function(o,j,et,ot){o=Co.TEST_ONLY.getPositionMetrics(o,j,et,ot),o.arrowVisible?(ls.style.display="",ls.style.transform="translate("+o.arrowX+"px,"+o.arrowY+"px) rotate(45deg)",ls.setAttribute("class",o.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):ls.style.display="none",j=Math.floor(o.initialX),et=Math.floor(o.initialY),ot=Math.floor(o.finalX);var rt=Math.floor(o.finalY);return tn.style.left=j+"px",tn.style.top=et+"px",tn.style.display="block",tn.style.opacity=1,tn.style.transform="translate("+(ot-j)+"px,"+(rt-et)+"px)",!!o.arrowAtTop};Co.repositionForWindowResize=function(){if(Pr){var o=Pr,j=o.getSourceBlock();o=qr?Ps(o):Fs(j),j=o.left+(o.right-o.left)/2,tu(j,o.bottom,j,o.top)}else(0,Co.hide)()};var Jo={},Ll=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Fl=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;Jo.getRelativeXY=function(o){var j=new go.Coordinate(0,0),et=o.getAttribute("x");return et&&(j.x=parseInt(et,10)),(et=o.getAttribute("y"))&&(j.y=parseInt(et,10)),(et=(et=o.getAttribute("transform"))&&et.match(Ll))&&(j.x+=Number(et[1]),et[3]&&(j.y+=Number(et[3]))),(o=o.getAttribute("style"))&&-1<o.indexOf("translate")&&(o=o.match(Fl))&&(j.x+=Number(o[1]),o[3]&&(j.y+=Number(o[3]))),j},Jo.getInjectionDivXY=function(o){for(var j=0,et=0;o;){var ot=(0,Jo.getRelativeXY)(o);if(j+=ot.x,et+=ot.y,(" "+(o.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1)break;o=o.parentNode}return new go.Coordinate(j,et)},Jo.is3dSupported=function(){if(Jo.is3dSupported.cached_!==void 0)return Jo.is3dSupported.cached_;if(!_.module$exports$Blockly$utils$global.globalThis.getComputedStyle)return!1;var o=document.createElement("p"),j="none",et={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(o,null);for(var ot in et)if(o.style[ot]!==void 0){if(o.style[ot]="translate3d(1px,1px,1px)",j=_.module$exports$Blockly$utils$global.globalThis.getComputedStyle(o),!j)return document.body.removeChild(o),!1;j=j.getPropertyValue(et[ot])}return document.body.removeChild(o),Jo.is3dSupported.cached_=j!=="none",Jo.is3dSupported.cached_},Jo.getViewportBBox=function(){var o=(0,Uo.getViewportPageOffset)();return new In.Rect(o.y,document.documentElement.clientHeight+o.y,o.x,document.documentElement.clientWidth+o.x)},Jo.getDocumentScroll=function(){var o=document.documentElement,j=window;return $t.IE&&j.pageYOffset!==o.scrollTop?new go.Coordinate(o.scrollLeft,o.scrollTop):new go.Coordinate(j.pageXOffset||o.scrollLeft,j.pageYOffset||o.scrollTop)},Jo.screenToWsCoordinates=function(o,j){var et=j.x;j=j.y;var ot=o.getInjectionDiv().getBoundingClientRect();return et=new go.Coordinate(et-ot.left,j-ot.top),j=o.getOriginOffsetInPixels(),go.Coordinate.difference(et,j).scale(1/o.scale)},Jo.svgSize=function(o){return(0,tt.warn)("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new Ln.Size(o.cachedWidth_,o.cachedHeight_)},Jo.TEST_ONLY={XY_REGEX:Ll,XY_STYLE_REGEX:Fl};var Nt={Svg:function(o){this.tagName_=o}};Nt.Svg.prototype.toString=function(){return this.tagName_},Nt.Svg.ANIMATE=new Nt.Svg("animate"),Nt.Svg.CIRCLE=new Nt.Svg("circle"),Nt.Svg.CLIPPATH=new Nt.Svg("clipPath"),Nt.Svg.DEFS=new Nt.Svg("defs"),Nt.Svg.FECOMPOSITE=new Nt.Svg("feComposite"),Nt.Svg.FECOMPONENTTRANSFER=new Nt.Svg("feComponentTransfer"),Nt.Svg.FEFLOOD=new Nt.Svg("feFlood"),Nt.Svg.FEFUNCA=new Nt.Svg("feFuncA"),Nt.Svg.FEGAUSSIANBLUR=new Nt.Svg("feGaussianBlur"),Nt.Svg.FEPOINTLIGHT=new Nt.Svg("fePointLight"),Nt.Svg.FESPECULARLIGHTING=new Nt.Svg("feSpecularLighting"),Nt.Svg.FILTER=new Nt.Svg("filter"),Nt.Svg.FOREIGNOBJECT=new Nt.Svg("foreignObject"),Nt.Svg.G=new Nt.Svg("g"),Nt.Svg.IMAGE=new Nt.Svg("image"),Nt.Svg.LINE=new Nt.Svg("line"),Nt.Svg.PATH=new Nt.Svg("path"),Nt.Svg.PATTERN=new Nt.Svg("pattern"),Nt.Svg.POLYGON=new Nt.Svg("polygon"),Nt.Svg.RECT=new Nt.Svg("rect"),Nt.Svg.SVG=new Nt.Svg("svg"),Nt.Svg.TEXT=new Nt.Svg("text"),Nt.Svg.TSPAN=new Nt.Svg("tspan");var hr={BlockDragSurfaceSvg:function(o){this.dragGroup_=this.SVG_=null,this.container_=o,this.scale_=1,this.surfaceXY_=null,this.childSurfaceXY_=new go.Coordinate(0,0),this.createDom()}};hr.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=(0,kt.createSvgElement)(Nt.Svg.SVG,{xmlns:kt.SVG_NS,"xmlns:html":kt.HTML_NS,"xmlns:xlink":kt.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{},this.SVG_))},hr.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(o){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(o),this.SVG_.style.display="block",this.surfaceXY_=new go.Coordinate(0,0)},hr.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(o,j,et){this.scale_=et,o=o.toFixed(0),j=j.toFixed(0),this.childSurfaceXY_.x=parseInt(o,10),this.childSurfaceXY_.y=parseInt(j,10),this.dragGroup_.setAttribute("transform","translate("+o+","+j+") scale("+et+")")},hr.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var o=this.surfaceXY_.x,j=this.surfaceXY_.y;o=o.toFixed(0),j=j.toFixed(0),this.SVG_.style.display="block",(0,kt.setCssTransform)(this.SVG_,"translate3d("+o+"px, "+j+"px, 0)")},hr.BlockDragSurfaceSvg.prototype.translateBy=function(o,j){this.surfaceXY_=new go.Coordinate(this.surfaceXY_.x+o,this.surfaceXY_.y+j),this.translateSurfaceInternal_()},hr.BlockDragSurfaceSvg.prototype.translateSurface=function(o,j){this.surfaceXY_=new go.Coordinate(o*this.scale_,j*this.scale_),this.translateSurfaceInternal_()},hr.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var o=(0,Jo.getRelativeXY)(this.SVG_);return new go.Coordinate(o.x/this.scale_,o.y/this.scale_)},hr.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},hr.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},hr.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},hr.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},hr.BlockDragSurfaceSvg.prototype.clearAndHide=function(o){var j=this.getCurrentBlock();if(j&&(o?o.appendChild(j):this.dragGroup_.removeChild(j)),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null};var fr={Grid:function(o,j){this.scale_=1,this.gridPattern_=o,this.spacing_=j.spacing,this.length_=j.length,this.line2_=(this.line1_=o.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=j.snap}};fr.Grid.prototype.dispose=function(){this.gridPattern_=null},fr.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},fr.Grid.prototype.getSpacing=function(){return this.spacing_},fr.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},fr.Grid.prototype.update=function(o){this.scale_=o;var j=this.spacing_*o||100;this.gridPattern_.setAttribute("width",j),this.gridPattern_.setAttribute("height",j),j=Math.floor(this.spacing_/2)+.5;var et=j-this.length_/2,ot=j+this.length_/2;j*=o,et*=o,ot*=o,this.setLineAttributes_(this.line1_,o,et,ot,j,j),this.setLineAttributes_(this.line2_,o,j,j,et,ot)},fr.Grid.prototype.setLineAttributes_=function(o,j,et,ot,rt,ct){o&&(o.setAttribute("stroke-width",j),o.setAttribute("x1",et),o.setAttribute("y1",rt),o.setAttribute("x2",ot),o.setAttribute("y2",ct))},fr.Grid.prototype.moveTo=function(o,j){this.gridPattern_.setAttribute("x",o),this.gridPattern_.setAttribute("y",j),($t.IE||$t.EDGE)&&this.update(this.scale_)},fr.Grid.createDom=function(o,j,et){return o=(0,kt.createSvgElement)(Nt.Svg.PATTERN,{id:"blocklyGridPattern"+o,patternUnits:"userSpaceOnUse"},et),0<j.length&&0<j.spacing?((0,kt.createSvgElement)(Nt.Svg.LINE,{stroke:j.colour},o),1<j.length&&(0,kt.createSvgElement)(Nt.Svg.LINE,{stroke:j.colour},o)):(0,kt.createSvgElement)(Nt.Svg.LINE,{},o),o},_.module$exports$Blockly$Msg={},_.module$exports$Blockly$Msg.Msg=Object.create(null);var Vs;_.module$exports$Blockly$utils$xml={NAME_SPACE:"https://developers.google.com/blockly/xml"},Vs=_.module$exports$Blockly$utils$global.globalThis.document,_.module$exports$Blockly$utils$xml.getDocument=function(){return Vs},_.module$exports$Blockly$utils$xml.setDocument=function(o){Vs=o},_.module$exports$Blockly$utils$xml.createElement=function(o){return Vs.createElementNS(_.module$exports$Blockly$utils$xml.NAME_SPACE,o)},_.module$exports$Blockly$utils$xml.createTextNode=function(o){return Vs.createTextNode(o)},_.module$exports$Blockly$utils$xml.textToDomDocument=function(o){return new DOMParser().parseFromString(o,"text/xml")},_.module$exports$Blockly$utils$xml.domToText=function(o){return new XMLSerializer().serializeToString(o)},_.module$exports$Blockly$ConnectionType={ConnectionType:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4}},_.module$exports$Blockly$inputTypes={},_.module$exports$Blockly$inputTypes.inputTypes={VALUE:_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,STATEMENT:_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,DUMMY:5};var Hs,Qs;_.module$exports$Blockly$Xml={workspaceToDom:function(o,j){var et=(0,_.module$exports$Blockly$utils$xml.createElement)("xml"),ot=(0,_.module$exports$Blockly$Xml.variablesToDom)(_.module$exports$Blockly$Variables.allUsedVarModels(o));ot.hasChildNodes()&&et.appendChild(ot),ot=o.getTopComments(!0);for(var rt=0;rt<ot.length;rt++)et.appendChild(ot[rt].toXmlWithXY(j));for(o=o.getTopBlocks(!0),ot=0;ot<o.length;ot++)et.appendChild((0,_.module$exports$Blockly$Xml.blockToDomWithXY)(o[ot],j));return et},variablesToDom:function(o){for(var j=(0,_.module$exports$Blockly$utils$xml.createElement)("variables"),et=0;et<o.length;et++){var ot=o[et],rt=(0,_.module$exports$Blockly$utils$xml.createElement)("variable");rt.appendChild((0,_.module$exports$Blockly$utils$xml.createTextNode)(ot.name)),ot.type&&rt.setAttribute("type",ot.type),rt.id=ot.getId(),j.appendChild(rt)}return j},blockToDomWithXY:function(o,j){if(o.isInsertionMarker()&&(o=o.getChildren(!1)[0],!o))return new DocumentFragment;var et;o.workspace.RTL&&(et=o.workspace.getWidth()),j=(0,_.module$exports$Blockly$Xml.blockToDom)(o,j);var ot=o.getRelativeToSurfaceXY();return j.setAttribute("x",Math.round(o.workspace.RTL?et-ot.x:ot.x)),j.setAttribute("y",Math.round(ot.y)),j}},Hs=function(o){if(o.isSerializable()){var j=(0,_.module$exports$Blockly$utils$xml.createElement)("field");return j.setAttribute("name",o.name||""),o.toXml(j)}return null},Qs=function(o,j){for(var et=0;et<o.inputList.length;et++)for(var ot=o.inputList[et],rt=0;rt<ot.fieldRow.length;rt++){var ct=Hs(ot.fieldRow[rt]);ct&&j.appendChild(ct)}},_.module$exports$Blockly$Xml.blockToDom=function(o,j){if(o.isInsertionMarker())return(j=o.getChildren(!1)[0])?(0,_.module$exports$Blockly$Xml.blockToDom)(j):new DocumentFragment;var et=(0,_.module$exports$Blockly$utils$xml.createElement)(o.isShadow()?"shadow":"block");if(et.setAttribute("type",o.type),j||et.setAttribute("id",o.id),o.mutationToDom){var ot=o.mutationToDom();ot&&(ot.hasChildNodes()||ot.hasAttributes())&&et.appendChild(ot)}if(Qs(o,et),ot=o.getCommentText()){var rt=o.commentModel.size,ct=o.commentModel.pinned,Et=(0,_.module$exports$Blockly$utils$xml.createElement)("comment");Et.appendChild((0,_.module$exports$Blockly$utils$xml.createTextNode)(ot)),Et.setAttribute("pinned",ct),Et.setAttribute("h",rt.height),Et.setAttribute("w",rt.width),et.appendChild(Et)}for(o.data&&(ot=(0,_.module$exports$Blockly$utils$xml.createElement)("data"),ot.appendChild((0,_.module$exports$Blockly$utils$xml.createTextNode)(o.data)),et.appendChild(ot)),ot=0;ot<o.inputList.length;ot++)if(rt=o.inputList[ot],ct=void 0,Et=!0,rt.type!==_.module$exports$Blockly$inputTypes.inputTypes.DUMMY){var wt=rt.connection.targetBlock();rt.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE?ct=(0,_.module$exports$Blockly$utils$xml.createElement)("value"):rt.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&(ct=(0,_.module$exports$Blockly$utils$xml.createElement)("statement"));var Lt=rt.connection.getShadowDom();!Lt||wt&&wt.isShadow()||ct.appendChild(ou(Lt,j)),wt&&(wt=(0,_.module$exports$Blockly$Xml.blockToDom)(wt,j),wt.nodeType===kt.NodeType.ELEMENT_NODE&&(ct.appendChild(wt),Et=!1)),ct.setAttribute("name",rt.name),Et||et.appendChild(ct)}if(o.inputsInline!==void 0&&o.inputsInline!==o.inputsInlineDefault&&et.setAttribute("inline",o.inputsInline),o.isCollapsed()&&et.setAttribute("collapsed",!0),o.isEnabled()||et.setAttribute("disabled",!0),o.isDeletable()||o.isShadow()||et.setAttribute("deletable",!1),o.isMovable()||o.isShadow()||et.setAttribute("movable",!1),o.isEditable()||et.setAttribute("editable",!1),ot=o.getNextBlock(),ot&&(rt=(0,_.module$exports$Blockly$Xml.blockToDom)(ot,j),rt.nodeType===kt.NodeType.ELEMENT_NODE)){var Zt=(0,_.module$exports$Blockly$utils$xml.createElement)("next");Zt.appendChild(rt),et.appendChild(Zt)}return o=o.nextConnection&&o.nextConnection.getShadowDom(),!o||ot&&ot.isShadow()||Zt.appendChild(ou(o,j)),et};var ou=function(o,j){for(var et=o=o.cloneNode(!0),ot;et;)if(j&&et.nodeName==="shadow"&&et.removeAttribute("id"),et.firstChild)et=et.firstChild;else{for(;et&&!et.nextSibling;)ot=et,et=et.parentNode,ot.nodeType===kt.NodeType.TEXT_NODE&&ot.data.trim()===""&&et.firstChild!==ot&&(0,kt.removeNode)(ot);et&&(ot=et,et=et.nextSibling,ot.nodeType===kt.NodeType.TEXT_NODE&&ot.data.trim()===""&&(0,kt.removeNode)(ot))}return o};_.module$exports$Blockly$Xml.domToText=function(o){return(0,_.module$exports$Blockly$utils$xml.domToText)(o).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},_.module$exports$Blockly$Xml.domToPrettyText=function(o){o=(0,_.module$exports$Blockly$Xml.domToText)(o).split("<");for(var j="",et=1;et<o.length;et++){var ot=o[et];ot[0]==="/"&&(j=j.substring(2)),o[et]=j+"<"+ot,ot[0]!=="/"&&ot.slice(-2)!=="/>"&&(j+="  ")}return o=o.join(`
`),o=o.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),o.replace(/^\n/,"")},_.module$exports$Blockly$Xml.textToDom=function(o){var j=(0,_.module$exports$Blockly$utils$xml.textToDomDocument)(o);if(!j||!j.documentElement||j.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+o);return j.documentElement},_.module$exports$Blockly$Xml.clearWorkspaceAndLoadFromXml=function(o,j){return j.setResizesEnabled(!1),j.clear(),o=(0,_.module$exports$Blockly$Xml.domToWorkspace)(o,j),j.setResizesEnabled(!0),o},_.module$exports$Blockly$Xml.domToWorkspace=function(o,j){if(o instanceof yo.Workspace){var et=o;o=j,j=et,console.warn("Deprecated call to domToWorkspace, swap the arguments.")}var ot;j.RTL&&(ot=j.getWidth()),et=[],(0,kt.startTextWidthCache)();var rt=(0,yt.getGroup)();rt||(0,yt.setGroup)(!0),j.setResizesEnabled&&j.setResizesEnabled(!1);var ct=!0;try{for(var Et=0,wt=void 0;wt=o.childNodes[Et];Et++){var Lt=wt.nodeName.toLowerCase(),Zt=wt;if(Lt==="block"||Lt==="shadow"&&!(0,yt.getRecordUndo)()){var uo=(0,_.module$exports$Blockly$Xml.domToBlock)(Zt,j);et.push(uo.id);var Mo=Zt.hasAttribute("x")?parseInt(Zt.getAttribute("x"),10):10,On=Zt.hasAttribute("y")?parseInt(Zt.getAttribute("y"),10):10;isNaN(Mo)||isNaN(On)||uo.moveBy(j.RTL?ot-Mo:Mo,On),ct=!1}else{if(Lt==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Lt==="comment")if(j.rendered){var Ms=Ro.WorkspaceCommentSvg;Ms?Ms.fromXmlRendered(Zt,j,ot):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment.")}else{var Ns=_n.WorkspaceComment;Ns?Ns.fromXml(Zt,j):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.")}else if(Lt==="variables"){if(ct)(0,_.module$exports$Blockly$Xml.domToVariables)(Zt,j);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");ct=!1}}}}finally{rt||(0,yt.setGroup)(!1),(0,kt.stopTextWidthCache)()}return j.setResizesEnabled&&j.setResizesEnabled(!0),(0,yt.fire)(new((0,yt.get)(yt.FINISHED_LOADING))(j)),et},_.module$exports$Blockly$Xml.appendDomToWorkspace=function(o,j){if(!j.getBlocksBoundingBox)return(0,_.module$exports$Blockly$Xml.domToWorkspace)(o,j);var et=j.getBlocksBoundingBox();if(o=(0,_.module$exports$Blockly$Xml.domToWorkspace)(o,j),et&&et.top!==et.bottom){var ot=et.bottom;et=j.RTL?et.right:et.left;for(var rt=1/0,ct=-1/0,Et=1/0,wt=0;wt<o.length;wt++){var Lt=j.getBlockById(o[wt]).getRelativeToSurfaceXY();Lt.y<Et&&(Et=Lt.y),Lt.x<rt&&(rt=Lt.x),Lt.x>ct&&(ct=Lt.x)}for(ot=ot-Et+10,et=j.RTL?et-ct:et-rt,rt=0;rt<o.length;rt++)j.getBlockById(o[rt]).moveBy(et,ot)}return o},_.module$exports$Blockly$Xml.domToBlock=function(o,j){if(o instanceof yo.Workspace){var et=o;o=j,j=et,console.warn("Deprecated call to domToBlock, swap the arguments.")}(0,yt.disable)(),et=j.getAllVariables();try{var ot=Ul(o,j);if(j.rendered){var rt=ot,ct=ot.getDescendants(!1);rt.setConnectionTracking(!1);for(var Et=ct.length-1;0<=Et;Et--)ct[Et].initSvg();for(var wt=ct.length-1;0<=wt;wt--)ct[wt].render(!1);setTimeout(function(){rt.disposed||rt.setConnectionTracking(!0)},1),rt.updateDisabled(),j.resizeContents()}else for(var Lt=ot.getDescendants(!1),Zt=Lt.length-1;0<=Zt;Zt--)Lt[Zt].initModel()}finally{(0,yt.enable)()}if((0,yt.isEnabled)()){for(o=_.module$exports$Blockly$Variables.getAddedVariables(j,et),j=0;j<o.length;j++)ct=o[j],(0,yt.fire)(new((0,yt.get)(yt.VAR_CREATE))(ct));(0,yt.fire)(new((0,yt.get)(yt.CREATE))(ot))}return ot},_.module$exports$Blockly$Xml.domToVariables=function(o,j){for(var et=0;et<o.childNodes.length;et++){var ot=o.childNodes[et];if(ot.nodeType===kt.NodeType.ELEMENT_NODE){var rt=ot.getAttribute("type"),ct=ot.getAttribute("id");j.createVariable(ot.textContent,rt,ct)}}};var _l=function(o){for(var j={mutation:[],comment:[],data:[],field:[],input:[],next:[]},et=0;et<o.childNodes.length;et++){var ot=o.childNodes[et];if(ot.nodeType!==kt.NodeType.TEXT_NODE)switch(ot.nodeName.toLowerCase()){case"mutation":j.mutation.push(ot);break;case"comment":if(!cr){console.warn("Missing require for Comment, ignoring block comment.");break}j.comment.push(ot);break;case"data":j.data.push(ot);break;case"title":case"field":j.field.push(ot);break;case"value":case"statement":j.input.push(ot);break;case"next":j.next.push(ot);break;default:console.warn("Ignoring unknown tag: "+ot.nodeName)}}return j},nu=function(o,j){for(var et=!1,ot=0;ot<o.length;ot++){var rt=o[ot];j.domToMutation&&(j.domToMutation(rt),j.initSvg&&(et=!0))}return et},Bu=function(o,j){for(var et={},ot=0;ot<o.length;et={$jscomp$loop$prop$blockSvg$289:et.$jscomp$loop$prop$blockSvg$289},ot++){var rt=o[ot],ct=rt.textContent,Et=rt.getAttribute("pinned")==="true",wt=parseInt(rt.getAttribute("w"),10);rt=parseInt(rt.getAttribute("h"),10),j.setCommentText(ct),j.commentModel.pinned=Et,isNaN(wt)||isNaN(rt)||(j.commentModel.size=new Ln.Size(wt,rt)),Et&&j.getCommentIcon&&!j.isInFlyout&&(et.$jscomp$loop$prop$blockSvg$289=j,setTimeout(function(Lt){return function(){Lt.$jscomp$loop$prop$blockSvg$289.getCommentIcon().setVisible(!0)}}(et),1))}},Au=function(o,j){for(var et=0;et<o.length;et++)j.data=o[et].textContent},xu=function(o,j){for(var et=0;et<o.length;et++){var ot=o[et],rt=ot.getAttribute("name");Du(j,rt,ot)}},Pl=function(o){for(var j={childBlockElement:null,childShadowElement:null},et=0;et<o.childNodes.length;et++){var ot=o.childNodes[et];ot.nodeType===kt.NodeType.ELEMENT_NODE&&(ot.nodeName.toLowerCase()==="block"?j.childBlockElement=ot:ot.nodeName.toLowerCase()==="shadow"&&(j.childShadowElement=ot))}return j},Iu=function(o,j,et,ot){for(var rt=0;rt<o.length;rt++){var ct=o[rt],Et=ct.getAttribute("name"),wt=et.getInput(Et);if(!wt){console.warn("Ignoring non-existent input "+Et+" in block "+ot);break}if(ct=Pl(ct),ct.childBlockElement){if(!wt.connection)throw TypeError("Input connection does not exist.");Ul(ct.childBlockElement,j,wt.connection,!1)}ct.childShadowElement&&wt.connection.setShadowDom(ct.childShadowElement)}},Ru=function(o,j,et){for(var ot=0;ot<o.length;ot++){var rt=Pl(o[ot]);if(rt.childBlockElement){if(!et.nextConnection)throw TypeError("Next statement does not exist.");if(et.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Ul(rt.childBlockElement,j,et.nextConnection,!0)}rt.childShadowElement&&et.nextConnection&&et.nextConnection.setShadowDom(rt.childShadowElement)}},Ul=function(o,j,et,ot){var rt=o.getAttribute("type");if(!rt)throw TypeError("Block type unspecified: "+o.outerHTML);var ct=o.getAttribute("id");ct=j.newBlock(rt,ct);var Et=_l(o),wt=nu(Et.mutation,ct);if(Bu(Et.comment,ct),Au(Et.data,ct),et)if(ot)if(ct.previousConnection)et.connect(ct.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(ct.outputConnection)et.connect(ct.outputConnection);else if(ct.previousConnection)et.connect(ct.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(xu(Et.field,ct),Iu(Et.input,j,ct,rt),Ru(Et.next,j,ct),wt&&ct.initSvg(),(j=o.getAttribute("inline"))&&ct.setInputsInline(j==="true"),(j=o.getAttribute("disabled"))&&ct.setEnabled(j!=="true"&&j!=="disabled"),(j=o.getAttribute("deletable"))&&ct.setDeletable(j==="true"),(j=o.getAttribute("movable"))&&ct.setMovable(j==="true"),(j=o.getAttribute("editable"))&&ct.setEditable(j==="true"),(j=o.getAttribute("collapsed"))&&ct.setCollapsed(j==="true"),o.nodeName.toLowerCase()==="shadow"){for(o=ct.getChildren(!1),j=0;j<o.length;j++)if(!o[j].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(ct.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");ct.setShadow(!0)}return ct},Du=function(o,j,et){var ot=o.getField(j);ot?ot.fromXml(et):console.warn("Ignoring non-existent field "+j+" in block "+o.type)};_.module$exports$Blockly$Xml.deleteNext=function(o){for(var j=0;j<o.childNodes.length;j++){var et=o.childNodes[j];if(et.nodeName.toLowerCase()==="next"){o.removeChild(et);break}}};var bo={},Vl="categoryToolbox",ru="flyoutToolbox";bo.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},bo.convertToolboxDefToJson=function(o){return o?((o instanceof Element||typeof o=="string")&&(o=(0,bo.parseToolboxTree)(o),o=wu(o)),Ou(o),o):null};var Ou=function(o){var j=o.kind;if(o=o.contents,j&&j!==ru&&j!==Vl)throw Error("Invalid toolbox kind "+j+". Please supply either "+ru+" or "+Vl);if(!o)throw Error("Toolbox must have a contents attribute.")};bo.convertFlyoutDefToJsonArray=function(o){return o?o.contents?o.contents:Array.isArray(o)&&0<o.length&&!o[0].nodeType?o:Hl(o):[]},bo.hasCategories=function(o){if(!o)return!1;var j=o.kind;return j?j===Vl:!!o.contents.filter(function(et){return et.kind.toUpperCase()==="CATEGORY"}).length},bo.isCategoryCollapsible=function(o){return o&&o.contents?!!o.contents.filter(function(j){return j.kind.toUpperCase()==="CATEGORY"}).length:!1};var wu=function(o){var j={contents:Hl(o)};return o instanceof Node&&Gs(o,j),j},Hl=function(o){var j=[],et=o.childNodes;et||(et=o),o=0;for(var ot;ot=et[o];o++)if(ot.tagName){var rt={},ct=ot.tagName.toUpperCase();rt.kind=ct,ct==="BLOCK"?rt.blockxml=ot:ot.childNodes&&0<ot.childNodes.length&&(rt.contents=Hl(ot)),Gs(ot,rt),j.push(rt)}return j},Gs=function(o,j){for(var et=0;et<o.attributes.length;et++){var ot=o.attributes[et];-1<ot.nodeName.indexOf("css-")?(j.cssconfig=j.cssconfig||{},j.cssconfig[ot.nodeName.replace("css-","")]=ot.value):j[ot.nodeName]=ot.value}};bo.parseToolboxTree=function(o){if(o){if(typeof o!="string"&&($t.IE&&o.outerHTML?o=o.outerHTML:o instanceof Element||(o=null)),typeof o=="string"&&(o=(0,_.module$exports$Blockly$Xml.textToDom)(o),o.nodeName.toLowerCase()!=="xml"))throw TypeError("Toolbox should be an <xml> document.")}else o=null;return o},_.module$exports$Blockly$utils$object={inherits:function(o,j){o.superClass_=j.prototype,Object.setPrototypeOf(o,j),o.prototype=Object.create(j.prototype),o.prototype.constructor=o},mixin:function(o,j){for(var et in j)o[et]=j[et]},deepMerge:function(o,j){for(var et in j)o[et]=j[et]!==null&&typeof j[et]=="object"?(0,_.module$exports$Blockly$utils$object.deepMerge)(o[et]||Object.create(null),j[et]):j[et];return o},values:function(o){return Object.values?Object.values(o):Object.keys(o).map(function(j){return o[j]})}};var Yn={Theme:function(o,j,et,ot){this.name=o,this.blockStyles=j||Object.create(null),this.categoryStyles=et||Object.create(null),this.componentStyles=ot||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,(0,jt.register)(jt.Type.THEME,o,this)}};Yn.Theme.prototype.getClassName=function(){return this.name+"-theme"},Yn.Theme.prototype.setBlockStyle=function(o,j){this.blockStyles[o]=j},Yn.Theme.prototype.setCategoryStyle=function(o,j){this.categoryStyles[o]=j},Yn.Theme.prototype.getComponentStyle=function(o){return(o=this.componentStyles[o])&&typeof o=="string"&&this.getComponentStyle(o)?this.getComponentStyle(o):o?String(o):null},Yn.Theme.prototype.setComponentStyle=function(o,j){this.componentStyles[o]=j},Yn.Theme.prototype.setFontStyle=function(o){this.fontStyle=o},Yn.Theme.prototype.setStartHats=function(o){this.startHats=o},Yn.Theme.defineTheme=function(o,j){var et=new Yn.Theme(o),ot=j.base;return ot&&(typeof ot=="string"&&(ot=(0,jt.getObject)(jt.Type.THEME,ot)),ot instanceof Yn.Theme&&((0,_.module$exports$Blockly$utils$object.deepMerge)(et,ot),et.name=o)),(0,_.module$exports$Blockly$utils$object.deepMerge)(et.blockStyles,j.blockStyles),(0,_.module$exports$Blockly$utils$object.deepMerge)(et.categoryStyles,j.categoryStyles),(0,_.module$exports$Blockly$utils$object.deepMerge)(et.componentStyles,j.componentStyles),(0,_.module$exports$Blockly$utils$object.deepMerge)(et.fontStyle,j.fontStyle),j.startHats!==null&&(et.startHats=j.startHats),et};var Ws={},iu={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Gl={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};Ws.Classic=new Yn.Theme("classic",iu,Gl);var tr={Options:function(o){var j=null,et=!1,ot=!1,rt=!1,ct=!1,Et=!1,wt=!1,Lt=!!o.readOnly;Lt||(j=(0,bo.convertToolboxDefToJson)(o.toolbox),et=(0,bo.hasCategories)(j),ot=o.trashcan,ot===void 0&&(ot=et),rt=o.collapse,rt===void 0&&(rt=et),ct=o.comments,ct===void 0&&(ct=et),Et=o.disable,Et===void 0&&(Et=et),wt=o.sounds,wt===void 0&&(wt=!0));var Zt=o.maxTrashcanContents;ot?Zt===void 0&&(Zt=32):Zt=0;var uo=!!o.rtl,Mo=o.horizontalLayout;Mo===void 0&&(Mo=!1);var On=o.toolboxPosition;On=On!=="end",On=Mo?On?bo.Position.TOP:bo.Position.BOTTOM:On===uo?bo.Position.RIGHT:bo.Position.LEFT;var Ms=o.css;Ms===void 0&&(Ms=!0);var Ns="https://blockly-demo.appspot.com/static/media/";o.media?Ns=o.media:o.path&&(Ns=o.path+"media/");var $u=o.oneBasedIndex===void 0?!0:!!o.oneBasedIndex,l_=o.renderer||"geras",a_=o.plugins||{};this.RTL=uo,this.oneBasedIndex=$u,this.collapse=rt,this.comments=ct,this.disable=Et,this.readOnly=Lt,this.maxBlocks=o.maxBlocks||1/0,this.maxInstances=o.maxInstances,this.pathToMedia=Ns,this.hasCategories=et,this.moveOptions=tr.Options.parseMoveOptions_(o,et),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=ot,this.maxTrashcanContents=Zt,this.hasSounds=wt,this.hasCss=Ms,this.horizontalLayout=Mo,this.languageTree=j,this.gridOptions=tr.Options.parseGridOptions_(o),this.zoomOptions=tr.Options.parseZoomOptions_(o),this.toolboxPosition=On,this.theme=tr.Options.parseThemeOptions_(o),this.renderer=l_,this.rendererOverrides=o.rendererOverrides,this.gridPattern=null,this.parentWorkspace=o.parentWorkspace,this.plugins=a_,this.getMetrics=this.setMetrics=void 0}};tr.Options.parseMoveOptions_=function(o,j){var et=o.move||{},ot={};return et.scrollbars===void 0&&o.scrollbars===void 0?ot.scrollbars=j:typeof et.scrollbars=="object"?(ot.scrollbars={},ot.scrollbars.horizontal=!!et.scrollbars.horizontal,ot.scrollbars.vertical=!!et.scrollbars.vertical,ot.scrollbars.horizontal&&ot.scrollbars.vertical?ot.scrollbars=!0:ot.scrollbars.horizontal||ot.scrollbars.vertical||(ot.scrollbars=!1)):ot.scrollbars=!!et.scrollbars||!!o.scrollbars,ot.wheel=ot.scrollbars&&et.wheel!==void 0?!!et.wheel:typeof ot.scrollbars=="object",ot.drag=ot.scrollbars?et.drag===void 0?!0:!!et.drag:!1,ot},tr.Options.parseZoomOptions_=function(o){o=o.zoom||{};var j={};return j.controls=o.controls===void 0?!1:!!o.controls,j.wheel=o.wheel===void 0?!1:!!o.wheel,j.startScale=o.startScale===void 0?1:Number(o.startScale),j.maxScale=o.maxScale===void 0?3:Number(o.maxScale),j.minScale=o.minScale===void 0?.3:Number(o.minScale),j.scaleSpeed=o.scaleSpeed===void 0?1.2:Number(o.scaleSpeed),j.pinch=o.pinch===void 0?j.wheel||j.controls:!!o.pinch,j},tr.Options.parseGridOptions_=function(o){o=o.grid||{};var j={};return j.spacing=Number(o.spacing)||0,j.colour=o.colour||"#888",j.length=o.length===void 0?1:Number(o.length),j.snap=0<j.spacing&&!!o.snap,j},tr.Options.parseThemeOptions_=function(o){return o=o.theme||Ws.Classic,typeof o=="string"?(0,jt.getObject)(jt.Type.THEME,o):o instanceof Yn.Theme?o:Yn.Theme.defineTheme(o.name||"builtin"+(0,mn.getNextUniqueId)(),o)};var $o={Scrollbar:function(o,j,et,ot,rt){this.workspace_=o,this.pair_=et||!1,this.horizontal_=j,this.margin_=rt!==void 0?rt:$o.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.origin_=new go.Coordinate(0,0),this.startDragHandle=this.handlePosition_=this.handleLength_=this.scrollbarLength_=this.startDragMouse_=0,this.containerVisible_=this.isVisible_=!0,this.svgGroup_=this.outerSvg_=this.svgHandle_=this.svgBackground_=null,this.createDom_(ot),this.position=new go.Coordinate(0,0),o=$o.Scrollbar.scrollbarThickness,j?(this.svgBackground_.setAttribute("height",o),this.outerSvg_.setAttribute("height",o),this.svgHandle_.setAttribute("height",o-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",o),this.outerSvg_.setAttribute("width",o),this.svgHandle_.setAttribute("width",o-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=(0,Tt.conditionalBind)(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=(0,Tt.conditionalBind)(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)}};$o.Scrollbar.prototype.dispose=function(){this.cleanUp_(),(0,Tt.unbind)(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,(0,Tt.unbind)(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,(0,kt.removeNode)(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},$o.Scrollbar.prototype.constrainHandleLength_=function(o){return o=0>=o||isNaN(o)?0:Math.min(o,this.scrollbarLength_)},$o.Scrollbar.prototype.setHandleLength_=function(o){this.handleLength_=o,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},$o.Scrollbar.prototype.constrainHandlePosition_=function(o){return o=0>=o||isNaN(o)?0:Math.min(o,this.scrollbarLength_-this.handleLength_)},$o.Scrollbar.prototype.setHandlePosition=function(o){this.handlePosition_=o,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},$o.Scrollbar.prototype.setScrollbarLength_=function(o){this.scrollbarLength_=o,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},$o.Scrollbar.prototype.setPosition=function(o,j){this.position.x=o,this.position.y=j,(0,kt.setCssTransform)(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},$o.Scrollbar.prototype.resize=function(o){!o&&(o=this.workspace_.getMetrics(),!o)||this.oldHostMetrics_&&$o.Scrollbar.metricsAreEquivalent_(o,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(o):this.resizeVertical_(o),this.oldHostMetrics_=o,this.updateMetrics_())},$o.Scrollbar.prototype.requiresViewResize_=function(o){return this.oldHostMetrics_?this.oldHostMetrics_.viewWidth!==o.viewWidth||this.oldHostMetrics_.viewHeight!==o.viewHeight||this.oldHostMetrics_.absoluteLeft!==o.absoluteLeft||this.oldHostMetrics_.absoluteTop!==o.absoluteTop:!0},$o.Scrollbar.prototype.resizeHorizontal_=function(o){this.requiresViewResize_(o)?this.resizeViewHorizontal(o):this.resizeContentHorizontal(o)},$o.Scrollbar.prototype.resizeViewHorizontal=function(o){var j=o.viewWidth-2*this.margin_;this.pair_&&(j-=$o.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,j)),j=o.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(j+=$o.Scrollbar.scrollbarThickness),this.setPosition(j,o.absoluteTop+o.viewHeight-$o.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(o)},$o.Scrollbar.prototype.resizeContentHorizontal=function(o){if(o.viewWidth>=o.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var j=this.scrollbarLength_*o.viewWidth/o.scrollWidth;j=this.constrainHandleLength_(j),this.setHandleLength_(j),j=o.scrollWidth-o.viewWidth;var et=this.scrollbarLength_-this.handleLength_;o=(o.viewLeft-o.scrollLeft)/j*et,o=this.constrainHandlePosition_(o),this.setHandlePosition(o),this.ratio=et/j}},$o.Scrollbar.prototype.resizeVertical_=function(o){this.requiresViewResize_(o)?this.resizeViewVertical(o):this.resizeContentVertical(o)},$o.Scrollbar.prototype.resizeViewVertical=function(o){var j=o.viewHeight-2*this.margin_;this.pair_&&(j-=$o.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,j)),this.setPosition(this.workspace_.RTL?o.absoluteLeft+this.margin_:o.absoluteLeft+o.viewWidth-$o.Scrollbar.scrollbarThickness-this.margin_,o.absoluteTop+this.margin_),this.resizeContentVertical(o)},$o.Scrollbar.prototype.resizeContentVertical=function(o){if(o.viewHeight>=o.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var j=this.scrollbarLength_*o.viewHeight/o.scrollHeight;j=this.constrainHandleLength_(j),this.setHandleLength_(j),j=o.scrollHeight-o.viewHeight;var et=this.scrollbarLength_-this.handleLength_;o=(o.viewTop-o.scrollTop)/j*et,o=this.constrainHandlePosition_(o),this.setHandlePosition(o),this.ratio=et/j}},$o.Scrollbar.prototype.createDom_=function(o){var j="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");o&&(j+=" "+o),this.outerSvg_=(0,kt.createSvgElement)(Nt.Svg.SVG,{class:j},null),this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{},this.outerSvg_),this.svgBackground_=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),o=Math.floor(($o.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyScrollbarHandle",rx:o,ry:o},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),(0,kt.insertAfter)(this.outerSvg_,this.workspace_.getParentSvg())},$o.Scrollbar.prototype.isVisible=function(){return this.isVisible_},$o.Scrollbar.prototype.setContainerVisible=function(o){var j=o!==this.containerVisible_;this.containerVisible_=o,j&&this.updateDisplay_()},$o.Scrollbar.prototype.setVisible=function(o){var j=o!==this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=o,j&&this.updateDisplay_()},$o.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},$o.Scrollbar.prototype.onMouseDownBar_=function(o){if(this.workspace_.markFocused(),(0,dt.clearTouchIdentifier)(),this.cleanUp_(),(0,Tt.isRightButton)(o))o.stopPropagation();else{var j=(0,Tt.mouseToSvg)(o,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());j=this.horizontal_?j.x:j.y;var et=(0,Jo.getInjectionDivXY)(this.svgHandle_);et=this.horizontal_?et.x:et.y;var ot=this.handlePosition_,rt=.95*this.handleLength_;j<=et?ot-=rt:j>=et+this.handleLength_&&(ot+=rt),this.setHandlePosition(this.constrainHandlePosition_(ot)),this.updateMetrics_(),o.stopPropagation(),o.preventDefault()}},$o.Scrollbar.prototype.onMouseDownHandle_=function(o){this.workspace_.markFocused(),this.cleanUp_(),(0,Tt.isRightButton)(o)?o.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?o.clientX:o.clientY,$o.Scrollbar.onMouseUpWrapper_=(0,Tt.conditionalBind)(document,"mouseup",this,this.onMouseUpHandle_),$o.Scrollbar.onMouseMoveWrapper_=(0,Tt.conditionalBind)(document,"mousemove",this,this.onMouseMoveHandle_),o.stopPropagation(),o.preventDefault())},$o.Scrollbar.prototype.onMouseMoveHandle_=function(o){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?o.clientX:o.clientY)-this.startDragMouse_))),this.updateMetrics_()},$o.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),(0,dt.clearTouchIdentifier)(),this.cleanUp_()},$o.Scrollbar.prototype.cleanUp_=function(){this.workspace_.hideChaff(!0),$o.Scrollbar.onMouseUpWrapper_&&((0,Tt.unbind)($o.Scrollbar.onMouseUpWrapper_),$o.Scrollbar.onMouseUpWrapper_=null),$o.Scrollbar.onMouseMoveWrapper_&&((0,Tt.unbind)($o.Scrollbar.onMouseMoveWrapper_),$o.Scrollbar.onMouseMoveWrapper_=null)},$o.Scrollbar.prototype.getRatio_=function(){var o=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(o)&&(o=0),o},$o.Scrollbar.prototype.updateMetrics_=function(){var o=this.getRatio_(),j={};this.horizontal_?j.x=o:j.y=o,this.workspace_.setMetrics(j)},$o.Scrollbar.prototype.set=function(o,j){this.setHandlePosition(this.constrainHandlePosition_(o*this.ratio)),(j||j===void 0)&&this.updateMetrics_()},$o.Scrollbar.prototype.setOrigin=function(o,j){this.origin_=new go.Coordinate(o,j)},$o.Scrollbar.metricsAreEquivalent_=function(o,j){return o.viewWidth===j.viewWidth&&o.viewHeight===j.viewHeight&&o.viewLeft===j.viewLeft&&o.viewTop===j.viewTop&&o.absoluteTop===j.absoluteTop&&o.absoluteLeft===j.absoluteLeft&&o.scrollWidth===j.scrollWidth&&o.scrollHeight===j.scrollHeight&&o.scrollLeft===j.scrollLeft&&o.scrollTop===j.scrollTop},$o.Scrollbar.scrollbarThickness=15,dt.TOUCH_ENABLED&&($o.Scrollbar.scrollbarThickness=25),$o.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5;var or={ScrollbarPair:function(o,j,et,ot,rt){this.workspace_=o,j=j===void 0?!0:j,et=et===void 0?!0:et;var ct=j&&et;j&&(this.hScroll=new $o.Scrollbar(o,!0,ct,ot,rt)),et&&(this.vScroll=new $o.Scrollbar(o,!1,ct,ot,rt)),ct&&(this.corner_=(0,kt.createSvgElement)(Nt.Svg.RECT,{height:$o.Scrollbar.scrollbarThickness,width:$o.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),(0,kt.insertAfter)(this.corner_,o.getBubbleCanvas())),this.oldHostMetrics_=null}};or.ScrollbarPair.prototype.dispose=function(){(0,kt.removeNode)(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},or.ScrollbarPair.prototype.resize=function(){var o=this.workspace_.getMetrics();if(o){var j=!1,et=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===o.viewWidth&&this.oldHostMetrics_.viewHeight===o.viewHeight&&this.oldHostMetrics_.absoluteTop===o.absoluteTop&&this.oldHostMetrics_.absoluteLeft===o.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===o.scrollWidth&&this.oldHostMetrics_.viewLeft===o.viewLeft&&this.oldHostMetrics_.scrollLeft===o.scrollLeft||(j=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===o.scrollHeight&&this.oldHostMetrics_.viewTop===o.viewTop&&this.oldHostMetrics_.scrollTop===o.scrollTop||(et=!0)):et=j=!0,j||et){try{(0,yt.disable)(),this.hScroll&&j&&this.hScroll.resize(o),this.vScroll&&et&&this.vScroll.resize(o)}finally{(0,yt.enable)()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===o.viewWidth&&this.oldHostMetrics_.absoluteLeft===o.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight===o.viewHeight&&this.oldHostMetrics_.absoluteTop===o.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=o}},or.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},or.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},or.ScrollbarPair.prototype.setOrigin=function(o,j){this.hScroll&&this.hScroll.setOrigin(o,j),this.vScroll&&this.vScroll.setOrigin(o,j)},or.ScrollbarPair.prototype.set=function(o,j,et){this.hScroll&&this.hScroll.set(o,!1),this.vScroll&&this.vScroll.set(j,!1),(et||et===void 0)&&(o={},this.hScroll&&(o.x=this.hScroll.getRatio_()),this.vScroll&&(o.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(o))},or.ScrollbarPair.prototype.setX=function(o){this.hScroll&&this.hScroll.set(o,!0)},or.ScrollbarPair.prototype.setY=function(o){this.vScroll&&this.vScroll.set(o,!0)},or.ScrollbarPair.prototype.setContainerVisible=function(o){this.hScroll&&this.hScroll.setContainerVisible(o),this.vScroll&&this.vScroll.setContainerVisible(o)},or.ScrollbarPair.prototype.isVisible=function(){var o=!1;return this.hScroll&&(o=this.hScroll.isVisible()),this.vScroll&&(o=o||this.vScroll.isVisible()),o},or.ScrollbarPair.prototype.resizeContent=function(o){this.hScroll&&this.hScroll.resizeContentHorizontal(o),this.vScroll&&this.vScroll.resizeContentVertical(o)},or.ScrollbarPair.prototype.resizeView=function(o){this.hScroll&&this.hScroll.resizeViewHorizontal(o),this.vScroll&&this.vScroll.resizeViewVertical(o)};var To={KeyCodes:{WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255}},So={ShortcutRegistry:function(){this.reset()}};So.ShortcutRegistry.prototype.reset=function(){this.registry_=Object.create(null),this.keyMap_=Object.create(null)},So.ShortcutRegistry.prototype.register=function(o,j){if(this.registry_[o.name]&&!j)throw Error('Shortcut with name "'+o.name+'" already exists.');this.registry_[o.name]=o},So.ShortcutRegistry.prototype.unregister=function(o){return this.registry_[o]?(this.removeAllKeyMappings(o),delete this.registry_[o],!0):(console.warn('Keyboard shortcut with name "'+o+'" not found.'),!1)},So.ShortcutRegistry.prototype.addKeyMapping=function(o,j,et){o=String(o);var ot=this.keyMap_[o];if(ot&&!et)throw Error('Shortcut with name "'+j+'" collides with shortcuts '+ot.toString());ot&&et?ot.unshift(j):this.keyMap_[o]=[j]},So.ShortcutRegistry.prototype.removeKeyMapping=function(o,j,et){var ot=this.keyMap_[o];if(!ot&&!et)return console.warn('No keyboard shortcut with name "'+j+'" registered with key code "'+o+'"'),!1;var rt=ot.indexOf(j);return-1<rt?(ot.splice(rt,1),ot.length===0&&delete this.keyMap_[o],!0):(et||console.warn('No keyboard shortcut with name "'+j+'" registered with key code "'+o+'"'),!1)},So.ShortcutRegistry.prototype.removeAllKeyMappings=function(o){for(var j in this.keyMap_)this.removeKeyMapping(j,o,!0)},So.ShortcutRegistry.prototype.setKeyMap=function(o){this.keyMap_=o},So.ShortcutRegistry.prototype.getKeyMap=function(){return(0,_.module$exports$Blockly$utils$object.deepMerge)(Object.create(null),this.keyMap_)},So.ShortcutRegistry.prototype.getRegistry=function(){return(0,_.module$exports$Blockly$utils$object.deepMerge)(Object.create(null),this.registry_)},So.ShortcutRegistry.prototype.onKeyDown=function(o,j){var et=this.serializeKeyEvent_(j);if(et=this.getShortcutNamesByKeyCode(et),!et)return!1;for(var ot=0,rt;rt=et[ot];ot++)if(rt=this.registry_[rt],(!rt.preconditionFn||rt.preconditionFn(o))&&rt.callback&&rt.callback(o,j,rt))return!0;return!1},So.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(o){return this.keyMap_[o]||[]},So.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(o){var j=[],et;for(et in this.keyMap_)-1<this.keyMap_[et].indexOf(o)&&j.push(et);return j},So.ShortcutRegistry.prototype.serializeKeyEvent_=function(o){var j="",et;for(et in So.ShortcutRegistry.modifierKeys)o.getModifierState(et)&&(j!==""&&(j+="+"),j+=et);return j!==""&&o.keyCode?j=j+"+"+o.keyCode:o.keyCode&&(j=o.keyCode.toString()),j},So.ShortcutRegistry.prototype.checkModifiers_=function(o){for(var j=(0,_.module$exports$Blockly$utils$object.values)(So.ShortcutRegistry.modifierKeys),et=0,ot;ot=o[et];et++)if(0>j.indexOf(ot))throw Error(ot+" is not a valid modifier key.")},So.ShortcutRegistry.prototype.createSerializedKey=function(o,j){var et="";if(j){this.checkModifiers_(j);for(var ot in So.ShortcutRegistry.modifierKeys)-1<j.indexOf(So.ShortcutRegistry.modifierKeys[ot])&&(et!==""&&(et+="+"),et+=ot)}return et!==""&&o?et=et+"+"+o:o&&(et=o.toString()),et},So.ShortcutRegistry.modifierKeys={Shift:To.KeyCodes.SHIFT,Control:To.KeyCodes.CTRL,Alt:To.KeyCodes.ALT,Meta:To.KeyCodes.META};var Mu=new So.ShortcutRegistry;So.ShortcutRegistry.registry=Mu;var as={WorkspaceDragSurfaceSvg:function(o){this.SVG_=null,this.container_=o,this.previousSibling_=null,this.createDom()}};as.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=(0,kt.createSvgElement)(Nt.Svg.SVG,{xmlns:kt.SVG_NS,"xmlns:html":kt.HTML_NS,"xmlns:xlink":kt.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},as.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(o,j){o=o.toFixed(0),j=j.toFixed(0),this.SVG_.style.display="block",(0,kt.setCssTransform)(this.SVG_,"translate3d("+o+"px, "+j+"px, 0)")},as.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return(0,Jo.getRelativeXY)(this.SVG_)},as.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(o){if(!o)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var j=this.SVG_.childNodes[0],et=this.SVG_.childNodes[1];if(!(j&&et&&(0,kt.hasClass)(j,"blocklyBlockCanvas")&&(0,kt.hasClass)(et,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(this.previousSibling_!==null?(0,kt.insertAfter)(j,this.previousSibling_):o.insertBefore(j,o.firstChild),(0,kt.insertAfter)(et,j),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");(0,kt.setCssTransform)(this.SVG_,""),this.previousSibling_=null},as.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(o,j,et,ot,rt,ct){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=et,o.setAttribute("transform","translate(0, 0) scale("+ct+")"),j.setAttribute("transform","translate(0, 0) scale("+ct+")"),this.SVG_.setAttribute("width",ot),this.SVG_.setAttribute("height",rt),this.SVG_.appendChild(o),this.SVG_.appendChild(j),this.SVG_.style.display="block"};var lr={},Ur=null;lr.copy=function(o){Ur=o.toCopyData()},lr.paste=function(){if(!Ur)return null;var o=Ur.source;return o.isFlyout&&(o=o.targetWorkspace),Ur.typeCounts&&o.isCapacityAvailable(Ur.typeCounts)?o.paste(Ur.saveInfo):null},lr.duplicate=function(o){var j=Ur;return(0,lr.copy)(o),o=o.workspace.paste(Ur.saveInfo),Ur=j,o};var Wl;_.module$exports$Blockly$config={},Wl=28,_.module$exports$Blockly$config.config={dragRadius:5,flyoutDragRadius:10,snapRadius:Wl,connectingSnapRadius:Wl,currentConnectionPreference:8,bumpDelay:250};var Kn={MenuItem:function(o,j){this.content_=o,this.value_=j,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null}};Kn.MenuItem.prototype.createDom=function(){var o=document.createElement("div");o.id=(0,mn.getNextUniqueId)(),this.element_=o,o.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var j=document.createElement("div");if(j.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var et=document.createElement("div");et.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",j.appendChild(et)}return et=this.content_,typeof this.content_=="string"&&(et=document.createTextNode(this.content_)),j.appendChild(et),o.appendChild(j),this.roleName_&&(0,ho.setRole)(o,this.roleName_),(0,ho.setState)(o,ho.State.SELECTED,this.checkable_&&this.checked_||!1),(0,ho.setState)(o,ho.State.DISABLED,!this.enabled_),o},Kn.MenuItem.prototype.dispose=function(){this.element_=null},Kn.MenuItem.prototype.getElement=function(){return this.element_},Kn.MenuItem.prototype.getId=function(){return this.element_.id},Kn.MenuItem.prototype.getValue=function(){return this.value_},Kn.MenuItem.prototype.setRightToLeft=function(o){this.rightToLeft_=o},Kn.MenuItem.prototype.setRole=function(o){this.roleName_=o},Kn.MenuItem.prototype.setCheckable=function(o){this.checkable_=o},Kn.MenuItem.prototype.setChecked=function(o){this.checked_=o},Kn.MenuItem.prototype.setHighlighted=function(o){this.highlight_=o;var j=this.getElement();j&&this.isEnabled()&&(o?((0,kt.addClass)(j,"blocklyMenuItemHighlight"),(0,kt.addClass)(j,"goog-menuitem-highlight")):((0,kt.removeClass)(j,"blocklyMenuItemHighlight"),(0,kt.removeClass)(j,"goog-menuitem-highlight")))},Kn.MenuItem.prototype.isEnabled=function(){return this.enabled_},Kn.MenuItem.prototype.setEnabled=function(o){this.enabled_=o},Kn.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},Kn.MenuItem.prototype.onAction=function(o,j){this.actionHandler_=o.bind(j)};var Tn={Menu:function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null}};Tn.Menu.prototype.addChild=function(o){this.menuItems_.push(o)},Tn.Menu.prototype.render=function(o){var j=document.createElement("div");j.className="blocklyMenu goog-menu blocklyNonSelectable",j.tabIndex=0,this.roleName_&&(0,ho.setRole)(j,this.roleName_),this.element_=j;for(var et=0,ot;ot=this.menuItems_[et];et++)j.appendChild(ot.createDom());this.mouseOverHandler_=(0,Tt.conditionalBind)(j,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=(0,Tt.conditionalBind)(j,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=(0,Tt.conditionalBind)(j,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=(0,Tt.conditionalBind)(j,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=(0,Tt.conditionalBind)(j,"keydown",this,this.handleKeyEvent_),o.appendChild(j)},Tn.Menu.prototype.getElement=function(){return this.element_},Tn.Menu.prototype.focus=function(){var o=this.getElement();o&&(o.focus({preventScroll:!0}),(0,kt.addClass)(o,"blocklyFocused"))},Tn.Menu.prototype.blur_=function(){var o=this.getElement();o&&(o.blur(),(0,kt.removeClass)(o,"blocklyFocused"))},Tn.Menu.prototype.setRole=function(o){this.roleName_=o},Tn.Menu.prototype.dispose=function(){this.mouseOverHandler_&&((0,Tt.unbind)(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&((0,Tt.unbind)(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&((0,Tt.unbind)(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&((0,Tt.unbind)(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&((0,Tt.unbind)(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var o=0,j;j=this.menuItems_[o];o++)j.dispose();this.element_=null},Tn.Menu.prototype.getMenuItem_=function(o){for(var j=this.getElement();o&&o!==j;){if((0,kt.hasClass)(o,"blocklyMenuItem")){for(var et=0,ot;ot=this.menuItems_[et];et++)if(ot.getElement()===o)return ot}o=o.parentElement}return null},Tn.Menu.prototype.setHighlighted=function(o){var j=this.highlightedItem_;j&&(j.setHighlighted(!1),this.highlightedItem_=null),o&&(o.setHighlighted(!0),this.highlightedItem_=o,j=this.getElement(),(0,Uo.scrollIntoContainerView)(o.getElement(),j),(0,ho.setState)(j,ho.State.ACTIVEDESCENDANT,o.getId()))},Tn.Menu.prototype.highlightNext=function(){var o=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(o,1)},Tn.Menu.prototype.highlightPrevious=function(){var o=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>o?this.menuItems_.length:o,-1)},Tn.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},Tn.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},Tn.Menu.prototype.highlightHelper_=function(o,j){o+=j;for(var et;et=this.menuItems_[o];){if(et.isEnabled()){this.setHighlighted(et);break}o+=j}},Tn.Menu.prototype.handleMouseOver_=function(o){(o=this.getMenuItem_(o.target))&&(o.isEnabled()?this.highlightedItem_!==o&&this.setHighlighted(o):this.setHighlighted(null))},Tn.Menu.prototype.handleClick_=function(o){var j=this.openingCoords;if(this.openingCoords=null,j&&typeof o.clientX=="number"){var et=new go.Coordinate(o.clientX,o.clientY);if(1>go.Coordinate.distance(j,et))return}(o=this.getMenuItem_(o.target))&&o.performAction()},Tn.Menu.prototype.handleMouseEnter_=function(o){this.focus()},Tn.Menu.prototype.handleMouseLeave_=function(o){this.getElement()&&(this.blur_(),this.setHighlighted(null))},Tn.Menu.prototype.handleKeyEvent_=function(o){if(this.menuItems_.length&&!(o.shiftKey||o.ctrlKey||o.metaKey||o.altKey)){var j=this.highlightedItem_;switch(o.keyCode){case To.KeyCodes.ENTER:case To.KeyCodes.SPACE:j&&j.performAction();break;case To.KeyCodes.UP:this.highlightPrevious();break;case To.KeyCodes.DOWN:this.highlightNext();break;case To.KeyCodes.PAGE_UP:case To.KeyCodes.HOME:this.highlightFirst_();break;case To.KeyCodes.PAGE_DOWN:case To.KeyCodes.END:this.highlightLast_();break;default:return}o.preventDefault(),o.stopPropagation()}},Tn.Menu.prototype.getSize=function(){var o=this.getElement(),j=(0,Uo.getSize)(o);return j.height=o.scrollHeight,j};var us={VARIABLES:100,BLOCKS:50},cs={register:function(o,j){(0,jt.register)(jt.Type.SERIALIZER,o,j)},unregister:function(o){(0,jt.unregister)(jt.Type.SERIALIZER,o)}},yn={DeserializationError:function(){var o=Error.apply(this,arguments);this.message=o.message,"stack"in o&&(this.stack=o.stack)}};_.$jscomp.inherits(yn.DeserializationError,Error),yn.MissingBlockType=function(o){yn.DeserializationError.call(this,"Expected to find a 'type' property, defining the block type"),this.state=o},_.$jscomp.inherits(yn.MissingBlockType,yn.DeserializationError),yn.MissingConnection=function(o,j,et){yn.DeserializationError.call(this,"The block "+j.toDevString()+" is missing a(n) "+o+`
connection`),this.block=j,this.state=et},_.$jscomp.inherits(yn.MissingConnection,yn.DeserializationError),yn.BadConnectionCheck=function(o,j,et,ot){yn.DeserializationError.call(this,"The block "+et.toDevString()+` could not connect its
`+j+" to its parent, because: "+o),this.childBlock=et,this.childState=ot},_.$jscomp.inherits(yn.BadConnectionCheck,yn.DeserializationError),yn.RealChildOfShadow=function(o){yn.DeserializationError.call(this,`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=o},_.$jscomp.inherits(yn.RealChildOfShadow,yn.DeserializationError);var yl={ISerializer:function(){}};yl.ISerializer.prototype.save=function(o){},yl.ISerializer.prototype.load=function(o,j){},yl.ISerializer.prototype.clear=function(o){};var Dn={save:function(o,j){var et=j===void 0?{}:j;j=et.addCoordinates===void 0?!1:et.addCoordinates;var ot=et.addInputBlocks===void 0?!0:et.addInputBlocks,rt=et.addNextBlocks===void 0?!0:et.addNextBlocks;if(et=et.doFullSerialization===void 0?!0:et.doFullSerialization,o.isInsertionMarker())return null;var ct={type:o.type,id:o.id};return j&&su(o,ct),Bs(o,ct),ps(o,ct),zs(o,ct),Nu(o,ct,et),ot&&lu(o,ct,et),rt&&Lu(o,ct,et),ct}},Bs=function(o,j){o.isCollapsed()&&(j.collapsed=!0),o.isEnabled()||(j.enabled=!1),o.inputsInline!==void 0&&o.inputsInline!==o.inputsInlineDefault&&(j.inline=o.inputsInline),o.data&&(j.data=o.data)},su=function(o,j){var et=o.workspace;o=o.getRelativeToSurfaceXY(),j.x=Math.round(et.RTL?et.getWidth()-o.x:o.x),j.y=Math.round(o.y)},ps=function(o,j){o.saveExtraState?(o=o.saveExtraState(),o!==null&&(j.extraState=o)):o.mutationToDom&&(o=o.mutationToDom(),o!==null&&(j.extraState=(0,_.module$exports$Blockly$Xml.domToText)(o).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},zs=function(o,j){o.getCommentText()&&(j.icons={comment:{text:o.getCommentText(),pinned:o.commentModel.pinned,height:Math.round(o.commentModel.size.height),width:Math.round(o.commentModel.size.width)}})},Nu=function(o,j,et){for(var ot=Object.create(null),rt=0;rt<o.inputList.length;rt++)for(var ct=o.inputList[rt],Et=0;Et<ct.fieldRow.length;Et++){var wt=ct.fieldRow[Et];wt.isSerializable()&&(ot[wt.name]=wt.saveState(et))}Object.keys(ot).length&&(j.fields=ot)},lu=function(o,j,et){for(var ot=Object.create(null),rt=0;rt<o.inputList.length;rt++){var ct=o.inputList[rt];if(ct.type!==_.module$exports$Blockly$inputTypes.inputTypes.DUMMY){var Et=zl(ct.connection,et);Et&&(ot[ct.name]=Et)}}Object.keys(ot).length&&(j.inputs=ot)},Lu=function(o,j,et){o.nextConnection&&(o=zl(o.nextConnection,et))&&(j.next=o)},zl=function(o,j){var et=o.getShadowState(!0);if(o=o.targetBlock(),!et&&!o)return null;var ot=Object.create(null);return et&&(ot.shadow=et),o&&!o.isShadow()&&(ot.block=(0,Dn.save)(o,{doFullSerialization:j})),ot};Dn.append=function(o,j,et){return et=et===void 0?{}:et,(0,Dn.appendInternal)(o,j,{recordUndo:et.recordUndo===void 0?!1:et.recordUndo})},Dn.appendInternal=function(o,j,et){var ot=et===void 0?{}:et;et=ot.parentConnection===void 0?void 0:ot.parentConnection;var rt=ot.isShadow===void 0?!1:ot.isShadow,ct=ot.recordUndo===void 0?!1:ot.recordUndo;ot=(0,yt.getRecordUndo)(),(0,yt.setRecordUndo)(ct),(ct=(0,yt.getGroup)())||(0,yt.setGroup)(!0),(0,yt.disable)();var Et=au(o,j,{parentConnection:et,isShadow:rt});return(0,yt.enable)(),(0,yt.fire)(new((0,yt.get)(yt.CREATE))(Et)),(0,yt.setGroup)(ct),(0,yt.setRecordUndo)(ot),j.rendered&&setTimeout(function(){Et.disposed||Et.setConnectionTracking(!0)},1),Et};var au=function(o,j,et){var ot=et===void 0?{}:et;if(et=ot.parentConnection===void 0?void 0:ot.parentConnection,ot=ot.isShadow===void 0?!1:ot.isShadow,!o.type)throw new yn.MissingBlockType(o);var rt=j.newBlock(o.type,o.id);return rt.setShadow(ot),Fu(rt,o),uu(rt,o),Pu(rt,o),Rt(et,rt,o),Ft(rt,o),Jt(rt,o),ko(rt,o),sn(rt,o),Rn(rt,j.rendered),rt},Fu=function(o,j){var et=j.x===void 0?0:j.x;j=j.y===void 0?0:j.y;var ot=o.workspace;et=ot.RTL?ot.getWidth()-et:et,o.moveBy(et,j)},uu=function(o,j){j.collapsed&&o.setCollapsed(!0),j.enabled===!1&&o.setEnabled(!1),j.inline!==void 0&&o.setInputsInline(j.inline),j.data!==void 0&&(o.data=j.data)},Pu=function(o,j){j.extraState&&(o.loadExtraState?o.loadExtraState(j.extraState):o.domToMutation((0,_.module$exports$Blockly$Xml.textToDom)(j.extraState)))},Rt=function(o,j,et){if(o){if(o.getSourceBlock().isShadow()&&!j.isShadow())throw new yn.RealChildOfShadow(et);if(o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE){var ot=j.outputConnection;if(!ot)throw new yn.MissingConnection("output",j,et)}else if(ot=j.previousConnection,!ot)throw new yn.MissingConnection("previous",j,et);if(!o.connect(ot)){var rt=j.workspace.connectionChecker;throw new yn.BadConnectionCheck(rt.getErrorMessage(rt.canConnectWithReason(ot,o,!1),ot,o),o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE?"output connection":"previous connection",j,et)}}},Ft=function(o,j){j.icons&&(j=j.icons.comment)&&(o.setCommentText(j.text),"pinned"in j&&(o.commentModel.pinned=j.pinned),"width"in j&&"height"in j&&(o.commentModel.size=new Ln.Size(j.width,j.height)),j.pinned&&o.rendered&&!o.isInFlyout&&setTimeout(function(){return o.getCommentIcon().setVisible(!0)},1))},Jt=function(o,j){if(j.fields)for(var et=Object.keys(j.fields),ot=0;ot<et.length;ot++){var rt=et[ot],ct=j.fields[rt],Et=o.getField(rt);Et?Et.loadState(ct):console.warn("Ignoring non-existant field "+rt+" in block "+o.type)}},ko=function(o,j){if(j.inputs)for(var et=Object.keys(j.inputs),ot=0;ot<et.length;ot++){var rt=et[ot],ct=o.getInput(rt);if(!ct||!ct.connection)throw new yn.MissingConnection(rt,o,j);En(ct.connection,j.inputs[rt])}},sn=function(o,j){if(j.next){if(!o.nextConnection)throw new yn.MissingConnection("next",o,j);En(o.nextConnection,j.next)}},En=function(o,j){j.shadow&&o.setShadowState(j.shadow),j.block&&au(j.block,o.getSourceBlock().workspace,{parentConnection:o})},Rn=function(o,j){if(j)for(o.setConnectionTracking(!1),o.initSvg(),o.render(!1),o=o.getIcons(),j=0;j<o.length;j++)o[j].computeIconLocation();else o.initModel()},on=Dn.save,Sn=function(){this.priority=us.BLOCKS};Sn.prototype.save=function(o){var j=[];o=_.$jscomp.makeIterator(o.getTopBlocks(!1));for(var et=o.next();!et.done;et=o.next())(et=on(et.value,{addCoordinates:!0,doFullSerialization:!1}))&&j.push(et);return j.length?{languageVersion:0,blocks:j}:null},Sn.prototype.load=function(o,j){o=_.$jscomp.makeIterator(o.blocks);for(var et=o.next();!et.done;et=o.next())(0,Dn.append)(et.value,j,{recordUndo:(0,yt.getRecordUndo)()})},Sn.prototype.clear=function(o){o=_.$jscomp.makeIterator(o.getTopBlocks(!1));for(var j=o.next();!j.done;j=o.next())j.value.dispose(!1)},(0,cs.register)("blocks",new Sn);var an={Abstract:function(){this.isBlank=null,this.workspaceId=void 0,this.group=(0,yt.getGroup)(),this.recordUndo=(0,yt.getRecordUndo)(),this.isUiEvent=!1,this.type=void 0}};an.Abstract.prototype.toJson=function(){var o={type:this.type};return this.group&&(o.group=this.group),o},an.Abstract.prototype.fromJson=function(o){this.isBlank=!1,this.group=o.group},an.Abstract.prototype.isNull=function(){return!1},an.Abstract.prototype.run=function(o){},an.Abstract.prototype.getEventWorkspace_=function(){var o;if(this.workspaceId&&(o=yo.Workspace.getById(this.workspaceId)),!o)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return o};var hn={BlockBase:function(o){an.Abstract.call(this),this.blockId=(this.isBlank=typeof o>"u")?"":o.id,this.workspaceId=this.isBlank?"":o.workspace.id}};_.$jscomp.inherits(hn.BlockBase,an.Abstract),hn.BlockBase.prototype.toJson=function(){var o=an.Abstract.prototype.toJson.call(this);return o.blockId=this.blockId,o},hn.BlockBase.prototype.fromJson=function(o){an.Abstract.prototype.fromJson.call(this,o),this.blockId=o.blockId};var Ar={BlockCreate:function(o){hn.BlockBase.call(this,o),this.type=yt.CREATE,o&&(o.isShadow()&&(this.recordUndo=!1),this.xml=(0,_.module$exports$Blockly$Xml.blockToDomWithXY)(o),this.ids=(0,yt.getDescendantIds)(o),this.json=(0,Dn.save)(o,{addCoordinates:!0}))}};_.$jscomp.inherits(Ar.BlockCreate,hn.BlockBase),Ar.BlockCreate.prototype.toJson=function(){var o=hn.BlockBase.prototype.toJson.call(this);return o.xml=(0,_.module$exports$Blockly$Xml.domToText)(this.xml),o.ids=this.ids,o.json=this.json,this.recordUndo||(o.recordUndo=this.recordUndo),o},Ar.BlockCreate.prototype.fromJson=function(o){hn.BlockBase.prototype.fromJson.call(this,o),this.xml=(0,_.module$exports$Blockly$Xml.textToDom)(o.xml),this.ids=o.ids,this.json=o.json,o.recordUndo!==void 0&&(this.recordUndo=o.recordUndo)},Ar.BlockCreate.prototype.run=function(o){var j=this.getEventWorkspace_();if(o)(0,Dn.append)(this.json,j);else for(o=0;o<this.ids.length;o++){var et=this.ids[o],ot=j.getBlockById(et);ot?ot.dispose(!1):et===this.blockId&&console.warn("Can't uncreate non-existent block: "+et)}},(0,jt.register)(jt.Type.EVENT,yt.CREATE,Ar.BlockCreate);var hs;_.module$exports$Blockly$ContextMenu={},hs=null,_.module$exports$Blockly$ContextMenu.getCurrentBlock=function(){return hs},_.module$exports$Blockly$ContextMenu.setCurrentBlock=function(o){hs=o},Object.defineProperties(_.module$exports$Blockly$ContextMenu,{currentBlock:{get:function(){return(0,tt.warn)("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.getCurrentBlock()"),(0,_.module$exports$Blockly$ContextMenu.getCurrentBlock)()},set:function(o){(0,tt.warn)("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.setCurrentBlock(block)"),(0,_.module$exports$Blockly$ContextMenu.setCurrentBlock)(o)}}});var ds=null;_.module$exports$Blockly$ContextMenu.show=function(o,j,et){if((0,Ot.show)(_.module$exports$Blockly$ContextMenu,et,_.module$exports$Blockly$ContextMenu.dispose),j.length){var ot=cu(j,et);ds=ot,cp(ot,o,et),setTimeout(function(){ot.focus()},1),hs=null}else(0,_.module$exports$Blockly$ContextMenu.hide)()};var cu=function(o,j){var et=new Tn.Menu;et.setRole(ho.Role.MENU);for(var ot=0;ot<o.length;ot++){var rt=o[ot],ct=new Kn.MenuItem(rt.text);ct.setRightToLeft(j),ct.setRole(ho.Role.MENUITEM),et.addChild(ct),ct.setEnabled(rt.enabled),rt.enabled&&ct.onAction(function(Et){(0,_.module$exports$Blockly$ContextMenu.hide)(),this.callback(this.scope)},rt)}return et},cp=function(o,j,et){var ot=(0,Jo.getViewportBBox)();j=new In.Rect(j.clientY+ot.top,j.clientY+ot.top,j.clientX+ot.left,j.clientX+ot.left),Np(o);var rt=o.getSize();et&&(j.left+=rt.width,j.right+=rt.width,ot.left+=rt.width,ot.right+=rt.width),(0,Ot.positionWithAnchor)(ot,j,rt,et),o.focus()},Np=function(o){var j=(0,Ot.getDiv)();if(!j)throw Error("Attempting to create a context menu when widget div is null");o.render(j),j=o.getElement(),(0,kt.addClass)(j,"blocklyContextMenu"),(0,Tt.conditionalBind)(j,"contextmenu",null,pp),o.focus()},pp=function(o){o.preventDefault(),o.stopPropagation()};_.module$exports$Blockly$ContextMenu.hide=function(){(0,Ot.hideIfOwner)(_.module$exports$Blockly$ContextMenu),hs=null},_.module$exports$Blockly$ContextMenu.dispose=function(){ds&&(ds.dispose(),ds=null)},_.module$exports$Blockly$ContextMenu.callbackFactory=function(o,j){return function(){(0,yt.disable)();try{var et=(0,_.module$exports$Blockly$Xml.domToBlock)(j,o.workspace),ot=o.getRelativeToSurfaceXY();ot.x=o.RTL?ot.x-_.module$exports$Blockly$config.config.snapRadius:ot.x+_.module$exports$Blockly$config.config.snapRadius,ot.y+=2*_.module$exports$Blockly$config.config.snapRadius,et.moveBy(ot.x,ot.y)}finally{(0,yt.enable)()}(0,yt.isEnabled)()&&!et.isShadow()&&(0,yt.fire)(new((0,yt.get)(yt.CREATE))(et)),et.select()}},_.module$exports$Blockly$ContextMenu.commentDeleteOption=function(o){return{text:_.module$exports$Blockly$Msg.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){(0,yt.setGroup)(!0),o.dispose(),(0,yt.setGroup)(!1)}}},_.module$exports$Blockly$ContextMenu.commentDuplicateOption=function(o){return{text:_.module$exports$Blockly$Msg.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){(0,lr.duplicate)(o)}}},_.module$exports$Blockly$ContextMenu.workspaceCommentOption=function(o,j){var et=Ro.WorkspaceCommentSvg;if(!et)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var ot={enabled:!$t.IE};return ot.text=_.module$exports$Blockly$Msg.Msg.ADD_COMMENT,ot.callback=function(){var rt=new et(o,_.module$exports$Blockly$Msg.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,et.DEFAULT_SIZE,et.DEFAULT_SIZE),ct=o.getInjectionDiv().getBoundingClientRect();ct=new go.Coordinate(j.clientX-ct.left,j.clientY-ct.top);var Et=o.getOriginOffsetInPixels();ct=go.Coordinate.difference(ct,Et),ct.scale(1/o.scale),rt.moveBy(ct.x,ct.y),o.rendered&&(rt.initSvg(),rt.render(),rt.select())},ot};var xr={removeElem:function(o,j){return j=o.indexOf(j),j===-1?!1:(o.splice(j,1),!0)}},Mr={},Uu=!1;Mr.isDebuggerEnabled=function(){return Uu},Mr.startDebugger=function(){(0,tt.warn)("Blockly.blockRendering.debug.startDebugger()","February 2022","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),Uu=!0},Mr.stopDebugger=function(){(0,tt.warn)("Blockly.blockRendering.debug.stopDebugger()","February 2022","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),Uu=!1};var xt={Types:{NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608}};xt.Types.LEFT_CORNER=xt.Types.LEFT_SQUARE_CORNER|xt.Types.LEFT_ROUND_CORNER,xt.Types.RIGHT_CORNER=xt.Types.RIGHT_SQUARE_CORNER|xt.Types.RIGHT_ROUND_CORNER,xt.Types.nextTypeValue_=16777216,xt.Types.getType=function(o){return Object.prototype.hasOwnProperty.call(xt.Types,o)||(xt.Types[o]=xt.Types.nextTypeValue_,xt.Types.nextTypeValue_<<=1),xt.Types[o]},xt.Types.isField=function(o){return o.type&xt.Types.FIELD},xt.Types.isHat=function(o){return o.type&xt.Types.HAT},xt.Types.isIcon=function(o){return o.type&xt.Types.ICON},xt.Types.isSpacer=function(o){return o.type&xt.Types.SPACER},xt.Types.isInRowSpacer=function(o){return o.type&xt.Types.IN_ROW_SPACER},xt.Types.isInput=function(o){return o.type&xt.Types.INPUT},xt.Types.isExternalInput=function(o){return o.type&xt.Types.EXTERNAL_VALUE_INPUT},xt.Types.isInlineInput=function(o){return o.type&xt.Types.INLINE_INPUT},xt.Types.isStatementInput=function(o){return o.type&xt.Types.STATEMENT_INPUT},xt.Types.isPreviousConnection=function(o){return o.type&xt.Types.PREVIOUS_CONNECTION},xt.Types.isNextConnection=function(o){return o.type&xt.Types.NEXT_CONNECTION},xt.Types.isPreviousOrNextConnection=function(o){return o.type&(xt.Types.PREVIOUS_CONNECTION|xt.Types.NEXT_CONNECTION)},xt.Types.isLeftRoundedCorner=function(o){return o.type&xt.Types.LEFT_ROUND_CORNER},xt.Types.isRightRoundedCorner=function(o){return o.type&xt.Types.RIGHT_ROUND_CORNER},xt.Types.isLeftSquareCorner=function(o){return o.type&xt.Types.LEFT_SQUARE_CORNER},xt.Types.isRightSquareCorner=function(o){return o.type&xt.Types.RIGHT_SQUARE_CORNER},xt.Types.isCorner=function(o){return o.type&xt.Types.CORNER},xt.Types.isJaggedEdge=function(o){return o.type&xt.Types.JAGGED_EDGE},xt.Types.isRow=function(o){return o.type&xt.Types.ROW},xt.Types.isBetweenRowSpacer=function(o){return o.type&xt.Types.BETWEEN_ROW_SPACER},xt.Types.isTopRow=function(o){return o.type&xt.Types.TOP_ROW},xt.Types.isBottomRow=function(o){return o.type&xt.Types.BOTTOM_ROW},xt.Types.isTopOrBottomRow=function(o){return o.type&(xt.Types.TOP_ROW|xt.Types.BOTTOM_ROW)},xt.Types.isInputRow=function(o){return o.type&xt.Types.INPUT_ROW};var gr={Row:function(o){this.type=xt.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.constants_=o,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null}};gr.Row.prototype.getLastInput=function(){for(var o=this.elements.length-1;0<=o;o--){var j=this.elements[o];if(xt.Types.isInput(j))return j}return null},gr.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},gr.Row.prototype.startsWithElemSpacer=function(){return!0},gr.Row.prototype.endsWithElemSpacer=function(){return!0},gr.Row.prototype.getFirstSpacer=function(){for(var o=0;o<this.elements.length;o++){var j=this.elements[o];if(xt.Types.isSpacer(j))return j}return null},gr.Row.prototype.getLastSpacer=function(){for(var o=this.elements.length-1;0<=o;o--){var j=this.elements[o];if(xt.Types.isSpacer(j))return j}return null};var Vr={BottomRow:function(o){gr.Row.call(this,o),this.type|=xt.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0}};_.$jscomp.inherits(Vr.BottomRow,gr.Row),Vr.BottomRow.prototype.hasLeftSquareCorner=function(o){return!!o.outputConnection||!!o.getNextBlock()},Vr.BottomRow.prototype.hasRightSquareCorner=function(o){return!0},Vr.BottomRow.prototype.measure=function(){for(var o=0,j=0,et=0,ot=0;ot<this.elements.length;ot++){var rt=this.elements[ot];j+=rt.width,xt.Types.isSpacer(rt)||(xt.Types.isNextConnection(rt)?et=Math.max(et,rt.height):o=Math.max(o,rt.height))}this.width=Math.max(this.minWidth,j),this.height=Math.max(this.minHeight,o)+et,this.descenderHeight=et,this.widthWithConnectedBlocks=this.width},Vr.BottomRow.prototype.startsWithElemSpacer=function(){return!1},Vr.BottomRow.prototype.endsWithElemSpacer=function(){return!1};var Jn={Measurable:function(o){this.height=this.width=0,this.type=xt.Types.NONE,this.centerline=this.xPos=0,this.constants_=o,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Ir={Connection:function(o,j){Jn.Measurable.call(this,o),this.connectionModel=j,this.shape=this.constants_.shapeFor(j),this.isDynamicShape=!!this.shape.isDynamic,this.type|=xt.Types.CONNECTION}};_.$jscomp.inherits(Ir.Connection,Jn.Measurable);var un={},pu=.45;un.getHsvSaturation=function(){return pu},un.setHsvSaturation=function(o){pu=o};var Vu=.65;un.getHsvValue=function(){return Vu},un.setHsvValue=function(o){Vu=o},un.parse=function(o){o=String(o).toLowerCase().trim();var j=un.names[o];if(j||(j=o.substring(0,2)==="0x"?"#"+o.substring(2):o,j=j[0]==="#"?j:"#"+j,/^#[0-9a-f]{6}$/.test(j)))return j;if(/^#[0-9a-f]{3}$/.test(j))return["#",j[1],j[1],j[2],j[2],j[3],j[3]].join("");var et=o.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return et&&(o=Number(et[1]),j=Number(et[2]),et=Number(et[3]),0<=o&&256>o&&0<=j&&256>j&&0<=et&&256>et)?(0,un.rgbToHex)(o,j,et):null},un.rgbToHex=function(o,j,et){return j=o<<16|j<<8|et,16>o?"#"+(16777216|j).toString(16).substr(1):"#"+j.toString(16)},un.hexToRgb=function(o){return o=(0,un.parse)(o),o?(o=parseInt(o.substr(1),16),[o>>16,o>>8&255,o&255]):[0,0,0]},un.hsvToHex=function(o,j,et){var ot=0,rt=0,ct=0;if(j===0)ct=rt=ot=et;else{var Et=Math.floor(o/60),wt=o/60-Et;o=et*(1-j);var Lt=et*(1-j*wt);switch(j=et*(1-j*(1-wt)),Et){case 1:ot=Lt,rt=et,ct=o;break;case 2:ot=o,rt=et,ct=j;break;case 3:ot=o,rt=Lt,ct=et;break;case 4:ot=j,rt=o,ct=et;break;case 5:ot=et,rt=o,ct=Lt;break;case 6:case 0:ot=et,rt=j,ct=o}}return(0,un.rgbToHex)(Math.floor(ot),Math.floor(rt),Math.floor(ct))},un.blend=function(o,j,et){return o=(0,un.parse)(o),!o||(j=(0,un.parse)(j),!j)?null:(o=(0,un.hexToRgb)(o),j=(0,un.hexToRgb)(j),(0,un.rgbToHex)(Math.round(j[0]+et*(o[0]-j[0])),Math.round(j[1]+et*(o[1]-j[1])),Math.round(j[2]+et*(o[2]-j[2]))))},un.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},un.hueToHex=function(o){return(0,un.hsvToHex)(o,pu,255*Vu)};var Mt={point:function(o,j){return" "+o+","+j+" "},curve:function(o,j){return" "+o+j.join("")},moveTo:function(o,j){return" M "+o+","+j+" "},moveBy:function(o,j){return" m "+o+","+j+" "},lineTo:function(o,j){return" l "+o+","+j+" "},line:function(o){return" l"+o.join("")},lineOnAxis:function(o,j){return" "+o+" "+j+" "},arc:function(o,j,et,ot){return o+" "+et+" "+et+" "+j+ot}},nn={},hu=function(o,j){var et=[],ot=o.split("");ot.push("");var rt=0;o=[];for(var ct=null,Et=0;Et<ot.length;Et++){var wt=ot[Et];rt===0?wt==="%"?((rt=o.join(""))&&et.push(rt),o.length=0,rt=1):o.push(wt):rt===1?wt==="%"?(o.push(wt),rt=0):j&&"0"<=wt&&"9">=wt?(rt=2,ct=wt,(wt=o.join(""))&&et.push(wt),o.length=0):wt==="{"?rt=3:(o.push("%",wt),rt=0):rt===2?"0"<=wt&&"9">=wt?ct+=wt:(et.push(parseInt(ct,10)),Et--,rt=0):rt===3&&(wt===""?(o.splice(0,0,"%{"),Et--,rt=0):wt!=="}"?o.push(wt):(rt=o.join(""),/[A-Z]\w*/i.test(rt)?(wt=rt.toUpperCase(),(wt=(0,_.module$exports$Blockly$utils$string.startsWith)(wt,"BKY_")?wt.substring(4):null)&&wt in _.module$exports$Blockly$Msg.Msg?(rt=_.module$exports$Blockly$Msg.Msg[wt],typeof rt=="string"?Array.prototype.push.apply(et,hu(rt,j)):j?et.push(String(rt)):et.push(rt)):et.push("%{"+rt+"}")):et.push("%{"+rt+"}"),rt=o.length=0))}for((j=o.join(""))&&et.push(j),ot=[],ct=o.length=0;ct<et.length;ct++)typeof et[ct]=="string"?o.push(et[ct]):((j=o.join(""))&&ot.push(j),o.length=0,ot.push(et[ct]));return(j=o.join(""))&&ot.push(j),o.length=0,ot};nn.tokenizeInterpolation=function(o){return hu(o,!0)},nn.replaceMessageReferences=function(o){return typeof o!="string"?o:(o=hu(o,!1),o.length?String(o[0]):"")},nn.checkMessageReferences=function(o){for(var j=!0,et=_.module$exports$Blockly$Msg.Msg,ot=o.match(/%{BKY_[A-Z]\w*}/ig),rt=0;rt<ot.length;rt++){var ct=ot[rt].toUpperCase();et[ct.slice(6,-1)]===void 0&&(console.warn("No message string for "+ot[rt]+" in "+o),j=!1)}return j},nn.parseBlockColour=function(o){var j=typeof o=="string"?(0,nn.replaceMessageReferences)(o):o,et=Number(j);if(!isNaN(et)&&0<=et&&360>=et)return{hue:et,hex:(0,un.hsvToHex)(et,(0,un.getHsvSaturation)(),255*(0,un.getHsvValue)())};if(et=(0,un.parse)(j))return{hue:null,hex:et};throw et='Invalid colour: "'+j+'"',o!==j&&(et+=' (from "'+o+'")'),Error(et)};var rn={ConstantProvider:function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=(0,Mt.moveBy)(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!$t.IE&&!$t.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.defs_=null,this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}}};rn.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},rn.ConstantProvider.prototype.setTheme=function(o){this.blockStyles=Object.create(null);var j=o.blockStyles,et;for(et in j)this.blockStyles[et]=this.validatedBlockStyle_(j[et]);this.setDynamicProperties_(o)},rn.ConstantProvider.prototype.setDynamicProperties_=function(o){this.setFontConstants_(o),this.setComponentConstants_(o),this.ADD_START_HATS=o.startHats!==null?o.startHats:this.ADD_START_HATS},rn.ConstantProvider.prototype.setFontConstants_=function(o){o.fontStyle&&o.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=o.fontStyle.family),o.fontStyle&&o.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=o.fontStyle.weight),o.fontStyle&&o.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=o.fontStyle.size),o=(0,kt.measureFontMetrics)("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=o.height,this.FIELD_TEXT_BASELINE=o.baseline},rn.ConstantProvider.prototype.setComponentConstants_=function(o){this.CURSOR_COLOUR=o.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=o.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=o.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(o.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},rn.ConstantProvider.prototype.getBlockStyleForColour=function(o){var j="auto_"+o;return this.blockStyles[j]||(this.blockStyles[j]=this.createBlockStyle_(o)),{style:this.blockStyles[j],name:j}},rn.ConstantProvider.prototype.getBlockStyle=function(o){return this.blockStyles[o||""]||(o&&o.indexOf("auto_")===0?this.getBlockStyleForColour(o.substring(5)).style:this.createBlockStyle_("#000000"))},rn.ConstantProvider.prototype.createBlockStyle_=function(o){return this.validatedBlockStyle_({colourPrimary:o})},rn.ConstantProvider.prototype.validatedBlockStyle_=function(o){var j={};return o&&(0,_.module$exports$Blockly$utils$object.mixin)(j,o),o=(0,nn.parseBlockColour)(j.colourPrimary||"#000"),j.colourPrimary=o.hex,j.colourSecondary=j.colourSecondary?(0,nn.parseBlockColour)(j.colourSecondary).hex:this.generateSecondaryColour_(j.colourPrimary),j.colourTertiary=j.colourTertiary?(0,nn.parseBlockColour)(j.colourTertiary).hex:this.generateTertiaryColour_(j.colourPrimary),j.hat=j.hat||"",j},rn.ConstantProvider.prototype.generateSecondaryColour_=function(o){return(0,un.blend)("#fff",o,.6)||o},rn.ConstantProvider.prototype.generateTertiaryColour_=function(o){return(0,un.blend)("#fff",o,.3)||o},rn.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&(0,kt.removeNode)(this.embossFilter_),this.disabledPattern_&&(0,kt.removeNode)(this.disabledPattern_),this.debugFilter_&&(0,kt.removeNode)(this.debugFilter_),this.cssNode_=null},rn.ConstantProvider.prototype.makeJaggedTeeth=function(){var o=this.JAGGED_TEETH_HEIGHT,j=this.JAGGED_TEETH_WIDTH,et=(0,Mt.line)([(0,Mt.point)(j,o/4),(0,Mt.point)(2*-j,o/2),(0,Mt.point)(j,o/4)]);return{height:o,width:j,path:et}},rn.ConstantProvider.prototype.makeStartHat=function(){var o=this.START_HAT_HEIGHT,j=this.START_HAT_WIDTH,et=(0,Mt.curve)("c",[(0,Mt.point)(30,-o),(0,Mt.point)(70,-o),(0,Mt.point)(j,0)]);return{height:o,width:j,path:et}},rn.ConstantProvider.prototype.makePuzzleTab=function(){function o(ct){ct=ct?-1:1;var Et=-ct,wt=et/2,Lt=wt+2.5,Zt=wt+.5,uo=(0,Mt.point)(-j,ct*wt);return wt=(0,Mt.point)(j,ct*wt),(0,Mt.curve)("c",[(0,Mt.point)(0,ct*Lt),(0,Mt.point)(-j,Et*Zt),uo])+(0,Mt.curve)("s",[(0,Mt.point)(j,2.5*Et),wt])}var j=this.TAB_WIDTH,et=this.TAB_HEIGHT,ot=o(!0),rt=o(!1);return{type:this.SHAPES.PUZZLE,width:j,height:et,pathDown:rt,pathUp:ot}},rn.ConstantProvider.prototype.makeNotch=function(){function o(Et){return(0,Mt.line)([(0,Mt.point)(Et*ot,et),(0,Mt.point)(3*Et,0),(0,Mt.point)(Et*ot,-et)])}var j=this.NOTCH_WIDTH,et=this.NOTCH_HEIGHT,ot=(j-3)/2,rt=o(1),ct=o(-1);return{type:this.SHAPES.NOTCH,width:j,height:et,pathLeft:rt,pathRight:ct}},rn.ConstantProvider.prototype.makeInsideCorners=function(){var o=this.CORNER_RADIUS,j=(0,Mt.arc)("a","0 0,0",o,(0,Mt.point)(-o,o)),et=(0,Mt.arc)("a","0 0,0",o,(0,Mt.point)(o,o));return{width:o,height:o,pathTop:j,pathBottom:et}},rn.ConstantProvider.prototype.makeOutsideCorners=function(){var o=this.CORNER_RADIUS,j=(0,Mt.moveBy)(0,o)+(0,Mt.arc)("a","0 0,1",o,(0,Mt.point)(o,-o)),et=(0,Mt.arc)("a","0 0,1",o,(0,Mt.point)(o,o)),ot=(0,Mt.arc)("a","0 0,1",o,(0,Mt.point)(-o,-o)),rt=(0,Mt.arc)("a","0 0,1",o,(0,Mt.point)(-o,o));return{topLeft:j,topRight:et,bottomRight:rt,bottomLeft:ot,rightHeight:o}},rn.ConstantProvider.prototype.shapeFor=function(o){switch(o.type){case _.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:case _.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:return this.PUZZLE_TAB;case _.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:case _.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},rn.ConstantProvider.prototype.createDom=function(o,j,et){this.injectCSS_(j,et),this.defs_=(0,kt.createSvgElement)(Nt.Svg.DEFS,{},o),o=(0,kt.createSvgElement)(Nt.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs_),(0,kt.createSvgElement)(Nt.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},o),j=(0,kt.createSvgElement)(Nt.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},o),(0,kt.createSvgElement)(Nt.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},j),(0,kt.createSvgElement)(Nt.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},o),(0,kt.createSvgElement)(Nt.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},o),this.embossFilterId=o.id,this.embossFilter_=o,o=(0,kt.createSvgElement)(Nt.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs_),(0,kt.createSvgElement)(Nt.Svg.RECT,{width:10,height:10,fill:"#aaa"},o),(0,kt.createSvgElement)(Nt.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},o),this.disabledPatternId=o.id,this.disabledPattern_=o,this.createDebugFilter()},rn.ConstantProvider.prototype.createDebugFilter=function(){if(!this.debugFilter_){var o=(0,kt.createSvgElement)(Nt.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs_),j=(0,kt.createSvgElement)(Nt.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},o);(0,kt.createSvgElement)(Nt.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},j),(0,kt.createSvgElement)(Nt.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},o),(0,kt.createSvgElement)(Nt.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},o),this.debugFilterId=o.id,this.debugFilter_=o}},rn.ConstantProvider.prototype.injectCSS_=function(o,j){j=this.getCSS_(j),o="blockly-renderer-style-"+o,this.cssNode_=document.getElementById(o);var et=j.join(`
`);this.cssNode_?this.cssNode_.firstChild.textContent=et:(j=document.createElement("style"),j.id=o,o=document.createTextNode(et),j.appendChild(o),document.head.insertBefore(j,document.head.firstChild),this.cssNode_=j)},rn.ConstantProvider.prototype.getCSS_=function(o){return[o+" .blocklyText, ",o+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",o+" .blocklyText {","fill: #fff;","}",o+" .blocklyNonEditableText>rect,",o+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",o+" .blocklyNonEditableText>text,",o+" .blocklyEditableText>text {","fill: #000;","}",o+" .blocklyFlyoutLabelText {","fill: #000;","}",o+" .blocklyText.blocklyBubbleText {","fill: #000;","}",o+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",o+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",o+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",o+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",o+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",o+" .blocklyReplaceable .blocklyPathLight,",o+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",o+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]};var fs={Field:function(o,j,et){Jn.Measurable.call(this,o),this.field=j,this.isEditable=j.EDITABLE,this.flipRtl=j.getFlipRtl(),this.type|=xt.Types.FIELD,o=this.field.getSize(),this.height=o.height,this.width=o.width,this.parentInput=et}};_.$jscomp.inherits(fs.Field,Jn.Measurable);var vr={register:function(o,j){(0,jt.register)(jt.Type.FIELD,o,j)},unregister:function(o){(0,jt.unregister)(jt.Type.FIELD,o)},fromJson:function(o){var j=(0,jt.getObject)(jt.Type.FIELD,o.type);return j?j.fromJson(o):(console.warn("Blockly could not create a field of type "+o.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)}},hp={IASTNodeLocation:function(){}},Lp={IASTNodeLocationSvg:function(){}},dp={IASTNodeLocationWithBlock:function(){}},Fp={IKeyboardAccessible:function(){}},fp={IRegistrable:function(){}},Tr={MarkerManager:function(o){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=o,this.markerSvg_=null}};Tr.MarkerManager.prototype.registerMarker=function(o,j){this.markers_[o]&&this.unregisterMarker(o),j.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,j)),this.setMarkerSvg(j.getDrawer().createDom()),this.markers_[o]=j},Tr.MarkerManager.prototype.unregisterMarker=function(o){var j=this.markers_[o];if(j)j.dispose(),delete this.markers_[o];else throw Error("Marker with ID "+o+" does not exist. Can only unregister markers that exist.")},Tr.MarkerManager.prototype.getCursor=function(){return this.cursor_},Tr.MarkerManager.prototype.getMarker=function(o){return this.markers_[o]||null},Tr.MarkerManager.prototype.setCursor=function(o){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=o)&&(o=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(o),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},Tr.MarkerManager.prototype.setCursorSvg=function(o){o?(this.workspace_.getBlockCanvas().appendChild(o),this.cursorSvg_=o):this.cursorSvg_=null},Tr.MarkerManager.prototype.setMarkerSvg=function(o){o?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(o,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(o)):this.markerSvg_=null},Tr.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},Tr.MarkerManager.prototype.dispose=function(){for(var o=Object.keys(this.markers_),j=0,et;et=o[j];j++)this.unregisterMarker(et);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},Tr.MarkerManager.LOCAL_MARKER="local_marker_1";var gp={Sentinel:function(){}},Nr={BlockChange:function(o,j,et,ot,rt){hn.BlockBase.call(this,o),this.type=yt.CHANGE,o&&(this.element=typeof j>"u"?"":j,this.name=typeof et>"u"?"":et,this.oldValue=typeof ot>"u"?"":ot,this.newValue=typeof rt>"u"?"":rt)}};_.$jscomp.inherits(Nr.BlockChange,hn.BlockBase),Nr.BlockChange.prototype.toJson=function(){var o=hn.BlockBase.prototype.toJson.call(this);return o.element=this.element,this.name&&(o.name=this.name),o.oldValue=this.oldValue,o.newValue=this.newValue,o},Nr.BlockChange.prototype.fromJson=function(o){hn.BlockBase.prototype.fromJson.call(this,o),this.element=o.element,this.name=o.name,this.oldValue=o.oldValue,this.newValue=o.newValue},Nr.BlockChange.prototype.isNull=function(){return this.oldValue===this.newValue},Nr.BlockChange.prototype.run=function(o){var j=this.getEventWorkspace_().getBlockById(this.blockId);if(j)switch(j.mutator&&j.mutator.setVisible(!1),o=o?this.newValue:this.oldValue,this.element){case"field":(j=j.getField(this.name))?j.setValue(o):console.warn("Can't set non-existent field: "+this.name);break;case"comment":j.setCommentText(o||null);break;case"collapsed":j.setCollapsed(!!o);break;case"disabled":j.setEnabled(!o);break;case"inline":j.setInputsInline(!!o);break;case"mutation":var et=Nr.BlockChange.getExtraBlockState_(j);j.loadExtraState?j.loadExtraState(JSON.parse(o||"{}")):j.domToMutation&&j.domToMutation((0,_.module$exports$Blockly$Xml.textToDom)(o||"<mutation/>")),(0,yt.fire)(new Nr.BlockChange(j,"mutation",null,et,o));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},Nr.BlockChange.getExtraBlockState_=function(o){return o.saveExtraState?(o=o.saveExtraState())?JSON.stringify(o):"":o.mutationToDom&&(o=o.mutationToDom())?(0,_.module$exports$Blockly$Xml.domToText)(o):""},(0,jt.register)(jt.Type.EVENT,yt.CHANGE,Nr.BlockChange);var Lr={},Hu=0,Xl=null;Lr.disposeUiEffect=function(o){var j=o.workspace,et=o.getSvgRoot();j.getAudioManager().play("delete"),o=j.getSvgXY(et),et=et.cloneNode(!0),et.translateX_=o.x,et.translateY_=o.y,et.setAttribute("transform","translate("+o.x+","+o.y+")"),j.getParentSvg().appendChild(et),et.bBox_=et.getBBox(),mp(et,j.RTL,new Date,j.scale)};var mp=function(o,j,et,ot){var rt=(new Date-et)/150;1<rt?(0,kt.removeNode)(o):(o.setAttribute("transform","translate("+(o.translateX_+(j?-1:1)*o.bBox_.width*ot/2*rt)+","+(o.translateY_+o.bBox_.height*ot*rt)+") scale("+(1-rt)*ot+")"),setTimeout(mp,10,o,j,et,ot))};Lr.connectionUiEffect=function(o){var j=o.workspace,et=j.scale;if(j.getAudioManager().play("click"),!(1>et)){var ot=j.getSvgXY(o.getSvgRoot());o.outputConnection?(ot.x+=(o.RTL?3:-3)*et,ot.y+=13*et):o.previousConnection&&(ot.x+=(o.RTL?-23:23)*et,ot.y+=3*et),o=(0,kt.createSvgElement)(Nt.Svg.CIRCLE,{cx:ot.x,cy:ot.y,r:0,fill:"none",stroke:"#888","stroke-width":10},j.getParentSvg()),Gu(o,new Date,et)}};var Gu=function(o,j,et){var ot=(new Date-j)/150;1<ot?(0,kt.removeNode)(o):(o.setAttribute("r",25*ot*et),o.style.opacity=1-ot,Hu=setTimeout(Gu,10,o,j,et))};Lr.disconnectUiEffect=function(o){if(o.workspace.getAudioManager().play("disconnect"),!(1>o.workspace.scale)){var j=o.getHeightWidth().height;j=Math.atan(10/j)/Math.PI*180,o.RTL||(j*=-1),_p(o.getSvgRoot(),j,new Date)}};var _p=function(o,j,et){var ot=(new Date-et)/200;1<ot?o.skew_="":(o.skew_="skewX("+Math.round(Math.sin(ot*Math.PI*3)*(1-ot)*j)+")",Xl=o,Hu=setTimeout(_p,10,o,j,et)),o.setAttribute("transform",o.translate_+o.skew_)};Lr.disconnectUiStop=function(){if(Xl){clearTimeout(Hu);var o=Xl;o.skew_="",o.setAttribute("transform",o.translate_),Xl=null}};var Wn={COLLAPSE_CHARS:30,DRAG_STACK:!0,OPPOSITE_TYPE:[]};Wn.OPPOSITE_TYPE[_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE]=_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE,Wn.OPPOSITE_TYPE[_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE]=_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,Wn.OPPOSITE_TYPE[_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT]=_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT,Wn.OPPOSITE_TYPE[_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT]=_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,Wn.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",Wn.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID";var dn={ComponentManager:function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)}};dn.ComponentManager.prototype.addComponent=function(o,j){var et=o.component.id;if(!j&&this.componentData_[et])throw Error('Plugin "'+et+'" with capabilities "'+this.componentData_[et].capabilities+'" already added.');this.componentData_[et]=o,j=[];for(var ot=0;ot<o.capabilities.length;ot++){var rt=String(o.capabilities[ot]).toLowerCase();j.push(rt),this.capabilityToComponentIds_[rt]===void 0?this.capabilityToComponentIds_[rt]=[et]:this.capabilityToComponentIds_[rt].push(et)}this.componentData_[et].capabilities=j},dn.ComponentManager.prototype.removeComponent=function(o){var j=this.componentData_[o];if(j){for(var et=0;et<j.capabilities.length;et++){var ot=String(j.capabilities[et]).toLowerCase();(0,xr.removeElem)(this.capabilityToComponentIds_[ot],o)}delete this.componentData_[o]}},dn.ComponentManager.prototype.addCapability=function(o,j){if(!this.getComponent(o))throw Error('Cannot add capability, "'+j+'". Plugin "'+o+'" has not been added to the ComponentManager');this.hasCapability(o,j)?console.warn('Plugin "'+o+'already has capability "'+j+'"'):(j=String(j).toLowerCase(),this.componentData_[o].capabilities.push(j),this.capabilityToComponentIds_[j].push(o))},dn.ComponentManager.prototype.removeCapability=function(o,j){if(!this.getComponent(o))throw Error('Cannot remove capability, "'+j+'". Plugin "'+o+'" has not been added to the ComponentManager');this.hasCapability(o,j)?(j=String(j).toLowerCase(),(0,xr.removeElem)(this.componentData_[o].capabilities,j),(0,xr.removeElem)(this.capabilityToComponentIds_[j],o)):console.warn('Plugin "'+o+`doesn't have capability "`+j+'" to remove')},dn.ComponentManager.prototype.hasCapability=function(o,j){return j=String(j).toLowerCase(),this.componentData_[o].capabilities.indexOf(j)!==-1},dn.ComponentManager.prototype.getComponent=function(o){return this.componentData_[o]&&this.componentData_[o].component},dn.ComponentManager.prototype.getComponents=function(o,j){if(o=String(o).toLowerCase(),o=this.capabilityToComponentIds_[o],!o)return[];var et=[];if(j){var ot=[],rt=this.componentData_;o.forEach(function(Et){ot.push(rt[Et])}),ot.sort(function(Et,wt){return Et.weight-wt.weight}),ot.forEach(function(Et){et.push(Et.component)})}else{var ct=this.componentData_;o.forEach(function(Et){et.push(ct[Et].component)})}return et},dn.ComponentManager.Capability=function(o){this.name_=o},dn.ComponentManager.Capability.prototype.toString=function(){return this.name_},dn.ComponentManager.Capability.POSITIONABLE=new dn.ComponentManager.Capability("positionable"),dn.ComponentManager.Capability.DRAG_TARGET=new dn.ComponentManager.Capability("drag_target"),dn.ComponentManager.Capability.DELETE_AREA=new dn.ComponentManager.Capability("delete_area"),dn.ComponentManager.Capability.AUTOHIDEABLE=new dn.ComponentManager.Capability("autohideable");var yp={IContextMenu:function(){}},Pp={IDeletable:function(){}},vp={IDraggable:function(){}},Up={IBubble:function(){}},Vn={},Tp=function(o,j){window.alert(o),j&&j()},Wu=function(o,j){j(window.confirm(o))},Ep=function(o,j,et){et(window.prompt(o,j))};Vn.alert=function(o,j){Tp(o,j)},Vn.setAlert=function(o){Tp=o},Vn.confirm=function(o,j){Wu(o,j)},Vn.setConfirm=function(o){Wu=o},Vn.prompt=function(o,j,et){Ep(o,j,et)},Vn.setPrompt=function(o){Ep=o};var ar={VarBase:function(o){an.Abstract.call(this),this.varId=(this.isBlank=typeof o>"u")?"":o.getId(),this.workspaceId=this.isBlank?"":o.workspace.id}};_.$jscomp.inherits(ar.VarBase,an.Abstract),ar.VarBase.prototype.toJson=function(){var o=an.Abstract.prototype.toJson.call(this);return o.varId=this.varId,o},ar.VarBase.prototype.fromJson=function(o){an.Abstract.prototype.fromJson.call(this,o),this.varId=o.varId};var Tl={VarCreate:function(o){ar.VarBase.call(this,o),this.type=yt.VAR_CREATE,o&&(this.varType=o.type,this.varName=o.name)}};_.$jscomp.inherits(Tl.VarCreate,ar.VarBase),Tl.VarCreate.prototype.toJson=function(){var o=ar.VarBase.prototype.toJson.call(this);return o.varType=this.varType,o.varName=this.varName,o},Tl.VarCreate.prototype.fromJson=function(o){ar.VarBase.prototype.fromJson.call(this,o),this.varType=o.varType,this.varName=o.varName},Tl.VarCreate.prototype.run=function(o){var j=this.getEventWorkspace_();o?j.createVariable(this.varName,this.varType,this.varId):j.deleteVariableById(this.varId)},(0,jt.register)(jt.Type.EVENT,yt.VAR_CREATE,Tl.VarCreate);var As={VariableModel:function(o,j,et,ot){this.workspace=o,this.name=j,this.type=et||"",this.id_=ot||(0,mn.genUid)(),(0,yt.fire)(new((0,yt.get)(yt.VAR_CREATE))(this))}};As.VariableModel.prototype.getId=function(){return this.id_},As.VariableModel.compareByName=function(o,j){return o.name.localeCompare(j.name,void 0,{sensitivity:"base"})};var ju;_.module$exports$Blockly$Variables={CATEGORY_NAME:"VARIABLE",allUsedVarModels:function(o){var j=o.getAllBlocks(!1);o=Object.create(null);for(var et=0;et<j.length;et++){var ot=j[et].getVarModels();if(ot)for(var rt=0;rt<ot.length;rt++){var ct=ot[rt],Et=ct.getId();Et&&(o[Et]=ct)}}j=[];for(var wt in o)j.push(o[wt]);return j}},ju={},_.module$exports$Blockly$Variables.allDeveloperVariables=function(o){o=o.getAllBlocks(!1);for(var j=Object.create(null),et=0,ot;ot=o[et];et++){var rt=ot.getDeveloperVariables;if(!rt&&ot.getDeveloperVars&&(rt=ot.getDeveloperVars,ju[ot.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+ot.type+"')"),ju[ot.type]=!0)),rt)for(ot=rt(),rt=0;rt<ot.length;rt++)j[ot[rt]]=!0}return Object.keys(j)},_.module$exports$Blockly$Variables.flyoutCategory=function(o){var j=[],et=document.createElement("button");return et.setAttribute("text","%{BKY_NEW_VARIABLE}"),et.setAttribute("callbackKey","CREATE_VARIABLE"),o.registerButtonCallback("CREATE_VARIABLE",function(ot){(0,_.module$exports$Blockly$Variables.createVariableButtonHandler)(ot.getTargetWorkspace())}),j.push(et),o=(0,_.module$exports$Blockly$Variables.flyoutCategoryBlocks)(o),j=j.concat(o)},_.module$exports$Blockly$Variables.flyoutCategoryBlocks=function(o){o=o.getVariablesOfType("");var j=[];if(0<o.length){var et=o[o.length-1];if(Dt.Blocks.variables_set){var ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block");ot.setAttribute("type","variables_set"),ot.setAttribute("gap",Dt.Blocks.math_change?8:24),ot.appendChild((0,_.module$exports$Blockly$Variables.generateVariableFieldDom)(et)),j.push(ot)}if(Dt.Blocks.math_change&&(ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block"),ot.setAttribute("type","math_change"),ot.setAttribute("gap",Dt.Blocks.variables_get?20:8),ot.appendChild((0,_.module$exports$Blockly$Variables.generateVariableFieldDom)(et)),et=(0,_.module$exports$Blockly$Xml.textToDom)('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),ot.appendChild(et),j.push(ot)),Dt.Blocks.variables_get)for(o.sort(As.VariableModel.compareByName),et=0;ot=o[et];et++){var rt=(0,_.module$exports$Blockly$utils$xml.createElement)("block");rt.setAttribute("type","variables_get"),rt.setAttribute("gap",8),rt.appendChild((0,_.module$exports$Blockly$Variables.generateVariableFieldDom)(ot)),j.push(rt)}}return j},_.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",_.module$exports$Blockly$Variables.generateUniqueName=function(o){return(0,_.module$exports$Blockly$Variables.generateUniqueNameFromOptions)(_.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS.charAt(0),o.getAllVariableNames())},_.module$exports$Blockly$Variables.generateUniqueNameFromOptions=function(o,j){if(!j.length)return o;for(var et=_.module$exports$Blockly$Variables.VAR_LETTER_OPTIONS,ot="",rt=et.indexOf(o);;){for(var ct=!1,Et=0;Et<j.length;Et++)if(j[Et].toLowerCase()===o){ct=!0;break}if(!ct)return o;rt++,rt===et.length&&(rt=0,ot=Number(ot)+1),o=et.charAt(rt)+ot}},_.module$exports$Blockly$Variables.createVariableButtonHandler=function(o,j,et){var ot=et||"",rt=function(ct){(0,_.module$exports$Blockly$Variables.promptName)(_.module$exports$Blockly$Msg.Msg.NEW_VARIABLE_TITLE,ct,function(Et){if(Et){var wt=(0,_.module$exports$Blockly$Variables.nameUsedWithAnyType)(Et,o);if(wt){if(wt.type===ot)var Lt=_.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",wt.name);else Lt=_.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Lt=Lt.replace("%1",wt.name).replace("%2",wt.type);(0,Vn.alert)(Lt,function(){rt(Et)})}else o.createVariable(Et,ot),j&&j(Et)}else j&&j(null)})};rt("")},_.module$exports$Blockly$Variables.renameVariable=function(o,j,et){var ot=function(rt){var ct=_.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE_TITLE.replace("%1",j.name);(0,_.module$exports$Blockly$Variables.promptName)(ct,rt,function(Et){if(Et){var wt=kp(Et,j.type,o);wt?(wt=_.module$exports$Blockly$Msg.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",wt.name).replace("%2",wt.type),(0,Vn.alert)(wt,function(){ot(Et)})):(o.renameVariableById(j.getId(),Et),et&&et(Et))}else et&&et(null)})};ot("")},_.module$exports$Blockly$Variables.promptName=function(o,j,et){(0,Vn.prompt)(o,j,function(ot){ot&&(ot=ot.replace(/[\s\xa0]+/g," ").trim(),ot===_.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE||ot===_.module$exports$Blockly$Msg.Msg.NEW_VARIABLE)&&(ot=null),et(ot)})};var kp=function(o,j,et){et=et.getVariableMap().getAllVariables(),o=o.toLowerCase();for(var ot=0,rt;rt=et[ot];ot++)if(rt.name.toLowerCase()===o&&rt.type!==j)return rt;return null};_.module$exports$Blockly$Variables.nameUsedWithAnyType=function(o,j){j=j.getVariableMap().getAllVariables(),o=o.toLowerCase();for(var et=0,ot;ot=j[et];et++)if(ot.name.toLowerCase()===o)return ot;return null},_.module$exports$Blockly$Variables.generateVariableFieldDom=function(o){var j=(0,_.module$exports$Blockly$utils$xml.createElement)("field");return j.setAttribute("name","VAR"),j.setAttribute("id",o.getId()),j.setAttribute("variabletype",o.type),o=(0,_.module$exports$Blockly$utils$xml.createTextNode)(o.name),j.appendChild(o),j},_.module$exports$Blockly$Variables.getOrCreateVariablePackage=function(o,j,et,ot){var rt=(0,_.module$exports$Blockly$Variables.getVariable)(o,j,et,ot);return rt||(rt=Vp(o,j,et,ot)),rt},_.module$exports$Blockly$Variables.getVariable=function(o,j,et,ot){var rt=o.getPotentialVariableMap(),ct=null;if(j&&(ct=o.getVariableById(j),!ct&&rt&&(ct=rt.getVariableById(j)),ct))return ct;if(et){if(ot===void 0)throw Error("Tried to look up a variable by name without a type");ct=o.getVariable(et,ot),!ct&&rt&&(ct=rt.getVariable(et,ot))}return ct};var Vp=function(o,j,et,ot){var rt=o.getPotentialVariableMap();return et||(et=_.module$exports$Blockly$Variables.generateUniqueName(o.isFlyout?o.targetWorkspace:o)),rt?rt.createVariable(et,ot,j):o.createVariable(et,ot,j)};_.module$exports$Blockly$Variables.getAddedVariables=function(o,j){o=o.getAllVariables();var et=[];if(j.length!==o.length)for(var ot=0;ot<o.length;ot++){var rt=o[ot];j.indexOf(rt)===-1&&et.push(rt)}return et},_.module$exports$Blockly$Names={Names:function(o,j){if(this.variablePrefix_=j||"",this.reservedDict_=Object.create(null),this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null,o)for(o=o.split(","),j=0;j<o.length;j++)this.reservedDict_[o[j]]=!0;this.reset()}},_.module$exports$Blockly$Names.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},_.module$exports$Blockly$Names.Names.prototype.setVariableMap=function(o){this.variableMap_=o},_.module$exports$Blockly$Names.Names.prototype.getNameForUserVariable_=function(o){return this.variableMap_?(o=this.variableMap_.getVariableById(o))?o.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)},_.module$exports$Blockly$Names.Names.prototype.populateVariables=function(o){o=(0,_.module$exports$Blockly$Variables.allUsedVarModels)(o);for(var j=0;j<o.length;j++)this.getName(o[j].getId(),_.module$exports$Blockly$Names.NameType.VARIABLE)},_.module$exports$Blockly$Names.Names.prototype.populateProcedures=function(o){o=_.module$exports$Blockly$Procedures.allProcedures(o),o=o[0].concat(o[1]);for(var j=0;j<o.length;j++)this.getName(o[j][0],_.module$exports$Blockly$Names.NameType.PROCEDURE)},_.module$exports$Blockly$Names.Names.prototype.getName=function(o,j){var et=o;j===_.module$exports$Blockly$Names.NameType.VARIABLE&&(o=this.getNameForUserVariable_(o))&&(et=o),o=et.toLowerCase();var ot=j===_.module$exports$Blockly$Names.NameType.VARIABLE||j===_.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE?this.variablePrefix_:"";j in this.db_||(this.db_[j]=Object.create(null));var rt=this.db_[j];return o in rt?ot+rt[o]:(j=this.getDistinctName(et,j),rt[o]=j.substr(ot.length),j)},_.module$exports$Blockly$Names.Names.prototype.getUserNames=function(o){return Object.keys(this.db_[o]||{})},_.module$exports$Blockly$Names.Names.prototype.getDistinctName=function(o,j){o=this.safeName_(o);for(var et="";this.dbReverse_[o+et]||o+et in this.reservedDict_;)et=et?et+1:2;return o+=et,this.dbReverse_[o]=!0,(j===_.module$exports$Blockly$Names.NameType.VARIABLE||j===_.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE?this.variablePrefix_:"")+o},_.module$exports$Blockly$Names.Names.prototype.safeName_=function(o){return o?(o=encodeURI(o.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".indexOf(o[0])!==-1&&(o="my_"+o)):o=_.module$exports$Blockly$Msg.Msg.UNNAMED_KEY||"unnamed",o},_.module$exports$Blockly$Names.Names.equals=function(o,j){return o.toLowerCase()===j.toLowerCase()},_.module$exports$Blockly$Names.NameType={DEVELOPER_VARIABLE:"DEVELOPER_VARIABLE",VARIABLE:"VARIABLE",PROCEDURE:"PROCEDURE"},_.module$exports$Blockly$Names.Names.NameType=_.module$exports$Blockly$Names.NameType,_.module$exports$Blockly$Names.Names.DEVELOPER_VARIABLE_TYPE=_.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE;var Xs={VarDelete:function(o){ar.VarBase.call(this,o),this.type=yt.VAR_DELETE,o&&(this.varType=o.type,this.varName=o.name)}};_.$jscomp.inherits(Xs.VarDelete,ar.VarBase),Xs.VarDelete.prototype.toJson=function(){var o=ar.VarBase.prototype.toJson.call(this);return o.varType=this.varType,o.varName=this.varName,o},Xs.VarDelete.prototype.fromJson=function(o){ar.VarBase.prototype.fromJson.call(this,o),this.varType=o.varType,this.varName=o.varName},Xs.VarDelete.prototype.run=function(o){var j=this.getEventWorkspace_();o?j.deleteVariableById(this.varId):j.createVariable(this.varName,this.varType,this.varId)},(0,jt.register)(jt.Type.EVENT,yt.VAR_DELETE,Xs.VarDelete);var El={VarRename:function(o,j){ar.VarBase.call(this,o),this.type=yt.VAR_RENAME,o&&(this.oldName=o.name,this.newName=typeof j>"u"?"":j)}};_.$jscomp.inherits(El.VarRename,ar.VarBase),El.VarRename.prototype.toJson=function(){var o=ar.VarBase.prototype.toJson.call(this);return o.oldName=this.oldName,o.newName=this.newName,o},El.VarRename.prototype.fromJson=function(o){ar.VarBase.prototype.fromJson.call(this,o),this.oldName=o.oldName,this.newName=o.newName},El.VarRename.prototype.run=function(o){var j=this.getEventWorkspace_();o?j.renameVariableById(this.varId,this.newName):j.renameVariableById(this.varId,this.oldName)},(0,jt.register)(jt.Type.EVENT,yt.VAR_RENAME,El.VarRename);var jn={VariableMap:function(o){this.variableMap_=Object.create(null),this.workspace=o}};jn.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},jn.VariableMap.prototype.renameVariable=function(o,j){var et=this.getVariable(j,o.type),ot=this.workspace.getAllBlocks(!1);(0,yt.setGroup)(!0);try{et&&et.getId()!==o.getId()?this.renameVariableWithConflict_(o,j,et,ot):this.renameVariableAndUses_(o,j,ot)}finally{(0,yt.setGroup)(!1)}},jn.VariableMap.prototype.renameVariableById=function(o,j){var et=this.getVariableById(o);if(!et)throw Error("Tried to rename a variable that didn't exist. ID: "+o);this.renameVariable(et,j)},jn.VariableMap.prototype.renameVariableAndUses_=function(o,j,et){for((0,yt.fire)(new((0,yt.get)(yt.VAR_RENAME))(o,j)),o.name=j,j=0;j<et.length;j++)et[j].updateVarName(o)},jn.VariableMap.prototype.renameVariableWithConflict_=function(o,j,et,ot){var rt=o.type;for(j!==et.name&&this.renameVariableAndUses_(et,j,ot),j=0;j<ot.length;j++)ot[j].renameVarById(o.getId(),et.getId());(0,yt.fire)(new((0,yt.get)(yt.VAR_DELETE))(o)),(0,xr.removeElem)(this.variableMap_[rt],o)},jn.VariableMap.prototype.createVariable=function(o,j,et){var ot=this.getVariable(o,j);if(ot){if(et&&ot.getId()!==et)throw Error('Variable "'+o+'" is already in use and its id is "'+ot.getId()+'" which conflicts with the passed in id, "'+et+'".');return ot}if(et&&this.getVariableById(et))throw Error('Variable id, "'+et+'", is already in use.');return ot=et||(0,mn.genUid)(),j=j||"",ot=new As.VariableModel(this.workspace,o,j,ot),o=this.variableMap_[j]||[],o.push(ot),delete this.variableMap_[j],this.variableMap_[j]=o,ot},jn.VariableMap.prototype.deleteVariable=function(o){for(var j=o.getId(),et=this.variableMap_[o.type],ot=0;ot<et.length;ot++)if(et[ot].getId()===j){et.splice(ot,1),(0,yt.fire)(new((0,yt.get)(yt.VAR_DELETE))(o));break}},jn.VariableMap.prototype.deleteVariableById=function(o){var j=this.getVariableById(o);if(j){var et=j.name,ot=this.getVariableUsesById(o);o=0;for(var rt=void 0;rt=ot[o];o++)if(rt.type==="procedures_defnoreturn"||rt.type==="procedures_defreturn"){o=String(rt.getFieldValue("NAME")),et=_.module$exports$Blockly$Msg.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",et).replace("%2",o),(0,Vn.alert)(et);return}var ct=this;1<ot.length?(et=_.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(ot.length)).replace("%2",et),(0,Vn.confirm)(et,function(Et){Et&&j&&ct.deleteVariableInternal(j,ot)})):ct.deleteVariableInternal(j,ot)}else console.warn("Can't delete non-existent variable: "+o)},jn.VariableMap.prototype.deleteVariableInternal=function(o,j){var et=(0,yt.getGroup)();et||(0,yt.setGroup)(!0);try{for(var ot=0;ot<j.length;ot++)j[ot].dispose(!0);this.deleteVariable(o)}finally{et||(0,yt.setGroup)(!1)}},jn.VariableMap.prototype.getVariable=function(o,j){if(j=this.variableMap_[j||""]){for(var et=0,ot;ot=j[et];et++)if(_.module$exports$Blockly$Names.Names.equals(ot.name,o))return ot}return null},jn.VariableMap.prototype.getVariableById=function(o){for(var j=Object.keys(this.variableMap_),et=0;et<j.length;et++)for(var ot=j[et],rt=0,ct;ct=this.variableMap_[ot][rt];rt++)if(ct.getId()===o)return ct;return null},jn.VariableMap.prototype.getVariablesOfType=function(o){return(o=this.variableMap_[o||""])?o.slice():[]},jn.VariableMap.prototype.getVariableTypes=function(o){var j={};(0,_.module$exports$Blockly$utils$object.mixin)(j,this.variableMap_),o&&o.getPotentialVariableMap()&&(0,_.module$exports$Blockly$utils$object.mixin)(j,o.getPotentialVariableMap().variableMap_),o=Object.keys(j),j=!1;for(var et=0;et<o.length;et++)o[et]===""&&(j=!0);return j||o.push(""),o},jn.VariableMap.prototype.getAllVariables=function(){var o=[],j;for(j in this.variableMap_)o=o.concat(this.variableMap_[j]);return o},jn.VariableMap.prototype.getAllVariableNames=function(){var o=[],j;for(j in this.variableMap_)for(var et=this.variableMap_[j],ot=0,rt;rt=et[ot];ot++)o.push(rt.name);return o},jn.VariableMap.prototype.getVariableUsesById=function(o){for(var j=[],et=this.workspace.getAllBlocks(!1),ot=0;ot<et.length;ot++){var rt=et[ot].getVarModels();if(rt)for(var ct=0;ct<rt.length;ct++)rt[ct].getId()===o&&j.push(et[ot])}return j};var gs={BlockMove:function(o){hn.BlockBase.call(this,o),this.type=yt.MOVE,o&&(o.isShadow()&&(this.recordUndo=!1),o=this.currentLocation_(),this.oldParentId=o.parentId,this.oldInputName=o.inputName,this.oldCoordinate=o.coordinate,this.newCoordinate=this.newInputName=this.newParentId=null)}};_.$jscomp.inherits(gs.BlockMove,hn.BlockBase),gs.BlockMove.prototype.toJson=function(){var o=hn.BlockBase.prototype.toJson.call(this);return this.newParentId&&(o.newParentId=this.newParentId),this.newInputName&&(o.newInputName=this.newInputName),this.newCoordinate&&(o.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(o.recordUndo=this.recordUndo),o},gs.BlockMove.prototype.fromJson=function(o){if(hn.BlockBase.prototype.fromJson.call(this,o),this.newParentId=o.newParentId,this.newInputName=o.newInputName,o.newCoordinate){var j=o.newCoordinate.split(",");this.newCoordinate=new go.Coordinate(Number(j[0]),Number(j[1]))}o.recordUndo!==void 0&&(this.recordUndo=o.recordUndo)},gs.BlockMove.prototype.recordNew=function(){var o=this.currentLocation_();this.newParentId=o.parentId,this.newInputName=o.inputName,this.newCoordinate=o.coordinate},gs.BlockMove.prototype.currentLocation_=function(){var o=this.getEventWorkspace_().getBlockById(this.blockId),j={},et=o.getParent();return et?(j.parentId=et.id,(o=et.getInputWithBlock(o))&&(j.inputName=o.name)):j.coordinate=o.getRelativeToSurfaceXY(),j},gs.BlockMove.prototype.isNull=function(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&go.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},gs.BlockMove.prototype.run=function(o){var j=this.getEventWorkspace_(),et=j.getBlockById(this.blockId);if(et){var ot=o?this.newParentId:this.oldParentId,rt=o?this.newInputName:this.oldInputName;if(o=o?this.newCoordinate:this.oldCoordinate,ot){var ct=j.getBlockById(ot);if(!ct){console.warn("Can't connect to non-existent block: "+ot);return}}if(et.getParent()&&et.unplug(),o)rt=et.getRelativeToSurfaceXY(),et.moveBy(o.x-rt.x,o.y-rt.y);else{if(j=et.outputConnection,(!j||et.previousConnection&&et.previousConnection.isConnected())&&(j=et.previousConnection),et=j.type,rt){if(et=ct.getInput(rt))var Et=et.connection}else et===_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&(Et=ct.nextConnection);Et?j.connect(Et):console.warn("Can't connect to non-existent input: "+rt)}}else console.warn("Can't move non-existent block: "+this.blockId)},(0,jt.register)(jt.Type.EVENT,yt.MOVE,gs.BlockMove);var Zr={COLLAPSED_INPUT_NAME:"_TEMP_COLLAPSED_INPUT",COLLAPSED_FIELD_NAME:"_TEMP_COLLAPSED_FIELD"},Eo={Connection:function(o,j){this.sourceBlock_=o,this.type=j,this.targetConnection=null,this.disposed=!1,this.shadowDom_=this.check_=null,this.y=this.x=0,this.shadowState_=null}};Eo.Connection.prototype.connect_=function(o){var j=_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,et=this.getSourceBlock(),ot=o.getSourceBlock();if(o.isConnected()&&o.disconnect(),this.isConnected()){var rt=this.stashShadowState_(),ct=this.targetBlock();if(ct.isShadow())ct.dispose(!1);else{this.disconnect();var Et=ct}this.applyShadowState_(rt)}var wt;(0,yt.isEnabled)()&&(wt=new((0,yt.get)(yt.MOVE))(ot)),Sp(this,o),ot.setParent(et),wt&&(wt.recordNew(),(0,yt.fire)(wt)),Et&&(o=this.type===j?Et.outputConnection:Et.previousConnection,(ot=Eo.Connection.getConnectionForOrphanedConnection(ot,o))?o.connect(ot):o.onFailedConnect(this))},Eo.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowStateInternal_();var o=this.targetBlock();o&&o.unplug()}this.disposed=!0},Eo.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},Eo.Connection.prototype.isSuperior=function(){return this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT},Eo.Connection.prototype.isConnected=function(){return!!this.targetConnection},Eo.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},Eo.Connection.prototype.onFailedConnect=function(o){},Eo.Connection.prototype.connect=function(o){if(this.targetConnection===o)return!0;if(this.getConnectionChecker().canConnect(this,o,!1)){var j=(0,yt.getGroup)();j||(0,yt.setGroup)(!0),this.isSuperior()?this.connect_(o):o.connect_(this),j||(0,yt.setGroup)(!1)}return this.isConnected()},Eo.Connection.prototype.disconnect=function(){var o=this.targetConnection;if(!o)throw Error("Source connection not connected.");if(o.targetConnection!==this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var j=this.sourceBlock_,et=o.getSourceBlock();o=this}else j=o.getSourceBlock(),et=this.sourceBlock_;var ot=(0,yt.getGroup)();ot||(0,yt.setGroup)(!0),this.disconnectInternal_(j,et),et.isShadow()||o.respawnShadow_(),ot||(0,yt.setGroup)(!1)},Eo.Connection.prototype.disconnectInternal_=function(o,j){var et;(0,yt.isEnabled)()&&(et=new((0,yt.get)(yt.MOVE))(j)),this.targetConnection=this.targetConnection.targetConnection=null,j.setParent(null),et&&(et.recordNew(),(0,yt.fire)(et))},Eo.Connection.prototype.respawnShadow_=function(){this.createShadowBlock_(!0)},Eo.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},Eo.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},Eo.Connection.prototype.setCheck=function(o){return o?(Array.isArray(o)||(o=[o]),this.check_=o,this.onCheckChanged_()):this.check_=null,this},Eo.Connection.prototype.getCheck=function(){return this.check_},Eo.Connection.prototype.setShadowDom=function(o){this.setShadowStateInternal_({shadowDom:o})},Eo.Connection.prototype.getShadowDom=function(o){return o&&this.targetBlock().isShadow()?(0,_.module$exports$Blockly$Xml.blockToDom)(this.targetBlock()):this.shadowDom_},Eo.Connection.prototype.setShadowState=function(o){this.setShadowStateInternal_({shadowState:o})},Eo.Connection.prototype.getShadowState=function(o){return o&&this.targetBlock()&&this.targetBlock().isShadow()?(0,Dn.save)(this.targetBlock()):this.shadowState_},Eo.Connection.prototype.neighbours=function(o){return[]},Eo.Connection.prototype.getParentInput=function(){for(var o=null,j=this.sourceBlock_.inputList,et=0;et<j.length;et++)if(j[et].connection===this){o=j[et];break}return o},Eo.Connection.prototype.toString=function(){var o=this.sourceBlock_;if(!o)return"Orphan Connection";if(o.outputConnection===this)var j="Output Connection of ";else if(o.previousConnection===this)j="Previous Connection of ";else if(o.nextConnection===this)j="Next Connection of ";else{j=null;for(var et=0,ot;ot=o.inputList[et];et++)if(ot.connection===this){j=ot;break}if(j)j='Input "'+j.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return j+o.toDevString()},Eo.Connection.prototype.stashShadowState_=function(){var o=this.getShadowDom(!0),j=this.getShadowState(!0);return this.shadowState_=this.shadowDom_=null,{shadowDom:o,shadowState:j}},Eo.Connection.prototype.applyShadowState_=function(o){var j=o.shadowState;this.shadowDom_=o.shadowDom,this.shadowState_=j},Eo.Connection.prototype.setShadowStateInternal_=function(o){o=o===void 0?{}:o;var j=o.shadowState===void 0?null:o.shadowState;this.shadowDom_=o.shadowDom===void 0?null:o.shadowDom,this.shadowState_=j,(o=this.targetBlock())?o.isShadow()?(o.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock())):(o=this.createShadowBlock_(!1),this.serializeShadow_(o),o&&o.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock()))},Eo.Connection.prototype.createShadowBlock_=function(o){var j=this.getSourceBlock(),et=this.getShadowState(),ot=this.getShadowDom();if(!j.workspace||!et&&!ot)return null;if(et)return j=(0,Dn.appendInternal)(et,j.workspace,{parentConnection:o?this:void 0,isShadow:!0,recordUndo:!1});if(ot){if(j=(0,_.module$exports$Blockly$Xml.domToBlock)(ot,j.workspace),o)if(this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE){if(!j.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(j.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT){if(!j.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(j.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return j}return null},Eo.Connection.prototype.serializeShadow_=function(o){o&&(this.shadowDom_=(0,_.module$exports$Blockly$Xml.blockToDom)(o),this.shadowState_=(0,Dn.save)(o))},Eo.Connection.getConnectionForOrphanedConnection=function(o,j){if(j.type===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE)return Cp(o,j.getSourceBlock());o=o.lastConnectionInStack(!0);var et=j.getConnectionChecker();return o&&et.canConnect(j,o,!1)?o:null},Eo.Connection.CAN_CONNECT=0,Eo.Connection.REASON_SELF_CONNECTION=1,Eo.Connection.REASON_WRONG_TYPE=2,Eo.Connection.REASON_TARGET_NULL=3,Eo.Connection.REASON_CHECKS_FAILED=4,Eo.Connection.REASON_DIFFERENT_WORKSPACES=5,Eo.Connection.REASON_SHADOW_PARENT=6,Eo.Connection.REASON_DRAG_CHECKS_FAILED=7,Eo.Connection.REASON_PREVIOUS_AND_OUTPUT=8;var Sp=function(o,j){if(!o||!j)throw Error("Cannot connect null connections.");o.targetConnection=j,j.targetConnection=o},Hp=function(o,j){var et=null;j=j.outputConnection;for(var ot=j.getConnectionChecker(),rt=0,ct;ct=o.inputList[rt];rt++)if((ct=ct.connection)&&ot.canConnect(j,ct,!1)){if(et)return null;et=ct}return et},Cp=function(o,j){for(var et;et=Hp(o,j);)if(o=et.targetBlock(),!o||o.isShadow())return et;return null},Gp={IConnectionChecker:function(){}},Qr={ConnectionChecker:function(){}};Qr.ConnectionChecker.prototype.canConnect=function(o,j,et,ot){return this.canConnectWithReason(o,j,et,ot)===Eo.Connection.CAN_CONNECT},Qr.ConnectionChecker.prototype.canConnectWithReason=function(o,j,et,ot){var rt=this.doSafetyChecks(o,j);return rt!==Eo.Connection.CAN_CONNECT?rt:this.doTypeChecks(o,j)?et&&!this.doDragChecks(o,j,ot||0)?Eo.Connection.REASON_DRAG_CHECKS_FAILED:Eo.Connection.CAN_CONNECT:Eo.Connection.REASON_CHECKS_FAILED},Qr.ConnectionChecker.prototype.getErrorMessage=function(o,j,et){switch(o){case Eo.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Eo.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Eo.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Eo.Connection.REASON_TARGET_NULL:return"Target connection is null.";case Eo.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+(j+" expected "+j.getCheck()+", found "+et.getCheck());case Eo.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Eo.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Eo.Connection.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}},Qr.ConnectionChecker.prototype.doSafetyChecks=function(o,j){if(!o||!j)return Eo.Connection.REASON_TARGET_NULL;if(o.isSuperior())var et=o.getSourceBlock(),ot=j.getSourceBlock(),rt=j;else ot=o.getSourceBlock(),et=j.getSourceBlock(),rt=o,o=j;return et===ot?Eo.Connection.REASON_SELF_CONNECTION:rt.type!==Wn.OPPOSITE_TYPE[o.type]?Eo.Connection.REASON_WRONG_TYPE:et.workspace!==ot.workspace?Eo.Connection.REASON_DIFFERENT_WORKSPACES:et.isShadow()&&!ot.isShadow()?Eo.Connection.REASON_SHADOW_PARENT:rt.type===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE&&ot.previousConnection&&ot.previousConnection.isConnected()||rt.type===_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&ot.outputConnection&&ot.outputConnection.isConnected()?Eo.Connection.REASON_PREVIOUS_AND_OUTPUT:Eo.Connection.CAN_CONNECT},Qr.ConnectionChecker.prototype.doTypeChecks=function(o,j){if(o=o.getCheck(),j=j.getCheck(),!o||!j)return!0;for(var et=0;et<o.length;et++)if(j.indexOf(o[et])!==-1)return!0;return!1},Qr.ConnectionChecker.prototype.doDragChecks=function(o,j,et){if(o.distanceFrom(j)>et||j.getSourceBlock().isInsertionMarker())return!1;switch(j.type){case _.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(o,j);case _.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:if(j.isConnected()&&!j.targetBlock().isInsertionMarker()||o.isConnected())return!1;break;case _.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:if(j.isConnected()&&!j.targetBlock().isMovable()&&!j.targetBlock().isShadow())return!1;break;case _.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:if(j.isConnected()&&!o.getSourceBlock().nextConnection&&!j.targetBlock().isShadow()&&j.targetBlock().nextConnection)return!1;break;default:return!1}return _.module$exports$Blockly$common.draggingConnections.indexOf(j)===-1},Qr.ConnectionChecker.prototype.canConnectToPrevious_=function(o,j){return o.targetConnection||_.module$exports$Blockly$common.draggingConnections.indexOf(j)!==-1?!1:j.targetConnection?(o=j.targetBlock(),o.isInsertionMarker()?!o.getPreviousBlock():!1):!0},(0,jt.register)(jt.Type.CONNECTION_CHECKER,jt.DEFAULT,Qr.ConnectionChecker);var yo={},Sl=Object.create(null);yo.Workspace=function(o){this.id=(0,mn.genUid)(),Sl[this.id]=this,this.options=o||new tr.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.isClearing=this.isMutator=this.isFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=null,this.connectionChecker=new((0,jt.getClassFromOptions)(jt.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new jn.VariableMap(this),this.potentialVariableMap_=null},yo.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete Sl[this.id]},yo.Workspace.prototype.sortObjects_=function(o,j){return o=o.getRelativeToSurfaceXY(),j=j.getRelativeToSurfaceXY(),o.y+yo.Workspace.prototype.sortObjects_.offset*o.x-(j.y+yo.Workspace.prototype.sortObjects_.offset*j.x)},yo.Workspace.prototype.addTopBlock=function(o){this.topBlocks_.push(o)},yo.Workspace.prototype.removeTopBlock=function(o){if(!(0,xr.removeElem)(this.topBlocks_,o))throw Error("Block not present in workspace's list of top-most blocks.")},yo.Workspace.prototype.getTopBlocks=function(o){var j=[].concat(this.topBlocks_);return o&&1<j.length&&(this.sortObjects_.offset=Math.sin((0,sr.toRadians)(yo.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),j.sort(this.sortObjects_)),j},yo.Workspace.prototype.addTypedBlock=function(o){this.typedBlocksDB_[o.type]||(this.typedBlocksDB_[o.type]=[]),this.typedBlocksDB_[o.type].push(o)},yo.Workspace.prototype.removeTypedBlock=function(o){(0,xr.removeElem)(this.typedBlocksDB_[o.type],o),this.typedBlocksDB_[o.type].length||delete this.typedBlocksDB_[o.type]},yo.Workspace.prototype.getBlocksByType=function(o,j){return this.typedBlocksDB_[o]?(o=this.typedBlocksDB_[o].slice(0),j&&1<o.length&&(this.sortObjects_.offset=Math.sin((0,sr.toRadians)(yo.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),o.sort(this.sortObjects_)),o.filter(function(et){return!et.isInsertionMarker()})):[]},yo.Workspace.prototype.addTopComment=function(o){this.topComments_.push(o),this.commentDB_[o.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+o.id+'"'),this.commentDB_[o.id]=o},yo.Workspace.prototype.removeTopComment=function(o){if(!(0,xr.removeElem)(this.topComments_,o))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[o.id]},yo.Workspace.prototype.getTopComments=function(o){var j=[].concat(this.topComments_);return o&&1<j.length&&(this.sortObjects_.offset=Math.sin((0,sr.toRadians)(yo.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),j.sort(this.sortObjects_)),j},yo.Workspace.prototype.getAllBlocks=function(o){if(o){var j=this.getTopBlocks(!0);o=[];for(var et=0;et<j.length;et++)o.push.apply(o,j[et].getDescendants(!0))}else for(o=this.getTopBlocks(!1),j=0;j<o.length;j++)o.push.apply(o,o[j].getChildren(!1));return o.filter(function(ot){return!ot.isInsertionMarker()})},yo.Workspace.prototype.clear=function(){this.isClearing=!0;try{var o=(0,yt.getGroup)();for(o||(0,yt.setGroup)(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();o||(0,yt.setGroup)(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},yo.Workspace.prototype.renameVariableById=function(o,j){this.variableMap_.renameVariableById(o,j)},yo.Workspace.prototype.createVariable=function(o,j,et){return this.variableMap_.createVariable(o,j,et)},yo.Workspace.prototype.getVariableUsesById=function(o){return this.variableMap_.getVariableUsesById(o)},yo.Workspace.prototype.deleteVariableById=function(o){this.variableMap_.deleteVariableById(o)},yo.Workspace.prototype.getVariable=function(o,j){return this.variableMap_.getVariable(o,j)},yo.Workspace.prototype.getVariableById=function(o){return this.variableMap_.getVariableById(o)},yo.Workspace.prototype.getVariablesOfType=function(o){return this.variableMap_.getVariablesOfType(o)},yo.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},yo.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},yo.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},yo.Workspace.prototype.getWidth=function(){return 0},yo.Workspace.prototype.newBlock=function(o,j){return new eo.Block(this,o,j)},yo.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},yo.Workspace.prototype.remainingCapacityOfType=function(o){return this.options.maxInstances?(this.options.maxInstances[o]!==void 0?this.options.maxInstances[o]:1/0)-this.getBlocksByType(o,!1).length:1/0},yo.Workspace.prototype.isCapacityAvailable=function(o){if(!this.hasBlockLimits())return!0;var j=0,et;for(et in o){if(o[et]>this.remainingCapacityOfType(et))return!1;j+=o[et]}return!(j>this.remainingCapacity())},yo.Workspace.prototype.hasBlockLimits=function(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances},yo.Workspace.prototype.getUndoStack=function(){return this.undoStack_},yo.Workspace.prototype.getRedoStack=function(){return this.redoStack_},yo.Workspace.prototype.undo=function(o){var j=o?this.redoStack_:this.undoStack_,et=o?this.undoStack_:this.redoStack_,ot=j.pop();if(ot){for(var rt=[ot];j.length&&ot.group&&ot.group===j[j.length-1].group;)rt.push(j.pop());for(j=0;j<rt.length;j++)et.push(rt[j]);rt=(0,yt.filter)(rt,o),(0,yt.setRecordUndo)(!1);try{for(et=0;et<rt.length;et++)rt[et].run(o)}finally{(0,yt.setRecordUndo)(!0)}}},yo.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,(0,yt.clearPendingUndo)()},yo.Workspace.prototype.addChangeListener=function(o){return this.listeners_.push(o),o},yo.Workspace.prototype.removeChangeListener=function(o){(0,xr.removeElem)(this.listeners_,o)},yo.Workspace.prototype.fireChangeListener=function(o){if(o.recordUndo)for(this.undoStack_.push(o),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var j=0;j<this.listeners_.length;j++)(0,this.listeners_[j])(o)},yo.Workspace.prototype.getBlockById=function(o){return this.blockDB_[o]||null},yo.Workspace.prototype.setBlockById=function(o,j){this.blockDB_[o]=j},yo.Workspace.prototype.removeBlockById=function(o){delete this.blockDB_[o]},yo.Workspace.prototype.getCommentById=function(o){return this.commentDB_[o]||null},yo.Workspace.prototype.allInputsFilled=function(o){for(var j=this.getTopBlocks(!1),et=0;et<j.length;et++)if(!j[et].allInputsFilled(o))return!1;return!0},yo.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},yo.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new jn.VariableMap(this)},yo.Workspace.prototype.getVariableMap=function(){return this.variableMap_},yo.Workspace.prototype.setVariableMap=function(o){this.variableMap_=o},yo.Workspace.getById=function(o){return Sl[o]||null},yo.Workspace.getAll=function(){var o=[],j;for(j in Sl)o.push(Sl[j]);return o},yo.Workspace.SCAN_ANGLE=3;var _o={Bubble:function(o,j,et,ot,rt,ct){this.workspace_=o,this.content_=j,this.shape_=et,this.rendered_=!1,this.anchorXY_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null,this.height_=this.width_=this.relativeTop_=this.relativeLeft_=0,this.autoLayout_=!0,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,et=_o.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(et=-et),this.arrow_radians_=(0,sr.toRadians)(et),o.getBubbleCanvas().appendChild(this.createDom_(j,!(!rt||!ct))),this.setAnchorLocation(ot),rt&&ct||(o=this.content_.getBBox(),rt=o.width+2*_o.Bubble.BORDER_WIDTH,ct=o.height+2*_o.Bubble.BORDER_WIDTH),this.setBubbleSize(rt,ct),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0}};_o.Bubble.prototype.createDom_=function(o,j){this.bubbleGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{},null);var et={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return $t.JAVA_FX&&(et={}),et=(0,kt.createSvgElement)(Nt.Svg.G,et,this.bubbleGroup_),this.bubbleArrow_=(0,kt.createSvgElement)(Nt.Svg.PATH,{},et),this.bubbleBack_=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:_o.Bubble.BORDER_WIDTH,ry:_o.Bubble.BORDER_WIDTH},et),j?(this.resizeGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),j=2*_o.Bubble.BORDER_WIDTH,(0,kt.createSvgElement)(Nt.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,j.toString())},this.resizeGroup_),(0,kt.createSvgElement)(Nt.Svg.LINE,{class:"blocklyResizeLine",x1:j/3,y1:j-1,x2:j-1,y2:j/3},this.resizeGroup_),(0,kt.createSvgElement)(Nt.Svg.LINE,{class:"blocklyResizeLine",x1:2*j/3,y1:j-1,x2:j-1,y2:2*j/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=(0,Tt.conditionalBind)(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=(0,Tt.conditionalBind)(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(o),this.bubbleGroup_},_o.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},_o.Bubble.prototype.setSvgId=function(o){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=o)},_o.Bubble.prototype.bubbleMouseDown_=function(o){var j=this.workspace_.getGesture(o);j&&j.handleBubbleStart(o,this)},_o.Bubble.prototype.showContextMenu=function(o){},_o.Bubble.prototype.isDeletable=function(){return!1},_o.Bubble.prototype.setDeleteStyle=function(o){},_o.Bubble.prototype.resizeMouseDown_=function(o){this.promote(),_o.Bubble.unbindDragEvents_(),(0,Tt.isRightButton)(o)||(this.workspace_.startDrag(o,new go.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),_o.Bubble.onMouseUpWrapper_=(0,Tt.conditionalBind)(document,"mouseup",this,_o.Bubble.bubbleMouseUp_),_o.Bubble.onMouseMoveWrapper_=(0,Tt.conditionalBind)(document,"mousemove",this,this.resizeMouseMove_),this.workspace_.hideChaff()),o.stopPropagation()},_o.Bubble.prototype.resizeMouseMove_=function(o){this.autoLayout_=!1,o=this.workspace_.moveDrag(o),this.setBubbleSize(this.workspace_.RTL?-o.x:o.x,o.y),this.workspace_.RTL&&this.positionBubble_()},_o.Bubble.prototype.registerResizeEvent=function(o){this.resizeCallback_=o},_o.Bubble.prototype.registerMoveEvent=function(o){this.moveCallback_=o},_o.Bubble.prototype.promote=function(){var o=this.bubbleGroup_.parentNode;return o.lastChild!==this.bubbleGroup_?(o.appendChild(this.bubbleGroup_),!0):!1},_o.Bubble.prototype.setAnchorLocation=function(o){this.anchorXY_=o,this.rendered_&&this.positionBubble_()},_o.Bubble.prototype.layoutBubble_=function(){var o=this.workspace_.getMetricsManager().getViewMetrics(!0),j=this.getOptimalRelativeLeft_(o),et=this.getOptimalRelativeTop_(o),ot=this.shape_.getBBox(),rt={x:j,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},ct={x:-this.width_-30,y:et};et={x:ot.width,y:et};var Et={x:j,y:ot.height};j=ot.width<ot.height?et:Et,ot=ot.width<ot.height?Et:et,et=this.getOverlap_(rt,o),Et=this.getOverlap_(ct,o);var wt=this.getOverlap_(j,o);o=this.getOverlap_(ot,o),o=Math.max(et,Et,wt,o),et===o?(this.relativeLeft_=rt.x,this.relativeTop_=rt.y):Et===o?(this.relativeLeft_=ct.x,this.relativeTop_=ct.y):wt===o?(this.relativeLeft_=j.x,this.relativeTop_=j.y):(this.relativeLeft_=ot.x,this.relativeTop_=ot.y)},_o.Bubble.prototype.getOverlap_=function(o,j){var et=this.workspace_.RTL?this.anchorXY_.x-o.x-this.width_:o.x+this.anchorXY_.x;return o=o.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(et+this.width_,j.left+j.width)-Math.max(et,j.left))*(Math.min(o+this.height_,j.top+j.height)-Math.max(o,j.top))/(this.width_*this.height_)))},_o.Bubble.prototype.getOptimalRelativeLeft_=function(o){var j=-this.width_/4;if(this.width_>o.width)return j;if(this.workspace_.RTL){var et=this.anchorXY_.x-j,ot=o.left+o.width;o=o.left+$o.Scrollbar.scrollbarThickness/this.workspace_.scale,et-this.width_<o?j=-(o-this.anchorXY_.x+this.width_):et>ot&&(j=-(ot-this.anchorXY_.x))}else{et=j+this.anchorXY_.x,ot=et+this.width_;var rt=o.left;o=o.left+o.width-$o.Scrollbar.scrollbarThickness/this.workspace_.scale,et<rt?j=rt-this.anchorXY_.x:ot>o&&(j=o-this.anchorXY_.x-this.width_)}return j},_o.Bubble.prototype.getOptimalRelativeTop_=function(o){var j=-this.height_/4;if(this.height_>o.height)return j;var et=this.anchorXY_.y+j,ot=et+this.height_,rt=o.top;o=o.top+o.height-$o.Scrollbar.scrollbarThickness/this.workspace_.scale;var ct=this.anchorXY_.y;return et<rt?j=rt-ct:ot>o&&(j=o-ct-this.height_),j},_o.Bubble.prototype.positionBubble_=function(){var o=this.anchorXY_.x;o=this.workspace_.RTL?o-(this.relativeLeft_+this.width_):o+this.relativeLeft_,this.moveTo(o,this.relativeTop_+this.anchorXY_.y)},_o.Bubble.prototype.moveTo=function(o,j){this.bubbleGroup_.setAttribute("transform","translate("+o+","+j+")")},_o.Bubble.prototype.setDragging=function(o){!o&&this.moveCallback_&&this.moveCallback_()},_o.Bubble.prototype.getBubbleSize=function(){return new Ln.Size(this.width_,this.height_)},_o.Bubble.prototype.setBubbleSize=function(o,j){var et=2*_o.Bubble.BORDER_WIDTH;o=Math.max(o,et+45),j=Math.max(j,et+20),this.width_=o,this.height_=j,this.bubbleBack_.setAttribute("width",o),this.bubbleBack_.setAttribute("height",j),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*_o.Bubble.BORDER_WIDTH+","+(j-et)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(o-et)+","+(j-et)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},_o.Bubble.prototype.renderArrow_=function(){var o=[],j=this.width_/2,et=this.height_/2,ot=-this.relativeLeft_,rt=-this.relativeTop_;if(j===ot&&et===rt)o.push("M "+j+","+et);else{rt-=et,ot-=j,this.workspace_.RTL&&(ot*=-1);var ct=Math.sqrt(rt*rt+ot*ot),Et=Math.acos(ot/ct);0>rt&&(Et=2*Math.PI-Et);var wt=Et+Math.PI/2;wt>2*Math.PI&&(wt-=2*Math.PI);var Lt=Math.sin(wt),Zt=Math.cos(wt),uo=this.getBubbleSize();wt=(uo.width+uo.height)/_o.Bubble.ARROW_THICKNESS,wt=Math.min(wt,uo.width,uo.height)/4,uo=1-_o.Bubble.ANCHOR_RADIUS/ct,ot=j+uo*ot,rt=et+uo*rt,uo=j+wt*Zt;var Mo=et+wt*Lt;j-=wt*Zt,et-=wt*Lt,Lt=Et+this.arrow_radians_,Lt>2*Math.PI&&(Lt-=2*Math.PI),Et=Math.sin(Lt)*ct/_o.Bubble.ARROW_BEND,ct=Math.cos(Lt)*ct/_o.Bubble.ARROW_BEND,o.push("M"+uo+","+Mo),o.push("C"+(uo+ct)+","+(Mo+Et)+" "+ot+","+rt+" "+ot+","+rt),o.push("C"+ot+","+rt+" "+(j+ct)+","+(et+Et)+" "+j+","+et)}o.push("z"),this.bubbleArrow_.setAttribute("d",o.join(" "))},_o.Bubble.prototype.setColour=function(o){this.bubbleBack_.setAttribute("fill",o),this.bubbleArrow_.setAttribute("fill",o)},_o.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&(0,Tt.unbind)(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&(0,Tt.unbind)(this.onMouseDownResizeWrapper_),_o.Bubble.unbindDragEvents_(),(0,kt.removeNode)(this.bubbleGroup_),this.disposed=!0},_o.Bubble.prototype.moveDuringDrag=function(o,j){o?o.translateSurface(j.x,j.y):this.moveTo(j.x,j.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-j.x-this.width_:j.x-this.anchorXY_.x,this.relativeTop_=j.y-this.anchorXY_.y,this.renderArrow_()},_o.Bubble.prototype.getRelativeToSurfaceXY=function(){return new go.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},_o.Bubble.prototype.setAutoLayout=function(o){this.autoLayout_=o},_o.Bubble.unbindDragEvents_=function(){_o.Bubble.onMouseUpWrapper_&&((0,Tt.unbind)(_o.Bubble.onMouseUpWrapper_),_o.Bubble.onMouseUpWrapper_=null),_o.Bubble.onMouseMoveWrapper_&&((0,Tt.unbind)(_o.Bubble.onMouseMoveWrapper_),_o.Bubble.onMouseMoveWrapper_=null)},_o.Bubble.bubbleMouseUp_=function(o){(0,dt.clearTouchIdentifier)(),_o.Bubble.unbindDragEvents_()},_o.Bubble.textToDom=function(o){var j=(0,kt.createSvgElement)(Nt.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:_o.Bubble.BORDER_WIDTH},null);o=o.split(`
`);for(var et=0;et<o.length;et++){var ot=(0,kt.createSvgElement)(Nt.Svg.TSPAN,{dy:"1em",x:_o.Bubble.BORDER_WIDTH},j),rt=document.createTextNode(o[et]);ot.appendChild(rt)}return j},_o.Bubble.createNonEditableBubble=function(o,j,et){if(et=new _o.Bubble(j.workspace,o,j.pathObject.svgPath,et,null,null),et.setSvgId(j.id),j.RTL){j=o.getBBox().width;for(var ot=0,rt;rt=o.childNodes[ot];ot++)rt.setAttribute("text-anchor","end"),rt.setAttribute("x",j+_o.Bubble.BORDER_WIDTH)}return et},_o.Bubble.BORDER_WIDTH=6,_o.Bubble.ARROW_THICKNESS=5,_o.Bubble.ARROW_ANGLE=20,_o.Bubble.ARROW_BEND=4,_o.Bubble.ANCHOR_RADIUS=8,_o.Bubble.onMouseUpWrapper_=null,_o.Bubble.onMouseMoveWrapper_=null;var wn={CommentBase:function(o){an.Abstract.call(this),this.commentId=(this.isBlank=typeof o>"u")?"":o.id,this.workspaceId=this.isBlank?"":o.workspace.id,this.group=(0,yt.getGroup)(),this.recordUndo=(0,yt.getRecordUndo)()}};_.$jscomp.inherits(wn.CommentBase,an.Abstract),wn.CommentBase.prototype.toJson=function(){var o=an.Abstract.prototype.toJson.call(this);return this.commentId&&(o.commentId=this.commentId),o},wn.CommentBase.prototype.fromJson=function(o){an.Abstract.prototype.fromJson.call(this,o),this.commentId=o.commentId},wn.CommentBase.CommentCreateDeleteHelper=function(o,j){var et=o.getEventWorkspace_();j?(j=(0,_.module$exports$Blockly$utils$xml.createElement)("xml"),j.appendChild(o.xml),(0,_.module$exports$Blockly$Xml.domToWorkspace)(j,et)):(et=et.getCommentById(o.commentId))?et.dispose():console.warn("Can't uncreate non-existent comment: "+o.commentId)};var ms={CommentMove:function(o){wn.CommentBase.call(this,o),this.type=yt.COMMENT_MOVE,o&&(this.comment_=o,this.oldCoordinate_=o.getXY(),this.newCoordinate_=null)}};_.$jscomp.inherits(ms.CommentMove,wn.CommentBase),ms.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},ms.CommentMove.prototype.setOldCoordinate=function(o){this.oldCoordinate_=o},ms.CommentMove.prototype.toJson=function(){var o=wn.CommentBase.prototype.toJson.call(this);return this.oldCoordinate_&&(o.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(o.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),o},ms.CommentMove.prototype.fromJson=function(o){if(wn.CommentBase.prototype.fromJson.call(this,o),o.oldCoordinate){var j=o.oldCoordinate.split(",");this.oldCoordinate_=new go.Coordinate(Number(j[0]),Number(j[1]))}o.newCoordinate&&(o=o.newCoordinate.split(","),this.newCoordinate_=new go.Coordinate(Number(o[0]),Number(o[1])))},ms.CommentMove.prototype.isNull=function(){return go.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},ms.CommentMove.prototype.run=function(o){var j=this.getEventWorkspace_().getCommentById(this.commentId);if(j){o=o?this.newCoordinate_:this.oldCoordinate_;var et=j.getXY();j.moveBy(o.x-et.x,o.y-et.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},(0,jt.register)(jt.Type.EVENT,yt.COMMENT_MOVE,ms.CommentMove);var Fr={BubbleDragger:function(o,j){this.draggingBubble_=o,this.workspace_=j,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=(0,Jo.is3dSupported)()&&j.getBlockDragSurface()?j.getBlockDragSurface():null}};Fr.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},Fr.BubbleDragger.prototype.startBubbleDrag=function(){(0,yt.getGroup)()||(0,yt.setGroup)(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},Fr.BubbleDragger.prototype.dragBubble=function(o,j){j=this.pixelsToWorkspaceUnits_(j),j=go.Coordinate.sum(this.startXY_,j),this.draggingBubble_.moveDuringDrag(this.dragSurface_,j),j=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(o),o=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),o!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==j&&(j&&j.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},Fr.BubbleDragger.prototype.shouldDelete_=function(o){return o&&this.workspace_.getComponentManager().hasCapability(o.id,dn.ComponentManager.Capability.DELETE_AREA)?o.wouldDelete(this.draggingBubble_,!1):!1},Fr.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},Fr.BubbleDragger.prototype.endBubbleDrag=function(o,j){this.dragBubble(o,j),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?o=this.startXY_:(o=this.pixelsToWorkspaceUnits_(j),o=go.Coordinate.sum(this.startXY_,o)),this.draggingBubble_.moveTo(o.x,o.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),(0,yt.setGroup)(!1)},Fr.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var o=new((0,yt.get)(yt.COMMENT_MOVE))(this.draggingBubble_);o.setOldCoordinate(this.startXY_),o.recordNew(),(0,yt.fire)(o)}},Fr.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(o){return o=new go.Coordinate(o.x/this.workspace_.scale,o.y/this.workspace_.scale),this.workspace_.isMutator&&o.scale(1/this.workspace_.options.parentWorkspace.scale),o},Fr.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())};var Cl={WorkspaceDragger:function(o){this.workspace_=o,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new go.Coordinate(o.scrollX,o.scrollY)}};Cl.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},Cl.WorkspaceDragger.prototype.startDrag=function(){(0,_.module$exports$Blockly$common.getSelected)()&&(0,_.module$exports$Blockly$common.getSelected)().unselect(),this.workspace_.setupDragSurface()},Cl.WorkspaceDragger.prototype.endDrag=function(o){this.drag(o),this.workspace_.resetDragSurface()},Cl.WorkspaceDragger.prototype.drag=function(o){if(o=go.Coordinate.sum(this.startScrollXY_,o),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(o.x,o.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(o.x,this.workspace_.scrollY);else if(this.verticalScrollEnabled_)this.workspace_.scroll(this.workspace_.scrollX,o.y);else throw new TypeError("Invalid state.")};var Wp={IBlockDragger:function(){}},cn={},ut="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";cn.InsertionMarkerManager=function(o){(0,_.module$exports$Blockly$common.setSelected)(o),this.topBlock_=o,this.workspace_=o.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},cn.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,(0,yt.disable)();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{(0,yt.enable)()}},cn.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},cn.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},cn.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},cn.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&((0,yt.disable)(),this.hidePreview_(),(0,yt.enable)(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var o=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;(0,Lr.connectionUiEffect)(o.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},cn.InsertionMarkerManager.prototype.update=function(o,j){var et=this.getCandidate_(o);((this.wouldDeleteBlock_=this.shouldDelete_(et,j))||this.shouldUpdatePreviews_(et,o))&&((0,yt.disable)(),this.maybeHidePreview_(et),this.maybeShowPreview_(et),(0,yt.enable)())},cn.InsertionMarkerManager.prototype.createMarkerBlock_=function(o){var j=o.type;(0,yt.disable)();try{var et=this.workspace_.newBlock(j);if(et.setInsertionMarker(!0),o.saveExtraState){var ot=o.saveExtraState();ot&&et.loadExtraState(ot)}else if(o.mutationToDom){var rt=o.mutationToDom();rt&&et.domToMutation(rt)}for(j=0;j<o.inputList.length;j++){var ct=o.inputList[j];if(ct.name!==Zr.COLLAPSED_INPUT_NAME){var Et=et.inputList[j];if(!Et)throw Error(ut.replace("%1","an input"));for(ot=0;ot<ct.fieldRow.length;ot++){var wt=ct.fieldRow[ot],Lt=Et.fieldRow[ot];if(!Lt)throw Error(ut.replace("%1","a field"));Lt.setValue(wt.getValue())}}}et.setCollapsed(o.isCollapsed()),et.setInputsInline(o.getInputsInline()),et.initSvg(),et.getSvgRoot().setAttribute("visibility","hidden")}finally{(0,yt.enable)()}return et},cn.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var o=this.topBlock_.getConnections_(!1),j=this.topBlock_.lastConnectionInStack(!0);if(j&&j!==this.topBlock_.nextConnection){if(o.push(j),this.lastOnStack_=j,this.lastMarker_){(0,yt.disable)();try{this.lastMarker_.dispose()}finally{(0,yt.enable)()}}this.lastMarker_=this.createMarkerBlock_(j.getSourceBlock())}return o},cn.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(o,j){var et=o.local,ot=o.closest;if(o=o.radius,et&&ot){if(this.localConnection_&&this.closestConnection_)return this.closestConnection_===ot&&this.localConnection_===et?!1:(et=this.localConnection_.x+j.x-this.closestConnection_.x,j=this.localConnection_.y+j.y-this.closestConnection_.y,j=Math.sqrt(et*et+j*j),!(ot&&o>j-_.module$exports$Blockly$config.config.currentConnectionPreference));if(this.localConnection_||this.closestConnection_)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!this.localConnection_||!this.closestConnection_);return console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0},cn.InsertionMarkerManager.prototype.getCandidate_=function(o){var j=this.getStartRadius_(),et=null,ot=null;this.markerConnection_&&this.markerConnection_.isConnected()||this.updateAvailableConnections();for(var rt=0;rt<this.availableConnections_.length;rt++){var ct=this.availableConnections_[rt],Et=ct.closest(j,o);Et.connection&&(et=Et.connection,ot=ct,j=Et.radius)}return{closest:et,local:ot,radius:j}},cn.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?_.module$exports$Blockly$config.config.connectingSnapRadius:_.module$exports$Blockly$config.config.snapRadius},cn.InsertionMarkerManager.prototype.shouldDelete_=function(o,j){return j&&this.workspace_.getComponentManager().hasCapability(j.id,dn.ComponentManager.Capability.DELETE_AREA)?j.wouldDelete(this.topBlock_,o&&!!o.closest):!1},cn.InsertionMarkerManager.prototype.maybeShowPreview_=function(o){if(!this.wouldDeleteBlock_){var j=o.closest;o=o.local,j&&(j===this.closestConnection_||j.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=j,this.localConnection_=o,this.showPreview_()))}},cn.InsertionMarkerManager.prototype.showPreview_=function(){var o=this.closestConnection_,j=this.workspace_.getRenderer();switch(j.getConnectionPreviewMethod(o,this.localConnection_,this.topBlock_)){case cn.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case cn.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case cn.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}o&&j.shouldHighlightConnection(o)&&o.highlight()},cn.InsertionMarkerManager.prototype.maybeHidePreview_=function(o){if(o.closest){var j=this.closestConnection_!==o.closest;o=this.localConnection_!==o.local,this.closestConnection_&&this.localConnection_&&(j||o||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},cn.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},cn.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var o=this.localConnection_,j=this.closestConnection_,et=this.lastOnStack_&&o===this.lastOnStack_,ot=et?this.lastMarker_:this.firstMarker_;try{var rt=ot.getMatchingConnection(o.getSourceBlock(),o)}catch{this.firstMarker_=this.createMarkerBlock_(this.topBlock_),ot=et?this.lastMarker_:this.firstMarker_,rt=ot.getMatchingConnection(o.getSourceBlock(),o)}if(rt===this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");ot.render(),ot.rendered=!0,ot.getSvgRoot().setAttribute("visibility","visible"),rt&&j&&ot.positionNearConnection(rt,j),j&&rt.connect(j),this.markerConnection_=rt},cn.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var o=this.markerConnection_,j=o.getSourceBlock(),et=j.nextConnection,ot=j.previousConnection,rt=j.outputConnection;if(rt=o.type===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&!(rt&&rt.targetConnection),!(o!==et||ot&&ot.targetConnection)||rt?o.targetBlock().unplug(!1):o.type===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&o!==et?(et=o.targetConnection,et.getSourceBlock().unplug(!1),ot=ot?ot.targetConnection:null,j.unplug(!0),ot&&ot.connect(et)):j.unplug(!0),o.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(o=j.getSvgRoot())&&o.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},cn.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var o=this.closestConnection_;this.highlightedBlock_=o.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(o,!0)},cn.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},cn.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},cn.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},cn.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var o=[];return this.firstMarker_&&o.push(this.firstMarker_),this.lastMarker_&&o.push(this.lastMarker_),o},cn.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2};var mo={UiBase:function(o){an.Abstract.call(this),this.isBlank=typeof o>"u",this.workspaceId=o||"",this.recordUndo=!1,this.isUiEvent=!0}};_.$jscomp.inherits(mo.UiBase,an.Abstract);var xs={BlockDrag:function(o,j,et){mo.UiBase.call(this,o?o.workspace.id:void 0),this.blockId=o?o.id:null,this.isStart=j,this.blocks=et,this.type=yt.BLOCK_DRAG}};_.$jscomp.inherits(xs.BlockDrag,mo.UiBase),xs.BlockDrag.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.isStart=this.isStart,o.blockId=this.blockId,o.blocks=this.blocks,o},xs.BlockDrag.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.isStart=o.isStart,this.blockId=o.blockId,this.blocks=o.blocks},(0,jt.register)(jt.Type.EVENT,yt.BLOCK_DRAG,xs.BlockDrag);var Cn={BlockDragger:function(o,j){this.draggingBlock_=o,this.workspace_=j,this.draggedConnectionManager_=new cn.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=zu(o)}};Cn.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},Cn.BlockDragger.prototype.startDrag=function(o,j){(0,yt.getGroup)()||(0,yt.setGroup)(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),(0,kt.startTextWidthCache)(),this.workspace_.setResizesEnabled(!1),(0,Lr.disconnectUiStop)(),this.shouldDisconnect_(j)&&this.disconnectBlock_(j,o),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},Cn.BlockDragger.prototype.shouldDisconnect_=function(o){return!!(this.draggingBlock_.getParent()||o&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},Cn.BlockDragger.prototype.disconnectBlock_=function(o,j){this.draggingBlock_.unplug(o),o=this.pixelsToWorkspaceUnits_(j),o=go.Coordinate.sum(this.startXY_,o),this.draggingBlock_.translate(o.x,o.y),(0,Lr.disconnectUiEffect)(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},Cn.BlockDragger.prototype.fireDragStartEvent_=function(){var o=new((0,yt.get)(yt.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));(0,yt.fire)(o)},Cn.BlockDragger.prototype.drag=function(o,j){j=this.pixelsToWorkspaceUnits_(j);var et=go.Coordinate.sum(this.startXY_,j);this.draggingBlock_.moveDuringDrag(et),this.dragIcons_(j),et=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(o),this.draggedConnectionManager_.update(j,this.dragTarget_),o=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),o!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==et&&(et&&et.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},Cn.BlockDragger.prototype.endDrag=function(o,j){if(this.drag(o,j),this.dragIconData_=[],this.fireDragEndEvent_(),(0,kt.stopTextWidthCache)(),(0,Lr.disconnectUiStop)(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))o=this.startXY_;else{o=this.getNewLocationAfterDrag_(j);var et=o.delta;o=o.newLocation}this.draggingBlock_.moveOffDragSurface(o),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),et?this.updateBlockAfterMove_(et):(0,Jr.bumpIntoBounds)(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),(0,yt.setGroup)(!1)},Cn.BlockDragger.prototype.getNewLocationAfterDrag_=function(o){var j={};return j.delta=this.pixelsToWorkspaceUnits_(o),j.newLocation=go.Coordinate.sum(this.startXY_,j.delta),j},Cn.BlockDragger.prototype.maybeDeleteBlock_=function(){return this.wouldDeleteBlock_?(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),_.module$exports$Blockly$common.draggingConnections.length=0,!0):!1},Cn.BlockDragger.prototype.updateBlockAfterMove_=function(o){this.draggingBlock_.moveConnections(o.x,o.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},Cn.BlockDragger.prototype.fireDragEndEvent_=function(){var o=new((0,yt.get)(yt.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));(0,yt.fire)(o)},Cn.BlockDragger.prototype.updateToolboxStyle_=function(o){var j=this.workspace_.getToolbox();if(j){var et=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";o&&typeof j.removeStyle=="function"?j.removeStyle(et):o||typeof j.addStyle!="function"||j.addStyle(et)}},Cn.BlockDragger.prototype.fireMoveEvent_=function(){var o=new((0,yt.get)(yt.MOVE))(this.draggingBlock_);o.oldCoordinate=this.startXY_,o.recordNew(),(0,yt.fire)(o)},Cn.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},Cn.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(o){return o=new go.Coordinate(o.x/this.workspace_.scale,o.y/this.workspace_.scale),this.workspace_.isMutator&&o.scale(1/this.workspace_.options.parentWorkspace.scale),o},Cn.BlockDragger.prototype.dragIcons_=function(o){for(var j=0;j<this.dragIconData_.length;j++){var et=this.dragIconData_[j];et.icon.setIconLocation(go.Coordinate.sum(et.location,o))}},Cn.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]};var zu=function(o){var j=[];o=o.getDescendants(!1);for(var et=0,ot;ot=o[et];et++){ot=ot.getIcons();for(var rt=0;rt<ot.length;rt++){var ct={location:ot[rt].getIconLocation(),icon:ot[rt]};j.push(ct)}}return j};(0,jt.register)(jt.Type.BLOCK_DRAGGER,jt.DEFAULT,Cn.BlockDragger);var It={Click:function(o,j,et){j=o?o.workspace.id:j,j===null&&(j=void 0),mo.UiBase.call(this,j),this.blockId=o?o.id:null,this.targetType=et,this.type=yt.CLICK}};_.$jscomp.inherits(It.Click,mo.UiBase),It.Click.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.targetType=this.targetType,this.blockId&&(o.blockId=this.blockId),o},It.Click.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.targetType=o.targetType,this.blockId=o.blockId},(0,jt.register)(jt.Type.EVENT,yt.CLICK,It.Click);var xo={Gesture:function(o,j){this.mouseDownXY_=null,this.currentDragDeltaXY_=new go.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=j,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=o,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!Wn.DRAG_STACK}};xo.Gesture.prototype.dispose=function(){(0,dt.clearTouchIdentifier)(),(0,Ut.unblock)(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&(0,Tt.unbind)(this.onMoveWrapper_),this.onUpWrapper_&&(0,Tt.unbind)(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},xo.Gesture.prototype.updateFromEvent_=function(o){var j=new go.Coordinate(o.clientX,o.clientY);this.updateDragDelta_(j)&&(this.updateIsDragging_(),(0,dt.longStop)()),this.mostRecentEvent_=o},xo.Gesture.prototype.updateDragDelta_=function(o){return this.currentDragDeltaXY_=go.Coordinate.difference(o,this.mouseDownXY_),this.hasExceededDragRadius_?!1:this.hasExceededDragRadius_=go.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?_.module$exports$Blockly$config.config.flyoutDragRadius:_.module$exports$Blockly$config.config.dragRadius)},xo.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return this.targetBlock_&&this.flyout_.isBlockCreatable_(this.targetBlock_)&&(!this.flyout_.isScrollable()||this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))?(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),(0,yt.getGroup)()||(0,yt.setGroup)(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0):!1},xo.Gesture.prototype.updateIsDraggingBubble_=function(){return this.startBubble_?(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0):!1},xo.Gesture.prototype.updateIsDraggingBlock_=function(){return this.targetBlock_?(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),this.isDraggingBlock_?(this.startDraggingBlock_(),!0):!1):!1},xo.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new Cl.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},xo.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},xo.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new((0,jt.getClassFromOptions)(jt.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},xo.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new Fr.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},xo.Gesture.prototype.doStart=function(o){(0,Tt.isTargetInput)(o)?this.cancel():(this.hasStarted_=!0,(0,Lr.disconnectUiStop)(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=o,(0,Ut.block)(),this.targetBlock_&&this.targetBlock_.select(),(0,Tt.isRightButton)(o)?this.handleRightClick(o):(o.type.toLowerCase()!=="touchstart"&&o.type.toLowerCase()!=="pointerdown"||o.pointerType==="mouse"||(0,dt.longStart)(o,this),this.mouseDownXY_=new go.Coordinate(o.clientX,o.clientY),this.healStack_=o.altKey||o.ctrlKey||o.metaKey,this.bindMouseEvents(o)))},xo.Gesture.prototype.bindMouseEvents=function(o){this.onMoveWrapper_=(0,Tt.conditionalBind)(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=(0,Tt.conditionalBind)(document,"mouseup",null,this.handleUp.bind(this)),o.preventDefault(),o.stopPropagation()},xo.Gesture.prototype.handleMove=function(o){this.updateFromEvent_(o),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),o.preventDefault(),o.stopPropagation()},xo.Gesture.prototype.handleUp=function(o){this.updateFromEvent_(o),(0,dt.longStop)(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(o,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(o,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(o),o.preventDefault(),o.stopPropagation(),this.dispose())},xo.Gesture.prototype.cancel=function(){this.isEnding_||((0,dt.longStop)(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},xo.Gesture.prototype.handleRightClick=function(o){this.targetBlock_?(this.bringBlockToFront_(),this.targetBlock_.workspace.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(o)):this.startBubble_?this.startBubble_.showContextMenu(o):this.startWorkspace_&&!this.flyout_&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(o)),o.preventDefault(),o.stopPropagation(),this.dispose()},xo.Gesture.prototype.handleWsStart=function(o,j){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(j),this.mostRecentEvent_=o,this.doStart(o)},xo.Gesture.prototype.fireWorkspaceClick_=function(o){(0,yt.fire)(new((0,yt.get)(yt.CLICK))(null,o.id,"workspace"))},xo.Gesture.prototype.handleFlyoutStart=function(o,j){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(j),this.handleWsStart(o,j.getWorkspace())},xo.Gesture.prototype.handleBlockStart=function(o,j){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(j),this.mostRecentEvent_=o},xo.Gesture.prototype.handleBubbleStart=function(o,j){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(j),this.mostRecentEvent_=o},xo.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},xo.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},xo.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&((0,yt.getGroup)()||(0,yt.setGroup)(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var o=new((0,yt.get)(yt.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");(0,yt.fire)(o)}this.bringBlockToFront_(),(0,yt.setGroup)(!1)},xo.Gesture.prototype.doWorkspaceClick_=function(o){o=this.creatorWorkspace_,(0,_.module$exports$Blockly$common.getSelected)()&&(0,_.module$exports$Blockly$common.getSelected)().unselect(),this.fireWorkspaceClick_(this.startWorkspace_||o)},xo.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},xo.Gesture.prototype.setStartField=function(o){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=o)},xo.Gesture.prototype.setStartBubble=function(o){this.startBubble_||(this.startBubble_=o)},xo.Gesture.prototype.setStartBlock=function(o){this.startBlock_||this.startBubble_||(this.startBlock_=o,o.isInFlyout&&o!==o.getRootBlock()?this.setTargetBlock_(o.getRootBlock()):this.setTargetBlock_(o))},xo.Gesture.prototype.setTargetBlock_=function(o){o.isShadow()?this.setTargetBlock_(o.getParent()):this.targetBlock_=o},xo.Gesture.prototype.setStartWorkspace_=function(o){this.startWorkspace_||(this.startWorkspace_=o)},xo.Gesture.prototype.setStartFlyout_=function(o){this.flyout_||(this.flyout_=o)},xo.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},xo.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},xo.Gesture.prototype.isFieldClick_=function(){return(this.startField_?this.startField_.isClickable():!1)&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},xo.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},xo.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},xo.Gesture.prototype.hasStarted=function(){return this.hasStarted_},xo.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},xo.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},xo.Gesture.inProgress=function(){for(var o=yo.Workspace.getAll(),j=0,et;et=o[j];j++)if(et.currentGesture_)return!0;return!1};var ro={Field:function(o,j,et){this.name=void 0,this.value_=this.constructor.prototype.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new Ln.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",o!==ro.Field.SKIP_SETUP&&(et&&this.configure_(et),this.setValue(o),j&&this.setValidator(j))}};ro.Field.prototype.configure_=function(o){var j=o.tooltip;typeof j=="string"&&(j=(0,nn.replaceMessageReferences)(o.tooltip)),j&&this.setTooltip(j)},ro.Field.prototype.setSourceBlock=function(o){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=o},ro.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},ro.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},ro.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},ro.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},ro.Field.prototype.initModel=function(){},ro.Field.prototype.createBorderRect_=function(){this.borderRect_=(0,kt.createSvgElement)(Nt.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},ro.Field.prototype.createTextElement_=function(){this.textElement_=(0,kt.createSvgElement)(Nt.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},ro.Field.prototype.bindEvents_=function(){(0,Ut.bindMouseEvents)(this.getClickTarget_()),this.mouseDownWrapper_=(0,Tt.conditionalBind)(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},ro.Field.prototype.fromXml=function(o){this.setValue(o.textContent)},ro.Field.prototype.toXml=function(o){return o.textContent=this.getValue(),o},ro.Field.prototype.saveState=function(o){return o=this.saveLegacyState(ro.Field),o!==null?o:this.getValue()},ro.Field.prototype.loadState=function(o){this.loadLegacyState(ro.Field,o)||this.setValue(o)},ro.Field.prototype.saveLegacyState=function(o){return o.prototype.saveState===this.saveState&&o.prototype.toXml!==this.toXml?(o=(0,_.module$exports$Blockly$utils$xml.createElement)("field"),o.setAttribute("name",this.name||""),(0,_.module$exports$Blockly$Xml.domToText)(this.toXml(o)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null},ro.Field.prototype.loadLegacyState=function(o,j){return o.prototype.loadState===this.loadState&&o.prototype.fromXml!==this.fromXml?(this.fromXml((0,_.module$exports$Blockly$Xml.textToDom)(j)),!0):!1},ro.Field.prototype.dispose=function(){(0,Co.hideIfOwner)(this),(0,Ot.hideIfOwner)(this),(0,Ut.unbindMouseEvents)(this.getClickTarget_()),this.mouseDownWrapper_&&(0,Tt.unbind)(this.mouseDownWrapper_),(0,kt.removeNode)(this.fieldGroup_),this.disposed=!0},ro.Field.prototype.updateEditable=function(){var o=this.fieldGroup_;this.EDITABLE&&o&&(this.enabled_&&this.sourceBlock_.isEditable()?((0,kt.addClass)(o,"blocklyEditableText"),(0,kt.removeClass)(o,"blocklyNonEditableText"),o.style.cursor=this.CURSOR):((0,kt.addClass)(o,"blocklyNonEditableText"),(0,kt.removeClass)(o,"blocklyEditableText"),o.style.cursor=""))},ro.Field.prototype.setEnabled=function(o){this.enabled_=o,this.updateEditable()},ro.Field.prototype.isEnabled=function(){return this.enabled_},ro.Field.prototype.isClickable=function(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==ro.Field.prototype.showEditor_},ro.Field.prototype.isCurrentlyEditable=function(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},ro.Field.prototype.isSerializable=function(){var o=!1;return this.name&&(this.SERIALIZABLE?o=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),o=!0)),o},ro.Field.prototype.isVisible=function(){return this.visible_},ro.Field.prototype.setVisible=function(o){if(this.visible_!==o){this.visible_=o;var j=this.getSvgRoot();j&&(j.style.display=o?"block":"none")}},ro.Field.prototype.setValidator=function(o){this.validator_=o},ro.Field.prototype.getValidator=function(){return this.validator_},ro.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},ro.Field.prototype.applyColour=function(){},ro.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},ro.Field.prototype.showEditor=function(o){this.isClickable()&&this.showEditor_(o)},ro.Field.prototype.showEditor_=function(o){},ro.Field.prototype.updateSize_=function(o){var j=this.getConstants();o=o!==void 0?o:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var et=2*o,ot=j.FIELD_TEXT_HEIGHT,rt=0;this.textElement_&&(rt=(0,kt.getFastTextWidth)(this.textElement_,j.FIELD_TEXT_FONTSIZE,j.FIELD_TEXT_FONTWEIGHT,j.FIELD_TEXT_FONTFAMILY),et+=rt),this.borderRect_&&(ot=Math.max(ot,j.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=ot,this.size_.width=et,this.positionTextElement_(o,rt),this.positionBorderRect_()},ro.Field.prototype.positionTextElement_=function(o,j){if(this.textElement_){var et=this.getConstants(),ot=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-j-o:o),this.textElement_.setAttribute("y",et.FIELD_TEXT_BASELINE_CENTER?ot:ot-et.FIELD_TEXT_HEIGHT/2+et.FIELD_TEXT_BASELINE)}},ro.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},ro.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new Ln.Size(0,0)},ro.Field.prototype.getScaledBBox=function(){if(this.borderRect_)var o=this.borderRect_.getBoundingClientRect(),j=(0,Uo.getPageOffset)(this.borderRect_),et=o.width,ot=o.height;else ot=this.sourceBlock_.getHeightWidth(),o=this.sourceBlock_.workspace.scale,j=this.getAbsoluteXY_(),et=ot.width*o,ot=ot.height*o,$t.GECKO?(j.x+=1.5*o,j.y+=1.5*o):$t.EDGE||$t.IE||(j.x-=.5*o,j.y-=.5*o),et+=1*o,ot+=1*o;return new In.Rect(j.y,j.y+ot,j.x,j.x+et)},ro.Field.prototype.getDisplayText_=function(){var o=this.getText();return o?(o.length>this.maxDisplayLength&&(o=o.substring(0,this.maxDisplayLength-2)+"\u2026"),o=o.replace(/\s/g,ro.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(o+="\u200F"),o):ro.Field.NBSP},ro.Field.prototype.getText=function(){var o=this.getText_();return String(o!==null?o:this.getValue())},ro.Field.prototype.getText_=function(){return null},ro.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},ro.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},ro.Field.prototype.setValue=function(o){if(o!==null){var j=this.doClassValidation_(o);if(o=this.processValidation_(o,j),!(o instanceof Error)){if((j=this.getValidator())&&(j=j.call(this,o),o=this.processValidation_(o,j),o instanceof Error))return;if(j=this.sourceBlock_,!j||!j.disposed){var et=this.getValue();et===o?this.doValueUpdate_(o):(this.doValueUpdate_(o),j&&(0,yt.isEnabled)()&&(0,yt.fire)(new((0,yt.get)(yt.CHANGE))(j,"field",this.name||null,et,o)),this.isDirty_&&this.forceRerender())}}}},ro.Field.prototype.processValidation_=function(o,j){return j===null?(this.doValueInvalid_(o),this.isDirty_&&this.forceRerender(),Error()):(j!==void 0&&(o=j),o)},ro.Field.prototype.getValue=function(){return this.value_},ro.Field.prototype.doClassValidation_=function(o){return o==null?null:o},ro.Field.prototype.doValueUpdate_=function(o){this.value_=o,this.isDirty_=!0},ro.Field.prototype.doValueInvalid_=function(o){},ro.Field.prototype.onMouseDown_=function(o){this.sourceBlock_&&this.sourceBlock_.workspace&&(o=this.sourceBlock_.workspace.getGesture(o))&&o.setStartField(this)},ro.Field.prototype.setTooltip=function(o){o||o===""||(o=this.sourceBlock_);var j=this.getClickTarget_();j?j.tooltip=o:this.tooltip_=o},ro.Field.prototype.getTooltip=function(){var o=this.getClickTarget_();return o?(0,Ut.getTooltipOfObject)(o):(0,Ut.getTooltipOfObject)({tooltip:this.tooltip_})},ro.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},ro.Field.prototype.getAbsoluteXY_=function(){return(0,Uo.getPageOffset)(this.getClickTarget_())},ro.Field.prototype.referencesVariables=function(){return!1},ro.Field.prototype.refreshVariableName=function(){},ro.Field.prototype.getParentInput=function(){for(var o=null,j=this.sourceBlock_,et=j.inputList,ot=0;ot<j.inputList.length;ot++)for(var rt=et[ot],ct=rt.fieldRow,Et=0;Et<ct.length;Et++)if(ct[Et]===this){o=rt;break}return o},ro.Field.prototype.getFlipRtl=function(){return!1},ro.Field.prototype.isTabNavigable=function(){return!1},ro.Field.prototype.onShortcut=function(o){return!1},ro.Field.prototype.setCursorSvg=function(o){o?(this.fieldGroup_.appendChild(o),this.cursorSvg_=o):this.cursorSvg_=null},ro.Field.prototype.setMarkerSvg=function(o){o?(this.fieldGroup_.appendChild(o),this.markerSvg_=o):this.markerSvg_=null},ro.Field.prototype.updateMarkers_=function(){var o=this.sourceBlock_.workspace;o.keyboardAccessibilityMode&&this.cursorSvg_&&o.getCursor().draw(),o.keyboardAccessibilityMode&&this.markerSvg_&&o.getMarker(Tr.MarkerManager.LOCAL_MARKER).draw()},ro.Field.prototype.DEFAULT_VALUE=null,ro.Field.NBSP="\xA0",ro.Field.SKIP_SETUP=new gp.Sentinel,_.module$exports$Blockly$FieldLabel={FieldLabel:function(o,j,et){ro.Field.call(this,ro.Field.SKIP_SETUP),this.class_=null,this.EDITABLE=!1,o!==ro.Field.SKIP_SETUP&&(et?this.configure_(et):this.class_=j||null,this.setValue(o))}},_.$jscomp.inherits(_.module$exports$Blockly$FieldLabel.FieldLabel,ro.Field),_.module$exports$Blockly$FieldLabel.FieldLabel.prototype.configure_=function(o){ro.Field.prototype.configure_.call(this,o),this.class_=o.class},_.module$exports$Blockly$FieldLabel.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&(0,kt.addClass)(this.textElement_,this.class_)},_.module$exports$Blockly$FieldLabel.FieldLabel.prototype.doClassValidation_=function(o){return o==null?null:String(o)},_.module$exports$Blockly$FieldLabel.FieldLabel.prototype.setClass=function(o){this.textElement_&&(this.class_&&(0,kt.removeClass)(this.textElement_,this.class_),o&&(0,kt.addClass)(this.textElement_,o)),this.class_=o},_.module$exports$Blockly$FieldLabel.FieldLabel.fromJson=function(o){return new this((0,nn.replaceMessageReferences)(o.text),void 0,o)},_.module$exports$Blockly$FieldLabel.FieldLabel.prototype.DEFAULT_VALUE="",(0,vr.register)("field_label",_.module$exports$Blockly$FieldLabel.FieldLabel);var xn={InputConnection:function(o,j){Ir.Connection.call(this,o,j.connection),this.type|=xt.Types.INPUT,this.input=j,this.align=j.align,(this.connectedBlock=j.connection&&j.connection.targetBlock()?j.connection.targetBlock():null)?(o=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=o.width,this.connectedBlockHeight=o.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0}};_.$jscomp.inherits(xn.InputConnection,Ir.Connection);var Fn={Debug:function(o){this.debugElements_=[],this.svgRoot_=null,this.constants_=o,this.randomColour_=""}};Fn.Debug.prototype.clearElems=function(){for(var o=0;o<this.debugElements_.length;o++)(0,kt.removeNode)(this.debugElements_[o]);this.debugElements_=[]},Fn.Debug.prototype.drawSpacerRow=function(o,j,et){if(Fn.Debug.config.rowSpacers){var ot=Math.abs(o.height),rt=0>o.height;rt&&(j-=ot),this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:et?-(o.xPos+o.width):o.xPos,y:j,width:o.width,height:ot,stroke:rt?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},Fn.Debug.prototype.drawSpacerElem=function(o,j,et){if(Fn.Debug.config.elemSpacers){j=Math.abs(o.width);var ot=0>o.width,rt=ot?o.xPos-j:o.xPos;et&&(rt=-(rt+j)),this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:rt,y:o.centerline-o.height/2,width:j,height:o.height,stroke:"pink",fill:ot?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},Fn.Debug.prototype.drawRenderedElem=function(o,j){if(Fn.Debug.config.elems){var et=o.xPos;j&&(et=-(et+o.width)),j=o.centerline-o.height/2,this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:et,y:j,width:o.width,height:o.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),xt.Types.isField(o)&&o instanceof fs.Field&&o.field instanceof _.module$exports$Blockly$FieldLabel.FieldLabel&&this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:et,y:j+this.constants_.FIELD_TEXT_BASELINE,width:o.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}xt.Types.isInput(o)&&o instanceof xn.InputConnection&&Fn.Debug.config.connections&&this.drawConnection(o.connectionModel)},Fn.Debug.prototype.drawConnection=function(o){if(Fn.Debug.config.connections){if(o.type===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE)var j=4,et="magenta",ot="none";else o.type===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?(j=2,ot=et="magenta"):o.type===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?(j=4,et="goldenrod",ot="none"):o.type===_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT&&(j=2,ot=et="goldenrod");this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.CIRCLE,{class:"blockRenderDebug",cx:o.offsetInBlock_.x,cy:o.offsetInBlock_.y,r:j,fill:ot,stroke:et},this.svgRoot_))}},Fn.Debug.prototype.drawRenderedRow=function(o,j,et){Fn.Debug.config.rows&&(this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:et?-(o.xPos+o.width):o.xPos,y:o.yPos,width:o.width,height:o.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),xt.Types.isTopOrBottomRow(o)||Fn.Debug.config.connectedBlockBounds&&this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:et?-(o.xPos+o.widthWithConnectedBlocks):o.xPos,y:o.yPos,width:o.widthWithConnectedBlocks,height:o.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},Fn.Debug.prototype.drawRowWithElements=function(o,j,et){for(var ot=0;ot<o.elements.length;ot++){var rt=o.elements[ot];rt?xt.Types.isSpacer(rt)?this.drawSpacerElem(rt,o.height,et):this.drawRenderedElem(rt,et):console.warn("A row has an undefined or null element.",o,rt)}this.drawRenderedRow(o,j,et)},Fn.Debug.prototype.drawBoundingBox=function(o){if(Fn.Debug.config.blockBounds){var j=o.RTL?-o.width:0;this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:j,y:0,width:o.width,height:o.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),Fn.Debug.config.connectedBlockBounds&&(j=o.RTL?-o.widthWithChildren:0,this.debugElements_.push((0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blockRenderDebug",x:j,y:0,width:o.widthWithChildren,height:o.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}},Fn.Debug.prototype.drawDebug=function(o,j){this.clearElems(),this.svgRoot_=o.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var et=0,ot=0;ot<j.rows.length;ot++){var rt=j.rows[ot];xt.Types.isBetweenRowSpacer(rt)?this.drawSpacerRow(rt,et,j.RTL):this.drawRowWithElements(rt,et,j.RTL),et+=rt.height}o.previousConnection&&this.drawConnection(o.previousConnection),o.nextConnection&&this.drawConnection(o.nextConnection),o.outputConnection&&this.drawConnection(o.outputConnection),j.rightSide&&this.drawRenderedElem(j.rightSide,j.RTL),this.drawBoundingBox(j),this.drawRender(o.pathObject.svgPath)},Fn.Debug.prototype.drawRender=function(o){Fn.Debug.config.render&&(o.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout(function(){o.setAttribute("filter","")},100))},Fn.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0};var to={Drawer:function(o,j){this.block_=o,this.info_=j,this.topLeft_=o.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=j.getRenderer().getConstants()}};to.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),(0,Mr.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},to.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},to.Drawer.prototype.hideHiddenIcons_=function(){for(var o=0,j;j=this.info_.hiddenIcons[o];o++)j.icon.iconGroup_.setAttribute("display","none")},to.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var o=1;o<this.info_.rows.length-1;o++){var j=this.info_.rows[o];j.hasJaggedEdge?this.drawJaggedEdge_(j):j.hasStatement?this.drawStatementInput_(j):j.hasExternalInput?this.drawValueInput_(j):this.drawRightSideRow_(j)}this.drawBottom_(),this.drawLeft_()},to.Drawer.prototype.drawTop_=function(){var o=this.info_.topRow,j=o.elements;this.positionPreviousConnection_(),this.outlinePath_+=(0,Mt.moveBy)(o.xPos,this.info_.startY);for(var et=0,ot;ot=j[et];et++)xt.Types.isLeftRoundedCorner(ot)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:xt.Types.isRightRoundedCorner(ot)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:xt.Types.isPreviousConnection(ot)&&ot instanceof Ir.Connection?this.outlinePath_+=ot.shape.pathLeft:xt.Types.isHat(ot)?this.outlinePath_+=this.constants_.START_HAT.path:xt.Types.isSpacer(ot)&&(this.outlinePath_+=(0,Mt.lineOnAxis)("h",ot.width));this.outlinePath_+=(0,Mt.lineOnAxis)("v",o.height)},to.Drawer.prototype.drawJaggedEdge_=function(o){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+(0,Mt.lineOnAxis)("v",o.height-this.constants_.JAGGED_TEETH.height)},to.Drawer.prototype.drawValueInput_=function(o){var j=o.getLastInput();this.positionExternalValueConnection_(o);var et=typeof j.shape.pathDown=="function"?j.shape.pathDown(j.height):j.shape.pathDown;this.outlinePath_+=(0,Mt.lineOnAxis)("H",j.xPos+j.width)+et+(0,Mt.lineOnAxis)("v",o.height-j.connectionHeight)},to.Drawer.prototype.drawStatementInput_=function(o){var j=o.getLastInput(),et=j.xPos+j.notchOffset+j.shape.width;j=j.shape.pathRight+(0,Mt.lineOnAxis)("h",-(j.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var ot=o.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=(0,Mt.lineOnAxis)("H",et)+j+(0,Mt.lineOnAxis)("v",ot)+this.constants_.INSIDE_CORNERS.pathBottom+(0,Mt.lineOnAxis)("H",o.xPos+o.width),this.positionStatementInputConnection_(o)},to.Drawer.prototype.drawRightSideRow_=function(o){this.outlinePath_+=(0,Mt.lineOnAxis)("V",o.yPos+o.height)},to.Drawer.prototype.drawBottom_=function(){var o=this.info_.bottomRow,j=o.elements;this.positionNextConnection_();for(var et=0,ot="",rt=j.length-1,ct;ct=j[rt];rt--)xt.Types.isNextConnection(ct)&&ct instanceof Ir.Connection?ot+=ct.shape.pathRight:xt.Types.isLeftSquareCorner(ct)?ot+=(0,Mt.lineOnAxis)("H",o.xPos):xt.Types.isLeftRoundedCorner(ct)?ot+=this.constants_.OUTSIDE_CORNERS.bottomLeft:xt.Types.isRightRoundedCorner(ct)?(ot+=this.constants_.OUTSIDE_CORNERS.bottomRight,et=this.constants_.OUTSIDE_CORNERS.rightHeight):xt.Types.isSpacer(ct)&&(ot+=(0,Mt.lineOnAxis)("h",-1*ct.width));this.outlinePath_+=(0,Mt.lineOnAxis)("V",o.baseline-et),this.outlinePath_+=ot},to.Drawer.prototype.drawLeft_=function(){var o=this.info_.outputConnection;if(this.positionOutputConnection_(),o){var j=o.connectionOffsetY+o.height;o=typeof o.shape.pathUp=="function"?o.shape.pathUp(o.height):o.shape.pathUp,this.outlinePath_+=(0,Mt.lineOnAxis)("V",j)+o}this.outlinePath_+="z"},to.Drawer.prototype.drawInternals_=function(){for(var o=0,j;j=this.info_.rows[o];o++)for(var et=0,ot;ot=j.elements[et];et++)xt.Types.isInlineInput(ot)?this.drawInlineInput_(ot):(xt.Types.isIcon(ot)||xt.Types.isField(ot))&&this.layoutField_(ot)},to.Drawer.prototype.layoutField_=function(o){if(xt.Types.isField(o))var j=o.field.getSvgRoot();else xt.Types.isIcon(o)&&(j=o.icon.iconGroup_);var et=o.centerline-o.height/2,ot=o.xPos,rt="";this.info_.RTL&&(ot=-(ot+o.width),o.flipRtl&&(ot+=o.width,rt="scale(-1 1)")),xt.Types.isIcon(o)?(j.setAttribute("display","block"),j.setAttribute("transform","translate("+ot+","+et+")"),o.icon.computeIconLocation()):j.setAttribute("transform","translate("+ot+","+et+")"+rt),this.info_.isInsertionMarker&&j.setAttribute("display","none")},to.Drawer.prototype.drawInlineInput_=function(o){var j=o.width,et=o.height,ot=o.connectionOffsetY,rt=o.connectionHeight+ot;this.inlinePath_+=(0,Mt.moveTo)(o.xPos+o.connectionWidth,o.centerline-et/2)+(0,Mt.lineOnAxis)("v",ot)+o.shape.pathDown+(0,Mt.lineOnAxis)("v",et-rt)+(0,Mt.lineOnAxis)("h",j-o.connectionWidth)+(0,Mt.lineOnAxis)("v",-et)+"z",this.positionInlineInputConnection_(o)},to.Drawer.prototype.positionInlineInputConnection_=function(o){var j=o.centerline-o.height/2;if(o.connectionModel){var et=o.xPos+o.connectionWidth+o.connectionOffsetX;this.info_.RTL&&(et*=-1),o.connectionModel.setOffsetInBlock(et,j+o.connectionOffsetY)}},to.Drawer.prototype.positionStatementInputConnection_=function(o){var j=o.getLastInput();if(j.connectionModel){var et=o.xPos+o.statementEdge+j.notchOffset;this.info_.RTL&&(et*=-1),j.connectionModel.setOffsetInBlock(et,o.yPos)}},to.Drawer.prototype.positionExternalValueConnection_=function(o){var j=o.getLastInput();if(j.connectionModel){var et=o.xPos+o.width;this.info_.RTL&&(et*=-1),j.connectionModel.setOffsetInBlock(et,o.yPos)}},to.Drawer.prototype.positionPreviousConnection_=function(){var o=this.info_.topRow;if(o.connection){var j=o.xPos+o.notchOffset;o.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-j:j,0)}},to.Drawer.prototype.positionNextConnection_=function(){var o=this.info_.bottomRow;if(o.connection){var j=o.connection,et=j.xPos;j.connectionModel.setOffsetInBlock(this.info_.RTL?-et:et,o.baseline)}},to.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var o=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-o:o,this.info_.outputConnection.connectionOffsetY)}};var qn={ExternalValueInput:function(o,j){xn.InputConnection.call(this,o,j),this.type|=xt.Types.EXTERNAL_VALUE_INPUT,this.height=0,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}};_.$jscomp.inherits(qn.ExternalValueInput,xn.InputConnection);var du={Hat:function(o){Jn.Measurable.call(this,o),this.type|=xt.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}};_.$jscomp.inherits(du.Hat,Jn.Measurable);var jp={IPathObject:function(o,j){}},_i={Icon:function(o,j){Jn.Measurable.call(this,o),this.icon=j,this.isVisible=j.isVisible(),this.type|=xt.Types.ICON,o=j.getCorrectedSize(),this.height=o.height,this.width=o.width}};_.$jscomp.inherits(_i.Icon,Jn.Measurable);var mr={InRowSpacer:function(o,j){Jn.Measurable.call(this,o),this.type=this.type|xt.Types.SPACER|xt.Types.IN_ROW_SPACER,this.width=j,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}};_.$jscomp.inherits(mr.InRowSpacer,Jn.Measurable);var Is={InlineInput:function(o,j){xn.InputConnection.call(this,o,j),this.type|=xt.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0}};_.$jscomp.inherits(Is.InlineInput,xn.InputConnection);var Xt={StatementInput:function(o,j){xn.InputConnection.call(this,o,j),this.type|=xt.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}};_.$jscomp.inherits(Xt.StatementInput,xn.InputConnection);var $l={InputRow:function(o){gr.Row.call(this,o),this.type|=xt.Types.INPUT_ROW,this.connectedBlockWidths=0}};_.$jscomp.inherits($l.InputRow,gr.Row),$l.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var o=0,j=0;j<this.elements.length;j++){var et=this.elements[j];this.width+=et.width,xt.Types.isInput(et)&&et instanceof xn.InputConnection&&(xt.Types.isStatementInput(et)&&et instanceof Xt.StatementInput?o+=et.connectedBlockWidth:xt.Types.isExternalInput(et)&&et instanceof qn.ExternalValueInput&&et.connectedBlockWidth!==0&&(o+=et.connectedBlockWidth-et.connectionWidth)),xt.Types.isSpacer(et)||(this.height=Math.max(this.height,et.height))}this.connectedBlockWidths=o,this.widthWithConnectedBlocks=this.width+o},$l.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement};var Xu={JaggedEdge:function(o){Jn.Measurable.call(this,o),this.type|=xt.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}};_.$jscomp.inherits(Xu.JaggedEdge,Jn.Measurable);var Kt={ASTNode:function(o,j,et){if(!j)throw Error("Cannot create a node without a location.");this.type_=o,this.isConnection_=Kt.ASTNode.isConnectionType_(o),this.location_=j,this.wsCoordinate_=null,this.processParams_(et||null)}};Kt.ASTNode.prototype.processParams_=function(o){o&&o.wsCoordinate&&(this.wsCoordinate_=o.wsCoordinate)},Kt.ASTNode.prototype.getLocation=function(){return this.location_},Kt.ASTNode.prototype.getType=function(){return this.type_},Kt.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},Kt.ASTNode.prototype.isConnection=function(){return this.isConnection_},Kt.ASTNode.prototype.findNextForInput_=function(){var o=this.location_.getParentInput(),j=o.getSourceBlock();for(o=j.inputList.indexOf(o)+1;o<j.inputList.length;o++){for(var et=j.inputList[o],ot=et.fieldRow,rt=0;rt<ot.length;rt++){var ct=ot[rt];if(ct.isClickable()||Kt.ASTNode.NAVIGATE_ALL_FIELDS)return Kt.ASTNode.createFieldNode(ct)}if(et.connection)return Kt.ASTNode.createInputNode(et)}return null},Kt.ASTNode.prototype.findNextForField_=function(){var o=this.location_,j=o.getParentInput(),et=o.getSourceBlock(),ot=et.inputList.indexOf(j);for(o=j.fieldRow.indexOf(o)+1;ot<et.inputList.length;ot++){j=et.inputList[ot];for(var rt=j.fieldRow;o<rt.length;){if(rt[o].isClickable()||Kt.ASTNode.NAVIGATE_ALL_FIELDS)return Kt.ASTNode.createFieldNode(rt[o]);o++}if(o=0,j.connection)return Kt.ASTNode.createInputNode(j)}return null},Kt.ASTNode.prototype.findPrevForInput_=function(){for(var o=this.location_.getParentInput(),j=o.getSourceBlock(),et=j.inputList.indexOf(o);0<=et;et--){var ot=j.inputList[et];if(ot.connection&&ot!==o)return Kt.ASTNode.createInputNode(ot);ot=ot.fieldRow;for(var rt=ot.length-1;0<=rt;rt--){var ct=ot[rt];if(ct.isClickable()||Kt.ASTNode.NAVIGATE_ALL_FIELDS)return Kt.ASTNode.createFieldNode(ct)}}return null},Kt.ASTNode.prototype.findPrevForField_=function(){var o=this.location_,j=o.getParentInput(),et=o.getSourceBlock(),ot=et.inputList.indexOf(j);for(o=j.fieldRow.indexOf(o)-1;0<=ot;ot--){var rt=et.inputList[ot];if(rt.connection&&rt!==j)return Kt.ASTNode.createInputNode(rt);for(rt=rt.fieldRow;-1<o;){if(rt[o].isClickable()||Kt.ASTNode.NAVIGATE_ALL_FIELDS)return Kt.ASTNode.createFieldNode(rt[o]);o--}0<=ot-1&&(o=et.inputList[ot-1].fieldRow.length-1)}return null},Kt.ASTNode.prototype.navigateBetweenStacks_=function(o){var j=this.getLocation();if(j.getSourceBlock&&(j=j.getSourceBlock()),!j||!j.workspace)return null;var et=j.getRootBlock();j=et.workspace.getTopBlocks(!0);for(var ot=0;ot<j.length;ot++)if(et.id===j[ot].id)return o=ot+(o?1:-1),o===-1||o===j.length?null:Kt.ASTNode.createStackNode(j[o]);throw Error("Couldn't find "+(o?"next":"previous")+" stack?!")},Kt.ASTNode.prototype.findTopASTNodeForBlock_=function(o){var j=fu(o);return j?Kt.ASTNode.createConnectionNode(j):Kt.ASTNode.createBlockNode(o)},Kt.ASTNode.prototype.getOutAstNodeForBlock_=function(o){if(!o)return null;o=o.getTopStackBlock();var j=fu(o);return j&&j.targetConnection&&j.targetConnection.getParentInput()?Kt.ASTNode.createInputNode(j.targetConnection.getParentInput()):Kt.ASTNode.createStackNode(o)},Kt.ASTNode.prototype.findFirstFieldOrInput_=function(o){o=o.inputList;for(var j=0;j<o.length;j++){for(var et=o[j],ot=et.fieldRow,rt=0;rt<ot.length;rt++){var ct=ot[rt];if(ct.isClickable()||Kt.ASTNode.NAVIGATE_ALL_FIELDS)return Kt.ASTNode.createFieldNode(ct)}if(et.connection)return Kt.ASTNode.createInputNode(et)}return null},Kt.ASTNode.prototype.getSourceBlock=function(){return this.getType()===Kt.ASTNode.types.BLOCK?this.getLocation():this.getType()===Kt.ASTNode.types.STACK?this.getLocation():this.getType()===Kt.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},Kt.ASTNode.prototype.next=function(){switch(this.type_){case Kt.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case Kt.ASTNode.types.OUTPUT:return Kt.ASTNode.createBlockNode(this.location_.getSourceBlock());case Kt.ASTNode.types.FIELD:return this.findNextForField_();case Kt.ASTNode.types.INPUT:return this.findNextForInput_();case Kt.ASTNode.types.BLOCK:return Kt.ASTNode.createConnectionNode(this.location_.nextConnection);case Kt.ASTNode.types.PREVIOUS:return Kt.ASTNode.createBlockNode(this.location_.getSourceBlock());case Kt.ASTNode.types.NEXT:return Kt.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},Kt.ASTNode.prototype.in=function(){switch(this.type_){case Kt.ASTNode.types.WORKSPACE:var o=this.location_.getTopBlocks(!0);if(0<o.length)return Kt.ASTNode.createStackNode(o[0]);break;case Kt.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case Kt.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case Kt.ASTNode.types.INPUT:return Kt.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},Kt.ASTNode.prototype.prev=function(){switch(this.type_){case Kt.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case Kt.ASTNode.types.FIELD:return this.findPrevForField_();case Kt.ASTNode.types.INPUT:return this.findPrevForInput_();case Kt.ASTNode.types.BLOCK:var o=fu(this.location_);return Kt.ASTNode.createConnectionNode(o);case Kt.ASTNode.types.PREVIOUS:if((o=this.location_.targetConnection)&&!o.getParentInput())return Kt.ASTNode.createConnectionNode(o);break;case Kt.ASTNode.types.NEXT:return Kt.ASTNode.createBlockNode(this.location_.getSourceBlock())}return null},Kt.ASTNode.prototype.out=function(){switch(this.type_){case Kt.ASTNode.types.STACK:var o=this.location_,j=o.getRelativeToSurfaceXY();return j=new go.Coordinate(j.x,j.y+Kt.ASTNode.DEFAULT_OFFSET_Y),Kt.ASTNode.createWorkspaceNode(o.workspace,j);case Kt.ASTNode.types.OUTPUT:return o=this.location_,(j=o.targetConnection)?Kt.ASTNode.createConnectionNode(j):Kt.ASTNode.createStackNode(o.getSourceBlock());case Kt.ASTNode.types.FIELD:return Kt.ASTNode.createBlockNode(this.location_.getSourceBlock());case Kt.ASTNode.types.INPUT:return Kt.ASTNode.createBlockNode(this.location_.getSourceBlock());case Kt.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case Kt.ASTNode.types.PREVIOUS:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock());case Kt.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null},Kt.ASTNode.isConnectionType_=function(o){switch(o){case Kt.ASTNode.types.PREVIOUS:case Kt.ASTNode.types.NEXT:case Kt.ASTNode.types.INPUT:case Kt.ASTNode.types.OUTPUT:return!0}return!1},Kt.ASTNode.createFieldNode=function(o){return o?new Kt.ASTNode(Kt.ASTNode.types.FIELD,o):null},Kt.ASTNode.createConnectionNode=function(o){if(!o)return null;var j=o.type;return j===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||j===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&o.getParentInput()?Kt.ASTNode.createInputNode(o.getParentInput()):j===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?new Kt.ASTNode(Kt.ASTNode.types.NEXT,o):j===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?new Kt.ASTNode(Kt.ASTNode.types.OUTPUT,o):j===_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?new Kt.ASTNode(Kt.ASTNode.types.PREVIOUS,o):null},Kt.ASTNode.createInputNode=function(o){return o&&o.connection?new Kt.ASTNode(Kt.ASTNode.types.INPUT,o.connection):null},Kt.ASTNode.createBlockNode=function(o){return o?new Kt.ASTNode(Kt.ASTNode.types.BLOCK,o):null},Kt.ASTNode.createStackNode=function(o){return o?new Kt.ASTNode(Kt.ASTNode.types.STACK,o):null},Kt.ASTNode.createWorkspaceNode=function(o,j){return j&&o?new Kt.ASTNode(Kt.ASTNode.types.WORKSPACE,o,{wsCoordinate:j}):null},Kt.ASTNode.createTopNode=function(o){var j=fu(o);return j?Kt.ASTNode.createConnectionNode(j):Kt.ASTNode.createBlockNode(o)},Kt.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},Kt.ASTNode.NAVIGATE_ALL_FIELDS=!1,Kt.ASTNode.DEFAULT_OFFSET_Y=-20;var fu=function(o){var j=o.outputConnection;return(!j||o.previousConnection&&o.previousConnection.isConnected())&&(j=o.previousConnection),j},Bl={MarkerMove:function(o,j,et,ot){var rt=o?o.workspace.id:void 0;ot&&ot.getType()===Kt.ASTNode.types.WORKSPACE&&(rt=ot.getLocation().id),mo.UiBase.call(this,rt),this.blockId=o?o.id:null,this.oldNode=et,this.newNode=ot,this.isCursor=j,this.type=yt.MARKER_MOVE}};_.$jscomp.inherits(Bl.MarkerMove,mo.UiBase),Bl.MarkerMove.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.isCursor=this.isCursor,o.blockId=this.blockId,o.oldNode=this.oldNode,o.newNode=this.newNode,o},Bl.MarkerMove.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.isCursor=o.isCursor,this.blockId=o.blockId,this.oldNode=o.oldNode,this.newNode=o.newNode},(0,jt.register)(jt.Type.EVENT,yt.MARKER_MOVE,Bl.MarkerMove);var qo={},Yu="blocklyCursor",zp="blocklyMarker",Ku=.75;qo.MarkerSvg=function(o,j,et){this.workspace_=o,this.marker_=et,this.parent_=null,this.constants_=j,this.currentMarkerSvg=null,o=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=et.colour||o,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=null},qo.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},qo.MarkerSvg.prototype.getMarker=function(){return this.marker_},qo.MarkerSvg.prototype.isCursor=function(){return this.marker_.type==="cursor"},qo.MarkerSvg.prototype.createDom=function(){var o=this.isCursor()?Yu:zp;return this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:o},null),this.createDomInternal_(),this.svgGroup_},qo.MarkerSvg.prototype.setParent_=function(o){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),o.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),o.setMarkerSvg(this.getSvgRoot())),this.parent_=o},qo.MarkerSvg.prototype.draw=function(o,j){if(j){this.constants_=this.workspace_.getRenderer().getConstants();var et=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||et,this.applyColour_(j),this.showAtLocation_(j),this.fireMarkerEvent_(o,j),o=this.currentMarkerSvg.childNodes[0],o!==void 0&&o.beginElement&&o.beginElement()}else this.hide()},qo.MarkerSvg.prototype.showAtLocation_=function(o){var j=o.getLocation().type;o.getType()===Kt.ASTNode.types.BLOCK?this.showWithBlock_(o):o.getType()===Kt.ASTNode.types.OUTPUT?this.showWithOutput_(o):j===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE?this.showWithInput_(o):j===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT?this.showWithNext_(o):o.getType()===Kt.ASTNode.types.PREVIOUS?this.showWithPrevious_(o):o.getType()===Kt.ASTNode.types.FIELD?this.showWithField_(o):o.getType()===Kt.ASTNode.types.WORKSPACE?this.showWithCoordinates_(o):o.getType()===Kt.ASTNode.types.STACK&&this.showWithStack_(o)},qo.MarkerSvg.prototype.showWithBlockPrevOutput_=function(o){o=o.getSourceBlock();var j=o.width,et=o.height,ot=et*Ku,rt=this.constants_.CURSOR_BLOCK_PADDING;o.previousConnection?(et=this.constants_.shapeFor(o.previousConnection),this.positionPrevious_(j,rt,ot,et)):o.outputConnection?(ot=this.constants_.shapeFor(o.outputConnection),this.positionOutput_(j,et,ot)):this.positionBlock_(j,rt,ot),this.setParent_(o),this.showCurrent_()},qo.MarkerSvg.prototype.showWithBlock_=function(o){this.showWithBlockPrevOutput_(o)},qo.MarkerSvg.prototype.showWithPrevious_=function(o){this.showWithBlockPrevOutput_(o)},qo.MarkerSvg.prototype.showWithOutput_=function(o){this.showWithBlockPrevOutput_(o)},qo.MarkerSvg.prototype.showWithCoordinates_=function(o){var j=o.getWsCoordinate();o=j.x,j=j.y,this.workspace_.RTL&&(o-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(o,j,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},qo.MarkerSvg.prototype.showWithField_=function(o){o=o.getLocation();var j=o.getSize().width,et=o.getSize().height;this.positionRect_(0,0,j,et),this.setParent_(o),this.showCurrent_()},qo.MarkerSvg.prototype.showWithInput_=function(o){o=o.getLocation();var j=o.getSourceBlock();this.positionInput_(o),this.setParent_(j),this.showCurrent_()},qo.MarkerSvg.prototype.showWithNext_=function(o){var j=o.getLocation();o=j.getSourceBlock();var et=0;j=j.getOffsetInBlock().y;var ot=o.getHeightWidth().width;this.workspace_.RTL&&(et=-ot),this.positionLine_(et,j,ot),this.setParent_(o),this.showCurrent_()},qo.MarkerSvg.prototype.showWithStack_=function(o){o=o.getLocation();var j=o.getHeightWidth(),et=j.width+this.constants_.CURSOR_STACK_PADDING;j=j.height+this.constants_.CURSOR_STACK_PADDING;var ot=-this.constants_.CURSOR_STACK_PADDING/2,rt=-this.constants_.CURSOR_STACK_PADDING/2,ct=ot;this.workspace_.RTL&&(ct=-(et+ot)),this.positionRect_(ct,rt,et,j),this.setParent_(o),this.showCurrent_()},qo.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},qo.MarkerSvg.prototype.positionBlock_=function(o,j,et){o=(0,Mt.moveBy)(-j,et)+(0,Mt.lineOnAxis)("V",-j)+(0,Mt.lineOnAxis)("H",o+2*j)+(0,Mt.lineOnAxis)("V",et),this.markerBlock_.setAttribute("d",o),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},qo.MarkerSvg.prototype.positionInput_=function(o){var j=o.getOffsetInBlock().x,et=o.getOffsetInBlock().y;o=(0,Mt.moveTo)(0,0)+this.constants_.shapeFor(o).pathDown,this.markerInput_.setAttribute("d",o),this.markerInput_.setAttribute("transform","translate("+j+","+et+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},qo.MarkerSvg.prototype.positionLine_=function(o,j,et){this.markerSvgLine_.setAttribute("x",o),this.markerSvgLine_.setAttribute("y",j),this.markerSvgLine_.setAttribute("width",et),this.currentMarkerSvg=this.markerSvgLine_},qo.MarkerSvg.prototype.positionOutput_=function(o,j,et){o=(0,Mt.moveBy)(o,0)+(0,Mt.lineOnAxis)("h",-(o-et.width))+(0,Mt.lineOnAxis)("v",this.constants_.TAB_OFFSET_FROM_TOP)+et.pathDown+(0,Mt.lineOnAxis)("V",j)+(0,Mt.lineOnAxis)("H",o),this.markerBlock_.setAttribute("d",o),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},qo.MarkerSvg.prototype.positionPrevious_=function(o,j,et,ot){o=(0,Mt.moveBy)(-j,et)+(0,Mt.lineOnAxis)("V",-j)+(0,Mt.lineOnAxis)("H",this.constants_.NOTCH_OFFSET_LEFT)+ot.pathLeft+(0,Mt.lineOnAxis)("H",o+2*j)+(0,Mt.lineOnAxis)("V",et),this.markerBlock_.setAttribute("d",o),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},qo.MarkerSvg.prototype.positionRect_=function(o,j,et,ot){this.markerSvgRect_.setAttribute("x",o),this.markerSvgRect_.setAttribute("y",j),this.markerSvgRect_.setAttribute("width",et),this.markerSvgRect_.setAttribute("height",ot),this.currentMarkerSvg=this.markerSvgRect_},qo.MarkerSvg.prototype.flipRtl_=function(o){o.setAttribute("transform","scale(-1 1)")},qo.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},qo.MarkerSvg.prototype.fireMarkerEvent_=function(o,j){var et=j.getSourceBlock();o=new((0,yt.get)(yt.MARKER_MOVE))(et,this.isCursor(),o,j),(0,yt.fire)(o)},qo.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},qo.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=(0,kt.createSvgElement)(Nt.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=(0,kt.createSvgElement)(Nt.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=(0,kt.createSvgElement)(Nt.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=(0,kt.createSvgElement)(Nt.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var o=this.getBlinkProperties_();(0,kt.createSvgElement)(Nt.Svg.ANIMATE,o,this.markerSvgLine_),(0,kt.createSvgElement)(Nt.Svg.ANIMATE,o,this.markerInput_),o.attributeName="stroke",(0,kt.createSvgElement)(Nt.Svg.ANIMATE,o,this.markerBlock_)}return this.markerSvg_},qo.MarkerSvg.prototype.applyColour_=function(o){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(o=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",o),this.markerInput_.firstChild.setAttribute("values",o),this.markerBlock_.firstChild.setAttribute("values",o))},qo.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&(0,kt.removeNode)(this.svgGroup_)};var gu={NextConnection:function(o,j){Ir.Connection.call(this,o,j),this.type|=xt.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}};_.$jscomp.inherits(gu.NextConnection,Ir.Connection);var Ju={OutputConnection:function(o,j){Ir.Connection.call(this,o,j),this.type|=xt.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0}};_.$jscomp.inherits(Ju.OutputConnection,Ir.Connection);var bn={PathObject:function(o,j,et){this.constants=et,this.svgRoot=o,this.svgPath=(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=j,this.markerSvg=this.cursorSvg=null}};bn.PathObject.prototype.setPath=function(o){this.svgPath.setAttribute("d",o)},bn.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},bn.PathObject.prototype.setCursorSvg=function(o){o?(this.svgRoot.appendChild(o),this.cursorSvg=o):this.cursorSvg=null},bn.PathObject.prototype.setMarkerSvg=function(o){o?(this.cursorSvg?this.svgRoot.insertBefore(o,this.cursorSvg):this.svgRoot.appendChild(o),this.markerSvg=o):this.markerSvg=null},bn.PathObject.prototype.applyColour=function(o){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(o.isShadow()),this.updateDisabled_(!o.isEnabled()||o.getInheritedDisabled())},bn.PathObject.prototype.setStyle=function(o){this.style=o},bn.PathObject.prototype.setClass_=function(o,j){j?(0,kt.addClass)(this.svgRoot,o):(0,kt.removeClass)(this.svgRoot,o)},bn.PathObject.prototype.updateHighlighted=function(o){o?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},bn.PathObject.prototype.updateShadow_=function(o){o&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},bn.PathObject.prototype.updateDisabled_=function(o){this.setClass_("blocklyDisabled",o),o&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},bn.PathObject.prototype.updateSelected=function(o){this.setClass_("blocklySelected",o)},bn.PathObject.prototype.updateDraggingDelete=function(o){this.setClass_("blocklyDraggingDelete",o)},bn.PathObject.prototype.updateInsertionMarker=function(o){this.setClass_("blocklyInsertionMarker",o)},bn.PathObject.prototype.updateMovable=function(o){this.setClass_("blocklyDraggable",o)},bn.PathObject.prototype.updateReplacementFade=function(o){this.setClass_("blocklyReplaceable",o)},bn.PathObject.prototype.updateShapeForInputHighlight=function(o,j){};var qu={PreviousConnection:function(o,j){Ir.Connection.call(this,o,j),this.type|=xt.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}};_.$jscomp.inherits(qu.PreviousConnection,Ir.Connection),_.module$exports$Blockly$Input={Input:function(o,j,et,ot){if(o!==_.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&!j)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=o,this.name=j,this.sourceBlock_=et,this.connection=ot,this.fieldRow=[],this.align=_.module$exports$Blockly$Input.Align.LEFT,this.visible_=!0}},_.module$exports$Blockly$Input.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},_.module$exports$Blockly$Input.Input.prototype.appendField=function(o,j){return this.insertFieldAt(this.fieldRow.length,o,j),this},_.module$exports$Blockly$Input.Input.prototype.insertFieldAt=function(o,j,et){if(0>o||o>this.fieldRow.length)throw Error("index "+o+" out of bounds.");return(j||j===""&&et)&&(typeof j=="string"&&(j=(0,vr.fromJson)({type:"field_label",text:j})),j.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(j.init(),j.applyColour()),j.name=et,j.setVisible(this.isVisible()),j.prefixField&&(o=this.insertFieldAt(o,j.prefixField)),this.fieldRow.splice(o,0,j),o++,j.suffixField&&(o=this.insertFieldAt(o,j.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())),o},_.module$exports$Blockly$Input.Input.prototype.removeField=function(o,j){for(var et=0,ot;ot=this.fieldRow[et];et++)if(ot.name===o)return ot.dispose(),this.fieldRow.splice(et,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(j)return!1;throw Error('Field "'+o+'" not found.')},_.module$exports$Blockly$Input.Input.prototype.isVisible=function(){return this.visible_},_.module$exports$Blockly$Input.Input.prototype.setVisible=function(o){var j=[];if(this.visible_===o)return j;this.visible_=o;for(var et=0,ot;ot=this.fieldRow[et];et++)ot.setVisible(o);return this.connection&&(this.connection=this.connection,o?j=this.connection.startTrackingAll():this.connection.stopTrackingAll(),et=this.connection.targetBlock())&&(et.getSvgRoot().style.display=o?"block":"none"),j},_.module$exports$Blockly$Input.Input.prototype.markDirty=function(){for(var o=0,j;j=this.fieldRow[o];o++)j.markDirty()},_.module$exports$Blockly$Input.Input.prototype.setCheck=function(o){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(o),this},_.module$exports$Blockly$Input.Input.prototype.setAlign=function(o){return this.align=o,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},_.module$exports$Blockly$Input.Input.prototype.setShadowDom=function(o){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(o),this},_.module$exports$Blockly$Input.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},_.module$exports$Blockly$Input.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var o=0;o<this.fieldRow.length;o++)this.fieldRow[o].init()},_.module$exports$Blockly$Input.Input.prototype.dispose=function(){for(var o=0,j;j=this.fieldRow[o];o++)j.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},_.module$exports$Blockly$Input.Align={LEFT:-1,CENTRE:0,RIGHT:1},_.module$exports$Blockly$Input.Input.Align=_.module$exports$Blockly$Input.Align;var Ys={RoundCorner:function(o,j){Jn.Measurable.call(this,o),this.type=(j&&j!=="left"?xt.Types.RIGHT_ROUND_CORNER:xt.Types.LEFT_ROUND_CORNER)|xt.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}};_.$jscomp.inherits(Ys.RoundCorner,Jn.Measurable);var Yl={SpacerRow:function(o,j,et){gr.Row.call(this,o),this.type=this.type|xt.Types.SPACER|xt.Types.BETWEEN_ROW_SPACER,this.width=et,this.height=j,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new mr.InRowSpacer(this.constants_,et)]}};_.$jscomp.inherits(Yl.SpacerRow,gr.Row),Yl.SpacerRow.prototype.measure=function(){};var Al={SquareCorner:function(o,j){Jn.Measurable.call(this,o),this.type=(j&&j!=="left"?xt.Types.RIGHT_SQUARE_CORNER:xt.Types.LEFT_SQUARE_CORNER)|xt.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING}};_.$jscomp.inherits(Al.SquareCorner,Jn.Measurable);var es={TopRow:function(o){gr.Row.call(this,o),this.type|=xt.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null}};_.$jscomp.inherits(es.TopRow,gr.Row),es.TopRow.prototype.hasLeftSquareCorner=function(o){var j=(o.hat?o.hat==="cap":this.constants_.ADD_START_HATS)&&!o.outputConnection&&!o.previousConnection,et=o.getPreviousBlock();return!!o.outputConnection||j||(et?et.getNextBlock()===o:!1)},es.TopRow.prototype.hasRightSquareCorner=function(o){return!0},es.TopRow.prototype.measure=function(){for(var o=0,j=0,et=0,ot=0;ot<this.elements.length;ot++){var rt=this.elements[ot];j+=rt.width,xt.Types.isSpacer(rt)||(xt.Types.isHat(rt)&&rt instanceof du.Hat?et=Math.max(et,rt.ascenderHeight):o=Math.max(o,rt.height))}this.width=Math.max(this.minWidth,j),this.height=Math.max(this.minHeight,o)+et,this.capline=this.ascenderHeight=et,this.widthWithConnectedBlocks=this.width},es.TopRow.prototype.startsWithElemSpacer=function(){return!1},es.TopRow.prototype.endsWithElemSpacer=function(){return!1};var Lo={RenderInfo:function(o,j){this.block_=j,this.renderer_=o,this.constants_=this.renderer_.getConstants(),this.outputConnection=j.outputConnection?new Ju.OutputConnection(this.constants_,j.outputConnection):null,this.isInline=j.getInputsInline()&&!j.isCollapsed(),this.isCollapsed=j.isCollapsed(),this.isInsertionMarker=j.isInsertionMarker(),this.RTL=j.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new es.TopRow(this.constants_),this.bottomRow=new Vr.BottomRow(this.constants_),this.startY=this.startX=0}};Lo.RenderInfo.prototype.getRenderer=function(){return this.renderer_},Lo.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},Lo.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var o=new $l.InputRow(this.constants_);this.inputRows.push(o);for(var j=this.block_.getIcons(),et=0,ot;ot=j[et];et++){var rt=new _i.Icon(this.constants_,ot);this.isCollapsed&&ot.collapseHidden?this.hiddenIcons.push(rt):o.elements.push(rt)}for(ot=null,j=0;et=this.block_.inputList[j];j++)if(et.isVisible()){for(this.shouldStartNewRow_(et,ot)&&(this.rows.push(o),o=new $l.InputRow(this.constants_),this.inputRows.push(o)),ot=0;rt=et.fieldRow[ot];ot++)o.elements.push(new fs.Field(this.constants_,rt,et));this.addInput_(et,o),ot=et}this.isCollapsed&&(o.hasJaggedEdge=!0,o.elements.push(new Xu.JaggedEdge(this.constants_))),(o.elements.length||o.hasDummyInput)&&this.rows.push(o),this.populateBottomRow_(),this.rows.push(this.bottomRow)},Lo.RenderInfo.prototype.populateTopRow_=function(){var o=!!this.block_.previousConnection,j=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!o,et=this.topRow.hasLeftSquareCorner(this.block_)?Al.SquareCorner:Ys.RoundCorner;this.topRow.elements.push(new et(this.constants_)),j?(o=new du.Hat(this.constants_),this.topRow.elements.push(o),this.topRow.capline=o.ascenderHeight):o&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new qu.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,et=this.topRow.hasRightSquareCorner(this.block_)?Al.SquareCorner:Ys.RoundCorner,this.topRow.elements.push(new et(this.constants_,"right"))},Lo.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Al.SquareCorner(this.constants_)):this.bottomRow.elements.push(new Ys.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new gu.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Al.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new Ys.RoundCorner(this.constants_,"right"))},Lo.RenderInfo.prototype.addInput_=function(o,j){this.isInline&&o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE?(j.elements.push(new Is.InlineInput(this.constants_,o)),j.hasInlineInput=!0):o.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?(j.elements.push(new Xt.StatementInput(this.constants_,o)),j.hasStatement=!0):o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE?(j.elements.push(new qn.ExternalValueInput(this.constants_,o)),j.hasExternalInput=!0):o.type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&(j.minHeight=Math.max(j.minHeight,o.getSourceBlock()&&o.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),j.hasDummyInput=!0),j.align===null&&(j.align=o.align)},Lo.RenderInfo.prototype.shouldStartNewRow_=function(o,j){return j?o.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||j.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?!0:o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE||o.type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY?!this.isInline:!1:!1},Lo.RenderInfo.prototype.addElemSpacing_=function(){for(var o=0,j;j=this.rows[o];o++){var et=j.elements;if(j.elements=[],j.startsWithElemSpacer()&&j.elements.push(new mr.InRowSpacer(this.constants_,this.getInRowSpacing_(null,et[0]))),et.length){for(var ot=0;ot<et.length-1;ot++){j.elements.push(et[ot]);var rt=this.getInRowSpacing_(et[ot],et[ot+1]);j.elements.push(new mr.InRowSpacer(this.constants_,rt))}j.elements.push(et[et.length-1]),j.endsWithElemSpacer()&&j.elements.push(new mr.InRowSpacer(this.constants_,this.getInRowSpacing_(et[et.length-1],null)))}}},Lo.RenderInfo.prototype.getInRowSpacing_=function(o,j){if(!o&&j&&xt.Types.isStatementInput(j))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(o&&xt.Types.isInput(o)&&!j){if(xt.Types.isExternalInput(o))return this.constants_.NO_PADDING;if(xt.Types.isInlineInput(o))return this.constants_.LARGE_PADDING;if(xt.Types.isStatementInput(o))return this.constants_.NO_PADDING}return o&&xt.Types.isLeftSquareCorner(o)&&j&&(xt.Types.isPreviousConnection(j)||xt.Types.isNextConnection(j))?j.notchOffset:o&&xt.Types.isLeftRoundedCorner(o)&&j&&(xt.Types.isPreviousConnection(j)||xt.Types.isNextConnection(j))?j.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},Lo.RenderInfo.prototype.computeBounds_=function(){for(var o=0,j=0,et=0,ot=0,rt;rt=this.rows[ot];ot++){if(rt.measure(),j=Math.max(j,rt.width),rt.hasStatement){var ct=rt.getLastInput();o=Math.max(o,rt.width-ct.width)}et=Math.max(et,rt.widthWithConnectedBlocks)}for(this.statementEdge=o,this.width=j,o=0;ot=this.rows[o];o++)ot.hasStatement&&(ot.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(j,et),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},Lo.RenderInfo.prototype.alignRowElements_=function(){for(var o=0,j;j=this.rows[o];o++)if(j.hasStatement)this.alignStatementRow_(j);else{var et=j.width;et=this.getDesiredRowWidth_(j)-et,0<et&&this.addAlignmentPadding_(j,et),xt.Types.isTopOrBottomRow(j)&&(j.widthWithConnectedBlocks=j.width)}},Lo.RenderInfo.prototype.getDesiredRowWidth_=function(o){return this.width-this.startX},Lo.RenderInfo.prototype.addAlignmentPadding_=function(o,j){var et=o.getFirstSpacer(),ot=o.getLastSpacer();(o.hasExternalInput||o.hasStatement)&&(o.widthWithConnectedBlocks+=j),o.align===_.module$exports$Blockly$Input.Align.LEFT?ot.width+=j:o.align===_.module$exports$Blockly$Input.Align.CENTRE?(et.width+=j/2,ot.width+=j/2):o.align===_.module$exports$Blockly$Input.Align.RIGHT?et.width+=j:ot.width+=j,o.width+=j},Lo.RenderInfo.prototype.alignStatementRow_=function(o){var j=o.getLastInput(),et=o.width-j.width,ot=this.statementEdge;et=ot-et,0<et&&this.addAlignmentPadding_(o,et),et=o.width,ot=this.getDesiredRowWidth_(o),j.width+=ot-et,j.height=Math.max(j.height,o.height),o.width+=ot-et,o.widthWithConnectedBlocks=Math.max(o.width,this.statementEdge+o.connectedBlockWidths)},Lo.RenderInfo.prototype.addRowSpacing_=function(){var o=this.rows;this.rows=[];for(var j=0;j<o.length;j++)this.rows.push(o[j]),j!==o.length-1&&this.rows.push(this.makeSpacerRow_(o[j],o[j+1]))},Lo.RenderInfo.prototype.makeSpacerRow_=function(o,j){var et=this.getSpacerRowHeight_(o,j),ot=this.getSpacerRowWidth_(o,j);return et=new Yl.SpacerRow(this.constants_,et,ot),o.hasStatement&&(et.followsStatement=!0),j.hasStatement&&(et.precedesStatement=!0),et},Lo.RenderInfo.prototype.getSpacerRowWidth_=function(o,j){return this.width-this.startX},Lo.RenderInfo.prototype.getSpacerRowHeight_=function(o,j){return this.constants_.MEDIUM_PADDING},Lo.RenderInfo.prototype.getElemCenterline_=function(o,j){return xt.Types.isSpacer(j)?o.yPos+j.height/2:xt.Types.isBottomRow(o)?(o=o.yPos+o.height-o.descenderHeight,xt.Types.isNextConnection(j)?o+j.height/2:o-j.height/2):xt.Types.isTopRow(o)?xt.Types.isHat(j)?o.capline-j.height/2:o.capline+j.height/2:o.yPos+o.height/2},Lo.RenderInfo.prototype.recordElemPositions_=function(o){for(var j=o.xPos,et=0,ot;ot=o.elements[et];et++)xt.Types.isSpacer(ot)&&(ot.height=o.height),ot.xPos=j,ot.centerline=this.getElemCenterline_(o,ot),j+=ot.width},Lo.RenderInfo.prototype.finalize_=function(){for(var o=0,j=0,et=0,ot;ot=this.rows[et];et++)ot.yPos=j,ot.xPos=this.startX,j+=ot.height,o=Math.max(o,ot.widthWithConnectedBlocks),this.recordElemPositions_(ot);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(o=Math.max(o,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=o+this.startX,this.height=j,this.startY=this.topRow.capline,this.bottomRow.baseline=j-this.bottomRow.descenderHeight};var vn={Renderer:function(o){this.name=o,this.overrides=this.constants_=null}};vn.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},vn.Renderer.prototype.init=function(o,j){this.constants_=this.makeConstants_(),j&&(this.overrides=j,(0,_.module$exports$Blockly$utils$object.mixin)(this.constants_,j)),this.constants_.setTheme(o),this.constants_.init()},vn.Renderer.prototype.createDom=function(o,j){this.constants_.createDom(o,this.name+"-"+j.name,"."+this.getClassName()+"."+j.getClassName())},vn.Renderer.prototype.refreshDom=function(o,j){var et=this.getConstants();et.dispose(),this.constants_=this.makeConstants_(),this.overrides&&(0,_.module$exports$Blockly$utils$object.mixin)(this.constants_,this.overrides),this.constants_.randomIdentifier=et.randomIdentifier,this.constants_.setTheme(j),this.constants_.init(),this.createDom(o,j)},vn.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},vn.Renderer.prototype.makeConstants_=function(){return new rn.ConstantProvider},vn.Renderer.prototype.makeRenderInfo_=function(o){return new Lo.RenderInfo(this,o)},vn.Renderer.prototype.makeDrawer_=function(o,j){return new to.Drawer(o,j)},vn.Renderer.prototype.makeDebugger_=function(){var o=Fn.Debug;if(!o)throw Error("Missing require for Blockly.blockRendering.Debug");return new o(this.getConstants())},vn.Renderer.prototype.makeMarkerDrawer=function(o,j){return new qo.MarkerSvg(o,this.getConstants(),j)},vn.Renderer.prototype.makePathObject=function(o,j){return new bn.PathObject(o,j,this.constants_)},vn.Renderer.prototype.getConstants=function(){return this.constants_},vn.Renderer.prototype.shouldHighlightConnection=function(o){return!0},vn.Renderer.prototype.orphanCanConnectAtEnd=function(o,j,et){return!!Eo.Connection.getConnectionForOrphanedConnection(o,et===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?j.outputConnection:j.previousConnection)},vn.Renderer.prototype.getConnectionPreviewMethod=function(o,j,et){return j.type===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE||j.type===_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?!o.isConnected()||this.orphanCanConnectAtEnd(et,o.targetBlock(),j.type)?cn.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:cn.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:cn.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},vn.Renderer.prototype.render=function(o){(0,Mr.isDebuggerEnabled)()&&!o.renderingDebugger&&(o.renderingDebugger=this.makeDebugger_());var j=this.makeRenderInfo_(o);j.measure(),this.makeDrawer_(o,j).draw()};var Ho={isDebuggerEnabled:function(){return(0,tt.warn)("Blockly.blockRendering.isDebuggerEnabled()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),(0,Mr.isDebuggerEnabled)()},register:function(o,j){(0,jt.register)(jt.Type.RENDERER,o,j)},unregister:function(o){(0,jt.unregister)(jt.Type.RENDERER,o)},startDebugger:function(){(0,tt.warn)("Blockly.blockRendering.startDebugger()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),(0,Mr.startDebugger)()},stopDebugger:function(){(0,tt.warn)("Blockly.blockRendering.stopDebugger()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),(0,Mr.stopDebugger)()},init:function(o,j,et){return o=new((0,jt.getClass)(jt.Type.RENDERER,o))(o),o.init(j,et),o}};Ho.BottomRow=Vr.BottomRow,Ho.Connection=Ir.Connection,Ho.ConstantProvider=rn.ConstantProvider,Ho.Debug=Fn.Debug,Ho.Drawer=to.Drawer,Ho.ExternalValueInput=qn.ExternalValueInput,Ho.Field=fs.Field,Ho.Hat=du.Hat,Ho.Icon=_i.Icon,Ho.InRowSpacer=mr.InRowSpacer,Ho.InlineInput=Is.InlineInput,Ho.InputConnection=xn.InputConnection,Ho.InputRow=$l.InputRow,Ho.IPathObject=jp.IPathObject,Ho.JaggedEdge=Xu.JaggedEdge,Ho.MarkerSvg=qo.MarkerSvg,Ho.Measurable=Jn.Measurable,Ho.NextConnection=gu.NextConnection,Ho.OutputConnection=Ju.OutputConnection,Ho.PathObject=bn.PathObject,Ho.PreviousConnection=qu.PreviousConnection,Ho.Renderer=vn.Renderer,Ho.RenderInfo=Lo.RenderInfo,Ho.RoundCorner=Ys.RoundCorner,Ho.Row=gr.Row,Ho.SpacerRow=Yl.SpacerRow,Ho.SquareCorner=Al.SquareCorner,Ho.StatementInput=Xt.StatementInput,Ho.TopRow=es.TopRow,Ho.Types=xt.Types,Ho.debug=Mr,_.module$exports$Blockly$FieldDropdown={FieldDropdown:function(o,j,et){ro.Field.call(this,ro.Field.SKIP_SETUP),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null,this.SERIALIZABLE=!0,this.CURSOR="default",o!==ro.Field.SKIP_SETUP&&(Array.isArray(o)&&$p(o),this.menuGenerator_=o,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],et&&this.configure_(et),this.setValue(this.selectedOption_[1]),j&&this.setValidator(j))}},_.$jscomp.inherits(_.module$exports$Blockly$FieldDropdown.FieldDropdown,ro.Field),_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.fromXml=function(o){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(o.textContent)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.loadState=function(o){this.loadLegacyState(_.module$exports$Blockly$FieldDropdown.FieldDropdown,o)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(o))},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=(0,kt.createSvgElement)(Nt.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&(0,kt.addClass)(this.borderRect_,"blocklyDropdownRect")},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=(0,kt.createSvgElement)(Nt.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?_.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR+" ":" "+_.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=(0,kt.createSvgElement)(Nt.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(kt.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.showEditor_=function(o){if(this.dropdownCreate_(),this.menu_.openingCoords=o&&typeof o.clientX=="number"?new go.Coordinate(o.clientX,o.clientY):null,(0,Co.clearContent)(),this.menu_.render((0,Co.getContentDiv)()),o=this.menu_.getElement(),(0,kt.addClass)(o,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){o=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var j=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;(0,Co.setColour)(o,j)}(0,Co.showPositionedByField)(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.dropdownCreate_=function(){var o=new Tn.Menu;o.setRole(ho.Role.LISTBOX),this.menu_=o;var j=this.getOptions(!1);this.selectedMenuItem_=null;for(var et=0;et<j.length;et++){var ot=j[et][0],rt=j[et][1];if(typeof ot=="object"){var ct=new Image(ot.width,ot.height);ct.src=ot.src,ct.alt=ot.alt||"",ot=ct}ot=new Kn.MenuItem(ot,rt),ot.setRole(ho.Role.OPTION),ot.setRightToLeft(this.sourceBlock_.RTL),ot.setCheckable(!0),o.addChild(ot),ot.setChecked(rt===this.value_),rt===this.value_&&(this.selectedMenuItem_=ot),ot.onAction(this.handleMenuActionEvent_,this)}},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.handleMenuActionEvent_=function(o){(0,Co.hideIfOwner)(this,!0),this.onItemSelected_(this.menu_,o)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.onItemSelected_=function(o,j){this.setValue(j.getValue())},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.trimOptions_=function(){var o=this.menuGenerator_;if(Array.isArray(o)){for(var j=!1,et=0;et<o.length;et++){var ot=o[et][0];typeof ot=="string"?o[et][0]=(0,nn.replaceMessageReferences)(ot):(ot.alt!==null&&(o[et][0].alt=(0,nn.replaceMessageReferences)(ot.alt)),j=!0)}if(!(j||2>o.length)){for(j=[],et=0;et<o.length;et++)j.push(o[et][0]);et=(0,_.module$exports$Blockly$utils$string.shortestStringLength)(j),ot=(0,_.module$exports$Blockly$utils$string.commonWordPrefix)(j,et);var rt=(0,_.module$exports$Blockly$utils$string.commonWordSuffix)(j,et);!ot&&!rt||et<=ot+rt||(ot&&(this.prefixField=j[0].substring(0,ot-1)),rt&&(this.suffixField=j[0].substr(1-rt)),this.menuGenerator_=_.module$exports$Blockly$FieldDropdown.FieldDropdown.applyTrim_(o,ot,rt))}}},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.isOptionListDynamic=function(){return typeof this.menuGenerator_=="function"},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.getOptions=function(o){return this.isOptionListDynamic()?(this.generatedOptions_&&o||(this.generatedOptions_=this.menuGenerator_.call(this),$p(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doClassValidation_=function(o){for(var j=!1,et=this.getOptions(!0),ot=0,rt;rt=et[ot];ot++)if(rt[1]===o){j=!0;break}return j?o:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+o),null)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doValueUpdate_=function(o){ro.Field.prototype.doValueUpdate_.call(this,o),o=this.getOptions(!0);for(var j=0,et;et=o[j];j++)et[1]===this.value_&&(this.selectedOption_=et)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var o=this.selectedOption_&&this.selectedOption_[0];o&&typeof o=="object"?this.renderSelectedImage_(o):this.renderSelectedText_(),this.positionBorderRect_()},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.renderSelectedImage_=function(o){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(kt.XLINK_NS,"xlink:href",o.src),this.imageElement_.setAttribute("height",o.height),this.imageElement_.setAttribute("width",o.width);var j=Number(o.height);o=Number(o.width);var et=!!this.borderRect_,ot=Math.max(et?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,j+bp);et=et?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var rt=this.svgArrow_?this.positionSVGArrow_(o+et,ot/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):(0,kt.getFastTextWidth)(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=o+rt+2*et,this.size_.height=ot;var ct=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",et+rt):(ct=o+rt,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",et)),this.imageElement_.setAttribute("y",ot/2-j/2),this.positionTextElement_(ct+et,o+rt)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),(0,kt.addClass)(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var o=!!this.borderRect_,j=Math.max(o?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),et=(0,kt.getFastTextWidth)(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);o=o?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var ot=0;this.svgArrow_&&(ot=this.positionSVGArrow_(et+o,j/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=et+ot+2*o,this.size_.height=j,this.positionTextElement_(o,et)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.positionSVGArrow_=function(o,j){if(!this.svgArrow_)return 0;var et=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,ot=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,rt=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?et:o+ot)+","+j+")"),rt+ot},_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var o=this.selectedOption_[0];return typeof o=="object"?o.alt:o},_.module$exports$Blockly$FieldDropdown.FieldDropdown.fromJson=function(o){return new this(o.options,void 0,o)},_.module$exports$Blockly$FieldDropdown.FieldDropdown.applyTrim_=function(o,j,et){for(var ot=[],rt=0;rt<o.length;rt++){var ct=o[rt][0],Et=o[rt][1];ct=ct.substring(j,ct.length-et),ot[rt]=[ct,Et]}return ot},_.module$exports$Blockly$FieldDropdown.FieldDropdown.CHECKMARK_OVERHANG=25,_.module$exports$Blockly$FieldDropdown.FieldDropdown.MAX_MENU_HEIGHT_VH=.45;var mu=5,bp=2*mu;_.module$exports$Blockly$FieldDropdown.FieldDropdown.ARROW_CHAR=$t.ANDROID?"\u25BC":"\u25BE";var $p=function(o){if(!Array.isArray(o))throw TypeError("FieldDropdown options must be an array.");if(!o.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var j=!1,et=0;et<o.length;et++){var ot=o[et];Array.isArray(ot)?typeof ot[1]!="string"?(j=!0,console.error("Invalid option["+et+"]: Each FieldDropdown option id must be a string. Found "+ot[1]+" in: ",ot)):ot[0]&&typeof ot[0]!="string"&&typeof ot[0].src!="string"&&(j=!0,console.error("Invalid option["+et+"]: Each FieldDropdown option must have a string label or image description. Found"+ot[0]+" in: ",ot)):(j=!0,console.error("Invalid option["+et+"]: Each FieldDropdown option must be an array. Found: ",ot))}if(j)throw TypeError("Found invalid FieldDropdown options.")};(0,vr.register)("field_dropdown",_.module$exports$Blockly$FieldDropdown.FieldDropdown);var Rs;_.module$exports$Blockly$Extensions={},Rs=Object.create(null),_.module$exports$Blockly$Extensions.TEST_ONLY={allExtensions:Rs},_.module$exports$Blockly$Extensions.register=function(o,j){if(typeof o!="string"||o.trim()==="")throw Error('Error: Invalid extension name "'+o+'"');if(Rs[o])throw Error('Error: Extension "'+o+'" is already registered.');if(typeof j!="function")throw Error('Error: Extension "'+o+'" must be a function');Rs[o]=j},_.module$exports$Blockly$Extensions.registerMixin=function(o,j){if(!j||typeof j!="object")throw Error('Error: Mixin "'+o+'" must be a object');(0,_.module$exports$Blockly$Extensions.register)(o,function(){this.mixin(j)})},_.module$exports$Blockly$Extensions.registerMutator=function(o,j,et,ot){var rt='Error when registering mutator "'+o+'": ';Ap(rt,j);var ct=Qu(j,rt);if(et&&typeof et!="function")throw Error(rt+'Extension "'+o+'" is not a function');(0,_.module$exports$Blockly$Extensions.register)(o,function(){if(ct){var Et=_.module$exports$Blockly$Mutator.Mutator;if(!Et)throw Error(rt+"Missing require for Blockly.Mutator");this.setMutator(new Et(ot||[]))}this.mixin(j),et&&et.apply(this)})},_.module$exports$Blockly$Extensions.unregister=function(o){(0,_.module$exports$Blockly$Extensions.isRegistered)(o)?delete Rs[o]:console.warn('No extension mapping for name "'+o+'" found to unregister')},_.module$exports$Blockly$Extensions.isRegistered=function(o){return!!Rs[o]},_.module$exports$Blockly$Extensions.apply=function(o,j,et){var ot=Rs[o];if(typeof ot!="function")throw Error('Error: Extension "'+o+'" not found.');var rt;if(et?Bp(o,j):rt=_c(j),ot.apply(j),et)Ap('Error after applying mutator "'+o+'": ',j);else if(!Yp(rt,j))throw Error('Error when applying extension "'+o+'": mutation properties changed when applying a non-mutator extension.')};var Bp=function(o,j){if(_c(j).length)throw Error('Error: tried to apply mutation "'+o+'" to a block that already has mutator functions.  Block id: '+j.id)},Xp=function(o,j){return zo(o.mutationToDom,o.domToMutation,j+" mutationToDom/domToMutation")},Zu=function(o,j){return zo(o.saveExtraState,o.loadExtraState,j+" saveExtraState/loadExtraState")},Qu=function(o,j){return zo(o.compose,o.decompose,j+" compose/decompose")},zo=function(o,j,et){if(o&&j){if(typeof o!="function"||typeof j!="function")throw Error(et+" must be a function");return!0}if(!o&&!j)return!1;throw Error(et+"Must have both or neither functions")},Ap=function(o,j){var et=Xp(j,o),ot=Zu(j,o);if(!et&&!ot)throw Error(o+"Mutations must contain either XML hooks, or JSON hooks, or both");Qu(j,o)},_c=function(o){var j=[];return o.domToMutation!==void 0&&j.push(o.domToMutation),o.mutationToDom!==void 0&&j.push(o.mutationToDom),o.saveExtraState!==void 0&&j.push(o.saveExtraState),o.loadExtraState!==void 0&&j.push(o.loadExtraState),o.compose!==void 0&&j.push(o.compose),o.decompose!==void 0&&j.push(o.decompose),j},Yp=function(o,j){if(j=_c(j),j.length!==o.length)return!1;for(var et=0;et<j.length;et++)if(o[et]!==j[et])return!1;return!0};_.module$exports$Blockly$Extensions.runAfterPageLoad=function(o){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")o();else var j=setInterval(function(){document.readyState==="complete"&&(clearInterval(j),o())},10)},_.module$exports$Blockly$Extensions.buildTooltipForDropdown=function(o,j){var et=[];return typeof document=="object"&&(0,_.module$exports$Blockly$Extensions.runAfterPageLoad)(function(){for(var ot in j)(0,nn.checkMessageReferences)(j[ot])}),function(){this.type&&et.indexOf(this.type)===-1&&(Kp(this,o,j),et.push(this.type)),this.setTooltip(function(){var ot=String(this.getFieldValue(o)),rt=j[ot];return rt===null?et.indexOf(this.type)===-1&&(ot="No tooltip mapping for value "+ot+" of field "+o,this.type!==null&&(ot+=" of block type "+this.type),console.warn(ot+".")):rt=(0,nn.replaceMessageReferences)(rt),rt}.bind(this))}};var Kp=function(o,j,et){var ot=o.getField(j);if(ot instanceof _.module$exports$Blockly$FieldDropdown.FieldDropdown&&!ot.isOptionListDynamic()){ot=ot.getOptions();for(var rt=0;rt<ot.length;rt++){var ct=ot[rt][1];et[ct]===null&&console.warn("No tooltip mapping for value "+ct+" of field "+j+" of block type "+o.type)}}};_.module$exports$Blockly$Extensions.buildTooltipWithFieldText=function(o,j){return typeof document=="object"&&(0,_.module$exports$Blockly$Extensions.runAfterPageLoad)(function(){(0,nn.checkMessageReferences)(o)}),function(){this.setTooltip(function(){var et=this.getField(j);return(0,nn.replaceMessageReferences)(o).replace("%1",et?et.getText():"")}.bind(this))}};var Jp=function(){var o=this.tooltip;this.setTooltip(function(){var j=this.getParent();return j&&j.getInputsInline()&&j.tooltip||o}.bind(this))};(0,_.module$exports$Blockly$Extensions.register)("parent_tooltip_when_inline",Jp);var qp={Metrics:function(){}},Vo={aria:ho,colour:un};Vo.Coordinate=go.Coordinate,Vo.deprecation=tt,Vo.dom=kt,Vo.global=_.module$exports$Blockly$utils$global.globalThis,Vo.idGenerator=mn,Vo.KeyCodes=To.KeyCodes,Vo.math=sr,Vo.Metrics=qp.Metrics,Vo.object=_.module$exports$Blockly$utils$object,Vo.parsing=nn,Vo.Rect=In.Rect,Vo.Size=Ln.Size,Vo.string=_.module$exports$Blockly$utils$string,Vo.style=Uo,Vo.Svg=Nt.Svg,Vo.svgPaths=Mt,Vo.svgMath=Jo,Vo.toolbox=bo,Vo.userAgent=$t,Vo.xml=_.module$exports$Blockly$utils$xml,Vo.noEvent=function(o){(0,tt.warn)("Blockly.utils.noEvent","September 2021","September 2022"),o.preventDefault(),o.stopPropagation()},Vo.isTargetInput=function(o){return(0,tt.warn)("Blockly.utils.isTargetInput","September 2021","September 2022","Blockly.browserEvents.isTargetInput"),(0,Tt.isTargetInput)(o)},Vo.getRelativeXY=function(o){return(0,tt.warn)("Blockly.utils.getRelativeXY","December 2021","December 2022","Blockly.utils.svgMath.getRelativeXY"),(0,Jo.getRelativeXY)(o)},Vo.getInjectionDivXY_=function(o){return(0,tt.warn)("Blockly.utils.getInjectionDivXY_","December 2021","December 2022","Blockly.utils.svgMath.getInjectionDivXY"),(0,Jo.getInjectionDivXY)(o)},Vo.isRightButton=function(o){return(0,tt.warn)("Blockly.utils.isRightButton","September 2021","September 2022","Blockly.browserEvents.isRightButton"),(0,Tt.isRightButton)(o)},Vo.mouseToSvg=function(o,j,et){return(0,tt.warn)("Blockly.utils.mouseToSvg","September 2021","September 2022","Blockly.browserEvents.mouseToSvg"),(0,Tt.mouseToSvg)(o,j,et)},Vo.getScrollDeltaPixels=function(o){return(0,tt.warn)("Blockly.utils.getScrollDeltaPixels","September 2021","September 2022","Blockly.browserEvents.getScrollDeltaPixels"),(0,Tt.getScrollDeltaPixels)(o)},Vo.tokenizeInterpolation=function(o){return(0,tt.warn)("Blockly.utils.tokenizeInterpolation","December 2021","December 2022","Blockly.utils.parsing.tokenizeInterpolation"),(0,nn.tokenizeInterpolation)(o)},Vo.replaceMessageReferences=function(o){return(0,tt.warn)("Blockly.utils.replaceMessageReferences","December 2021","December 2022","Blockly.utils.parsing.replaceMessageReferences"),(0,nn.replaceMessageReferences)(o)},Vo.checkMessageReferences=function(o){return(0,tt.warn)("Blockly.utils.checkMessageReferences","December 2021","December 2022","Blockly.utils.parsing.checkMessageReferences"),(0,nn.checkMessageReferences)(o)},Vo.genUid=function(){return(0,tt.warn)("Blockly.utils.genUid","September 2021","September 2022","Blockly.utils.idGenerator.genUid"),(0,mn.genUid)()},Vo.is3dSupported=function(){return(0,tt.warn)("Blockly.utils.is3dSupported","December 2021","December 2022","Blockly.utils.svgMath.is3dSupported"),(0,Jo.is3dSupported)()},Vo.getViewportBBox=function(){return(0,tt.warn)("Blockly.utils.getViewportBBox","December 2021","December 2022","Blockly.utils.svgMath.getViewportBBox"),(0,Jo.getViewportBBox)()},Vo.arrayRemove=function(o,j){return(0,tt.warn)("Blockly.utils.arrayRemove","December 2021","December 2022"),(0,xr.removeElem)(o,j)},Vo.getDocumentScroll=function(){return(0,tt.warn)("Blockly.utils.getDocumentScroll","December 2021","December 2022","Blockly.utils.svgMath.getDocumentScroll"),(0,Jo.getDocumentScroll)()},Vo.getBlockTypeCounts=function(o,j){return(0,tt.warn)("Blockly.utils.getBlockTypeCounts","December 2021","December 2022","Blockly.common.getBlockTypeCounts"),(0,_.module$exports$Blockly$common.getBlockTypeCounts)(o,j)},Vo.screenToWsCoordinates=function(o,j){return(0,tt.warn)("Blockly.utils.screenToWsCoordinates","December 2021","December 2022","Blockly.utils.svgMath.screenToWsCoordinates"),(0,Jo.screenToWsCoordinates)(o,j)},Vo.parseBlockColour=function(o){return(0,tt.warn)("Blockly.utils.parseBlockColour","December 2021","December 2022","Blockly.utils.parsing.parseBlockColour"),(0,nn.parseBlockColour)(o)},Vo.runAfterPageLoad=function(o){(0,tt.warn)("Blockly.utils.runAfterPageLoad","December 2021","December 2022"),(0,_.module$exports$Blockly$Extensions.runAfterPageLoad)(o)};var Ds={BlockDelete:function(o){if(hn.BlockBase.call(this,o),this.type=yt.DELETE,o){if(o.getParent())throw Error("Connected blocks cannot be deleted.");o.isShadow()&&(this.recordUndo=!1),this.oldXml=(0,_.module$exports$Blockly$Xml.blockToDomWithXY)(o),this.ids=(0,yt.getDescendantIds)(o),this.wasShadow=o.isShadow(),this.oldJson=(0,Dn.save)(o,{addCoordinates:!0})}}};_.$jscomp.inherits(Ds.BlockDelete,hn.BlockBase),Ds.BlockDelete.prototype.toJson=function(){var o=hn.BlockBase.prototype.toJson.call(this);return o.oldXml=(0,_.module$exports$Blockly$Xml.domToText)(this.oldXml),o.ids=this.ids,o.wasShadow=this.wasShadow,o.oldJson=this.oldJson,this.recordUndo||(o.recordUndo=this.recordUndo),o},Ds.BlockDelete.prototype.fromJson=function(o){hn.BlockBase.prototype.fromJson.call(this,o),this.oldXml=(0,_.module$exports$Blockly$Xml.textToDom)(o.oldXml),this.ids=o.ids,this.wasShadow=o.wasShadow||this.oldXml.tagName.toLowerCase()==="shadow",this.oldJson=o.oldJson,o.recordUndo!==void 0&&(this.recordUndo=o.recordUndo)},Ds.BlockDelete.prototype.run=function(o){var j=this.getEventWorkspace_();if(o)for(o=0;o<this.ids.length;o++){var et=this.ids[o],ot=j.getBlockById(et);ot?ot.dispose(!1):et===this.blockId&&console.warn("Can't delete non-existent block: "+et)}else(0,Dn.append)(this.oldJson,j)},(0,jt.register)(jt.Type.EVENT,yt.DELETE,Ds.BlockDelete);var eo={Block:function(o,j,et){var ot=_.module$exports$Blockly$Generator.Generator;if(ot&&typeof ot.prototype[j]<"u")throw Error('Block prototypeName "'+j+'" conflicts with Blockly.Generator members.');if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.loadExtraState=this.saveExtraState=this.domToMutation=this.mutationToDom=this.init=void 0,this.suppressPrefixSuffix=!1,this.getDeveloperVariables=void 0,this.id=et&&!o.getBlockById(et)?et:(0,mn.genUid)(),o.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new Ln.Size(160,80)},this.xy_=new go.Coordinate(0,0),this.workspace=o,this.isInFlyout=o.isFlyout,this.isInMutator=o.isMutator,this.RTL=o.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,j){if(this.type=j,et=Dt.Blocks[j],!et||typeof et!="object")throw TypeError("Invalid block definition for type: "+j);(0,_.module$exports$Blockly$utils$object.mixin)(this,et)}o.addTopBlock(this),o.addTypedBlock(this),this.constructor===eo.Block&&this.doInit_()}};eo.Block.prototype.doInit_=function(){var o=(0,yt.getGroup)();o||(0,yt.setGroup)(!0);var j=(0,yt.getRecordUndo)();try{typeof this.init=="function"&&((0,yt.setRecordUndo)(!1),this.init(),(0,yt.setRecordUndo)(j)),(0,yt.isEnabled)()&&(0,yt.fire)(new((0,yt.get)(yt.CREATE))(this))}finally{o||(0,yt.setGroup)(!1),(0,yt.setRecordUndo)(j)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)},eo.Block.prototype.dispose=function(o){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(o),(0,yt.isEnabled)()&&(0,yt.fire)(new((0,yt.get)(yt.DELETE))(this)),(0,yt.disable)();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),(0,_.module$exports$Blockly$common.getSelected)()===this&&(0,_.module$exports$Blockly$common.setSelected)(null);for(var j=this.childBlocks_.length-1;0<=j;j--)this.childBlocks_[j].dispose(!1);for(o=0,j=void 0;j=this.inputList[o];o++)j.dispose();this.inputList.length=0;var et=this.getConnections_(!0);for(o=0,j=void 0;j=et[o];o++)j.dispose()}finally{(0,yt.enable)(),this.disposed=!0}}},eo.Block.prototype.initModel=function(){for(var o=0,j;j=this.inputList[o];o++)for(var et=0,ot;ot=j.fieldRow[et];et++)ot.initModel&&ot.initModel()},eo.Block.prototype.unplug=function(o){this.outputConnection&&this.unplugFromRow_(o),this.previousConnection&&this.unplugFromStack_(o)},eo.Block.prototype.unplugFromRow_=function(o){var j=null;this.outputConnection.isConnected()&&(j=this.outputConnection.targetConnection,this.outputConnection.disconnect()),j&&o&&(o=this.getOnlyValueConnection_())&&o.isConnected()&&!o.targetBlock().isShadow()&&(o=o.targetConnection,o.disconnect(),this.workspace.connectionChecker.canConnect(o,j,!1)?j.connect(o):o.onFailedConnect(j))},eo.Block.prototype.getOnlyValueConnection_=function(){for(var o=null,j=0;j<this.inputList.length;j++){var et=this.inputList[j].connection;if(et&&et.type===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&et.targetConnection){if(o)return null;o=et}}return o},eo.Block.prototype.unplugFromStack_=function(o){var j=null;this.previousConnection.isConnected()&&(j=this.previousConnection.targetConnection,this.previousConnection.disconnect());var et=this.getNextBlock();o&&et&&!et.isShadow()&&(o=this.nextConnection.targetConnection,o.disconnect(),j&&this.workspace.connectionChecker.canConnect(j,o,!1)&&j.connect(o))},eo.Block.prototype.getConnections_=function(o){o=[],this.outputConnection&&o.push(this.outputConnection),this.previousConnection&&o.push(this.previousConnection),this.nextConnection&&o.push(this.nextConnection);for(var j=0,et;et=this.inputList[j];j++)et.connection&&o.push(et.connection);return o},eo.Block.prototype.lastConnectionInStack=function(o){for(var j=this.nextConnection;j;){var et=j.targetBlock();if(!et||o&&et.isShadow())return j;j=et.nextConnection}return null},eo.Block.prototype.bumpNeighbours=function(){},eo.Block.prototype.getParent=function(){return this.parentBlock_},eo.Block.prototype.getInputWithBlock=function(o){for(var j=0,et;et=this.inputList[j];j++)if(et.connection&&et.connection.targetBlock()===o)return et;return null},eo.Block.prototype.getSurroundParent=function(){var o=this;do{var j=o;if(o=o.getParent(),!o)return null}while(o.getNextBlock()===j);return o},eo.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},eo.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},eo.Block.prototype.getFirstStatementConnection=function(){for(var o=0,j;j=this.inputList[o];o++)if(j.connection&&j.connection.type===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)return j.connection;return null},eo.Block.prototype.getRootBlock=function(){var o=this;do{var j=o;o=j.parentBlock_}while(o);return j},eo.Block.prototype.getTopStackBlock=function(){var o=this;do var j=o.getPreviousBlock();while(j&&j.getNextBlock()===o&&(o=j));return o},eo.Block.prototype.getChildren=function(o){if(!o)return this.childBlocks_;o=[];for(var j=0,et;et=this.inputList[j];j++)et.connection&&(et=et.connection.targetBlock())&&o.push(et);return(j=this.getNextBlock())&&o.push(j),o},eo.Block.prototype.setParent=function(o){if(o!==this.parentBlock_){var j=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),et=!!j;if(et&&o&&j!==o)throw Error("Block connected to superior one that is not new parent.");if(!et&&o)throw Error("Block not connected to new parent.");if(et&&!o)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?(0,xr.removeElem)(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=o)?o.childBlocks_.push(this):this.workspace.addTopBlock(this)}},eo.Block.prototype.getDescendants=function(o){for(var j=[this],et=this.getChildren(o),ot,rt=0;ot=et[rt];rt++)j.push.apply(j,ot.getDescendants(o));return j},eo.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},eo.Block.prototype.setDeletable=function(o){this.deletable_=o},eo.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},eo.Block.prototype.setMovable=function(o){this.movable_=o},eo.Block.prototype.isDuplicatable=function(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable((0,_.module$exports$Blockly$common.getBlockTypeCounts)(this,!0)):!0},eo.Block.prototype.isShadow=function(){return this.isShadow_},eo.Block.prototype.setShadow=function(o){this.isShadow_=o},eo.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},eo.Block.prototype.setInsertionMarker=function(o){this.isInsertionMarker_=o},eo.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},eo.Block.prototype.setEditable=function(o){this.editable_=o,o=0;for(var j;j=this.inputList[o];o++)for(var et=0,ot;ot=j.fieldRow[et];et++)ot.updateEditable()},eo.Block.prototype.isDisposed=function(){return this.disposed},eo.Block.prototype.getMatchingConnection=function(o,j){var et=this.getConnections_(!0);if(o=o.getConnections_(!0),et.length!==o.length)throw Error("Connection lists did not match in length.");for(var ot=0;ot<o.length;ot++)if(o[ot]===j)return et[ot];return null},eo.Block.prototype.setHelpUrl=function(o){this.helpUrl=o},eo.Block.prototype.setTooltip=function(o){this.tooltip=o},eo.Block.prototype.getTooltip=function(){return(0,Ut.getTooltipOfObject)(this)},eo.Block.prototype.getColour=function(){return this.colour_},eo.Block.prototype.getStyleName=function(){return this.styleName_},eo.Block.prototype.getHue=function(){return this.hue_},eo.Block.prototype.setColour=function(o){o=(0,nn.parseBlockColour)(o),this.hue_=o.hue,this.colour_=o.hex},eo.Block.prototype.setStyle=function(o){this.styleName_=o},eo.Block.prototype.setOnChange=function(o){if(o&&typeof o!="function")throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=o)&&(this.onchangeWrapper_=o.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},eo.Block.prototype.getField=function(o){if(typeof o!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(o===void 0?"nothing":o+" of type "+typeof o)+" instead");for(var j=0,et;et=this.inputList[j];j++)for(var ot=0,rt;rt=et.fieldRow[ot];ot++)if(rt.name===o)return rt;return null},eo.Block.prototype.getVars=function(){for(var o=[],j=0,et;et=this.inputList[j];j++)for(var ot=0,rt;rt=et.fieldRow[ot];ot++)rt.referencesVariables()&&o.push(rt.getValue());return o},eo.Block.prototype.getVarModels=function(){for(var o=[],j=0,et;et=this.inputList[j];j++)for(var ot=0,rt;rt=et.fieldRow[ot];ot++)rt.referencesVariables()&&(rt=this.workspace.getVariableById(rt.getValue()))&&o.push(rt);return o},eo.Block.prototype.updateVarName=function(o){for(var j=0,et;et=this.inputList[j];j++)for(var ot=0,rt;rt=et.fieldRow[ot];ot++)rt.referencesVariables()&&o.getId()===rt.getValue()&&rt.refreshVariableName()},eo.Block.prototype.renameVarById=function(o,j){for(var et=0,ot;ot=this.inputList[et];et++)for(var rt=0,ct;ct=ot.fieldRow[rt];rt++)ct.referencesVariables()&&o===ct.getValue()&&ct.setValue(j)},eo.Block.prototype.getFieldValue=function(o){return(o=this.getField(o))?o.getValue():null},eo.Block.prototype.setFieldValue=function(o,j){var et=this.getField(j);if(!et)throw Error('Field "'+j+'" not found.');et.setValue(o)},eo.Block.prototype.setPreviousStatement=function(o,j){if(o)j===void 0&&(j=null),this.previousConnection||(this.previousConnection=this.makeConnection_(_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(j);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},eo.Block.prototype.setNextStatement=function(o,j){if(o)j===void 0&&(j=null),this.nextConnection||(this.nextConnection=this.makeConnection_(_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)),this.nextConnection.setCheck(j);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},eo.Block.prototype.setOutput=function(o,j){if(o)j===void 0&&(j=null),this.outputConnection||(this.outputConnection=this.makeConnection_(_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE)),this.outputConnection.setCheck(j);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},eo.Block.prototype.setInputsInline=function(o){this.inputsInline!==o&&((0,yt.fire)(new((0,yt.get)(yt.CHANGE))(this,"inline",null,this.inputsInline,o)),this.inputsInline=o)},eo.Block.prototype.getInputsInline=function(){if(this.inputsInline!==void 0)return this.inputsInline;for(var o=1;o<this.inputList.length;o++)if(this.inputList[o-1].type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&this.inputList[o].type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY)return!1;for(o=1;o<this.inputList.length;o++)if(this.inputList[o-1].type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE&&this.inputList[o].type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY)return!0;return!1},eo.Block.prototype.setOutputShape=function(o){this.outputShape_=o},eo.Block.prototype.getOutputShape=function(){return this.outputShape_},eo.Block.prototype.isEnabled=function(){return!this.disabled},eo.Block.prototype.setEnabled=function(o){if(this.isEnabled()!==o){var j=this.disabled;this.disabled=!o,(0,yt.fire)(new((0,yt.get)(yt.CHANGE))(this,"disabled",null,j,!o))}},eo.Block.prototype.getInheritedDisabled=function(){for(var o=this.getSurroundParent();o;){if(o.disabled)return!0;o=o.getSurroundParent()}return!1},eo.Block.prototype.isCollapsed=function(){return this.collapsed_},eo.Block.prototype.setCollapsed=function(o){this.collapsed_!==o&&((0,yt.fire)(new((0,yt.get)(yt.CHANGE))(this,"collapsed",null,this.collapsed_,o)),this.collapsed_=o)},eo.Block.prototype.toString=function(o,j){function et(Zt){var uo=Zt.getCheck();return!uo&&Zt.targetConnection&&(uo=Zt.targetConnection.getCheck()),!!uo&&(uo.indexOf("Boolean")!==-1||uo.indexOf("Number")!==-1)}function ot(){Et&&Et.getType()===wt.getType()&&Et.getLocation()===wt.getLocation()&&(Et=null)}var rt=[];j=j||"?";var ct=Kt.ASTNode.NAVIGATE_ALL_FIELDS;Kt.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var Et=Kt.ASTNode.createBlockNode(this),wt=Et;Et;){switch(Et.getType()){case Kt.ASTNode.types.INPUT:var Lt=Et.getLocation();Et.in()?et(Lt)&&rt.push("("):rt.push(j);break;case Kt.ASTNode.types.FIELD:Lt=Et.getLocation(),Lt.name!==Zr.COLLAPSED_FIELD_NAME&&rt.push(Lt.getText())}if(Lt=Et,Et=Lt.in()||Lt.next(),!Et){for(Et=Lt.out(),ot();Et&&!Et.next();)Et=Et.out(),ot(),Et&&Et.getType()===Kt.ASTNode.types.INPUT&&et(Et.getLocation())&&rt.push(")");Et&&(Et=Et.next())}}for(Kt.ASTNode.NAVIGATE_ALL_FIELDS=ct,j=2;j<rt.length;j++)rt[j-2]==="("&&rt[j]===")"&&(rt[j-2]=rt[j-1],rt.splice(j-1,2));return rt=rt.reduce(function(Zt,uo){return Zt+(Zt.substr(-1)==="("||uo===")"?"":" ")+uo},""),rt=rt.trim()||"???",o&&rt.length>o&&(rt=rt.substring(0,o-3)+"..."),rt},eo.Block.prototype.appendValueInput=function(o){return this.appendInput_(_.module$exports$Blockly$inputTypes.inputTypes.VALUE,o)},eo.Block.prototype.appendStatementInput=function(o){return this.appendInput_(_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT,o)},eo.Block.prototype.appendDummyInput=function(o){return this.appendInput_(_.module$exports$Blockly$inputTypes.inputTypes.DUMMY,o||"")},eo.Block.prototype.jsonInit=function(o){var j=o.type?'Block "'+o.type+'": ':"";if(o.output&&o.previousStatement)throw Error(j+"Must not have both an output and a previousStatement.");if(o.style&&o.style.hat&&(this.hat=o.style.hat,o.style=null),o.style&&o.colour)throw Error(j+"Must not have both a colour and a style.");o.style?this.jsonInitStyle_(o,j):this.jsonInitColour_(o,j);for(var et=0;o["message"+et]!==void 0;)this.interpolate_(o["message"+et],o["args"+et]||[],o["lastDummyAlign"+et],j),et++;if(o.inputsInline!==void 0&&this.setInputsInline(o.inputsInline),o.output!==void 0&&this.setOutput(!0,o.output),o.outputShape!==void 0&&this.setOutputShape(o.outputShape),o.previousStatement!==void 0&&this.setPreviousStatement(!0,o.previousStatement),o.nextStatement!==void 0&&this.setNextStatement(!0,o.nextStatement),o.tooltip!==void 0&&(et=(0,nn.replaceMessageReferences)(o.tooltip),this.setTooltip(et)),o.enableContextMenu!==void 0&&(this.contextMenu=!!o.enableContextMenu),o.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!o.suppressPrefixSuffix),o.helpUrl!==void 0&&(et=(0,nn.replaceMessageReferences)(o.helpUrl),this.setHelpUrl(et)),typeof o.extensions=="string"&&(console.warn(j+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+o.type+"' block."),o.extensions=[o.extensions]),o.mutator!==void 0&&(0,_.module$exports$Blockly$Extensions.apply)(o.mutator,this,!0),o=o.extensions,Array.isArray(o))for(j=0;j<o.length;j++)(0,_.module$exports$Blockly$Extensions.apply)(o[j],this,!1)},eo.Block.prototype.jsonInitColour_=function(o,j){if("colour"in o)if(o.colour===void 0)console.warn(j+"Undefined colour value.");else{o=o.colour;try{this.setColour(o)}catch{console.warn(j+"Illegal colour value: ",o)}}},eo.Block.prototype.jsonInitStyle_=function(o,j){o=o.style;try{this.setStyle(o)}catch{console.warn(j+"Style does not exist: ",o)}},eo.Block.prototype.mixin=function(o,j){if(j!==void 0&&typeof j!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!j){j=[];for(var et in o)this[et]!==void 0&&j.push(et);if(j.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(j))}(0,_.module$exports$Blockly$utils$object.mixin)(this,o)},eo.Block.prototype.interpolate_=function(o,j,et,ot){o=(0,nn.tokenizeInterpolation)(o),this.validateTokens_(o,j.length),j=this.interpolateArguments_(o,j,et),et=[],o=0;for(var rt;rt=j[o];o++)if(this.isInputKeyword_(rt.type)){if(rt=this.inputFromJson_(rt,ot)){for(var ct=0,Et;Et=et[ct];ct++)rt.appendField(Et[0],Et[1]);et.length=0}}else(ct=this.fieldFromJson_(rt))&&et.push([ct,rt.name])},eo.Block.prototype.validateTokens_=function(o,j){for(var et=[],ot=0,rt=0;rt<o.length;rt++){var ct=o[rt];if(typeof ct=="number"){if(1>ct||ct>j)throw Error('Block "'+this.type+'": Message index %'+ct+" out of range.");if(et[ct])throw Error('Block "'+this.type+'": Message index %'+ct+" duplicated.");et[ct]=!0,ot++}}if(ot!==j)throw Error('Block "'+this.type+'": Message does not reference all '+j+" arg(s).")},eo.Block.prototype.interpolateArguments_=function(o,j,et){for(var ot=[],rt=0;rt<o.length;rt++){var ct=o[rt];typeof ct=="number"&&(ct=j[ct-1]),!(typeof ct=="string"&&(ct=this.stringToFieldJson_(ct),!ct))&&ot.push(ct)}return(o=ot.length)&&!this.isInputKeyword_(ot[o-1].type)&&(o={type:"input_dummy"},et&&(o.align=et),ot.push(o)),ot},eo.Block.prototype.fieldFromJson_=function(o){var j=(0,vr.fromJson)(o);return!j&&o.alt?typeof o.alt=="string"?(o=this.stringToFieldJson_(o.alt))?this.fieldFromJson_(o):null:this.fieldFromJson_(o.alt):j},eo.Block.prototype.inputFromJson_=function(o,j){var et={LEFT:_.module$exports$Blockly$Input.Align.LEFT,RIGHT:_.module$exports$Blockly$Input.Align.RIGHT,CENTRE:_.module$exports$Blockly$Input.Align.CENTRE,CENTER:_.module$exports$Blockly$Input.Align.CENTRE},ot=null;switch(o.type){case"input_value":ot=this.appendValueInput(o.name);break;case"input_statement":ot=this.appendStatementInput(o.name);break;case"input_dummy":ot=this.appendDummyInput(o.name)}return ot?(o.check&&ot.setCheck(o.check),o.align&&(et=et[o.align.toUpperCase()],et===void 0?console.warn(j+"Illegal align value: ",o.align):ot.setAlign(et)),ot):null},eo.Block.prototype.isInputKeyword_=function(o){return o==="input_value"||o==="input_statement"||o==="input_dummy"},eo.Block.prototype.stringToFieldJson_=function(o){return(o=o.trim())?{type:"field_label",text:o}:null},eo.Block.prototype.appendInput_=function(o,j){var et=null;return(o===_.module$exports$Blockly$inputTypes.inputTypes.VALUE||o===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT)&&(et=this.makeConnection_(o)),o===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&this.statementInputCount++,o=new _.module$exports$Blockly$Input.Input(o,j,this,et),this.inputList.push(o),o},eo.Block.prototype.moveInputBefore=function(o,j){if(o!==j){for(var et=-1,ot=j?-1:this.inputList.length,rt=0,ct;ct=this.inputList[rt];rt++)if(ct.name===o){if(et=rt,ot!==-1)break}else if(j&&ct.name===j&&(ot=rt,et!==-1))break;if(et===-1)throw Error('Named input "'+o+'" not found.');if(ot===-1)throw Error('Reference input "'+j+'" not found.');this.moveNumberedInputBefore(et,ot)}},eo.Block.prototype.moveNumberedInputBefore=function(o,j){if(o===j)throw Error("Can't move input to itself.");if(o>=this.inputList.length)throw RangeError("Input index "+o+" out of bounds.");if(j>this.inputList.length)throw RangeError("Reference input "+j+" out of bounds.");var et=this.inputList[o];this.inputList.splice(o,1),o<j&&j--,this.inputList.splice(j,0,et)},eo.Block.prototype.removeInput=function(o,j){for(var et=0,ot;ot=this.inputList[et];et++)if(ot.name===o)return ot.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&this.statementInputCount--,ot.dispose(),this.inputList.splice(et,1),!0;if(j)return!1;throw Error("Input not found: "+o)},eo.Block.prototype.getInput=function(o){for(var j=0,et;et=this.inputList[j];j++)if(et.name===o)return et;return null},eo.Block.prototype.getInputTargetBlock=function(o){return(o=this.getInput(o))&&o.connection&&o.connection.targetBlock()},eo.Block.prototype.getCommentText=function(){return this.commentModel.text},eo.Block.prototype.setCommentText=function(o){this.commentModel.text!==o&&((0,yt.fire)(new((0,yt.get)(yt.CHANGE))(this,"comment",null,this.commentModel.text,o)),this.comment=this.commentModel.text=o)},eo.Block.prototype.setWarningText=function(o,j){},eo.Block.prototype.setMutator=function(o){},eo.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},eo.Block.prototype.moveBy=function(o,j){if(this.parentBlock_)throw Error("Block has parent.");var et=new((0,yt.get)(yt.MOVE))(this);this.xy_.translate(o,j),et.recordNew(),(0,yt.fire)(et)},eo.Block.prototype.makeConnection_=function(o){return new Eo.Connection(this,o)},eo.Block.prototype.allInputsFilled=function(o){if(o===void 0&&(o=!0),!o&&this.isShadow())return!1;for(var j=0,et;et=this.inputList[j];j++)if(et.connection&&(et=et.connection.targetBlock(),!et||!et.allInputsFilled(o)))return!1;return(j=this.getNextBlock())?j.allInputsFilled(o):!0},eo.Block.prototype.toDevString=function(){var o=this.type?'"'+this.type+'" block':"Block";return this.id&&(o+=' (id="'+this.id+'")'),o},eo.Block.COLLAPSED_INPUT_NAME=Zr.COLLAPSED_INPUT_NAME,eo.Block.COLLAPSED_FIELD_NAME=Zr.COLLAPSED_FIELD_NAME;var Xo={ContextMenuRegistry:function(){this.reset()}};Xo.ContextMenuRegistry.prototype.reset=function(){this.registry_=Object.create(null)},Xo.ContextMenuRegistry.prototype.register=function(o){if(this.registry_[o.id])throw Error('Menu item with ID "'+o.id+'" is already registered.');this.registry_[o.id]=o},Xo.ContextMenuRegistry.prototype.unregister=function(o){if(!this.registry_[o])throw Error('Menu item with ID "'+o+'" not found.');delete this.registry_[o]},Xo.ContextMenuRegistry.prototype.getItem=function(o){return this.registry_[o]||null},Xo.ContextMenuRegistry.prototype.getContextMenuOptions=function(o,j){var et=[],ot=this.registry_;return Object.keys(ot).forEach(function(rt){if(rt=ot[rt],o===rt.scopeType){var ct=rt.preconditionFn(j);ct!=="hidden"&&(rt={text:typeof rt.displayText=="function"?rt.displayText(j):rt.displayText,enabled:ct==="enabled",callback:rt.callback,scope:j,weight:rt.weight},et.push(rt))}}),et.sort(function(rt,ct){return rt.weight-ct.weight}),et},Xo.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},Xo.ContextMenuRegistry.registry=new Xo.ContextMenuRegistry;var Zp={IBoundedElement:function(){}},xp={IMovable:function(){}},_u={ISelectable:function(){}},ep={ICopyable:function(){}},Yo={},tp=10;Yo.RenderedConnection=function(o,j){Eo.Connection.call(this,o,j),this.db_=o.workspace.connectionDBList[j],this.dbOpposite_=o.workspace.connectionDBList[Wn.OPPOSITE_TYPE[j]],this.offsetInBlock_=new go.Coordinate(0,0),this.trackedState_=Yo.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},_.$jscomp.inherits(Yo.RenderedConnection,Eo.Connection),Yo.RenderedConnection.prototype.dispose=function(){Eo.Connection.prototype.dispose.call(this),this.trackedState_===Yo.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},Yo.RenderedConnection.prototype.getSourceBlock=function(){return Eo.Connection.prototype.getSourceBlock.call(this)},Yo.RenderedConnection.prototype.targetBlock=function(){return Eo.Connection.prototype.targetBlock.call(this)},Yo.RenderedConnection.prototype.distanceFrom=function(o){var j=this.x-o.x;return o=this.y-o.y,Math.sqrt(j*j+o*o)},Yo.RenderedConnection.prototype.bumpAwayFrom=function(o){if(!this.sourceBlock_.workspace.isDragging()){var j=this.sourceBlock_.getRootBlock();if(!j.isInFlyout){var et=!1;if(!j.isMovable()){if(j=o.getSourceBlock().getRootBlock(),!j.isMovable())return;o=this,et=!0}var ot=(0,_.module$exports$Blockly$common.getSelected)()==j;ot||j.addSelect();var rt=o.x+_.module$exports$Blockly$config.config.snapRadius+Math.floor(Math.random()*tp)-this.x,ct=o.y+_.module$exports$Blockly$config.config.snapRadius+Math.floor(Math.random()*tp)-this.y;et&&(ct=-ct),j.RTL&&(rt=o.x-_.module$exports$Blockly$config.config.snapRadius-Math.floor(Math.random()*tp)-this.x),j.moveBy(rt,ct),ot||j.removeSelect()}}},Yo.RenderedConnection.prototype.moveTo=function(o,j){this.trackedState_===Yo.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,j),this.trackedState_=Yo.RenderedConnection.TrackedState.TRACKED):this.trackedState_===Yo.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,j)),this.x=o,this.y=j},Yo.RenderedConnection.prototype.moveBy=function(o,j){this.moveTo(this.x+o,this.y+j)},Yo.RenderedConnection.prototype.moveToOffset=function(o){this.moveTo(o.x+this.offsetInBlock_.x,o.y+this.offsetInBlock_.y)},Yo.RenderedConnection.prototype.setOffsetInBlock=function(o,j){this.offsetInBlock_.x=o,this.offsetInBlock_.y=j},Yo.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},Yo.RenderedConnection.prototype.tighten=function(){var o=this.targetConnection.x-this.x,j=this.targetConnection.y-this.y;if(o!==0||j!==0){var et=this.targetBlock(),ot=et.getSvgRoot();if(!ot)throw Error("block is not rendered.");ot=(0,Jo.getRelativeXY)(ot),et.getSvgRoot().setAttribute("transform","translate("+(ot.x-o)+","+(ot.y-j)+")"),et.moveConnections(-o,-j)}},Yo.RenderedConnection.prototype.closest=function(o,j){return this.dbOpposite_.searchForClosest(this,o,j)},Yo.RenderedConnection.prototype.highlight=function(){var o=this.sourceBlock_.workspace.getRenderer().getConstants(),j=o.shapeFor(this);this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?(o=o.TAB_OFFSET_FROM_TOP,j=(0,Mt.moveBy)(0,-o)+(0,Mt.lineOnAxis)("v",o)+j.pathDown+(0,Mt.lineOnAxis)("v",o)):(o=o.NOTCH_OFFSET_LEFT-o.CORNER_RADIUS,j=(0,Mt.moveBy)(-o,0)+(0,Mt.lineOnAxis)("h",o)+j.pathLeft+(0,Mt.lineOnAxis)("h",o)),o=this.sourceBlock_.getRelativeToSurfaceXY(),Eo.Connection.highlightedPath_=(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:j,transform:"translate("+(this.x-o.x)+","+(this.y-o.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},Yo.RenderedConnection.prototype.unhighlight=function(){(0,kt.removeNode)(Eo.Connection.highlightedPath_),delete Eo.Connection.highlightedPath_},Yo.RenderedConnection.prototype.setTracking=function(o){o&&this.trackedState_===Yo.RenderedConnection.TrackedState.TRACKED||!o&&this.trackedState_===Yo.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(o?(this.db_.addConnection(this,this.y),this.trackedState_=Yo.RenderedConnection.TrackedState.TRACKED):(this.trackedState_===Yo.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=Yo.RenderedConnection.TrackedState.UNTRACKED))},Yo.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var o=this.targetBlock().getDescendants(!1),j=0;j<o.length;j++){for(var et=o[j],ot=et.getConnections_(!0),rt=0;rt<ot.length;rt++)ot[rt].setTracking(!1);for(et=et.getIcons(),ot=0;ot<et.length;ot++)et[ot].setVisible(!1)}},Yo.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var o=[];if(this.type!==_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&this.type!==_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT)return o;var j=this.targetBlock();if(j){if(j.isCollapsed()){var et=[];j.outputConnection&&et.push(j.outputConnection),j.nextConnection&&et.push(j.nextConnection),j.previousConnection&&et.push(j.previousConnection)}else et=j.getConnections_(!0);for(var ot=0;ot<et.length;ot++)o.push.apply(o,et[ot].startTrackingAll());o.length||(o=[j])}return o},Yo.RenderedConnection.prototype.onFailedConnect=function(o){var j=this.getSourceBlock();if((0,yt.getRecordUndo)()){var et=(0,yt.getGroup)();setTimeout(function(){j.isDisposed()||j.getParent()||((0,yt.setGroup)(et),this.bumpAwayFrom(o),(0,yt.setGroup)(!1))}.bind(this),_.module$exports$Blockly$config.config.bumpDelay)}},Yo.RenderedConnection.prototype.disconnectInternal_=function(o,j){Eo.Connection.prototype.disconnectInternal_.call(this,o,j),o.rendered&&o.render(),j.rendered&&(j.updateDisabled(),j.render(),j.getSvgRoot().style.display="block")},Yo.RenderedConnection.prototype.respawnShadow_=function(){Eo.Connection.prototype.respawnShadow_.call(this);var o=this.targetBlock();o&&(o.initSvg(),o.render(!1),o=this.getSourceBlock(),o.rendered&&o.render())},Yo.RenderedConnection.prototype.neighbours=function(o){return this.dbOpposite_.getNeighbours(this,o)},Yo.RenderedConnection.prototype.connect_=function(o){Eo.Connection.prototype.connect_.call(this,o);var j=this.getSourceBlock();o=o.getSourceBlock();var et=j.rendered,ot=o.rendered;et&&j.updateDisabled(),ot&&o.updateDisabled(),et&&ot&&(this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT||this.type===_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT?o.render():j.render()),(j=j.getInputWithBlock(o))&&(j=j.isVisible(),o.getSvgRoot().style.display=j?"block":"none")},Yo.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},Yo.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1};var Hr={Marker:function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"}};Hr.Marker.prototype.setDrawer=function(o){this.drawer_=o},Hr.Marker.prototype.getDrawer=function(){return this.drawer_},Hr.Marker.prototype.getCurNode=function(){return this.curNode_},Hr.Marker.prototype.setCurNode=function(o){var j=this.curNode_;this.curNode_=o,this.drawer_&&this.drawer_.draw(j,this.curNode_)},Hr.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},Hr.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},Hr.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()};var _s={Cursor:function(){Hr.Marker.call(this),this.type="cursor"}};_.$jscomp.inherits(_s.Cursor,Hr.Marker),_s.Cursor.prototype.next=function(){var o=this.getCurNode();if(!o)return null;for(o=o.next();o&&o.next()&&(o.getType()===Kt.ASTNode.types.NEXT||o.getType()===Kt.ASTNode.types.BLOCK);)o=o.next();return o&&this.setCurNode(o),o},_s.Cursor.prototype.in=function(){var o=this.getCurNode();return o?((o.getType()===Kt.ASTNode.types.PREVIOUS||o.getType()===Kt.ASTNode.types.OUTPUT)&&(o=o.next()),(o=o.in())&&this.setCurNode(o),o):null},_s.Cursor.prototype.prev=function(){var o=this.getCurNode();if(!o)return null;for(o=o.prev();o&&o.prev()&&(o.getType()===Kt.ASTNode.types.NEXT||o.getType()===Kt.ASTNode.types.BLOCK);)o=o.prev();return o&&this.setCurNode(o),o},_s.Cursor.prototype.out=function(){var o=this.getCurNode();return o?((o=o.out())&&o.getType()===Kt.ASTNode.types.BLOCK&&(o=o.prev()||o),o&&this.setCurNode(o),o):null},(0,jt.register)(jt.Type.CURSOR,jt.DEFAULT,_s.Cursor);var dr={BasicCursor:function(){_s.Cursor.call(this)}};_.$jscomp.inherits(dr.BasicCursor,_s.Cursor),dr.BasicCursor.prototype.next=function(){var o=this.getCurNode();return o?((o=this.getNextNode_(o,this.validNode_))&&this.setCurNode(o),o):null},dr.BasicCursor.prototype.in=function(){return this.next()},dr.BasicCursor.prototype.prev=function(){var o=this.getCurNode();return o?((o=this.getPreviousNode_(o,this.validNode_))&&this.setCurNode(o),o):null},dr.BasicCursor.prototype.out=function(){return this.prev()},dr.BasicCursor.prototype.getNextNode_=function(o,j){if(!o)return null;var et=o.in()||o.next();return j(et)?et:et?this.getNextNode_(et,j):(o=this.findSiblingOrParent_(o.out()),j(o)?o:o?this.getNextNode_(o,j):null)},dr.BasicCursor.prototype.getPreviousNode_=function(o,j){if(!o)return null;var et=o.prev();return et=et?this.getRightMostChild_(et):o.out(),j(et)?et:et?this.getPreviousNode_(et,j):null},dr.BasicCursor.prototype.validNode_=function(o){var j=!1;return o=o&&o.getType(),(o===Kt.ASTNode.types.OUTPUT||o===Kt.ASTNode.types.INPUT||o===Kt.ASTNode.types.FIELD||o===Kt.ASTNode.types.NEXT||o===Kt.ASTNode.types.PREVIOUS||o===Kt.ASTNode.types.WORKSPACE)&&(j=!0),j},dr.BasicCursor.prototype.findSiblingOrParent_=function(o){if(!o)return null;var j=o.next();return j||this.findSiblingOrParent_(o.out())},dr.BasicCursor.prototype.getRightMostChild_=function(o){if(!o.in())return o;for(o=o.in();o.next();)o=o.next();return this.getRightMostChild_(o)},dr.BasicCursor.registrationName="basicCursor",(0,jt.register)(jt.Type.CURSOR,dr.BasicCursor.registrationName,dr.BasicCursor);var yu={TabNavigateCursor:function(){dr.BasicCursor.apply(this,arguments)}};_.$jscomp.inherits(yu.TabNavigateCursor,dr.BasicCursor),yu.TabNavigateCursor.prototype.validNode_=function(o){var j=!1,et=o&&o.getType();return o&&(o=o.getLocation(),et===Kt.ASTNode.types.FIELD&&o&&o.isTabNavigable()&&o.isClickable()&&(j=!0)),j};var xl={Selected:function(o,j,et){mo.UiBase.call(this,et),this.oldElementId=o,this.newElementId=j,this.type=yt.SELECTED}};_.$jscomp.inherits(xl.Selected,mo.UiBase),xl.Selected.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.oldElementId=this.oldElementId,o.newElementId=this.newElementId,o},xl.Selected.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.oldElementId=o.oldElementId,this.newElementId=o.newElementId},(0,jt.register)(jt.Type.EVENT,yt.SELECTED,xl.Selected);var po={BlockSvg:function(o,j,et){eo.Block.call(this,o,j,et),this.decompose=this.decompose,this.compose=this.compose,this.saveConnections=this.saveConnections,this.customContextMenu=this.customContextMenu,this.renderingDebugger=null,this.width=this.height=0,this.warning=this.commentIcon_=this.comment=this.mutator=this.warningTextDb_=null,this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{},null),this.svgGroup_.translate_="",this.style=o.getRenderer().getConstants().getBlockStyle(null),this.pathObject=o.getRenderer().makePathObject(this.svgGroup_,this.style),this.eventsInit_=this.renderIsInProgress_=this.rendered=!1,this.useDragSurface_=(0,Jo.is3dSupported)()&&!!o.getBlockDragSurface(),o=this.pathObject.svgPath,o.tooltip=this,(0,Ut.bindMouseEvents)(o),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:$t.IE&&this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}};_.$jscomp.inherits(po.BlockSvg,eo.Block),po.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var o=0,j;j=this.inputList[o];o++)j.init();for(o=this.getIcons(),j=0;j<o.length;j++)o[j].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),o=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!o||(0,Tt.conditionalBind)(o,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,o.parentNode||this.workspace.getCanvas().appendChild(o)},po.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},po.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},po.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if((0,_.module$exports$Blockly$common.getSelected)()!==this){var o=null;if((0,_.module$exports$Blockly$common.getSelected)()){o=(0,_.module$exports$Blockly$common.getSelected)().id,(0,yt.disable)();try{(0,_.module$exports$Blockly$common.getSelected)().unselect()}finally{(0,yt.enable)()}}o=new((0,yt.get)(yt.SELECTED))(o,this.id,this.workspace.id),(0,yt.fire)(o),(0,_.module$exports$Blockly$common.setSelected)(this),this.addSelect()}},po.BlockSvg.prototype.unselect=function(){if((0,_.module$exports$Blockly$common.getSelected)()===this){var o=new((0,yt.get)(yt.SELECTED))(this.id,null,this.workspace.id);o.workspaceId=this.workspace.id,(0,yt.fire)(o),(0,_.module$exports$Blockly$common.setSelected)(null),this.removeSelect()}},po.BlockSvg.prototype.getIcons=function(){var o=[];return this.mutator&&o.push(this.mutator),this.commentIcon_&&o.push(this.commentIcon_),this.warning&&o.push(this.warning),o},po.BlockSvg.prototype.setParent=function(o){var j=this.parentBlock_;if(o!==j){(0,kt.startTextWidthCache)(),eo.Block.prototype.setParent.call(this,o),(0,kt.stopTextWidthCache)();var et=this.getSvgRoot();if(!this.workspace.isClearing&&et){var ot=this.getRelativeToSurfaceXY();o?(o.getSvgRoot().appendChild(et),o=this.getRelativeToSurfaceXY(),this.moveConnections(o.x-ot.x,o.y-ot.y)):j&&(this.workspace.getCanvas().appendChild(et),this.translate(ot.x,ot.y)),this.applyColour()}}},po.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var o=0,j=0,et=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,ot=this.getSvgRoot();if(ot)do{var rt=(0,Jo.getRelativeXY)(ot);o+=rt.x,j+=rt.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===ot&&(rt=this.workspace.getBlockDragSurface().getSurfaceTranslation(),o+=rt.x,j+=rt.y),ot=ot.parentNode}while(ot&&ot!==this.workspace.getCanvas()&&ot!==et);return new go.Coordinate(o,j)},po.BlockSvg.prototype.moveBy=function(o,j){if(this.parentBlock_)throw Error("Block has parent.");var et=(0,yt.isEnabled)(),ot;et&&(ot=new((0,yt.get)(yt.MOVE))(this));var rt=this.getRelativeToSurfaceXY();this.translate(rt.x+o,rt.y+j),this.moveConnections(o,j),et&&(ot.recordNew(),(0,yt.fire)(ot)),this.workspace.resizeContents()},po.BlockSvg.prototype.translate=function(o,j){this.getSvgRoot().setAttribute("transform","translate("+o+","+j+")")},po.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var o=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(o.x,o.y),(o=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(o)}},po.BlockSvg.prototype.moveTo=function(o){var j=this.getRelativeToSurfaceXY();this.moveBy(o.x-j.x,o.y-j.y)},po.BlockSvg.prototype.moveOffDragSurface=function(o){this.useDragSurface_&&(this.translate(o.x,o.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},po.BlockSvg.prototype.moveDuringDrag=function(o){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(o.x,o.y):(this.svgGroup_.translate_="translate("+o.x+","+o.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},po.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},po.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var o=this.workspace.getGrid();if(o&&o.shouldSnap()){var j=o.getSpacing(),et=j/2,ot=this.getRelativeToSurfaceXY();o=Math.round(Math.round((ot.x-et)/j)*j+et-ot.x),j=Math.round(Math.round((ot.y-et)/j)*j+et-ot.y),(o||j)&&this.moveBy(o,j)}}},po.BlockSvg.prototype.getBoundingRectangle=function(){var o=this.getRelativeToSurfaceXY(),j=this.getHeightWidth();if(this.RTL)var et=o.x-j.width,ot=o.x;else et=o.x,ot=o.x+j.width;return new In.Rect(o.y,o.y+j.height,et,ot)},po.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var o=0,j;j=this.inputList[o];o++)j.markDirty()},po.BlockSvg.prototype.setCollapsed=function(o){this.collapsed_!==o&&(eo.Block.prototype.setCollapsed.call(this,o),o?this.rendered&&this.render():this.updateCollapsed_())},po.BlockSvg.prototype.updateCollapsed_=function(){for(var o=this.isCollapsed(),j=Zr.COLLAPSED_INPUT_NAME,et=Zr.COLLAPSED_FIELD_NAME,ot=0,rt;rt=this.inputList[ot];ot++)rt.name!==j&&rt.setVisible(!o);if(o){for(o=this.getIcons(),ot=0;rt=o[ot];ot++)rt.setVisible(!1);o=this.toString(Wn.COLLAPSE_CHARS),(ot=this.getField(et))?ot.setValue(o):(this.getInput(j)||this.appendDummyInput(j)).appendField(new _.module$exports$Blockly$FieldLabel.FieldLabel(o),et)}else this.updateDisabled(),this.removeInput(j)},po.BlockSvg.prototype.tab=function(o,j){var et=new yu.TabNavigateCursor;et.setCurNode(Kt.ASTNode.createFieldNode(o)),o=et.getCurNode(),j?et.next():et.prev(),(j=et.getCurNode())&&j!==o&&(j.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(j))},po.BlockSvg.prototype.onMouseDown_=function(o){var j=this.workspace&&this.workspace.getGesture(o);j&&j.handleBlockStart(o,this)},po.BlockSvg.prototype.showHelp=function(){var o=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;o&&window.open(o)},po.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var o=Xo.ContextMenuRegistry.registry.getContextMenuOptions(Xo.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(o),o},po.BlockSvg.prototype.showContextMenu=function(o){var j=this.generateContextMenu();j&&j.length&&((0,_.module$exports$Blockly$ContextMenu.show)(o,j,this.RTL),(0,_.module$exports$Blockly$ContextMenu.setCurrentBlock)(this))},po.BlockSvg.prototype.moveConnections=function(o,j){if(this.rendered){for(var et=this.getConnections_(!1),ot=0;ot<et.length;ot++)et[ot].moveBy(o,j);for(et=this.getIcons(),ot=0;ot<et.length;ot++)et[ot].computeIconLocation();for(et=0;et<this.childBlocks_.length;et++)this.childBlocks_[et].moveConnections(o,j)}},po.BlockSvg.prototype.setDragging=function(o){if(o){var j=this.getSvgRoot();j.translate_="",j.skew_="",_.module$exports$Blockly$common.draggingConnections.push.apply(_.module$exports$Blockly$common.draggingConnections,_.$jscomp.arrayFromIterable(this.getConnections_(!0))),(0,kt.addClass)(this.svgGroup_,"blocklyDragging")}else _.module$exports$Blockly$common.draggingConnections.length=0,(0,kt.removeClass)(this.svgGroup_,"blocklyDragging");for(j=0;j<this.childBlocks_.length;j++)this.childBlocks_[j].setDragging(o)},po.BlockSvg.prototype.setMovable=function(o){eo.Block.prototype.setMovable.call(this,o),this.pathObject.updateMovable(o)},po.BlockSvg.prototype.setEditable=function(o){eo.Block.prototype.setEditable.call(this,o),o=this.getIcons();for(var j=0;j<o.length;j++)o[j].updateEditable()},po.BlockSvg.prototype.setShadow=function(o){eo.Block.prototype.setShadow.call(this,o),this.applyColour()},po.BlockSvg.prototype.setInsertionMarker=function(o){this.isInsertionMarker_!==o&&(this.isInsertionMarker_=o)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},po.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},po.BlockSvg.prototype.dispose=function(o,j){if(this.workspace){(0,Ut.dispose)(),(0,Ut.unbindMouseEvents)(this.pathObject.svgPath),(0,kt.startTextWidthCache)();var et=this.workspace;if((0,_.module$exports$Blockly$common.getSelected)()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),(0,_.module$exports$Blockly$ContextMenu.getCurrentBlock)()===this&&(0,_.module$exports$Blockly$ContextMenu.hide)(),j&&this.rendered&&(this.unplug(o),(0,Lr.disposeUiEffect)(this)),this.rendered=!1,this.warningTextDb_){for(var ot in this.warningTextDb_)clearTimeout(this.warningTextDb_[ot]);this.warningTextDb_=null}for(j=this.getIcons(),ot=0;ot<j.length;ot++)j[ot].dispose();eo.Block.prototype.dispose.call(this,!!o),(0,kt.removeNode)(this.svgGroup_),et.resizeContents(),this.svgGroup_=null,(0,kt.stopTextWidthCache)()}},po.BlockSvg.prototype.checkAndDelete=function(){this.workspace.isFlyout||((0,yt.setGroup)(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),(0,yt.setGroup)(!1))},po.BlockSvg.prototype.toCopyData=function(){return this.isInsertionMarker_?null:{saveInfo:(0,Dn.save)(this,{addCoordinates:!0,addNextBlocks:!1}),source:this.workspace,typeCounts:(0,_.module$exports$Blockly$common.getBlockTypeCounts)(this,!0)}},po.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var o=this.getIcons(),j=0;j<o.length;j++)o[j].applyColour();for(o=0;j=this.inputList[o];o++)for(var et=0,ot;ot=j.fieldRow[et];et++)ot.applyColour()},po.BlockSvg.prototype.updateDisabled=function(){var o=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var j=0,et;et=o[j];j++)et.rendered&&et.updateDisabled()},po.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},po.BlockSvg.prototype.setCommentText=function(o){var j=cr.Comment;if(!j)throw Error("Missing require for Blockly.Comment");this.commentModel.text!==o&&(eo.Block.prototype.setCommentText.call(this,o),o=o!==null,!!this.commentIcon_===o?this.commentIcon_.updateText():(o?this.comment=this.commentIcon_=new j(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},po.BlockSvg.prototype.setWarningText=function(o,j){var et=ws.Warning;if(!et)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var ot=j||"";if(ot)this.warningTextDb_[ot]&&(clearTimeout(this.warningTextDb_[ot]),delete this.warningTextDb_[ot]);else{j=_.$jscomp.makeIterator(Object.keys(this.warningTextDb_));for(var rt=j.next();!rt.done;rt=j.next())rt=rt.value,clearTimeout(this.warningTextDb_[rt]),delete this.warningTextDb_[rt]}if(this.workspace.isDragging()){var ct=this;this.warningTextDb_[ot]=setTimeout(function(){ct.workspace&&(delete ct.warningTextDb_[ot],ct.setWarningText(o,ot))},100)}else{if(this.isInFlyout&&(o=null),j=!1,typeof o=="string"){rt=this.getSurroundParent();for(var Et=null;rt;)rt.isCollapsed()&&(Et=rt),rt=rt.getSurroundParent();Et&&Et.setWarningText(_.module$exports$Blockly$Msg.Msg.COLLAPSED_WARNINGS_WARNING,po.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new et(this),j=!0),this.warning.setText(o,ot)}else this.warning&&!ot?(this.warning.dispose(),j=!0):this.warning&&(et=this.warning.getText(),this.warning.setText("",ot),(j=this.warning.getText())||this.warning.dispose(),j=et!==j);j&&this.rendered&&(this.render(),this.bumpNeighbours())}},po.BlockSvg.prototype.setMutator=function(o){this.mutator&&this.mutator!==o&&this.mutator.dispose(),o&&(o.setBlock(this),this.mutator=o,o.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},po.BlockSvg.prototype.setEnabled=function(o){this.isEnabled()!==o&&(eo.Block.prototype.setEnabled.call(this,o),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},po.BlockSvg.prototype.setHighlighted=function(o){this.rendered&&this.pathObject.updateHighlighted(o)},po.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},po.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},po.BlockSvg.prototype.setDeleteStyle=function(o){this.pathObject.updateDraggingDelete(o)},po.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},po.BlockSvg.prototype.setColour=function(o){eo.Block.prototype.setColour.call(this,o),o=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(o.style),this.style=o.style,this.styleName_=o.name,this.applyColour()},po.BlockSvg.prototype.setStyle=function(o){var j=this.workspace.getRenderer().getConstants().getBlockStyle(o);if(this.styleName_=o,j)this.hat=j.hat,this.pathObject.setStyle(j),this.colour_=j.colourPrimary,this.style=j,this.applyColour();else throw Error("Invalid style name: "+o)},po.BlockSvg.prototype.bringToFront=function(){var o=this;do{var j=o.getSvgRoot(),et=j.parentNode,ot=et.childNodes;ot[ot.length-1]!==j&&et.appendChild(j),o=o.getParent()}while(o)},po.BlockSvg.prototype.setPreviousStatement=function(o,j){eo.Block.prototype.setPreviousStatement.call(this,o,j),this.rendered&&(this.render(),this.bumpNeighbours())},po.BlockSvg.prototype.setNextStatement=function(o,j){eo.Block.prototype.setNextStatement.call(this,o,j),this.rendered&&(this.render(),this.bumpNeighbours())},po.BlockSvg.prototype.setOutput=function(o,j){eo.Block.prototype.setOutput.call(this,o,j),this.rendered&&(this.render(),this.bumpNeighbours())},po.BlockSvg.prototype.setInputsInline=function(o){eo.Block.prototype.setInputsInline.call(this,o),this.rendered&&(this.render(),this.bumpNeighbours())},po.BlockSvg.prototype.removeInput=function(o,j){return o=eo.Block.prototype.removeInput.call(this,o,j),this.rendered&&(this.render(),this.bumpNeighbours()),o},po.BlockSvg.prototype.moveNumberedInputBefore=function(o,j){eo.Block.prototype.moveNumberedInputBefore.call(this,o,j),this.rendered&&(this.render(),this.bumpNeighbours())},po.BlockSvg.prototype.appendInput_=function(o,j){return o=eo.Block.prototype.appendInput_.call(this,o,j),this.rendered&&(this.render(),this.bumpNeighbours()),o},po.BlockSvg.prototype.setConnectionTracking=function(o){if(this.previousConnection&&this.previousConnection.setTracking(o),this.outputConnection&&this.outputConnection.setTracking(o),this.nextConnection){this.nextConnection.setTracking(o);var j=this.nextConnection.targetBlock();j&&j.setConnectionTracking(o)}if(!this.collapsed_)for(j=0;j<this.inputList.length;j++){var et=this.inputList[j].connection;et&&(et.setTracking(o),(et=et.targetBlock())&&et.setConnectionTracking(o))}},po.BlockSvg.prototype.getConnections_=function(o){var j=[];if((o||this.rendered)&&(this.outputConnection&&j.push(this.outputConnection),this.previousConnection&&j.push(this.previousConnection),this.nextConnection&&j.push(this.nextConnection),o||!this.collapsed_)){o=0;for(var et;et=this.inputList[o];o++)et.connection&&j.push(et.connection)}return j},po.BlockSvg.prototype.lastConnectionInStack=function(o){return eo.Block.prototype.lastConnectionInStack.call(this,o)},po.BlockSvg.prototype.getMatchingConnection=function(o,j){return eo.Block.prototype.getMatchingConnection.call(this,o,j)},po.BlockSvg.prototype.makeConnection_=function(o){return new Yo.RenderedConnection(this,o)},po.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var o=this.getRootBlock();if(!o.isInFlyout)for(var j=this.getConnections_(!1),et=0,ot;ot=j[et];et++){var rt=ot;rt.isConnected()&&rt.isSuperior()&&rt.targetBlock().bumpNeighbours(),ot=ot.neighbours(_.module$exports$Blockly$config.config.snapRadius);for(var ct=0,Et;Et=ot[ct];ct++)rt.isConnected()&&Et.isConnected()||Et.getSourceBlock().getRootBlock()!==o&&(rt.isSuperior()?Et.bumpAwayFrom(rt):rt.bumpAwayFrom(Et))}}},po.BlockSvg.prototype.scheduleSnapAndBump=function(){var o=this,j=(0,yt.getGroup)();setTimeout(function(){(0,yt.setGroup)(j),o.snapToGrid(),(0,yt.setGroup)(!1)},_.module$exports$Blockly$config.config.bumpDelay/2),setTimeout(function(){(0,yt.setGroup)(j),o.bumpNeighbours(),(0,yt.setGroup)(!1)},_.module$exports$Blockly$config.config.bumpDelay)},po.BlockSvg.prototype.positionNearConnection=function(o,j){o.type!==_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT&&o.type!==_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE||this.moveBy(j.x-o.x,j.y-o.y)},po.BlockSvg.prototype.getParent=function(){return eo.Block.prototype.getParent.call(this)},po.BlockSvg.prototype.getSurroundParent=function(){return eo.Block.prototype.getSurroundParent.call(this)},po.BlockSvg.prototype.getNextBlock=function(){return eo.Block.prototype.getNextBlock.call(this)},po.BlockSvg.prototype.getPreviousBlock=function(){return eo.Block.prototype.getPreviousBlock.call(this)},po.BlockSvg.prototype.getFirstStatementConnection=function(){return eo.Block.prototype.getFirstStatementConnection.call(this)},po.BlockSvg.prototype.getTopStackBlock=function(){return eo.Block.prototype.getTopStackBlock.call(this)},po.BlockSvg.prototype.getChildren=function(o){return eo.Block.prototype.getChildren.call(this,o)},po.BlockSvg.prototype.getDescendants=function(o){return eo.Block.prototype.getDescendants.call(this,o)},po.BlockSvg.prototype.getInputTargetBlock=function(o){return eo.Block.prototype.getInputTargetBlock.call(this,o)},po.BlockSvg.prototype.getRootBlock=function(){return eo.Block.prototype.getRootBlock.call(this)},po.BlockSvg.prototype.render=function(o){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,(0,kt.startTextWidthCache)(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),o!==!1){var j=this.getParent();j?j.render(!0):this.workspace.resizeContents()}(0,kt.stopTextWidthCache)(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},po.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Tr.MarkerManager.LOCAL_MARKER).draw()},po.BlockSvg.prototype.updateConnectionLocations_=function(){var o=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(o),this.outputConnection&&this.outputConnection.moveToOffset(o);for(var j=0;j<this.inputList.length;j++){var et=this.inputList[j].connection;et&&(et.moveToOffset(o),et.isConnected()&&et.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(o),this.nextConnection.isConnected()&&this.nextConnection.tighten())},po.BlockSvg.prototype.setCursorSvg=function(o){this.pathObject.setCursorSvg(o)},po.BlockSvg.prototype.setMarkerSvg=function(o){this.pathObject.setMarkerSvg(o)},po.BlockSvg.prototype.getHeightWidth=function(){var o=this.height,j=this.width,et=this.getNextBlock();if(et){et=et.getHeightWidth();var ot=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;o+=et.height-ot,j=Math.max(j,et.width)}return{height:o,width:j}},po.BlockSvg.prototype.fadeForReplacement=function(o){this.pathObject.updateReplacementFade(o)},po.BlockSvg.prototype.highlightShapeForInput=function(o,j){this.pathObject.updateShapeForInputHighlight(o,j)},po.BlockSvg.INLINE=-1,po.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var Zn={ConnectionDB:function(o){this.connections_=[],this.connectionChecker_=o}};Zn.ConnectionDB.prototype.addConnection=function(o,j){j=this.calculateIndexForYPos_(j),this.connections_.splice(j,0,o)},Zn.ConnectionDB.prototype.findIndexOfConnection_=function(o,j){if(!this.connections_.length)return-1;var et=this.calculateIndexForYPos_(j);if(et>=this.connections_.length)return-1;j=o.y;for(var ot=et;0<=ot&&this.connections_[ot].y===j;){if(this.connections_[ot]===o)return ot;ot--}for(ot=et;ot<this.connections_.length&&this.connections_[ot].y===j;){if(this.connections_[ot]===o)return ot;ot++}return-1},Zn.ConnectionDB.prototype.calculateIndexForYPos_=function(o){if(!this.connections_.length)return 0;for(var j=0,et=this.connections_.length;j<et;){var ot=Math.floor((j+et)/2);if(this.connections_[ot].y<o)j=ot+1;else if(this.connections_[ot].y>o)et=ot;else{j=ot;break}}return j},Zn.ConnectionDB.prototype.removeConnection=function(o,j){if(o=this.findIndexOfConnection_(o,j),o===-1)throw Error("Unable to find connection in connectionDB.");this.connections_.splice(o,1)},Zn.ConnectionDB.prototype.getNeighbours=function(o,j){function et(Zt){var uo=rt-ot[Zt].x,Mo=ct-ot[Zt].y;return Math.sqrt(uo*uo+Mo*Mo)<=j&&Lt.push(ot[Zt]),Mo<j}var ot=this.connections_,rt=o.x,ct=o.y;o=0;for(var Et=ot.length-2,wt=Et;o<wt;)ot[wt].y<ct?o=wt:Et=wt,wt=Math.floor((o+Et)/2);var Lt=[];if(Et=o=wt,ot.length){for(;0<=o&&et(o);)o--;do Et++;while(Et<ot.length&&et(Et))}return Lt},Zn.ConnectionDB.prototype.isInYRange_=function(o,j,et){return Math.abs(this.connections_[o].y-j)<=et},Zn.ConnectionDB.prototype.searchForClosest=function(o,j,et){if(!this.connections_.length)return{connection:null,radius:j};var ot=o.y,rt=o.x;o.x=rt+et.x,o.y=ot+et.y;var ct=this.calculateIndexForYPos_(o.y);et=null;for(var Et=j,wt,Lt=ct-1;0<=Lt&&this.isInYRange_(Lt,o.y,j);)wt=this.connections_[Lt],this.connectionChecker_.canConnect(o,wt,!0,Et)&&(et=wt,Et=wt.distanceFrom(o)),Lt--;for(;ct<this.connections_.length&&this.isInYRange_(ct,o.y,j);)wt=this.connections_[ct],this.connectionChecker_.canConnect(o,wt,!0,Et)&&(et=wt,Et=wt.distanceFrom(o)),ct++;return o.x=rt,o.y=ot,{connection:et,radius:Et}},Zn.ConnectionDB.init=function(o){var j=[];return j[_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE]=new Zn.ConnectionDB(o),j[_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE]=new Zn.ConnectionDB(o),j[_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT]=new Zn.ConnectionDB(o),j[_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT]=new Zn.ConnectionDB(o),j};var ys={ThemeManager:function(o,j){this.workspace_=o,this.theme_=j,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)}};ys.ThemeManager.prototype.getTheme=function(){return this.theme_},ys.ThemeManager.prototype.setTheme=function(o){var j=this.theme_;for(this.theme_=o,(o=this.workspace_.getInjectionDiv())&&(j&&(0,kt.removeClass)(o,j.getClassName()),(0,kt.addClass)(o,this.theme_.getClassName())),j=0;o=this.subscribedWorkspaces_[j];j++)o.refreshTheme();j=0,o=Object.keys(this.componentDB_);for(var et;et=o[j];j++)for(var ot=0,rt;rt=this.componentDB_[et][ot];ot++){var ct=rt.element;rt=rt.propertyName;var Et=this.theme_&&this.theme_.getComponentStyle(et);ct.style[rt]=Et||""}for(j=_.$jscomp.makeIterator(this.subscribedWorkspaces_),o=j.next();!o.done;o=j.next())o.value.hideChaff()},ys.ThemeManager.prototype.subscribeWorkspace=function(o){this.subscribedWorkspaces_.push(o)},ys.ThemeManager.prototype.unsubscribeWorkspace=function(o){if(!(0,xr.removeElem)(this.subscribedWorkspaces_,o))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")},ys.ThemeManager.prototype.subscribe=function(o,j,et){this.componentDB_[j]||(this.componentDB_[j]=[]),this.componentDB_[j].push({element:o,propertyName:et}),j=this.theme_&&this.theme_.getComponentStyle(j),o.style[et]=j||""},ys.ThemeManager.prototype.unsubscribe=function(o){if(o)for(var j=Object.keys(this.componentDB_),et=0,ot;ot=j[et];et++){for(var rt=this.componentDB_[ot],ct=rt.length-1;0<=ct;ct--)rt[ct].element===o&&rt.splice(ct,1);this.componentDB_[ot].length||delete this.componentDB_[ot]}},ys.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null};var nr={},np=5,Qp=6;nr.TouchGesture=function(o,j){xo.Gesture.call(this,o,j),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},_.$jscomp.inherits(nr.TouchGesture,xo.Gesture),nr.TouchGesture.prototype.doStart=function(o){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,xo.Gesture.prototype.doStart.call(this,o),!this.isEnding_&&(0,dt.isTouchEvent)(o)&&this.handleTouchStart(o)},nr.TouchGesture.prototype.bindMouseEvents=function(o){this.onStartWrapper_=(0,Tt.conditionalBind)(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=(0,Tt.conditionalBind)(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=(0,Tt.conditionalBind)(document,"mouseup",null,this.handleUp.bind(this),!0),o.preventDefault(),o.stopPropagation()},nr.TouchGesture.prototype.handleStart=function(o){!this.isDragging()&&(0,dt.isTouchEvent)(o)&&(this.handleTouchStart(o),this.isMultiTouch()&&(0,dt.longStop)())},nr.TouchGesture.prototype.handleMove=function(o){this.isDragging()?(0,dt.shouldHandleEvent)(o)&&xo.Gesture.prototype.handleMove.call(this,o):this.isMultiTouch()?((0,dt.isTouchEvent)(o)&&this.handleTouchMove(o),(0,dt.longStop)()):xo.Gesture.prototype.handleMove.call(this,o)},nr.TouchGesture.prototype.handleUp=function(o){(0,dt.isTouchEvent)(o)&&!this.isDragging()&&this.handleTouchEnd(o),!this.isMultiTouch()||this.isDragging()?(0,dt.shouldHandleEvent)(o)&&xo.Gesture.prototype.handleUp.call(this,o):(o.preventDefault(),o.stopPropagation(),this.dispose())},nr.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},nr.TouchGesture.prototype.dispose=function(){xo.Gesture.prototype.dispose.call(this),this.onStartWrapper_&&(0,Tt.unbind)(this.onStartWrapper_)},nr.TouchGesture.prototype.handleTouchStart=function(o){var j=(0,dt.getTouchIdentifierFromEvent)(o);this.cachedPoints_[j]=this.getTouchPoint(o),j=Object.keys(this.cachedPoints_),j.length===2&&(this.startDistance_=go.Coordinate.distance(this.cachedPoints_[j[0]],this.cachedPoints_[j[1]]),this.isMultiTouch_=!0,o.preventDefault())},nr.TouchGesture.prototype.handleTouchMove=function(o){var j=(0,dt.getTouchIdentifierFromEvent)(o);this.cachedPoints_[j]=this.getTouchPoint(o),j=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&j.length===2?this.handlePinch_(o):xo.Gesture.prototype.handleMove.call(this,o)},nr.TouchGesture.prototype.handlePinch_=function(o){var j=Object.keys(this.cachedPoints_);if(j=go.Coordinate.distance(this.cachedPoints_[j[0]],this.cachedPoints_[j[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var et=j-this.previousScale_;et=0<et?et*np:et*Qp;var ot=this.startWorkspace_,rt=(0,Tt.mouseToSvg)(o,ot.getParentSvg(),ot.getInverseScreenCTM());ot.zoom(rt.x,rt.y,et)}this.previousScale_=j,o.preventDefault()},nr.TouchGesture.prototype.handleTouchEnd=function(o){o=(0,dt.getTouchIdentifierFromEvent)(o),this.cachedPoints_[o]&&delete this.cachedPoints_[o],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},nr.TouchGesture.prototype.getTouchPoint=function(o){return this.startWorkspace_?new go.Coordinate(o.changedTouches?o.changedTouches[0].pageX:o.pageX,o.changedTouches?o.changedTouches[0].pageY:o.pageY):null};var Ks={},_h=100;Ks.WorkspaceAudio=function(o){this.parentWorkspace_=o,this.SOUNDS_=Object.create(null),this.lastSound_=null},Ks.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},Ks.WorkspaceAudio.prototype.load=function(o,j){if(o.length){try{var et=new _.module$exports$Blockly$utils$global.globalThis.Audio}catch{return}for(var ot,rt=0;rt<o.length;rt++){var ct=o[rt],Et=ct.match(/\.(\w+)$/);if(Et&&et.canPlayType("audio/"+Et[1])){ot=new _.module$exports$Blockly$utils$global.globalThis.Audio(ct);break}}ot&&ot.play&&(this.SOUNDS_[j]=ot)}},Ks.WorkspaceAudio.prototype.preload=function(){for(var o in this.SOUNDS_){var j=this.SOUNDS_[o];j.volume=.01;var et=j.play();if(et!==void 0?et.then(j.pause).catch(function(){}):j.pause(),$t.IPAD||$t.IPHONE)break}},Ks.WorkspaceAudio.prototype.play=function(o,j){var et=this.SOUNDS_[o];et?(o=new Date,this.lastSound_!==null&&o-this.lastSound_<_h||(this.lastSound_=o,et=$t.IPAD||$t.ANDROID?et:et.cloneNode(),et.volume=j===void 0?1:j,et.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(o,j)};var Kl={ThemeChange:function(o,j){mo.UiBase.call(this,j),this.themeName=o,this.type=yt.THEME_CHANGE}};_.$jscomp.inherits(Kl.ThemeChange,mo.UiBase),Kl.ThemeChange.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.themeName=this.themeName,o},Kl.ThemeChange.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.themeName=o.themeName},(0,jt.register)(jt.Type.EVENT,yt.THEME_CHANGE,Kl.ThemeChange);var Jl={ViewportChange:function(o,j,et,ot,rt){mo.UiBase.call(this,ot),this.viewTop=o,this.viewLeft=j,this.scale=et,this.oldScale=rt,this.type=yt.VIEWPORT_CHANGE}};_.$jscomp.inherits(Jl.ViewportChange,mo.UiBase),Jl.ViewportChange.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.viewTop=this.viewTop,o.viewLeft=this.viewLeft,o.scale=this.scale,o.oldScale=this.oldScale,o},Jl.ViewportChange.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.viewTop=o.viewTop,this.viewLeft=o.viewLeft,this.scale=o.scale,this.oldScale=o.oldScale},(0,jt.register)(jt.Type.EVENT,yt.VIEWPORT_CHANGE,Jl.ViewportChange);var _d={IMetricsManager:function(){}},ur={MetricsManager:function(o){this.workspace_=o}};ur.MetricsManager.prototype.getDimensionsPx_=function(o){var j=0,et=0;return o&&(j=o.getWidth(),et=o.getHeight()),new Ln.Size(j,et)},ur.MetricsManager.prototype.getFlyoutMetrics=function(o){return o=this.getDimensionsPx_(this.workspace_.getFlyout(o)),{width:o.width,height:o.height,position:this.workspace_.toolboxPosition}},ur.MetricsManager.prototype.getToolboxMetrics=function(){var o=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:o.width,height:o.height,position:this.workspace_.toolboxPosition}},ur.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},ur.MetricsManager.prototype.getAbsoluteMetrics=function(){var o=0,j=this.getToolboxMetrics(),et=this.getFlyoutMetrics(!0),ot=!!this.workspace_.getToolbox(),rt=!!this.workspace_.getFlyout(!0),ct=ot?j.position:et.position,Et=ct===bo.Position.LEFT;return ct=ct===bo.Position.TOP,ot&&Et?o=j.width:rt&&Et&&(o=et.width),Et=0,ot&&ct?Et=j.height:rt&&ct&&(Et=et.height),{top:Et,left:o}},ur.MetricsManager.prototype.getViewMetrics=function(o){o=o?this.workspace_.scale:1;var j=this.getSvgMetrics(),et=this.getToolboxMetrics(),ot=this.getFlyoutMetrics(!0),rt=this.workspace_.getToolbox()?et.position:ot.position;return this.workspace_.getToolbox()?rt===bo.Position.TOP||rt===bo.Position.BOTTOM?j.height-=et.height:(rt===bo.Position.LEFT||rt===bo.Position.RIGHT)&&(j.width-=et.width):this.workspace_.getFlyout(!0)&&(rt===bo.Position.TOP||rt===bo.Position.BOTTOM?j.height-=ot.height:(rt===bo.Position.LEFT||rt===bo.Position.RIGHT)&&(j.width-=ot.width)),{height:j.height/o,width:j.width/o,top:-this.workspace_.scrollY/o,left:-this.workspace_.scrollX/o}},ur.MetricsManager.prototype.getContentMetrics=function(o){o=o?1:this.workspace_.scale;var j=this.workspace_.getBlocksBoundingBox();return{height:(j.bottom-j.top)*o,width:(j.right-j.left)*o,top:j.top*o,left:j.left*o}},ur.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},ur.MetricsManager.prototype.getComputedFixedEdges_=function(o){if(!this.hasFixedEdges())return{};var j=this.workspace_.isMovableHorizontally(),et=this.workspace_.isMovableVertically();o=o||this.getViewMetrics(!1);var ot={};return et||(ot.top=o.top,ot.bottom=o.top+o.height),j||(ot.left=o.left,ot.right=o.left+o.width),ot},ur.MetricsManager.prototype.getPaddedContent_=function(o,j){var et=j.top+j.height,ot=j.left+j.width,rt=o.width;o=o.height;var ct=rt/2,Et=o/2;return{top:Math.min(j.top-Et,et-o),bottom:Math.max(et+Et,j.top+o),left:Math.min(j.left-ct,ot-rt),right:Math.max(ot+ct,j.left+rt)}},ur.MetricsManager.prototype.getScrollMetrics=function(o,j,et){o=o?this.workspace_.scale:1,j=j||this.getViewMetrics(!1);var ot=et||this.getContentMetrics();et=this.getComputedFixedEdges_(j),j=this.getPaddedContent_(j,ot),ot=et.top!==void 0?et.top:j.top;var rt=et.left!==void 0?et.left:j.left;return{top:ot/o,left:rt/o,width:((et.right!==void 0?et.right:j.right)-rt)/o,height:((et.bottom!==void 0?et.bottom:j.bottom)-ot)/o}},ur.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},ur.MetricsManager.prototype.getMetrics=function(){var o=this.getToolboxMetrics(),j=this.getFlyoutMetrics(!0),et=this.getSvgMetrics(),ot=this.getAbsoluteMetrics(),rt=this.getViewMetrics(),ct=this.getContentMetrics(),Et=this.getScrollMetrics(!1,rt,ct);return{contentHeight:ct.height,contentWidth:ct.width,contentTop:ct.top,contentLeft:ct.left,scrollHeight:Et.height,scrollWidth:Et.width,scrollTop:Et.top,scrollLeft:Et.left,viewHeight:rt.height,viewWidth:rt.width,viewTop:rt.top,viewLeft:rt.left,absoluteTop:ot.top,absoluteLeft:ot.left,svgHeight:et.height,svgWidth:et.width,toolboxWidth:o.width,toolboxHeight:o.height,toolboxPosition:o.position,flyoutWidth:j.width,flyoutHeight:j.height}},(0,jt.register)(jt.Type.METRICS_MANAGER,jt.DEFAULT,ur.MetricsManager);var no={WorkspaceSvg:function(o,j,et){yo.Workspace.call(this,o),this.resizeHandlerWrapper_=null,this.resizesEnabled_=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY_=null,this.oldScale_=this.scale=1,this.oldLeft_=this.oldTop_=0,this.workspaceDragSurface_=this.blockDragSurface_=this.currentGesture_=this.toolbox_=this.flyout_=this.scrollbar=this.trashcan=null,this.isDragSurfaceActive_=this.useWorkspaceDragSurface_=!1,this.inverseScreenCTM_=this.targetWorkspace=this.lastRecordedPageScroll_=this.injectionDiv_=null,this.inverseScreenCTMDirty_=!0,this.metricsManager_=new((0,jt.getClassFromOptions)(jt.Type.METRICS_MANAGER,o,!0))(this),this.getMetrics=o.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=o.setMetrics||no.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new dn.ComponentManager,this.connectionDBList=Zn.ConnectionDB.init(this.connectionChecker),j&&(this.blockDragSurface_=j),et&&(this.workspaceDragSurface_=et),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&(0,Jo.is3dSupported)(),this.highlightedBlocks_=[],this.audioManager_=new Ks.WorkspaceAudio(o.parentWorkspace),this.grid_=this.options.gridPattern?new fr.Grid(this.options.gridPattern,o.gridOptions):null,this.markerManager_=new Tr.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),(o=_.module$exports$Blockly$Variables)&&o.flyoutCategory&&this.registerToolboxCategoryCallback(o.CATEGORY_NAME,o.flyoutCategory),(o=ga)&&o.flyoutCategory&&this.registerToolboxCategoryCallback(o.CATEGORY_NAME,o.flyoutCategory),(o=_.module$exports$Blockly$Procedures)&&o.flyoutCategory&&(this.registerToolboxCategoryCallback(o.CATEGORY_NAME,o.flyoutCategory),this.addChangeListener(o.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new ys.ThemeManager(this,this.options.theme||Ws.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=(0,Ho.init)(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new Ln.Size(0,0)}};_.$jscomp.inherits(no.WorkspaceSvg,yo.Workspace),no.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},no.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},no.WorkspaceSvg.prototype.setMetricsManager=function(o){this.metricsManager_=o,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},no.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},no.WorkspaceSvg.prototype.setCursorSvg=function(o){this.markerManager_.setCursorSvg(o)},no.WorkspaceSvg.prototype.setMarkerSvg=function(o){this.markerManager_.setMarkerSvg(o)},no.WorkspaceSvg.prototype.getMarker=function(o){return this.markerManager_?this.markerManager_.getMarker(o):null},no.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},no.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},no.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},no.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},no.WorkspaceSvg.prototype.setTheme=function(o){o||(o=Ws.Classic),this.themeManager_.setTheme(o)},no.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(j){return!!j.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var o=new((0,yt.get)(yt.THEME_CHANGE))(this.getTheme().name,this.id);(0,yt.fire)(o)},no.WorkspaceSvg.prototype.updateBlockStyles_=function(o){for(var j=0,et;et=o[j];j++){var ot=et.getStyleName();ot&&(et.setStyle(ot),et.mutator&&et.mutator.updateBlockStyle())}},no.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var o=this.getParentSvg().getScreenCTM();o&&(this.inverseScreenCTM_=o.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},no.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},no.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},no.WorkspaceSvg.prototype.getSvgXY=function(o){var j=0,et=0,ot=1;((0,kt.containsNode)(this.getCanvas(),o)||(0,kt.containsNode)(this.getBubbleCanvas(),o))&&(ot=this.scale);do{var rt=(0,Jo.getRelativeXY)(o);(o===this.getCanvas()||o===this.getBubbleCanvas())&&(ot=1),j+=rt.x*ot,et+=rt.y*ot,o=o.parentNode}while(o&&o!==this.getParentSvg());return new go.Coordinate(j,et)},no.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var o=this.cachedParentSvgSize_;return new Ln.Size(o.width,o.height)},no.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return(0,Jo.getInjectionDivXY)(this.getCanvas())},no.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var o=this.svgGroup_;o;){if((" "+(o.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1){this.injectionDiv_=o;break}o=o.parentNode}return this.injectionDiv_},no.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},no.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(o){this.resizeHandlerWrapper_=o},no.WorkspaceSvg.prototype.createDom=function(o){return this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyWorkspace"},null),o&&(this.svgBackground_=(0,kt.createSvgElement)(Nt.Svg.RECT,{height:"100%",width:"100%",class:o},this.svgGroup_),o==="blocklyMainBackground"&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||((0,Tt.conditionalBind)(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),document.body.addEventListener("wheel",function(){}),(0,Tt.conditionalBind)(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new((0,jt.getClassFromOptions)(jt.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(o=(0,jt.getClassFromOptions)(jt.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new o),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},no.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&((0,kt.removeNode)(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),yo.Workspace.prototype.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var o=this.getParentSvg();o&&o.parentNode&&(0,kt.removeNode)(o.parentNode)}this.resizeHandlerWrapper_&&((0,Tt.unbind)(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},no.WorkspaceSvg.prototype.newBlock=function(o,j){return new po.BlockSvg(this,o,j)},no.WorkspaceSvg.prototype.addTrashcan=function(){var o=Bn.Trashcan;if(!o)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new o(this),o=this.trashcan.createDom(),this.svgGroup_.insertBefore(o,this.svgBlockCanvas_)},no.WorkspaceSvg.prototype.addZoomControls=function(){var o=jr.ZoomControls;if(!o)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new o(this),o=this.zoomControls_.createDom(),this.svgGroup_.appendChild(o)},no.WorkspaceSvg.prototype.addFlyout=function(o){var j=new tr.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return j.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new((0,jt.getClassFromOptions)(jt.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(j):new((0,jt.getClassFromOptions)(jt.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(j),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(o)},no.WorkspaceSvg.prototype.getFlyout=function(o){return this.flyout_||o?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},no.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},no.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},no.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},no.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var o=this.componentManager_.getComponents(dn.ComponentManager.Capability.POSITIONABLE,!0),j=this.getMetricsManager().getUiMetrics(),et=[],ot=0,rt;rt=o[ot];ot++)rt.position(j,et),(rt=rt.getBoundingRectangle())&&et.push(rt);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},no.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var o=(0,Jo.getDocumentScroll)();go.Coordinate.equals(this.lastRecordedPageScroll_,o)||(this.lastRecordedPageScroll_=o,this.updateScreenCalculations_())},no.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},no.WorkspaceSvg.prototype.setCachedParentSvgSize=function(o,j){var et=this.getParentSvg();o!=null&&(this.cachedParentSvgSize_.width=o,et.cachedWidth_=o),j!=null&&(this.cachedParentSvgSize_.height=j,et.cachedHeight_=j)},no.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},no.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var o=this.svgGroup_;o;){if(o.tagName==="svg"){this.cachedParentSvg_=o;break}o=o.parentNode}return this.cachedParentSvg_},no.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if((0,yt.isEnabled)()){var o=this.scale,j=-this.scrollY,et=-this.scrollX;if(!(o===this.oldScale_&&1>Math.abs(j-this.oldTop_)&&1>Math.abs(et-this.oldLeft_))){var ot=new((0,yt.get)(yt.VIEWPORT_CHANGE))(j,et,o,this.id,this.oldScale_);this.oldScale_=o,this.oldTop_=j,this.oldLeft_=et,(0,yt.fire)(ot)}}},no.WorkspaceSvg.prototype.translate=function(o,j){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(o,j);else{var et="translate("+o+","+j+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",et),this.svgBubbleCanvas_.setAttribute("transform",et)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(o,j,this.scale),this.grid_&&this.grid_.moveTo(o,j),this.maybeFireViewportChangeEvent()},no.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var o=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),o="translate("+o.x+","+o.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)}},no.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var o=this.svgBlockCanvas_.previousSibling,j=parseInt(this.getParentSvg().getAttribute("width"),10),et=parseInt(this.getParentSvg().getAttribute("height"),10),ot=(0,Jo.getRelativeXY)(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),o,j,et,this.scale),this.workspaceDragSurface_.translateSurface(ot.x,ot.y)}},no.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},no.WorkspaceSvg.prototype.getWidth=function(){var o=this.getMetrics();return o?o.viewWidth/this.scale:0},no.WorkspaceSvg.prototype.setVisible=function(o){if(this.isVisible_=o,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(o),this.getFlyout()&&this.getFlyout().setContainerVisible(o),this.getParentSvg().style.display=o?"block":"none",this.toolbox_&&this.toolbox_.setVisible(o),o){o=this.getAllBlocks(!1);for(var j=o.length-1;0<=j;j--)o[j].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else this.hideChaff(!0)},no.WorkspaceSvg.prototype.render=function(){for(var o=this.getAllBlocks(!1),j=o.length-1;0<=j;j--)o[j].render(!1);if(this.currentGesture_)for(o=this.currentGesture_.getInsertionMarkers(),j=0;j<o.length;j++)o[j].render(!1);this.markerManager_.updateMarkers()},no.WorkspaceSvg.prototype.highlightBlock=function(o,j){if(j===void 0){for(var et=0,ot;ot=this.highlightedBlocks_[et];et++)ot.setHighlighted(!1);this.highlightedBlocks_.length=0}(o=o?this.getBlockById(o):null)&&((j=j===void 0||j)?this.highlightedBlocks_.indexOf(o)===-1&&this.highlightedBlocks_.push(o):(0,xr.removeElem)(this.highlightedBlocks_,o),o.setHighlighted(j))},no.WorkspaceSvg.prototype.paste=function(o){if(!this.rendered||!o.type&&!o.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();var j=(0,yt.getGroup)();return j||(0,yt.setGroup)(!0),o=o.type?this.pasteBlock_(null,o):o.tagName.toLowerCase()==="comment"?this.pasteWorkspaceComment_(o):this.pasteBlock_(o,null),(0,yt.setGroup)(j),o},no.WorkspaceSvg.prototype.pasteBlock_=function(o,j){(0,yt.disable)();try{var et=0,ot=0;if(o){var rt=(0,_.module$exports$Blockly$Xml.domToBlock)(o,this);et=parseInt(o.getAttribute("x"),10),this.RTL&&(et=-et),ot=parseInt(o.getAttribute("y"),10)}else j&&(rt=(0,Dn.append)(j,this),et=j.x||10,this.RTL&&(et=this.getWidth()-et),ot=j.y||10);if(!isNaN(et)&&!isNaN(ot)){do{var ct=!1,Et=this.getAllBlocks(!1);for(o=0,j=void 0;j=Et[o];o++){var wt=j.getRelativeToSurfaceXY();if(1>=Math.abs(et-wt.x)&&1>=Math.abs(ot-wt.y)){ct=!0;break}}if(!ct){var Lt=rt.getConnections_(!1);for(o=0,j=void 0;j=Lt[o];o++)if(j.closest(_.module$exports$Blockly$config.config.snapRadius,new go.Coordinate(et,ot)).connection){ct=!0;break}}ct&&(et=this.RTL?et-_.module$exports$Blockly$config.config.snapRadius:et+_.module$exports$Blockly$config.config.snapRadius,ot+=2*_.module$exports$Blockly$config.config.snapRadius)}while(ct);rt.moveTo(new go.Coordinate(et,ot))}}finally{(0,yt.enable)()}return(0,yt.isEnabled)()&&!rt.isShadow()&&(0,yt.fire)(new((0,yt.get)(yt.CREATE))(rt)),rt.select(),rt},no.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(o){(0,yt.disable)();try{var j=Ro.fromXml(o,this),et=parseInt(o.getAttribute("x"),10),ot=parseInt(o.getAttribute("y"),10);isNaN(et)||isNaN(ot)||(this.RTL&&(et=-et),j.moveBy(et+50,ot+50))}finally{(0,yt.enable)()}return(0,yt.isEnabled)()&&_n.fireCreateEvent(j),j.select(),j},no.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var o=this.isFlyout?this.targetWorkspace:this;o&&!o.currentGesture_&&o.toolbox_&&o.toolbox_.getFlyout()&&o.toolbox_.refreshSelection()},no.WorkspaceSvg.prototype.renameVariableById=function(o,j){yo.Workspace.prototype.renameVariableById.call(this,o,j),this.refreshToolboxSelection()},no.WorkspaceSvg.prototype.deleteVariableById=function(o){yo.Workspace.prototype.deleteVariableById.call(this,o),this.refreshToolboxSelection()},no.WorkspaceSvg.prototype.createVariable=function(o,j,et){return o=yo.Workspace.prototype.createVariable.call(this,o,j,et),this.refreshToolboxSelection(),o},no.WorkspaceSvg.prototype.recordDeleteAreas=function(){Vo.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},no.WorkspaceSvg.prototype.recordDragTargets=function(){var o=this.componentManager_.getComponents(dn.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var j=0,et;et=o[j];j++){var ot=et.getClientRect();ot&&this.dragTargetAreas_.push({component:et,clientRect:ot})}},no.WorkspaceSvg.prototype.getDragTarget=function(o){for(var j=0,et;et=this.dragTargetAreas_[j];j++)if(et.clientRect.contains(o.clientX,o.clientY))return et.component;return null},no.WorkspaceSvg.prototype.onMouseDown_=function(o){var j=this.getGesture(o);j&&j.handleWsStart(o,this)},no.WorkspaceSvg.prototype.startDrag=function(o,j){o=(0,Tt.mouseToSvg)(o,this.getParentSvg(),this.getInverseScreenCTM()),o.x/=this.scale,o.y/=this.scale,this.dragDeltaXY_=go.Coordinate.difference(j,o)},no.WorkspaceSvg.prototype.moveDrag=function(o){return o=(0,Tt.mouseToSvg)(o,this.getParentSvg(),this.getInverseScreenCTM()),o.x/=this.scale,o.y/=this.scale,go.Coordinate.sum(this.dragDeltaXY_,o)},no.WorkspaceSvg.prototype.isDragging=function(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()},no.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},no.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},no.WorkspaceSvg.prototype.isMovableHorizontally=function(){var o=!!this.scrollbar;return this.isMovable()&&(!o||o&&this.scrollbar.canScrollHorizontally())},no.WorkspaceSvg.prototype.isMovableVertically=function(){var o=!!this.scrollbar;return this.isMovable()&&(!o||o&&this.scrollbar.canScrollVertically())},no.WorkspaceSvg.prototype.onMouseWheel_=function(o){if(xo.Gesture.inProgress())o.preventDefault(),o.stopPropagation();else{var j=this.options.zoomOptions&&this.options.zoomOptions.wheel,et=this.options.moveOptions&&this.options.moveOptions.wheel;if(j||et){var ot=(0,Tt.getScrollDeltaPixels)(o);if($t.MAC)var rt=o.metaKey;j&&(o.ctrlKey||rt||!et)?(ot=-ot.y/50,j=(0,Tt.mouseToSvg)(o,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(j.x,j.y,ot)):(j=this.scrollX-ot.x,et=this.scrollY-ot.y,o.shiftKey&&!ot.x&&(j=this.scrollX-ot.y,et=this.scrollY),this.scroll(j,et)),o.preventDefault()}}},no.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var o=this.getTopBoundedElements();if(!o.length)return new In.Rect(0,0,0,0);for(var j=o[0].getBoundingRectangle(),et=1;et<o.length;et++){var ot=o[et];ot.isInsertionMarker&&ot.isInsertionMarker()||(ot=ot.getBoundingRectangle(),ot.top<j.top&&(j.top=ot.top),ot.bottom>j.bottom&&(j.bottom=ot.bottom),ot.left<j.left&&(j.left=ot.left),ot.right>j.right&&(j.right=ot.right))}return j},no.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),(0,yt.setGroup)(!0);for(var o=this.getTopBlocks(!0),j=0,et=0,ot;ot=o[et];et++)if(ot.isMovable()){var rt=ot.getRelativeToSurfaceXY();ot.moveBy(-rt.x,j-rt.y),ot.snapToGrid(),j=ot.getRelativeToSurfaceXY().y+ot.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}(0,yt.setGroup)(!1),this.setResizesEnabled(!0)},no.WorkspaceSvg.prototype.showContextMenu=function(o){if(!this.options.readOnly&&!this.isFlyout){var j=Xo.ContextMenuRegistry.registry.getContextMenuOptions(Xo.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(j,o),(0,_.module$exports$Blockly$ContextMenu.show)(o,j,this.RTL)}},no.WorkspaceSvg.prototype.updateToolbox=function(o){if(o=(0,bo.convertToolboxDefToJson)(o)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if((0,bo.hasCategories)(o)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=o,this.toolbox_.render(o)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=o,this.flyout_.show(o)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},no.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():((0,_.module$exports$Blockly$common.setMainWorkspace)(this),this.setBrowserFocus())},no.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch{try{this.getParentSvg().parentNode.setActive()}catch{this.getParentSvg().parentNode.focus({preventScroll:!0})}}},no.WorkspaceSvg.prototype.zoom=function(o,j,et){et=Math.pow(this.options.zoomOptions.scaleSpeed,et);var ot=this.scale*et;if(this.scale!==ot){ot>this.options.zoomOptions.maxScale?et=this.options.zoomOptions.maxScale/this.scale:ot<this.options.zoomOptions.minScale&&(et=this.options.zoomOptions.minScale/this.scale);var rt=this.getCanvas().getCTM(),ct=this.getParentSvg().createSVGPoint();ct.x=o,ct.y=j,ct=ct.matrixTransform(rt.inverse()),o=ct.x,j=ct.y,rt=rt.translate(o*(1-et),j*(1-et)).scale(et),this.scrollX=rt.e,this.scrollY=rt.f,this.setScale(ot)}},no.WorkspaceSvg.prototype.zoomCenter=function(o){var j=this.getMetrics();if(this.flyout_){var et=j.svgWidth?j.svgWidth/2:0;j=j.svgHeight?j.svgHeight/2:0}else et=j.viewWidth/2+j.absoluteLeft,j=j.viewHeight/2+j.absoluteTop;this.zoom(et,j,o)},no.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var o=this.getMetrics(),j=o.viewWidth;o=o.viewHeight;var et=this.getBlocksBoundingBox(),ot=et.right-et.left;if(et=et.bottom-et.top,ot){this.flyout_&&(this.horizontalLayout?(o+=this.flyout_.getHeight(),et+=this.flyout_.getHeight()/this.scale):(j+=this.flyout_.getWidth(),ot+=this.flyout_.getWidth()/this.scale)),j/=ot,o/=et,(0,yt.disable)();try{this.setScale(Math.min(j,o)),this.scrollCenter()}finally{(0,yt.enable)()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},no.WorkspaceSvg.prototype.beginCanvasTransition=function(){(0,kt.addClass)(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),(0,kt.addClass)(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},no.WorkspaceSvg.prototype.endCanvasTransition=function(){(0,kt.removeClass)(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),(0,kt.removeClass)(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},no.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var o=this.getMetrics(),j=(o.scrollWidth-o.viewWidth)/2,et=(o.scrollHeight-o.viewHeight)/2;j=-j-o.scrollLeft,et=-et-o.scrollTop,this.scroll(j,et)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},no.WorkspaceSvg.prototype.centerOnBlock=function(o){if(this.isMovable()){if(o=o?this.getBlockById(o):null){var j=o.getRelativeToSurfaceXY(),et=o.getHeightWidth(),ot=this.scale;o=(j.x+(this.RTL?-1:1)*et.width/2)*ot,j=(j.y+et.height/2)*ot,et=this.getMetrics(),this.scroll(-(o-et.viewWidth/2),-(j-et.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},no.WorkspaceSvg.prototype.setScale=function(o){this.options.zoomOptions.maxScale&&o>this.options.zoomOptions.maxScale?o=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&o<this.options.zoomOptions.minScale&&(o=this.options.zoomOptions.minScale),this.scale=o,this.hideChaff(!1),(o=this.getFlyout(!1))&&o.isVisible()&&(o.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),o=this.getMetrics(),this.scrollX-=o.absoluteLeft,this.scrollY-=o.absoluteTop,o.viewLeft+=o.absoluteLeft,o.viewTop+=o.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(o):this.scrollbar.resizeContent(o))},no.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},no.WorkspaceSvg.prototype.scroll=function(o,j){this.hideChaff(!0);var et=this.getMetrics();o=Math.min(o,-et.scrollLeft),j=Math.min(j,-et.scrollTop);var ot=et.scrollTop+Math.max(0,et.scrollHeight-et.viewHeight);o=Math.max(o,-(et.scrollLeft+Math.max(0,et.scrollWidth-et.viewWidth))),j=Math.max(j,-ot),this.scrollX=o,this.scrollY=j,this.scrollbar&&this.scrollbar.set(-(o+et.scrollLeft),-(j+et.scrollTop),!1),o+=et.absoluteLeft,j+=et.absoluteTop,this.translate(o,j)},no.WorkspaceSvg.prototype.getBlockById=function(o){return yo.Workspace.prototype.getBlockById.call(this,o)},no.WorkspaceSvg.prototype.getAllBlocks=function(o){return yo.Workspace.prototype.getAllBlocks.call(this,o)},no.WorkspaceSvg.prototype.getTopBlocks=function(o){return yo.Workspace.prototype.getTopBlocks.call(this,o)},no.WorkspaceSvg.prototype.addTopBlock=function(o){this.addTopBoundedElement(o),yo.Workspace.prototype.addTopBlock.call(this,o)},no.WorkspaceSvg.prototype.removeTopBlock=function(o){this.removeTopBoundedElement(o),yo.Workspace.prototype.removeTopBlock.call(this,o)},no.WorkspaceSvg.prototype.addTopComment=function(o){this.addTopBoundedElement(o),yo.Workspace.prototype.addTopComment.call(this,o)},no.WorkspaceSvg.prototype.removeTopComment=function(o){this.removeTopBoundedElement(o),yo.Workspace.prototype.removeTopComment.call(this,o)},no.WorkspaceSvg.prototype.addTopBoundedElement=function(o){this.topBoundedElements_.push(o)},no.WorkspaceSvg.prototype.removeTopBoundedElement=function(o){(0,xr.removeElem)(this.topBoundedElements_,o)},no.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},no.WorkspaceSvg.prototype.setResizesEnabled=function(o){var j=!this.resizesEnabled_&&o;this.resizesEnabled_=o,j&&this.resizeContents()},no.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),yo.Workspace.prototype.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},no.WorkspaceSvg.prototype.registerButtonCallback=function(o,j){if(typeof j!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[o]=j},no.WorkspaceSvg.prototype.getButtonCallback=function(o){return(o=this.flyoutButtonCallbacks_[o])?o:null},no.WorkspaceSvg.prototype.removeButtonCallback=function(o){this.flyoutButtonCallbacks_[o]=null},no.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(o,j){if(typeof j!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[o]=j},no.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(o){return this.toolboxCategoryCallbacks_[o]||null},no.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(o){this.toolboxCategoryCallbacks_[o]=null},no.WorkspaceSvg.prototype.getGesture=function(o){var j=o.type==="mousedown"||o.type==="touchstart"||o.type==="pointerdown",et=this.currentGesture_;return et?j&&et.hasStarted()?(console.warn("Tried to start the same gesture twice."),et.cancel(),null):et:j?this.currentGesture_=new nr.TouchGesture(o,this):null},no.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},no.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},no.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},no.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},no.WorkspaceSvg.prototype.hideChaff=function(o){(0,Ut.hide)(),(0,Ot.hide)(),(0,Co.hideWithoutAnimation)();var j=!!o;this.getComponentManager().getComponents(dn.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach(function(et){return et.autoHide(j)})},no.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(o){var j=this.getMetrics();typeof o.x=="number"&&(this.scrollX=-(j.scrollLeft+(j.scrollWidth-j.viewWidth)*o.x)),typeof o.y=="number"&&(this.scrollY=-(j.scrollTop+(j.scrollHeight-j.viewHeight)*o.y)),this.translate(this.scrollX+j.absoluteLeft,this.scrollY+j.absoluteTop)},no.resizeSvgContents=function(o){o.resizeContents()};var _f={inject:function(o,j){if(typeof o=="string"&&(o=document.getElementById(o)||document.querySelector(o)),!o||!(0,kt.containsNode)(document,o))throw Error("Error: container is not in current document.");j=new tr.Options(j||{});var et=document.createElement("div");et.className="injectionDiv",et.tabIndex=0,(0,ho.setState)(et,ho.State.LABEL,_.module$exports$Blockly$Msg.Msg.WORKSPACE_ARIA_LABEL),o.appendChild(et),o=_g(et,j);var ot=new hr.BlockDragSurfaceSvg(et),rt=new as.WorkspaceDragSurfaceSvg(et),ct=em(o,j,ot,rt);return tm(ct),(0,_.module$exports$Blockly$common.setMainWorkspace)(ct),(0,_.module$exports$Blockly$common.svgResize)(ct),et.addEventListener("focusin",function(){(0,_.module$exports$Blockly$common.setMainWorkspace)(ct)}),ct}},_g=function(o,j){o.setAttribute("dir","LTR"),(0,nt.inject)(j.hasCss,j.pathToMedia),o=(0,kt.createSvgElement)(Nt.Svg.SVG,{xmlns:kt.SVG_NS,"xmlns:html":kt.HTML_NS,"xmlns:xlink":kt.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},o);var et=(0,kt.createSvgElement)(Nt.Svg.DEFS,{},o),ot=String(Math.random()).substring(2);return j.gridPattern=fr.Grid.createDom(ot,j.gridOptions,et),o},em=function(o,j,et,ot){return j.parentWorkspace=null,j=new no.WorkspaceSvg(j,et,ot),et=j.options,j.scale=et.zoomOptions.startScale,o.appendChild(j.createDom("blocklyMainBackground")),(0,kt.addClass)(j.getInjectionDiv(),j.getRenderer().getClassName()),(0,kt.addClass)(j.getInjectionDiv(),j.getTheme().getClassName()),!et.hasCategories&&et.languageTree&&(ot=j.addFlyout(Nt.Svg.SVG),(0,kt.insertAfter)(ot,o)),et.hasTrashcan&&j.addTrashcan(),et.zoomOptions&&et.zoomOptions.controls&&j.addZoomControls(),j.getThemeManager().subscribe(o,"workspaceBackgroundColour","background-color"),j.translate(0,0),j.addChangeListener((0,Jr.bumpIntoBoundsHandler)(j)),(0,_.module$exports$Blockly$common.svgResize)(j),(0,Ot.createDom)(),(0,Co.createDom)(),(0,Ut.createDom)(),j},tm=function(o){var j=o.options,et=o.getParentSvg();if((0,Tt.conditionalBind)(et.parentNode,"contextmenu",null,function(rt){(0,Tt.isTargetInput)(rt)||rt.preventDefault()}),et=(0,Tt.conditionalBind)(window,"resize",null,function(){o.hideChaff(!0),(0,_.module$exports$Blockly$common.svgResize)(o),Jr.bumpTopObjectsIntoBounds(o)}),o.setResizeHandlerWrapper(et),nm(),j.languageTree){et=o.getToolbox();var ot=o.getFlyout(!0);et?et.init():ot&&(ot.init(o),ot.show(j.languageTree),typeof ot.scrollToStart=="function"&&ot.scrollToStart())}j.hasTrashcan&&o.trashcan.init(),j.zoomOptions&&j.zoomOptions.controls&&o.zoomControls_.init(),j.moveOptions&&j.moveOptions.scrollbars?(o.scrollbar=new or.ScrollbarPair(o,j.moveOptions.scrollbars===!0||!!j.moveOptions.scrollbars.horizontal,j.moveOptions.scrollbars===!0||!!j.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),o.scrollbar.resize()):o.setMetrics({x:.5,y:.5}),j.hasSounds&&rm(j.pathToMedia,o)},om=function(o){var j=(0,_.module$exports$Blockly$common.getMainWorkspace)();j&&!((0,Tt.isTargetInput)(o)||j.rendered&&!j.isVisible())&&So.ShortcutRegistry.registry.onKeyDown(j,o)},Ip=!1,nm=function(){Ip||((0,Tt.conditionalBind)(document,"scroll",null,function(){for(var o=yo.Workspace.getAll(),j=0,et;et=o[j];j++)et.updateInverseScreenCTM&&et.updateInverseScreenCTM()}),(0,Tt.conditionalBind)(document,"keydown",null,om),(0,Tt.bind)(document,"touchend",null,dt.longStop),(0,Tt.bind)(document,"touchcancel",null,dt.longStop),$t.IPAD&&(0,Tt.conditionalBind)(window,"orientationchange",document,function(){(0,_.module$exports$Blockly$common.svgResize)((0,_.module$exports$Blockly$common.getMainWorkspace)())})),Ip=!0},rm=function(o,j){var et=j.getAudioManager();et.load([o+"click.mp3",o+"click.wav",o+"click.ogg"],"click"),et.load([o+"disconnect.wav",o+"disconnect.mp3",o+"disconnect.ogg"],"disconnect"),et.load([o+"delete.mp3",o+"delete.ogg",o+"delete.wav"],"delete");var ot=[];o=function(){for(;ot.length;)(0,Tt.unbind)(ot.pop());et.preload()},ot.push((0,Tt.conditionalBind)(document,"mousemove",null,o,!0)),ot.push((0,Tt.conditionalBind)(document,"touchstart",null,o,!0))},im={IComponent:function(){}},sm={IDragTarget:function(){}},vs={DragTarget:function(){}};vs.DragTarget.prototype.onDragEnter=function(o){},vs.DragTarget.prototype.onDragOver=function(o){},vs.DragTarget.prototype.onDragExit=function(o){},vs.DragTarget.prototype.onDrop=function(o){},vs.DragTarget.prototype.getClientRect=function(){return null},vs.DragTarget.prototype.shouldPreventMove=function(o){return!1};var lm={IDeleteArea:function(){}},ts={DeleteArea:function(){vs.DragTarget.call(this),this.wouldDelete_=!1}};_.$jscomp.inherits(ts.DeleteArea,vs.DragTarget),ts.DeleteArea.prototype.wouldDelete=function(o,j){return o instanceof po.BlockSvg?(o=!o.getParent()&&o.isDeletable(),this.updateWouldDelete_(o&&!j)):this.updateWouldDelete_(o.isDeletable()),this.wouldDelete_},ts.DeleteArea.prototype.updateWouldDelete_=function(o){this.wouldDelete_=o};var Il={FlyoutMetricsManager:function(o,j){ur.MetricsManager.call(this,o),this.flyout_=j}};_.$jscomp.inherits(Il.FlyoutMetricsManager,ur.MetricsManager),Il.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var o=this.workspace_.getCanvas().getBBox()}catch{o={height:0,y:0,width:0,x:0}}return o},Il.FlyoutMetricsManager.prototype.getContentMetrics=function(o){var j=this.getBoundingBox_();return o=o?1:this.workspace_.scale,{height:j.height*o,width:j.width*o,top:j.y*o,left:j.x*o}},Il.FlyoutMetricsManager.prototype.getScrollMetrics=function(o,j,et){return j=et||this.getContentMetrics(),et=this.flyout_.MARGIN*this.workspace_.scale,o=o?this.workspace_.scale:1,{height:(j.height+2*et)/o,width:(j.width+j.left+et)/o,top:0,left:0}};var am={IFlyout:function(){}},Go={Flyout:function(o){ts.DeleteArea.call(this),o.setMetrics=this.setMetrics_.bind(this),this.workspace_=new no.WorkspaceSvg(o),this.workspace_.setMetricsManager(new Il.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=(0,mn.genUid)(),this.RTL=!!o.RTL,this.horizontalLayout=!1,this.toolboxPosition_=o.toolboxPosition,this.eventWrappers_=[],this.filterWrapper_=this.reflowWrapper_=null,this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null,this.recycledBlocks_=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible_=!0,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS=8,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null}};_.$jscomp.inherits(Go.Flyout,ts.DeleteArea),Go.Flyout.prototype.createDom=function(o){return this.svgGroup_=(0,kt.createSvgElement)(o,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},Go.Flyout.prototype.init=function(o){this.targetWorkspace=o,this.workspace_.targetWorkspace=o,this.workspace_.scrollbar=new or.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,(0,Tt.conditionalBind)(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,(0,Tt.conditionalBind)(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),o.getComponentManager().addComponent({component:this,weight:1,capabilities:[dn.ComponentManager.Capability.DELETE_AREA,dn.ComponentManager.Capability.DRAG_TARGET]})},Go.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),(0,Tt.unbind)(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&((0,kt.removeNode)(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},Go.Flyout.prototype.getWidth=function(){return this.width_},Go.Flyout.prototype.getHeight=function(){return this.height_},Go.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},Go.Flyout.prototype.getWorkspace=function(){return this.workspace_},Go.Flyout.prototype.isVisible=function(){return this.isVisible_},Go.Flyout.prototype.setVisible=function(o){var j=o!==this.isVisible();this.isVisible_=o,j&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},Go.Flyout.prototype.setContainerVisible=function(o){var j=o!==this.containerVisible_;this.containerVisible_=o,j&&this.updateDisplay_()},Go.Flyout.prototype.updateDisplay_=function(){var o=this.containerVisible_?this.isVisible():!1;this.svgGroup_.style.display=o?"block":"none",this.workspace_.scrollbar.setContainerVisible(o)},Go.Flyout.prototype.positionAt_=function(o,j,et,ot){this.svgGroup_.setAttribute("width",o),this.svgGroup_.setAttribute("height",j),this.workspace_.setCachedParentSvgSize(o,j),this.svgGroup_.tagName==="svg"?(0,kt.setCssTransform)(this.svgGroup_,"translate("+et+"px,"+ot+"px)"):this.svgGroup_.setAttribute("transform","translate("+et+","+ot+")"),(o=this.workspace_.scrollbar)&&(o.setOrigin(et,ot),o.resize(),o.hScroll&&o.hScroll.setPosition(o.hScroll.position.x,o.hScroll.position.y),o.vScroll&&o.vScroll.setPosition(o.vScroll.position.x,o.vScroll.position.y))},Go.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var o=0,j;j=this.listeners_[o];o++)(0,Tt.unbind)(j);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},Go.Flyout.prototype.show=function(o){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),typeof o=="string"&&(o=this.getDynamicCategoryContents_(o)),this.setVisible(!0),o=(0,bo.convertFlyoutDefToJsonArray)(o),o=this.createFlyoutInfo_(o),this.layout_(o.contents,o.gaps),this.listeners_.push((0,Tt.conditionalBind)(this.svgBackground_,"mouseover",this,function(){for(var j=this.workspace_.getTopBlocks(!1),et=0,ot;ot=j[et];et++)ot.removeSelect()})),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_),this.emptyRecycledBlocks_()},Go.Flyout.prototype.createFlyoutInfo_=function(o){var j=[],et=[];this.permanentlyDisabled_.length=0;for(var ot=this.horizontalLayout?this.GAP_X:this.GAP_Y,rt=0,ct;ct=o[rt];rt++)switch(ct.custom&&(ct=this.getDynamicCategoryContents_(ct.custom),ct=(0,bo.convertFlyoutDefToJsonArray)(ct),o.splice.apply(o,[rt,1].concat(ct)),ct=o[rt]),ct.kind.toUpperCase()){case"BLOCK":var Et=this.createFlyoutBlock_(ct);j.push({type:"block",block:Et}),this.addBlockGap_(ct,et,ot);break;case"SEP":this.addSeparatorGap_(ct,et,ot);break;case"LABEL":ct=this.createButton_(ct,!0),j.push({type:"button",button:ct}),et.push(ot);break;case"BUTTON":ct=this.createButton_(ct,!1),j.push({type:"button",button:ct}),et.push(ot)}return{contents:j,gaps:et}},Go.Flyout.prototype.getDynamicCategoryContents_=function(o){if(o=this.workspace_.targetWorkspace.getToolboxCategoryCallback(o),typeof o!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return o(this.workspace_.targetWorkspace)},Go.Flyout.prototype.createButton_=function(o,j){var et=$r.FlyoutButton;if(!et)throw Error("Missing require for Blockly.FlyoutButton");return new et(this.workspace_,this.targetWorkspace,o,j)},Go.Flyout.prototype.createFlyoutBlock_=function(o){var j;return o.blockxml?(o=typeof o.blockxml=="string"?(0,_.module$exports$Blockly$Xml.textToDom)(o.blockxml):o.blockxml,(j=this.getRecycledBlock_(o.getAttribute("type")))||(j=(0,_.module$exports$Blockly$Xml.domToBlock)(o,this.workspace_))):(j=this.getRecycledBlock_(o.type),j||(o.enabled===void 0&&(o.enabled=o.disabled!=="true"&&o.disabled!==!0),j=(0,Dn.append)(o,this.workspace_))),j.isEnabled()||this.permanentlyDisabled_.push(j),j},Go.Flyout.prototype.getRecycledBlock_=function(o){for(var j=-1,et=0;et<this.recycledBlocks_.length;et++)if(this.recycledBlocks_[et].type===o){j=et;break}return j===-1?void 0:this.recycledBlocks_.splice(j,1)[0]},Go.Flyout.prototype.addBlockGap_=function(o,j,et){if(o.gap)var ot=parseInt(o.gap,10);else o.blockxml&&(o=typeof o.blockxml=="string"?(0,_.module$exports$Blockly$Xml.textToDom)(o.blockxml):o.blockxml,ot=parseInt(o.getAttribute("gap"),10));j.push(isNaN(ot)?et:ot)},Go.Flyout.prototype.addSeparatorGap_=function(o,j,et){o=parseInt(o.gap,10),!isNaN(o)&&0<j.length?j[j.length-1]=o:j.push(et)},Go.Flyout.prototype.clearOldBlocks_=function(){for(var o=this.workspace_.getTopBlocks(!1),j=0,et;et=o[j];j++)this.blockIsRecyclable_(et)?this.recycleBlock_(et):et.dispose(!1,!1);for(o=0;o<this.mats_.length;o++)(j=this.mats_[o])&&((0,Ut.unbindMouseEvents)(j),(0,kt.removeNode)(j));for(o=this.mats_.length=0;j=this.buttons_[o];o++)j.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},Go.Flyout.prototype.emptyRecycledBlocks_=function(){for(var o=0;o<this.recycledBlocks_.length;o++)this.recycledBlocks_[o].dispose();this.recycledBlocks_=[]},Go.Flyout.prototype.blockIsRecyclable_=function(o){return!1},Go.Flyout.prototype.recycleBlock_=function(o){var j=o.getRelativeToSurfaceXY();o.moveBy(-j.x,-j.y),this.recycledBlocks_.push(o)},Go.Flyout.prototype.addBlockListeners_=function(o,j,et){this.listeners_.push((0,Tt.conditionalBind)(o,"mousedown",null,this.blockMouseDown_(j))),this.listeners_.push((0,Tt.conditionalBind)(et,"mousedown",null,this.blockMouseDown_(j))),this.listeners_.push((0,Tt.bind)(o,"mouseenter",j,j.addSelect)),this.listeners_.push((0,Tt.bind)(o,"mouseleave",j,j.removeSelect)),this.listeners_.push((0,Tt.bind)(et,"mouseenter",j,j.addSelect)),this.listeners_.push((0,Tt.bind)(et,"mouseleave",j,j.removeSelect))},Go.Flyout.prototype.blockMouseDown_=function(o){var j=this;return function(et){var ot=j.targetWorkspace.getGesture(et);ot&&(ot.setStartBlock(o),ot.handleFlyoutStart(et,j))}},Go.Flyout.prototype.onMouseDown_=function(o){var j=this.targetWorkspace.getGesture(o);j&&j.handleFlyoutStart(o,this)},Go.Flyout.prototype.isBlockCreatable_=function(o){return o.isEnabled()},Go.Flyout.prototype.createBlock=function(o){var j=null;(0,yt.disable)();var et=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{j=this.placeNewBlock_(o)}finally{(0,yt.enable)()}if(this.targetWorkspace.hideChaff(),o=(0,_.module$exports$Blockly$Variables.getAddedVariables)(this.targetWorkspace,et),(0,yt.isEnabled)()){for((0,yt.setGroup)(!0),et=0;et<o.length;et++){var ot=o[et];(0,yt.fire)(new((0,yt.get)(yt.VAR_CREATE))(ot))}(0,yt.fire)(new((0,yt.get)(yt.CREATE))(j))}return this.autoClose?this.hide():this.filterForCapacity_(),j},Go.Flyout.prototype.initFlyoutButton_=function(o,j,et){var ot=o.createDom();o.moveTo(j,et),o.show(),this.listeners_.push((0,Tt.conditionalBind)(ot,"mousedown",this,this.onMouseDown_)),this.buttons_.push(o)},Go.Flyout.prototype.createRect_=function(o,j,et,ot,rt){return j=(0,kt.createSvgElement)(Nt.Svg.RECT,{"fill-opacity":0,x:j,y:et,height:ot.height,width:ot.width},null),j.tooltip=o,(0,Ut.bindMouseEvents)(j),this.workspace_.getCanvas().insertBefore(j,o.getSvgRoot()),this.rectMap_.set(o,j),this.mats_[rt]=j},Go.Flyout.prototype.moveRectToBlock_=function(o,j){var et=j.getHeightWidth();o.setAttribute("width",et.width),o.setAttribute("height",et.height),j=j.getRelativeToSurfaceXY(),o.setAttribute("y",j.y),o.setAttribute("x",this.RTL?j.x-et.width:j.x)},Go.Flyout.prototype.filterForCapacity_=function(){for(var o=this.workspace_.getTopBlocks(!1),j=0,et;et=o[j];j++)if(this.permanentlyDisabled_.indexOf(et)===-1)for(var ot=this.targetWorkspace.isCapacityAvailable((0,_.module$exports$Blockly$common.getBlockTypeCounts)(et));et;)et.setEnabled(ot),et=et.getNextBlock()},Go.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},Go.Flyout.prototype.isScrollable=function(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1},Go.Flyout.prototype.placeNewBlock_=function(o){var j=this.targetWorkspace;if(!o.getSvgRoot())throw Error("oldBlock is not rendered.");var et=(0,Dn.save)(o);return j.setResizesEnabled(!1),j=(0,Dn.append)(et,j),this.positionNewBlock_(o,j),j},Go.Flyout.prototype.positionNewBlock_=function(o,j){var et=this.targetWorkspace,ot=et.getOriginOffsetInPixels(),rt=this.workspace_.getOriginOffsetInPixels();o=o.getRelativeToSurfaceXY(),o.scale(this.workspace_.scale),rt=go.Coordinate.sum(rt,o),ot=go.Coordinate.difference(rt,ot),ot.scale(1/et.scale),j.moveTo(new go.Coordinate(ot.x,ot.y))};var _r={VerticalFlyout:function(o){Go.Flyout.call(this,o)}};_.$jscomp.inherits(_r.VerticalFlyout,Go.Flyout),_r.VerticalFlyout.prototype.setMetrics_=function(o){if(this.isVisible()){var j=this.workspace_.getMetricsManager(),et=j.getScrollMetrics(),ot=j.getViewMetrics();j=j.getAbsoluteMetrics(),typeof o.y=="number"&&(this.workspace_.scrollY=-(et.top+(et.height-ot.height)*o.y)),this.workspace_.translate(this.workspace_.scrollX+j.left,this.workspace_.scrollY+j.top)}},_r.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var o=this.targetWorkspace.getMetricsManager(),j=o.getAbsoluteMetrics(),et=o.getViewMetrics();return o=o.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===bo.Position.LEFT?o.width:et.width-this.width_:this.toolboxPosition_===bo.Position.LEFT?0:et.width:this.toolboxPosition_===bo.Position.LEFT?0:et.width+j.left-this.width_},_r.VerticalFlyout.prototype.getY=function(){return 0},_r.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var o=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=o.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,o.height-2*this.CORNER_RADIUS),o=this.getX();var j=this.getY();this.positionAt_(this.width_,this.height_,o,j)}},_r.VerticalFlyout.prototype.setBackgroundPath_=function(o,j){var et=this.toolboxPosition_===bo.Position.RIGHT,ot=o+this.CORNER_RADIUS;ot=["M "+(et?ot:0)+",0"],ot.push("h",et?-o:o),ot.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,et?0:1,et?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),ot.push("v",Math.max(0,j)),ot.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,et?0:1,et?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),ot.push("h",et?o:-o),ot.push("z"),this.svgBackground_.setAttribute("d",ot.join(" "))},_r.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},_r.VerticalFlyout.prototype.wheel_=function(o){var j=(0,Tt.getScrollDeltaPixels)(o);if(j.y){var et=this.workspace_.getMetricsManager(),ot=et.getScrollMetrics();j=et.getViewMetrics().top-ot.top+j.y,this.workspace_.scrollbar.setY(j),(0,Ot.hide)(),(0,Co.hideWithoutAnimation)()}o.preventDefault(),o.stopPropagation()},_r.VerticalFlyout.prototype.layout_=function(o,j){this.workspace_.scale=this.targetWorkspace.scale;for(var et=this.MARGIN,ot=this.RTL?et:et+this.tabWidth_,rt=0,ct;ct=o[rt];rt++)if(ct.type==="block"){ct=ct.block;for(var Et=ct.getDescendants(!1),wt=0,Lt;Lt=Et[wt];wt++)Lt.isInFlyout=!0;ct.render(),Et=ct.getSvgRoot(),wt=ct.getHeightWidth(),Lt=ct.outputConnection?ot-this.tabWidth_:ot,ct.moveBy(Lt,et),Lt=this.createRect_(ct,this.RTL?Lt-wt.width:Lt,et,wt,rt),this.addBlockListeners_(Et,ct,Lt),et+=wt.height+j[rt]}else ct.type==="button"&&(this.initFlyoutButton_(ct.button,ot,et),et+=ct.button.height+j[rt])},_r.VerticalFlyout.prototype.isDragTowardWorkspace=function(o){o=Math.atan2(o.y,o.x)/Math.PI*180;var j=this.dragAngleRange_;return o<j&&o>-j||o<-180+j||o>180-j},_r.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var o=this.svgGroup_.getBoundingClientRect(),j=o.left;return this.toolboxPosition_===bo.Position.LEFT?new In.Rect(-1e9,1e9,-1e9,j+o.width):new In.Rect(-1e9,1e9,j,1e9)},_r.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var o=0,j=this.workspace_.getTopBlocks(!1),et=0,ot;ot=j[et];et++){var rt=ot.getHeightWidth().width;ot.outputConnection&&(rt-=this.tabWidth_),o=Math.max(o,rt)}for(et=0;ot=this.buttons_[et];et++)o=Math.max(o,ot.width);if(o+=1.5*this.MARGIN+this.tabWidth_,o*=this.workspace_.scale,o+=$o.Scrollbar.scrollbarThickness,this.width_!==o){for(et=0;ot=j[et];et++){if(this.RTL){rt=ot.getRelativeToSurfaceXY().x;var ct=o/this.workspace_.scale-this.MARGIN;ot.outputConnection||(ct-=this.tabWidth_),ot.moveBy(ct-rt,0)}this.rectMap_.has(ot)&&this.moveRectToBlock_(this.rectMap_.get(ot),ot)}if(this.RTL)for(j=0;et=this.buttons_[j];j++)ot=et.getPosition().y,et.moveTo(o/this.workspace_.scale-et.width-this.MARGIN-this.tabWidth_,ot);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==bo.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+o,this.targetWorkspace.scrollY),this.width_=o,this.position(),this.targetWorkspace.recordDragTargets()}},_r.VerticalFlyout.registryName="verticalFlyout",(0,jt.register)(jt.Type.FLYOUTS_VERTICAL_TOOLBOX,jt.DEFAULT,_r.VerticalFlyout);var um={IToolboxItem:function(){}},cm={ISelectableToolboxItem:function(){}},pm={ICollapsibleToolboxItem:function(){}},Er={ToolboxItem:function(o,j,et){this.id_=o.toolboxitemid||(0,mn.getNextUniqueId)(),this.level_=(this.parent_=et||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=o,this.parentToolbox_=j,this.workspace_=this.parentToolbox_.getWorkspace()}};Er.ToolboxItem.prototype.init=function(){},Er.ToolboxItem.prototype.getDiv=function(){return null},Er.ToolboxItem.prototype.getClickTarget=function(){return null},Er.ToolboxItem.prototype.getId=function(){return this.id_},Er.ToolboxItem.prototype.getParent=function(){return null},Er.ToolboxItem.prototype.getLevel=function(){return this.level_},Er.ToolboxItem.prototype.isSelectable=function(){return!1},Er.ToolboxItem.prototype.isCollapsible=function(){return!1},Er.ToolboxItem.prototype.dispose=function(){};var Fo={ToolboxCategory:function(o,j,et){Er.ToolboxItem.call(this,o,j,et),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[]}};_.$jscomp.inherits(Fo.ToolboxCategory,Er.ToolboxItem),Fo.ToolboxCategory.prototype.init=function(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()},Fo.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},Fo.ToolboxCategory.prototype.parseContents_=function(o){var j=o.contents;if(o.custom)this.flyoutItems_=o.custom;else if(j)for(o=0;o<j.length;o++)this.flyoutItems_.push(j[o])},Fo.ToolboxCategory.prototype.parseCategoryDef_=function(o){this.name_=(0,nn.replaceMessageReferences)(o.name),this.colour_=this.getColour_(o),(0,_.module$exports$Blockly$utils$object.mixin)(this.cssConfig_,o.cssconfig||o.cssConfig)},Fo.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),(0,ho.setRole)(this.htmlDiv_,ho.Role.TREEITEM),(0,ho.setState)(this.htmlDiv_,ho.State.SELECTED,!1),(0,ho.setState)(this.htmlDiv_,ho.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),(0,ho.setRole)(this.iconDom_,ho.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),(0,ho.setState)(this.htmlDiv_,ho.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},Fo.ToolboxCategory.prototype.createContainer_=function(){var o=document.createElement("div");return(0,kt.addClass)(o,this.cssConfig_.container),o},Fo.ToolboxCategory.prototype.createRowContainer_=function(){var o=document.createElement("div");(0,kt.addClass)(o,this.cssConfig_.row);var j=Fo.ToolboxCategory.nestedPadding*this.getLevel();return j=j.toString()+"px",this.workspace_.RTL?o.style.paddingRight=j:o.style.paddingLeft=j,o},Fo.ToolboxCategory.prototype.createRowContentsContainer_=function(){var o=document.createElement("div");return(0,kt.addClass)(o,this.cssConfig_.rowcontentcontainer),o},Fo.ToolboxCategory.prototype.createIconDom_=function(){var o=document.createElement("span");return this.parentToolbox_.isHorizontal()||(0,kt.addClass)(o,this.cssConfig_.icon),o.style.display="inline-block",o},Fo.ToolboxCategory.prototype.createLabelDom_=function(o){var j=document.createElement("span");return j.setAttribute("id",this.getId()+".label"),j.textContent=o,(0,kt.addClass)(j,this.cssConfig_.label),j},Fo.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},Fo.ToolboxCategory.prototype.addColourBorder_=function(o){o&&(o=Fo.ToolboxCategory.borderWidth+"px solid "+(o||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=o:this.rowDiv_.style.borderLeft=o)},Fo.ToolboxCategory.prototype.getColour_=function(o){var j=o.categorystyle||o.categoryStyle;if((o=o.colour)&&j)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else return j?this.getColourfromStyle_(j):this.parseColour_(o);return""},Fo.ToolboxCategory.prototype.getColourfromStyle_=function(o){var j=this.workspace_.getTheme();if(o&&j){if((j=j.categoryStyles[o])&&j.colour)return this.parseColour_(j.colour);console.warn('Style "'+o+'" must exist and contain a colour value')}return""},Fo.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},Fo.ToolboxCategory.prototype.parseColour_=function(o){if(o=(0,nn.replaceMessageReferences)(o),o==null||o==="")return"";var j=Number(o);return isNaN(j)?(j=(0,un.parse)(o))?j:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+o),""):(0,un.hueToHex)(j)},Fo.ToolboxCategory.prototype.openIcon_=function(o){o&&((0,kt.removeClasses)(o,this.cssConfig_.closedicon),(0,kt.addClass)(o,this.cssConfig_.openicon))},Fo.ToolboxCategory.prototype.closeIcon_=function(o){o&&((0,kt.removeClasses)(o,this.cssConfig_.openicon),(0,kt.addClass)(o,this.cssConfig_.closedicon))},Fo.ToolboxCategory.prototype.setVisible_=function(o){this.htmlDiv_.style.display=o?"block":"none",this.isHidden_=!o,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()},Fo.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},Fo.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},Fo.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},Fo.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var o=this;o.getParent();)if(o=o.getParent(),!o.isExpanded())return!1;return!0},Fo.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},Fo.ToolboxCategory.prototype.onClick=function(o){},Fo.ToolboxCategory.prototype.setSelected=function(o){if(o){var j=this.parseColour_(Fo.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||j,(0,kt.addClass)(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",(0,kt.removeClass)(this.rowDiv_,this.cssConfig_.selected);(0,ho.setState)(this.htmlDiv_,ho.State.SELECTED,o)},Fo.ToolboxCategory.prototype.setDisabled=function(o){this.isDisabled_=o,this.getDiv().setAttribute("disabled",o),o?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},Fo.ToolboxCategory.prototype.getName=function(){return this.name_},Fo.ToolboxCategory.prototype.getParent=function(){return this.parent_},Fo.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},Fo.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},Fo.ToolboxCategory.prototype.updateFlyoutContents=function(o){this.flyoutItems_=[],typeof o=="string"?this.toolboxItemDef_.custom=o:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=(0,bo.convertFlyoutDefToJsonArray)(o)),this.parseContents_(this.toolboxItemDef_)},Fo.ToolboxCategory.prototype.dispose=function(){(0,kt.removeNode)(this.htmlDiv_)},Fo.ToolboxCategory.registrationName="category",Fo.ToolboxCategory.nestedPadding=19,Fo.ToolboxCategory.borderWidth=8,Fo.ToolboxCategory.defaultBackgroundColour="#57e",(0,nt.register)(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),(0,jt.register)(jt.Type.TOOLBOX_ITEM,Fo.ToolboxCategory.registrationName,Fo.ToolboxCategory);var os={ToolboxSeparator:function(o,j){Er.ToolboxItem.call(this,o,j),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,(0,_.module$exports$Blockly$utils$object.mixin)(this.cssConfig_,o.cssconfig||o.cssConfig)}};_.$jscomp.inherits(os.ToolboxSeparator,Er.ToolboxItem),os.ToolboxSeparator.prototype.init=function(){this.createDom_()},os.ToolboxSeparator.prototype.createDom_=function(){var o=document.createElement("div");return(0,kt.addClass)(o,this.cssConfig_.container),this.htmlDiv_=o},os.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},os.ToolboxSeparator.prototype.dispose=function(){(0,kt.removeNode)(this.htmlDiv_)},os.ToolboxSeparator.registrationName="sep",(0,nt.register)(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),(0,jt.register)(jt.Type.TOOLBOX_ITEM,os.ToolboxSeparator.registrationName,os.ToolboxSeparator);var Un={CollapsibleToolboxCategory:function(o,j,et){Fo.ToolboxCategory.call(this,o,j,et),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}};_.$jscomp.inherits(Un.CollapsibleToolboxCategory,Fo.ToolboxCategory),Un.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var o=Fo.ToolboxCategory.prototype.makeDefaultCssConfig_.call(this);return o.contents="blocklyToolboxContents",o},Un.CollapsibleToolboxCategory.prototype.parseContents_=function(o){var j=o.contents,et=!0;if(o.custom)this.flyoutItems_=o.custom;else if(j)for(o=0;o<j.length;o++){var ot=j[o];!(0,jt.hasItem)(jt.Type.TOOLBOX_ITEM,ot.kind)||ot.kind.toLowerCase()===os.ToolboxSeparator.registrationName&&et?(this.flyoutItems_.push(ot),et=!0):(this.createToolboxItem_(ot),et=!1)}},Un.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(o){var j=o.kind;j.toUpperCase()=="CATEGORY"&&(0,bo.isCategoryCollapsible)(o)&&(j=Un.CollapsibleToolboxCategory.registrationName),o=new((0,jt.getClass)(jt.Type.TOOLBOX_ITEM,j))(o,this.parentToolbox_,this),this.toolboxItems_.push(o)},Un.CollapsibleToolboxCategory.prototype.init=function(){Fo.ToolboxCategory.prototype.init.call(this),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded)},Un.CollapsibleToolboxCategory.prototype.createDom_=function(){Fo.ToolboxCategory.prototype.createDom_.call(this);var o=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(o),(0,ho.setRole)(this.subcategoriesDiv_,ho.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},Un.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var o=document.createElement("span");return this.parentToolbox_.isHorizontal()||((0,kt.addClass)(o,this.cssConfig_.icon),o.style.visibility="visible"),o.style.display="inline-block",o},Un.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(o){var j=document.createElement("div");(0,kt.addClass)(j,this.cssConfig_.contents);for(var et=0;et<o.length;et++){var ot=o[et];ot.init();var rt=ot.getDiv();j.appendChild(rt),ot.getClickTarget&&ot.getClickTarget().setAttribute("id",ot.getId())}return j},Un.CollapsibleToolboxCategory.prototype.setExpanded=function(o){this.expanded_!==o&&((this.expanded_=o)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),(0,ho.setState)(this.htmlDiv_,ho.State.EXPANDED,o),this.parentToolbox_.handleToolboxItemResize())},Un.CollapsibleToolboxCategory.prototype.setVisible_=function(o){this.htmlDiv_.style.display=o?"block":"none";for(var j=this.getChildToolboxItems(),et=0;et<j.length;et++)j[et].setVisible_(o);this.isHidden_=!o,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()},Un.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},Un.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},Un.CollapsibleToolboxCategory.prototype.onClick=function(o){this.toggleExpanded()},Un.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},Un.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},Un.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},Un.CollapsibleToolboxCategory.registrationName="collapsibleCategory",(0,jt.register)(jt.Type.TOOLBOX_ITEM,Un.CollapsibleToolboxCategory.registrationName,Un.CollapsibleToolboxCategory);var hm={IAutoHideable:function(){}},dm={IStyleable:function(){}},fm={IToolbox:function(){}},Zl={ToolboxItemSelect:function(o,j,et){mo.UiBase.call(this,et),this.oldItem=o,this.newItem=j,this.type=yt.TOOLBOX_ITEM_SELECT}};_.$jscomp.inherits(Zl.ToolboxItemSelect,mo.UiBase),Zl.ToolboxItemSelect.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.oldItem=this.oldItem,o.newItem=this.newItem,o},Zl.ToolboxItemSelect.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.oldItem=o.oldItem,this.newItem=o.newItem},(0,jt.register)(jt.Type.EVENT,yt.TOOLBOX_ITEM_SELECT,Zl.ToolboxItemSelect);var wo={Toolbox:function(o){ts.DeleteArea.call(this),this.workspace_=o,this.id="toolbox",this.toolboxDef_=o.options.languageTree||{contents:[]},this.horizontalLayout_=o.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=o.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=o.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]}};_.$jscomp.inherits(wo.Toolbox,ts.DeleteArea),wo.Toolbox.prototype.onShortcut=function(o){return!1},wo.Toolbox.prototype.init=function(){var o=this.workspace_,j=o.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),(0,kt.insertAfter)(this.flyout_.createDom("svg"),j),this.setVisible(!0),this.flyout_.init(o),this.render(this.toolboxDef_),o=o.getThemeManager(),o.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),o.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[dn.ComponentManager.Capability.AUTOHIDEABLE,dn.ComponentManager.Capability.DELETE_AREA,dn.ComponentManager.Capability.DRAG_TARGET]})},wo.Toolbox.prototype.createDom_=function(o){o=o.getParentSvg();var j=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,(0,ho.setRole)(this.contentsDiv_,ho.Role.TREE),j.appendChild(this.contentsDiv_),o.parentNode.insertBefore(j,o),this.attachEvents_(j,this.contentsDiv_),j},wo.Toolbox.prototype.createContainer_=function(){var o=document.createElement("div");return o.setAttribute("layout",this.isHorizontal()?"h":"v"),(0,kt.addClass)(o,"blocklyToolboxDiv"),(0,kt.addClass)(o,"blocklyNonSelectable"),o.setAttribute("dir",this.RTL?"RTL":"LTR"),o},wo.Toolbox.prototype.createContentsContainer_=function(){var o=document.createElement("div");return(0,kt.addClass)(o,"blocklyToolboxContents"),this.isHorizontal()&&(o.style.flexDirection="row"),o},wo.Toolbox.prototype.attachEvents_=function(o,j){o=(0,Tt.conditionalBind)(o,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(o),j=(0,Tt.conditionalBind)(j,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(j)},wo.Toolbox.prototype.onClick_=function(o){if((0,Tt.isRightButton)(o)||o.target===this.HtmlDiv)(0,_.module$exports$Blockly$common.getMainWorkspace)().hideChaff(!1);else{var j=o.target.getAttribute("id");j&&(j=this.getToolboxItemById(j),j.isSelectable()&&(this.setSelectedItem(j),j.onClick(o))),(0,_.module$exports$Blockly$common.getMainWorkspace)().hideChaff(!0)}(0,dt.clearTouchIdentifier)()},wo.Toolbox.prototype.onKeyDown_=function(o){var j=!1;switch(o.keyCode){case To.KeyCodes.DOWN:j=this.selectNext_();break;case To.KeyCodes.UP:j=this.selectPrevious_();break;case To.KeyCodes.LEFT:j=this.selectParent_();break;case To.KeyCodes.RIGHT:j=this.selectChild_();break;case To.KeyCodes.ENTER:case To.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),j=!0);break;default:j=!1}!j&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(j=this.selectedItem_.onKeyDown(o)),j&&o.preventDefault()},wo.Toolbox.prototype.createFlyout_=function(){var o=this.workspace_,j=new tr.Options({parentWorkspace:o,rtl:o.RTL,oneBasedIndex:o.options.oneBasedIndex,horizontalLayout:o.horizontalLayout,renderer:o.options.renderer,rendererOverrides:o.options.rendererOverrides,move:{scrollbars:!0}});return j.toolboxPosition=o.options.toolboxPosition,new(o.horizontalLayout?(0,jt.getClassFromOptions)(jt.Type.FLYOUTS_HORIZONTAL_TOOLBOX,o.options,!0):(0,jt.getClassFromOptions)(jt.Type.FLYOUTS_VERTICAL_TOOLBOX,o.options,!0))(j)},wo.Toolbox.prototype.render=function(o){this.toolboxDef_=o;for(var j=0;j<this.contents_.length;j++){var et=this.contents_[j];et&&et.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(o.contents),this.position(),this.handleToolboxItemResize()},wo.Toolbox.prototype.renderContents_=function(o){for(var j=document.createDocumentFragment(),et=0;et<o.length;et++)this.createToolboxItem_(o[et],j);this.contentsDiv_.appendChild(j)},wo.Toolbox.prototype.createToolboxItem_=function(o,j){var et=o.kind;et.toUpperCase()==="CATEGORY"&&(0,bo.isCategoryCollapsible)(o)&&(et=Un.CollapsibleToolboxCategory.registrationName),(et=(0,jt.getClass)(jt.Type.TOOLBOX_ITEM,et.toLowerCase()))&&(o=new et(o,this),o.init(),this.addToolboxItem_(o),(et=o.getDiv())&&j.appendChild(et),o.getClickTarget()&&o.getClickTarget().setAttribute("id",o.getId()))},wo.Toolbox.prototype.addToolboxItem_=function(o){if(this.contents_.push(o),this.contentMap_[o.getId()]=o,o.isCollapsible()){o=o.getChildToolboxItems();for(var j=0;j<o.length;j++)this.addToolboxItem_(o[j])}},wo.Toolbox.prototype.getToolboxItems=function(){return this.contents_},wo.Toolbox.prototype.addStyle=function(o){(0,kt.addClass)(this.HtmlDiv,o)},wo.Toolbox.prototype.removeStyle=function(o){(0,kt.removeClass)(this.HtmlDiv,o)},wo.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var o=this.HtmlDiv.getBoundingClientRect(),j=o.top,et=j+o.height,ot=o.left;return o=ot+o.width,this.toolboxPosition===bo.Position.TOP?new In.Rect(-1e7,et,-1e7,1e7):this.toolboxPosition===bo.Position.BOTTOM?new In.Rect(j,1e7,-1e7,1e7):this.toolboxPosition===bo.Position.LEFT?new In.Rect(-1e7,1e7,-1e7,o):new In.Rect(-1e7,1e7,ot,1e7)},wo.Toolbox.prototype.wouldDelete=function(o,j){return o instanceof po.BlockSvg?this.updateWouldDelete_(!o.getParent()&&o.isDeletable()):this.updateWouldDelete_(o.isDeletable()),this.wouldDelete_},wo.Toolbox.prototype.onDragEnter=function(o){this.updateCursorDeleteStyle_(!0)},wo.Toolbox.prototype.onDragExit=function(o){this.updateCursorDeleteStyle_(!1)},wo.Toolbox.prototype.onDrop=function(o){this.updateCursorDeleteStyle_(!1)},wo.Toolbox.prototype.updateWouldDelete_=function(o){o!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=o,this.updateCursorDeleteStyle_(!0))},wo.Toolbox.prototype.updateCursorDeleteStyle_=function(o){var j=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";o?this.addStyle(j):this.removeStyle(j)},wo.Toolbox.prototype.getToolboxItemById=function(o){return this.contentMap_[o]||null},wo.Toolbox.prototype.getWidth=function(){return this.width_},wo.Toolbox.prototype.getHeight=function(){return this.height_},wo.Toolbox.prototype.getFlyout=function(){return this.flyout_},wo.Toolbox.prototype.getWorkspace=function(){return this.workspace_},wo.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},wo.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},wo.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},wo.Toolbox.prototype.position=function(){var o=this.workspace_.getMetrics(),j=this.HtmlDiv;j&&(this.horizontalLayout_?(j.style.left="0",j.style.height="auto",j.style.width="100%",this.height_=j.offsetHeight,this.width_=o.viewWidth,this.toolboxPosition===bo.Position.TOP?j.style.top="0":j.style.bottom="0"):(this.toolboxPosition===bo.Position.RIGHT?j.style.right="0":j.style.left="0",j.style.height="100%",this.width_=j.offsetWidth,this.height_=o.viewHeight),this.flyout_.position())},wo.Toolbox.prototype.handleToolboxItemResize=function(){var o=this.workspace_,j=this.HtmlDiv.getBoundingClientRect();o.translate(this.toolboxPosition===bo.Position.LEFT?o.scrollX+j.width:o.scrollX,this.toolboxPosition===bo.Position.TOP?o.scrollY+j.height:o.scrollY),(0,_.module$exports$Blockly$common.svgResize)(o)},wo.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},wo.Toolbox.prototype.refreshTheme=function(){for(var o=0;o<this.contents_.length;o++){var j=this.contents_[o];j.refreshTheme&&j.refreshTheme()}},wo.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},wo.Toolbox.prototype.setVisible=function(o){this.isVisible_!==o&&(this.HtmlDiv.style.display=o?"block":"none",this.isVisible_=o,this.workspace_.recordDragTargets())},wo.Toolbox.prototype.autoHide=function(o){!o&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},wo.Toolbox.prototype.setSelectedItem=function(o){var j=this.selectedItem_;!o&&!j||o&&!o.isSelectable()||(this.shouldDeselectItem_(j,o)&&j!==null&&this.deselectItem_(j),this.shouldSelectItem_(j,o)&&o!==null&&this.selectItem_(j,o),this.updateFlyout_(j,o),this.fireSelectEvent_(j,o))},wo.Toolbox.prototype.shouldDeselectItem_=function(o,j){return o!==null&&(!o.isCollapsible()||o!==j)},wo.Toolbox.prototype.shouldSelectItem_=function(o,j){return j!==null&&j!==o},wo.Toolbox.prototype.deselectItem_=function(o){this.selectedItem_=null,this.previouslySelectedItem_=o,o.setSelected(!1),(0,ho.setState)(this.contentsDiv_,ho.State.ACTIVEDESCENDANT,"")},wo.Toolbox.prototype.selectItem_=function(o,j){this.selectedItem_=j,this.previouslySelectedItem_=o,j.setSelected(!0),(0,ho.setState)(this.contentsDiv_,ho.State.ACTIVEDESCENDANT,j.getId())},wo.Toolbox.prototype.selectItemByPosition=function(o){-1<o&&o<this.contents_.length&&(o=this.contents_[o],o.isSelectable()&&this.setSelectedItem(o))},wo.Toolbox.prototype.updateFlyout_=function(o,j){j&&(o!==j||j.isCollapsible())&&j.getContents().length?(this.flyout_.show(j.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},wo.Toolbox.prototype.fireSelectEvent_=function(o,j){var et=o&&o.getName(),ot=j&&j.getName();o===j&&(ot=null),o=new((0,yt.get)(yt.TOOLBOX_ITEM_SELECT))(et,ot,this.workspace_.id),(0,yt.fire)(o)},wo.Toolbox.prototype.selectParent_=function(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1},wo.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var o=this.selectedItem_;return o.isExpanded()?this.selectNext_():o.setExpanded(!0),!0},wo.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var o=this.contents_.indexOf(this.selectedItem_)+1;if(-1<o&&o<this.contents_.length){for(var j=this.contents_[o];j&&!j.isSelectable();)j=this.contents_[++o];if(j&&j.isSelectable())return this.setSelectedItem(j),!0}return!1},wo.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var o=this.contents_.indexOf(this.selectedItem_)-1;if(-1<o&&o<this.contents_.length){for(var j=this.contents_[o];j&&!j.isSelectable();)j=this.contents_[--o];if(j&&j.isSelectable())return this.setSelectedItem(j),!0}return!1},wo.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var o=0;o<this.contents_.length;o++)this.contents_[o].dispose();for(o=0;o<this.boundEvents_.length;o++)(0,Tt.unbind)(this.boundEvents_[o]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),(0,kt.removeNode)(this.HtmlDiv)},(0,nt.register)(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),(0,jt.register)(jt.Type.TOOLBOX,jt.DEFAULT,wo.Toolbox);var kr={HorizontalFlyout:function(o){Go.Flyout.call(this,o),this.horizontalLayout=!0}};_.$jscomp.inherits(kr.HorizontalFlyout,Go.Flyout),kr.HorizontalFlyout.prototype.setMetrics_=function(o){if(this.isVisible()){var j=this.workspace_.getMetricsManager(),et=j.getScrollMetrics(),ot=j.getViewMetrics();j=j.getAbsoluteMetrics(),typeof o.x=="number"&&(this.workspace_.scrollX=-(et.left+(et.width-ot.width)*o.x)),this.workspace_.translate(this.workspace_.scrollX+j.left,this.workspace_.scrollY+j.top)}},kr.HorizontalFlyout.prototype.getX=function(){return 0},kr.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var o=this.targetWorkspace.getMetricsManager(),j=o.getAbsoluteMetrics(),et=o.getViewMetrics();o=o.getToolboxMetrics();var ot=this.toolboxPosition_===bo.Position.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?ot?o.height:et.height-this.height_:ot?0:et.height:ot?0:et.height+j.top-this.height_},kr.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var o=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=o.width,this.setBackgroundPath_(o.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),o=this.getX();var j=this.getY();this.positionAt_(this.width_,this.height_,o,j)}},kr.HorizontalFlyout.prototype.setBackgroundPath_=function(o,j){var et=this.toolboxPosition_===bo.Position.TOP,ot=["M 0,"+(et?0:this.CORNER_RADIUS)];et?(ot.push("h",o+2*this.CORNER_RADIUS),ot.push("v",j),ot.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),ot.push("h",-o),ot.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(ot.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),ot.push("h",o),ot.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),ot.push("v",j),ot.push("h",-o-2*this.CORNER_RADIUS)),ot.push("z"),this.svgBackground_.setAttribute("d",ot.join(" "))},kr.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},kr.HorizontalFlyout.prototype.wheel_=function(o){var j=(0,Tt.getScrollDeltaPixels)(o);if(j=j.x||j.y){var et=this.workspace_.getMetricsManager(),ot=et.getScrollMetrics();j=et.getViewMetrics().left-ot.left+j,this.workspace_.scrollbar.setX(j),(0,Ot.hide)(),(0,Co.hideWithoutAnimation)()}o.preventDefault(),o.stopPropagation()},kr.HorizontalFlyout.prototype.layout_=function(o,j){this.workspace_.scale=this.targetWorkspace.scale;var et=this.MARGIN,ot=et+this.tabWidth_;this.RTL&&(o=o.reverse());for(var rt=0,ct;ct=o[rt];rt++)if(ct.type==="block"){ct=ct.block;for(var Et=ct.getDescendants(!1),wt=0,Lt;Lt=Et[wt];wt++)Lt.isInFlyout=!0;ct.render(),Et=ct.getSvgRoot(),wt=ct.getHeightWidth(),Lt=ct.outputConnection?this.tabWidth_:0,Lt=this.RTL?ot+wt.width:ot-Lt,ct.moveBy(Lt,et),Lt=this.createRect_(ct,Lt,et,wt,rt),ot+=wt.width+j[rt],this.addBlockListeners_(Et,ct,Lt)}else ct.type==="button"&&(this.initFlyoutButton_(ct.button,ot,et),ot+=ct.button.width+j[rt])},kr.HorizontalFlyout.prototype.isDragTowardWorkspace=function(o){o=Math.atan2(o.y,o.x)/Math.PI*180;var j=this.dragAngleRange_;return o<90+j&&o>90-j||o>-90-j&&o<-90+j},kr.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var o=this.svgGroup_.getBoundingClientRect(),j=o.top;return this.toolboxPosition_===bo.Position.TOP?new In.Rect(-1e9,j+o.height,-1e9,1e9):new In.Rect(j,1e9,-1e9,1e9)},kr.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var o=0,j=this.workspace_.getTopBlocks(!1),et=0,ot;ot=j[et];et++)o=Math.max(o,ot.getHeightWidth().height);et=this.buttons_,ot=0;for(var rt;rt=et[ot];ot++)o=Math.max(o,rt.height);if(o+=1.5*this.MARGIN,o*=this.workspace_.scale,o+=$o.Scrollbar.scrollbarThickness,this.height_!==o){for(et=0;ot=j[et];et++)this.rectMap_.has(ot)&&this.moveRectToBlock_(this.rectMap_.get(ot),ot);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==bo.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+o),this.height_=o,this.position(),this.targetWorkspace.recordDragTargets()}},(0,jt.register)(jt.Type.FLYOUTS_HORIZONTAL_TOOLBOX,jt.DEFAULT,kr.HorizontalFlyout),_.module$exports$Blockly$Generator={Generator:function(o){this.name_=o,this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g"),this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.nameDB_=this.functionNames_=this.definitions_=void 0}},_.module$exports$Blockly$Generator.Generator.prototype.workspaceToCode=function(o){o||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),o=(0,_.module$exports$Blockly$common.getMainWorkspace)());var j=[];this.init(o),o=o.getTopBlocks(!0);for(var et=0,ot;ot=o[et];et++){var rt=this.blockToCode(ot);Array.isArray(rt)&&(rt=rt[0]),rt&&(ot.outputConnection&&(rt=this.scrubNakedValue(rt),this.STATEMENT_PREFIX&&!ot.suppressPrefixSuffix&&(rt=this.injectId(this.STATEMENT_PREFIX,ot)+rt),this.STATEMENT_SUFFIX&&!ot.suppressPrefixSuffix&&(rt+=this.injectId(this.STATEMENT_SUFFIX,ot))),j.push(rt))}return j=j.join(`
`),j=this.finish(j),j=j.replace(/^\s+\n/,""),j=j.replace(/\n\s+$/,`
`),j=j.replace(/[ \t]+\n/g,`
`)},_.module$exports$Blockly$Generator.Generator.prototype.prefixLines=function(o,j){return j+o.replace(/(?!\n$)\n/g,`
`+j)},_.module$exports$Blockly$Generator.Generator.prototype.allNestedComments=function(o){var j=[];o=o.getDescendants(!0);for(var et=0;et<o.length;et++){var ot=o[et].getCommentText();ot&&j.push(ot)}return j.length&&j.push(""),j.join(`
`)},_.module$exports$Blockly$Generator.Generator.prototype.blockToCode=function(o,j){if(this.isInitialized===!1&&console.warn("Generator init was not called before blockToCode was called."),!o)return"";if(!o.isEnabled())return j?"":this.blockToCode(o.getNextBlock());if(o.isInsertionMarker())return j?"":this.blockToCode(o.getChildren(!1)[0]);var et=this[o.type];if(typeof et!="function")throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+o.type+'".');if(et=et.call(o,o),Array.isArray(et)){if(!o.outputConnection)throw TypeError("Expecting string from statement block: "+o.type);return[this.scrub_(o,et[0],j),et[1]]}if(typeof et=="string")return this.STATEMENT_PREFIX&&!o.suppressPrefixSuffix&&(et=this.injectId(this.STATEMENT_PREFIX,o)+et),this.STATEMENT_SUFFIX&&!o.suppressPrefixSuffix&&(et+=this.injectId(this.STATEMENT_SUFFIX,o)),this.scrub_(o,et,j);if(et===null)return"";throw SyntaxError("Invalid code generated: "+et)},_.module$exports$Blockly$Generator.Generator.prototype.valueToCode=function(o,j,et){if(isNaN(et))throw TypeError("Expecting valid order from block: "+o.type);var ot=o.getInputTargetBlock(j);if(!ot||(j=this.blockToCode(ot),j===""))return"";if(!Array.isArray(j))throw TypeError("Expecting tuple from value block: "+ot.type);if(o=j[0],j=j[1],isNaN(j))throw TypeError("Expecting valid order from value block: "+ot.type);if(!o)return"";ot=!1;var rt=Math.floor(et),ct=Math.floor(j);if(rt<=ct&&(rt!==ct||rt!==0&&rt!==99)){for(ot=!0,rt=0;rt<this.ORDER_OVERRIDES.length;rt++)if(this.ORDER_OVERRIDES[rt][0]===et&&this.ORDER_OVERRIDES[rt][1]===j){ot=!1;break}}return ot&&(o="("+o+")"),o},_.module$exports$Blockly$Generator.Generator.prototype.statementToCode=function(o,j){if(o=o.getInputTargetBlock(j),j=this.blockToCode(o),typeof j!="string")throw TypeError("Expecting code from statement block: "+(o&&o.type));return j&&(j=this.prefixLines(j,this.INDENT)),j},_.module$exports$Blockly$Generator.Generator.prototype.addLoopTrap=function(o,j){return this.INFINITE_LOOP_TRAP&&(o=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,j),this.INDENT)+o),this.STATEMENT_SUFFIX&&!j.suppressPrefixSuffix&&(o=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,j),this.INDENT)+o),this.STATEMENT_PREFIX&&!j.suppressPrefixSuffix&&(o+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,j),this.INDENT)),o},_.module$exports$Blockly$Generator.Generator.prototype.injectId=function(o,j){return j=j.id.replace(/\$/g,"$$$$"),o.replace(/%1/g,"'"+j+"'")},_.module$exports$Blockly$Generator.Generator.prototype.addReservedWords=function(o){this.RESERVED_WORDS_+=o+","},_.module$exports$Blockly$Generator.Generator.prototype.provideFunction_=function(o,j){if(!this.definitions_[o]){var et=this.nameDB_.getDistinctName(o,_.module$exports$Blockly$Names.NameType.PROCEDURE);this.functionNames_[o]=et,Array.isArray(j)&&(j=j.join(`
`)),j=j.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,et);for(var ot;ot!==j;)ot=j,j=j.replace(/^(( {2})*) {2}/gm,"$1\0");j=j.replace(/\0/g,this.INDENT),this.definitions_[o]=j}return this.functionNames_[o]},_.module$exports$Blockly$Generator.Generator.prototype.init=function(o){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},_.module$exports$Blockly$Generator.Generator.prototype.scrub_=function(o,j,et){return j},_.module$exports$Blockly$Generator.Generator.prototype.finish=function(o){return delete this.definitions_,delete this.functionNames_,o},_.module$exports$Blockly$Generator.Generator.prototype.scrubNakedValue=function(o){return o},Object.defineProperties(_.module$exports$Blockly$Generator.Generator.prototype,{variableDB_:{get:function(){return(0,tt.warn)("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(o){(0,tt.warn)("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=o}}});var $n={FieldVariable:function(o,j,et,ot,rt){_.module$exports$Blockly$FieldDropdown.FieldDropdown.call(this,ro.Field.SKIP_SETUP),this.menuGenerator_=$n.FieldVariable.dropdownCreate,this.defaultVariableName=typeof o=="string"?o:"",this.defaultType_="",this.variableTypes=[],this.size_=new Ln.Size(0,0),this.variable_=null,this.SERIALIZABLE=!0,o!==ro.Field.SKIP_SETUP&&(rt?this.configure_(rt):this.setTypes_(et,ot),j&&this.setValidator(j))}};_.$jscomp.inherits($n.FieldVariable,_.module$exports$Blockly$FieldDropdown.FieldDropdown),$n.FieldVariable.prototype.configure_=function(o){_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.configure_.call(this,o),this.setTypes_(o.variableTypes,o.defaultType)},$n.FieldVariable.prototype.initModel=function(){if(!this.variable_){var o=(0,_.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(o.getId())}},$n.FieldVariable.prototype.shouldAddBorderRect_=function(){return _.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.sourceBlock_.type!=="variables_get")},$n.FieldVariable.prototype.fromXml=function(o){var j=o.getAttribute("id"),et=o.textContent,ot=o.getAttribute("variabletype")||o.getAttribute("variableType")||"";if(j=(0,_.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,j,et,ot),ot!==null&&ot!==j.type)throw Error("Serialized variable type with id '"+j.getId()+"' had type "+j.type+", and does not match variable field that references it: "+(0,_.module$exports$Blockly$Xml.domToText)(o)+".");this.setValue(j.getId())},$n.FieldVariable.prototype.toXml=function(o){return this.initModel(),o.id=this.variable_.getId(),o.textContent=this.variable_.name,this.variable_.type&&o.setAttribute("variabletype",this.variable_.type),o},$n.FieldVariable.prototype.saveState=function(o){var j=this.saveLegacyState($n.FieldVariable);return j!==null||(this.initModel(),j={id:this.variable_.getId()},o&&(j.name=this.variable_.name,j.type=this.variable_.type)),j},$n.FieldVariable.prototype.loadState=function(o){this.loadLegacyState($n.FieldVariable,o)||(o=(0,_.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.sourceBlock_.workspace,o.id||null,o.name,o.type||""),this.setValue(o.getId()))},$n.FieldVariable.prototype.setSourceBlock=function(o){if(o.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.setSourceBlock.call(this,o)},$n.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},$n.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},$n.FieldVariable.prototype.getVariable=function(){return this.variable_},$n.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},$n.FieldVariable.prototype.doClassValidation_=function(o){if(o===null)return null;var j=(0,_.module$exports$Blockly$Variables.getVariable)(this.sourceBlock_.workspace,o);return j?(j=j.type,this.typeIsAllowed_(j)?o:(console.warn("Variable type doesn't match this field!  Type was "+j),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+o),null)},$n.FieldVariable.prototype.doValueUpdate_=function(o){this.variable_=(0,_.module$exports$Blockly$Variables.getVariable)(this.sourceBlock_.workspace,o),_.module$exports$Blockly$FieldDropdown.FieldDropdown.prototype.doValueUpdate_.call(this,o)},$n.FieldVariable.prototype.typeIsAllowed_=function(o){var j=this.getVariableTypes_();if(!j)return!0;for(var et=0;et<j.length;et++)if(o===j[et])return!0;return!1},$n.FieldVariable.prototype.getVariableTypes_=function(){var o=this.variableTypes;if(o===null&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(o=o||[""],o.length===0)throw o=this.getText(),Error("'variableTypes' of field variable "+o+" was an empty list");return o},$n.FieldVariable.prototype.setTypes_=function(o,j){if(j=j||"",o==null)o=null;else if(Array.isArray(o)){for(var et=!1,ot=0;ot<o.length;ot++)o[ot]===j&&(et=!0);if(!et)throw Error("Invalid default type '"+j+"' in the definition of a FieldVariable")}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType_=j,this.variableTypes=o},$n.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},$n.FieldVariable.prototype.onItemSelected_=function(o,j){if(o=j.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(o===Wn.RENAME_VARIABLE_ID){(0,_.module$exports$Blockly$Variables.renameVariable)(this.sourceBlock_.workspace,this.variable_);return}if(o===Wn.DELETE_VARIABLE_ID){this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId());return}}this.setValue(o)},$n.FieldVariable.prototype.referencesVariables=function(){return!0},$n.FieldVariable.fromJson=function(o){return new this((0,nn.replaceMessageReferences)(o.variable),void 0,void 0,void 0,o)},$n.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var o=this.getText(),j=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var et=this.getVariableTypes_(),ot=0;ot<et.length;ot++){var rt=this.sourceBlock_.workspace.getVariablesOfType(et[ot]);j=j.concat(rt)}for(j.sort(As.VariableModel.compareByName),et=[],ot=0;ot<j.length;ot++)et[ot]=[j[ot].name,j[ot].getId()];return et.push([_.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,Wn.RENAME_VARIABLE_ID]),_.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE&&et.push([_.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",o),Wn.DELETE_VARIABLE_ID]),et},(0,vr.register)("field_variable",$n.FieldVariable),_.module$exports$Blockly$FieldTextInput={FieldTextInput:function(o,j,et){ro.Field.call(this,ro.Field.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",o!==ro.Field.SKIP_SETUP&&(et&&this.configure_(et),this.setValue(o),j&&this.setValidator(j))}},_.$jscomp.inherits(_.module$exports$Blockly$FieldTextInput.FieldTextInput,ro.Field),_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_=function(o){ro.Field.prototype.configure_.call(this,o),typeof o.spellcheck=="boolean"&&(this.spellcheck_=o.spellcheck)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var o=0,j=0,et=0,ot;ot=this.sourceBlock_.inputList[et];et++){for(var rt=0;ot.fieldRow[rt];rt++)o++;ot.connection&&j++}this.fullBlockClickTarget_=1>=o&&this.sourceBlock_.outputConnection&&!j}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doClassValidation_=function(o){return o==null?null:String(o)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueInvalid_=function(o){this.isBeingEdited_&&(this.isTextValid_=!1,o=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&(0,yt.isEnabled)()&&(0,yt.fire)(new((0,yt.get)(yt.CHANGE))(this.sourceBlock_,"field",this.name||null,o,this.value_)))},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueUpdate_=function(o){this.isTextValid_=!0,this.value_=o,this.isBeingEdited_||(this.isDirty_=!0)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.render_=function(){if(ro.Field.prototype.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var o=this.htmlInput_;this.isTextValid_?((0,kt.removeClass)(o,"blocklyInvalidInput"),(0,ho.setState)(o,ho.State.INVALID,!1)):((0,kt.addClass)(o,"blocklyInvalidInput"),(0,ho.setState)(o,ho.State.INVALID,!0))}},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.setSpellcheck=function(o){o!==this.spellcheck_&&(this.spellcheck_=o,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showEditor_=function(o,j){this.workspace_=this.sourceBlock_.workspace,o=j||!1,!o&&($t.MOBILE||$t.ANDROID||$t.IPAD)?this.showPromptEditor_():this.showInlineEditor_(o)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showPromptEditor_=function(){(0,Vn.prompt)(_.module$exports$Blockly$Msg.Msg.CHANGE_VALUE_TITLE,this.getText(),function(o){o!==null&&this.setValue(this.getValueFromEditorText_(o))}.bind(this))},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showInlineEditor_=function(o){(0,Ot.show)(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,o||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetCreate_=function(){(0,yt.setGroup)(!0);var o=(0,Ot.getDiv)();(0,kt.addClass)(this.getClickTarget_(),"editing");var j=document.createElement("input");j.className="blocklyHtmlInput",j.setAttribute("spellcheck",this.spellcheck_);var et=this.workspace_.getScale(),ot=this.getConstants().FIELD_TEXT_FONTSIZE*et+"pt";if(o.style.fontSize=ot,j.style.fontSize=ot,ot=_.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS*et+"px",this.fullBlockClickTarget_){ot=this.getScaledBBox(),ot=(ot.bottom-ot.top)/2+"px";var rt=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;j.style.border=1*et+"px solid "+rt,o.style.borderRadius=ot,o.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(o.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*et+"px")}return j.style.borderRadius=ot,o.appendChild(j),j.value=j.defaultValue=this.getEditorText_(this.value_),j.untypedDefaultValue_=this.value_,j.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(j),j},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),(0,yt.setGroup)(!1),this.unbindInputEvents_();var o=(0,Ot.getDiv)().style;o.width="auto",o.height="auto",o.fontSize="",o.transition="",o.boxShadow="",this.htmlInput_=null,(0,kt.removeClass)(this.getClickTarget_(),"editing")},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onFinishEditing_=function(o){},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.bindInputEvents_=function(o){this.onKeyDownWrapper_=(0,Tt.conditionalBind)(o,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=(0,Tt.conditionalBind)(o,"input",this,this.onHtmlInputChange_)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&((0,Tt.unbind)(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&((0,Tt.unbind)(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputKeyDown_=function(o){o.keyCode===To.KeyCodes.ENTER?((0,Ot.hide)(),(0,Co.hideWithoutAnimation)()):o.keyCode===To.KeyCodes.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),(0,Ot.hide)(),(0,Co.hideWithoutAnimation)()):o.keyCode===To.KeyCodes.TAB&&((0,Ot.hide)(),(0,Co.hideWithoutAnimation)(),this.sourceBlock_.tab(this,!o.shiftKey),o.preventDefault())},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputChange_=function(o){o=this.htmlInput_.value,o!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=o,o=this.getValueFromEditorText_(o),this.setValue(o),this.forceRerender(),this.resizeEditor_())},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.setEditorValue_=function(o){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(o)),this.setValue(o)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.resizeEditor_=function(){var o=(0,Ot.getDiv)(),j=this.getScaledBBox();o.style.width=j.right-j.left+"px",o.style.height=j.bottom-j.top+"px",j=new go.Coordinate(this.sourceBlock_.RTL?j.right-o.offsetWidth:j.left,j.top),o.style.left=j.x+"px",o.style.top=j.y+"px"},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.isTabNavigable=function(){return!0},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getEditorText_=function(o){return String(o)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.getValueFromEditorText_=function(o){return o},_.module$exports$Blockly$FieldTextInput.FieldTextInput.fromJson=function(o){return new this((0,nn.replaceMessageReferences)(o.text),void 0,o)},_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.DEFAULT_VALUE="",_.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS=4,(0,vr.register)("field_input",_.module$exports$Blockly$FieldTextInput.FieldTextInput);var rr={FieldNumber:function(o,j,et,ot,rt,ct){_.module$exports$Blockly$FieldTextInput.FieldTextInput.call(this,ro.Field.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,this.SERIALIZABLE=!0,o!==ro.Field.SKIP_SETUP&&(ct?this.configure_(ct):this.setConstraints(j,et,ot),this.setValue(o),rt&&this.setValidator(rt))}};_.$jscomp.inherits(rr.FieldNumber,_.module$exports$Blockly$FieldTextInput.FieldTextInput),rr.FieldNumber.prototype.configure_=function(o){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_.call(this,o),this.setMinInternal_(o.min),this.setMaxInternal_(o.max),this.setPrecisionInternal_(o.precision)},rr.FieldNumber.prototype.setConstraints=function(o,j,et){this.setMinInternal_(o),this.setMaxInternal_(j),this.setPrecisionInternal_(et),this.setValue(this.getValue())},rr.FieldNumber.prototype.setMin=function(o){this.setMinInternal_(o),this.setValue(this.getValue())},rr.FieldNumber.prototype.setMinInternal_=function(o){o==null?this.min_=-1/0:(o=Number(o),isNaN(o)||(this.min_=o))},rr.FieldNumber.prototype.getMin=function(){return this.min_},rr.FieldNumber.prototype.setMax=function(o){this.setMaxInternal_(o),this.setValue(this.getValue())},rr.FieldNumber.prototype.setMaxInternal_=function(o){o==null?this.max_=1/0:(o=Number(o),isNaN(o)||(this.max_=o))},rr.FieldNumber.prototype.getMax=function(){return this.max_},rr.FieldNumber.prototype.setPrecision=function(o){this.setPrecisionInternal_(o),this.setValue(this.getValue())},rr.FieldNumber.prototype.setPrecisionInternal_=function(o){this.precision_=Number(o)||0;var j=String(this.precision_);j.indexOf("e")!==-1&&(j=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var et=j.indexOf(".");this.decimalPlaces_=et===-1?o?0:null:j.length-et-1},rr.FieldNumber.prototype.getPrecision=function(){return this.precision_},rr.FieldNumber.prototype.doClassValidation_=function(o){return o===null||(o=String(o),o=o.replace(/O/ig,"0"),o=o.replace(/,/g,""),o=o.replace(/infinity/i,"Infinity"),o=Number(o||0),isNaN(o))?null:(o=Math.min(Math.max(o,this.min_),this.max_),this.precision_&&isFinite(o)&&(o=Math.round(o/this.precision_)*this.precision_),this.decimalPlaces_!==null&&(o=Number(o.toFixed(this.decimalPlaces_))),o)},rr.FieldNumber.prototype.widgetCreate_=function(){var o=_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.widgetCreate_.call(this);return-1/0<this.min_&&(0,ho.setState)(o,ho.State.VALUEMIN,this.min_),1/0>this.max_&&(0,ho.setState)(o,ho.State.VALUEMAX,this.max_),o},rr.FieldNumber.fromJson=function(o){return new this(o.value,void 0,void 0,void 0,void 0,o)},rr.FieldNumber.prototype.DEFAULT_VALUE=0,(0,vr.register)("field_number",rr.FieldNumber);var zn={FieldMultilineInput:function(o,j,et){_.module$exports$Blockly$FieldTextInput.FieldTextInput.call(this,ro.Field.SKIP_SETUP),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1,o!==ro.Field.SKIP_SETUP&&(et&&this.configure_(et),this.setValue(o),j&&this.setValidator(j))}};_.$jscomp.inherits(zn.FieldMultilineInput,_.module$exports$Blockly$FieldTextInput.FieldTextInput),zn.FieldMultilineInput.prototype.configure_=function(o){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_.call(this,o),o.maxLines&&this.setMaxLines(o.maxLines)},zn.FieldMultilineInput.prototype.toXml=function(o){return o.textContent=this.getValue().replace(/\n/g,"&#10;"),o},zn.FieldMultilineInput.prototype.fromXml=function(o){this.setValue(o.textContent.replace(/&#10;/g,`
`))},zn.FieldMultilineInput.prototype.saveState=function(){var o=this.saveLegacyState(zn.FieldMultilineInput);return o!==null?o:this.getValue()},zn.FieldMultilineInput.prototype.loadState=function(o){this.loadLegacyState(ro.Field,o)||this.setValue(o)},zn.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},zn.FieldMultilineInput.prototype.getDisplayText_=function(){var o=this.getText();if(!o)return ro.Field.NBSP;var j=o.split(`
`);o="";for(var et=this.isOverflowedY_?this.maxLines_:j.length,ot=0;ot<et;ot++){var rt=j[ot];rt.length>this.maxDisplayLength?rt=rt.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&ot===et-1&&(rt=rt.substring(0,rt.length-3)+"..."),rt=rt.replace(/\s/g,ro.Field.NBSP),o+=rt,ot!==et-1&&(o+=`
`)}return this.sourceBlock_.RTL&&(o+="\u200F"),o},zn.FieldMultilineInput.prototype.doValueUpdate_=function(o){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.doValueUpdate_.call(this,o),this.isOverflowedY_=this.value_.split(`
`).length>this.maxLines_},zn.FieldMultilineInput.prototype.render_=function(){for(var o;o=this.textGroup_.firstChild;)this.textGroup_.removeChild(o);o=this.getDisplayText_().split(`
`);for(var j=0,et=0;et<o.length;et++){var ot=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;(0,kt.createSvgElement)(Nt.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:j+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(o[et])),j+=ot}this.isBeingEdited_&&(o=this.htmlInput_,this.isOverflowedY_?(0,kt.addClass)(o,"blocklyHtmlTextAreaInputOverflowedY"):(0,kt.removeClass)(o,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),o=this.htmlInput_,this.isTextValid_?((0,kt.removeClass)(o,"blocklyInvalidInput"),(0,ho.setState)(o,ho.State.INVALID,!1)):((0,kt.addClass)(o,"blocklyInvalidInput"),(0,ho.setState)(o,ho.State.INVALID,!0)))},zn.FieldMultilineInput.prototype.updateSize_=function(){for(var o=this.textGroup_.childNodes,j=0,et=0,ot=0;ot<o.length;ot++){var rt=(0,kt.getTextWidth)(o[ot]);rt>j&&(j=rt),et+=this.getConstants().FIELD_TEXT_HEIGHT+(0<ot?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){o=this.value_.split(`
`),ot=(0,kt.createSvgElement)(Nt.Svg.TEXT,{class:"blocklyText blocklyMultilineText"}),rt=this.getConstants().FIELD_TEXT_FONTSIZE;for(var ct=this.getConstants().FIELD_TEXT_FONTWEIGHT,Et=this.getConstants().FIELD_TEXT_FONTFAMILY,wt=0;wt<o.length;wt++){o[wt].length>this.maxDisplayLength&&(o[wt]=o[wt].substring(0,this.maxDisplayLength)),ot.textContent=o[wt];var Lt=(0,kt.getFastTextWidth)(ot,rt,ct,Et);Lt>j&&(j=Lt)}j+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(et+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,j+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",j),this.borderRect_.setAttribute("height",et)),this.size_.width=j,this.size_.height=et,this.positionBorderRect_()},zn.FieldMultilineInput.prototype.showEditor_=function(o,j){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showEditor_.call(this,o,j),this.forceRerender()},zn.FieldMultilineInput.prototype.widgetCreate_=function(){var o=(0,Ot.getDiv)(),j=this.workspace_.getScale(),et=document.createElement("textarea");et.className="blocklyHtmlInput blocklyHtmlTextAreaInput",et.setAttribute("spellcheck",this.spellcheck_);var ot=this.getConstants().FIELD_TEXT_FONTSIZE*j+"pt";o.style.fontSize=ot,et.style.fontSize=ot,et.style.borderRadius=_.module$exports$Blockly$FieldTextInput.FieldTextInput.BORDERRADIUS*j+"px",ot=this.getConstants().FIELD_BORDER_RECT_X_PADDING*j;var rt=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*j/2;return et.style.padding=rt+"px "+ot+"px "+rt+"px "+ot+"px",ot=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,et.style.lineHeight=ot*j+"px",o.appendChild(et),et.value=et.defaultValue=this.getEditorText_(this.value_),et.untypedDefaultValue_=this.value_,et.oldValue_=null,$t.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(et),et},zn.FieldMultilineInput.prototype.setMaxLines=function(o){typeof o=="number"&&0<o&&o!==this.maxLines_&&(this.maxLines_=o,this.forceRerender())},zn.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},zn.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(o){o.keyCode!==To.KeyCodes.ENTER&&_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputKeyDown_.call(this,o)},zn.FieldMultilineInput.fromJson=function(o){return new this((0,nn.replaceMessageReferences)(o.text),void 0,o)},(0,nt.register)(`
.blocklyHtmlTextAreaInput {
  font-family: monospace;
  resize: none;
  overflow: hidden;
  height: 100%;
  text-align: left;
}

.blocklyHtmlTextAreaInputOverflowedY {
  overflow-y: scroll;
}
`),(0,vr.register)("field_multilinetext",zn.FieldMultilineInput);var vu={FieldLabelSerializable:function(o,j,et){_.module$exports$Blockly$FieldLabel.FieldLabel.call(this,String(o!=null?o:""),j,et),this.EDITABLE=!1,this.SERIALIZABLE=!0}};_.$jscomp.inherits(vu.FieldLabelSerializable,_.module$exports$Blockly$FieldLabel.FieldLabel),vu.FieldLabelSerializable.fromJson=function(o){return new this((0,nn.replaceMessageReferences)(o.text),void 0,o)},(0,vr.register)("field_label_serializable",vu.FieldLabelSerializable);var fn={FieldColour:function(o,j,et){ro.Field.call(this,ro.Field.SKIP_SETUP),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles_=this.colours_=null,this.columns_=0,o!==ro.Field.SKIP_SETUP&&(et&&this.configure_(et),this.setValue(o),j&&this.setValidator(j))}};_.$jscomp.inherits(fn.FieldColour,ro.Field),fn.FieldColour.prototype.configure_=function(o){ro.Field.prototype.configure_.call(this,o),o.colourOptions&&(this.colours_=o.colourOptions,this.titles_=o.colourTitles),o.columns&&(this.columns_=o.columns)},fn.FieldColour.prototype.initView=function(){this.size_=new Ln.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},fn.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},fn.FieldColour.prototype.doClassValidation_=function(o){return typeof o!="string"?null:(0,un.parse)(o)},fn.FieldColour.prototype.doValueUpdate_=function(o){this.value_=o,this.borderRect_?this.borderRect_.style.fill=o:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",o),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},fn.FieldColour.prototype.getText=function(){var o=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(o)&&(o="#"+o[1]+o[3]+o[5]),o},fn.FieldColour.prototype.setColours=function(o,j){return this.colours_=o,j&&(this.titles_=j),this},fn.FieldColour.prototype.setColumns=function(o){return this.columns_=o,this},fn.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),(0,Co.getContentDiv)().appendChild(this.picker_),(0,Co.showPositionedByField)(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},fn.FieldColour.prototype.onClick_=function(o){o=(o=o.target)&&o.label,o!==null&&(this.setValue(o),(0,Co.hideIfOwner)(this))},fn.FieldColour.prototype.onKeyDown_=function(o){var j=!1;o.keyCode===To.KeyCodes.UP?(this.moveHighlightBy_(0,-1),j=!0):o.keyCode===To.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),j=!0):o.keyCode===To.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),j=!0):o.keyCode===To.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),j=!0):o.keyCode===To.KeyCodes.ENTER&&((j=this.getHighlighted_())&&(j=j&&j.label,j!==null&&this.setValue(j)),(0,Co.hideWithoutAnimation)(),j=!0),j&&o.stopPropagation()},fn.FieldColour.prototype.moveHighlightBy_=function(o,j){var et=this.colours_||fn.FieldColour.COLOURS,ot=this.columns_||fn.FieldColour.COLUMNS,rt=this.highlightedIndex_%ot,ct=Math.floor(this.highlightedIndex_/ot);rt+=o,ct+=j,0>o?0>rt&&0<ct?(rt=ot-1,ct--):0>rt&&(rt=0):0<o?rt>ot-1&&ct<Math.floor(et.length/ot)-1?(rt=0,ct++):rt>ot-1&&rt--:0>j?0>ct&&(ct=0):0<j&&ct>Math.floor(et.length/ot)-1&&(ct=Math.floor(et.length/ot)-1),this.setHighlightedCell_(this.picker_.childNodes[ct].childNodes[rt],ct*ot+rt)},fn.FieldColour.prototype.onMouseMove_=function(o){var j=(o=o.target)&&Number(o.getAttribute("data-index"));j!==null&&j!==this.highlightedIndex_&&this.setHighlightedCell_(o,j)},fn.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},fn.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var o=this.getHighlighted_();o&&(0,kt.removeClass)(o,"blocklyColourHighlighted")},fn.FieldColour.prototype.getHighlighted_=function(){var o=this.columns_||fn.FieldColour.COLUMNS,j=this.picker_.childNodes[Math.floor(this.highlightedIndex_/o)];return j?j.childNodes[this.highlightedIndex_%o]:null},fn.FieldColour.prototype.setHighlightedCell_=function(o,j){var et=this.getHighlighted_();et&&(0,kt.removeClass)(et,"blocklyColourHighlighted"),(0,kt.addClass)(o,"blocklyColourHighlighted"),this.highlightedIndex_=j,(0,ho.setState)(this.picker_,ho.State.ACTIVEDESCENDANT,o.getAttribute("id"))},fn.FieldColour.prototype.dropdownCreate_=function(){var o=this.columns_||fn.FieldColour.COLUMNS,j=this.colours_||fn.FieldColour.COLOURS,et=this.titles_||fn.FieldColour.TITLES,ot=this.getValue(),rt=document.createElement("table");rt.className="blocklyColourTable",rt.tabIndex=0,rt.dir="ltr",(0,ho.setRole)(rt,ho.Role.GRID),(0,ho.setState)(rt,ho.State.EXPANDED,!0),(0,ho.setState)(rt,ho.State.ROWCOUNT,Math.floor(j.length/o)),(0,ho.setState)(rt,ho.State.COLCOUNT,o);for(var ct,Et=0;Et<j.length;Et++){Et%o===0&&(ct=document.createElement("tr"),(0,ho.setRole)(ct,ho.Role.ROW),rt.appendChild(ct));var wt=document.createElement("td");ct.appendChild(wt),wt.label=j[Et],wt.title=et[Et]||j[Et],wt.id=(0,mn.getNextUniqueId)(),wt.setAttribute("data-index",Et),(0,ho.setRole)(wt,ho.Role.GRIDCELL),(0,ho.setState)(wt,ho.State.LABEL,j[Et]),(0,ho.setState)(wt,ho.State.SELECTED,j[Et]===ot),wt.style.backgroundColor=j[Et],j[Et]===ot&&(wt.className="blocklyColourSelected",this.highlightedIndex_=Et)}this.onClickWrapper_=(0,Tt.conditionalBind)(rt,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=(0,Tt.conditionalBind)(rt,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=(0,Tt.conditionalBind)(rt,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=(0,Tt.conditionalBind)(rt,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=(0,Tt.conditionalBind)(rt,"keydown",this,this.onKeyDown_),this.picker_=rt},fn.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&((0,Tt.unbind)(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&((0,Tt.unbind)(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&((0,Tt.unbind)(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&((0,Tt.unbind)(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&((0,Tt.unbind)(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},fn.FieldColour.fromJson=function(o){return new this(o.colour,void 0,o)},fn.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),fn.FieldColour.prototype.DEFAULT_VALUE=fn.FieldColour.COLOURS[0],fn.FieldColour.TITLES=[],fn.FieldColour.COLUMNS=7,(0,nt.register)(`
.blocklyColourTable {
  border-collapse: collapse;
  display: block;
  outline: none;
  padding: 1px;
}

.blocklyColourTable>tr>td {
  border: .5px solid #888;
  box-sizing: border-box;
  cursor: pointer;
  display: inline-block;
  height: 20px;
  padding: 0;
  width: 20px;
}

.blocklyColourTable>tr>td.blocklyColourHighlighted {
  border-color: #eee;
  box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);
  position: relative;
}

.blocklyColourSelected, .blocklyColourSelected:hover {
  border-color: #eee !important;
  outline: 1px solid #333;
  position: relative;
}
`),(0,vr.register)("field_colour",fn.FieldColour),_.module$exports$Blockly$FieldCheckbox={FieldCheckbox:function(o,j,et){ro.Field.call(this,ro.Field.SKIP_SETUP),this.checkChar_=_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR,this.SERIALIZABLE=!0,this.CURSOR="default",o!==ro.Field.SKIP_SETUP&&(et&&this.configure_(et),this.setValue(o),j&&this.setValidator(j))}},_.$jscomp.inherits(_.module$exports$Blockly$FieldCheckbox.FieldCheckbox,ro.Field),_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.configure_=function(o){ro.Field.prototype.configure_.call(this,o),o.checkCharacter&&(this.checkChar_=o.checkCharacter)},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.saveState=function(){var o=this.saveLegacyState(_.module$exports$Blockly$FieldCheckbox.FieldCheckbox);return o!==null?o:this.getValueBoolean()},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.initView=function(){ro.Field.prototype.initView.call(this),(0,kt.addClass)(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.setCheckCharacter=function(o){this.checkChar_=o||_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR,this.forceRerender()},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.doClassValidation_=function(o){return o===!0||o==="TRUE"?"TRUE":o===!1||o==="FALSE"?"FALSE":null},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.doValueUpdate_=function(o){this.value_=this.convertValueToBool_(o),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.convertValueToBool_=function(o){return typeof o=="string"?o==="TRUE":!!o},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.fromJson=function(o){return new this(o.checked,void 0,o)},_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.prototype.DEFAULT_VALUE=!1,_.module$exports$Blockly$FieldCheckbox.FieldCheckbox.CHECK_CHAR="\u2713",(0,vr.register)("field_checkbox",_.module$exports$Blockly$FieldCheckbox.FieldCheckbox);var Do={FieldAngle:function(o,j,et){_.module$exports$Blockly$FieldTextInput.FieldTextInput.call(this,ro.Field.SKIP_SETUP),this.clockwise_=Do.FieldAngle.CLOCKWISE,this.offset_=Do.FieldAngle.OFFSET,this.wrap_=Do.FieldAngle.WRAP,this.round_=Do.FieldAngle.ROUND,this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.symbol_=this.line_=this.gauge_=this.editor_=null,this.SERIALIZABLE=!0,o!==ro.Field.SKIP_SETUP&&(et&&this.configure_(et),this.setValue(o),j&&this.setValidator(j))}};_.$jscomp.inherits(Do.FieldAngle,_.module$exports$Blockly$FieldTextInput.FieldTextInput),Do.FieldAngle.prototype.configure_=function(o){switch(_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.configure_.call(this,o),o.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var j=o.clockwise;typeof j=="boolean"&&(this.clockwise_=j),j=o.offset,j!==null&&(j=Number(j),isNaN(j)||(this.offset_=j)),j=o.wrap,j!==null&&(j=Number(j),isNaN(j)||(this.wrap_=j)),o=o.round,o!==null&&(o=Number(o),isNaN(o)||(this.round_=o))},Do.FieldAngle.prototype.initView=function(){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.initView.call(this),this.symbol_=(0,kt.createSvgElement)(Nt.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xB0")),this.textElement_.appendChild(this.symbol_)},Do.FieldAngle.prototype.render_=function(){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.render_.call(this),this.updateGraph_()},Do.FieldAngle.prototype.showEditor_=function(o){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.showEditor_.call(this,o,$t.MOBILE||$t.ANDROID||$t.IPAD),this.dropdownCreate_(),(0,Co.getContentDiv)().appendChild(this.editor_),(0,Co.setColour)(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),(0,Co.showPositionedByField)(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},Do.FieldAngle.prototype.dropdownCreate_=function(){var o=(0,kt.createSvgElement)(Nt.Svg.SVG,{xmlns:kt.SVG_NS,"xmlns:html":kt.HTML_NS,"xmlns:xlink":kt.XLINK_NS,version:"1.1",height:2*Do.FieldAngle.HALF+"px",width:2*Do.FieldAngle.HALF+"px",style:"touch-action: none"},null),j=(0,kt.createSvgElement)(Nt.Svg.CIRCLE,{cx:Do.FieldAngle.HALF,cy:Do.FieldAngle.HALF,r:Do.FieldAngle.RADIUS,class:"blocklyAngleCircle"},o);this.gauge_=(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyAngleGauge"},o),this.line_=(0,kt.createSvgElement)(Nt.Svg.LINE,{x1:Do.FieldAngle.HALF,y1:Do.FieldAngle.HALF,class:"blocklyAngleLine"},o);for(var et=0;360>et;et+=15)(0,kt.createSvgElement)(Nt.Svg.LINE,{x1:Do.FieldAngle.HALF+Do.FieldAngle.RADIUS,y1:Do.FieldAngle.HALF,x2:Do.FieldAngle.HALF+Do.FieldAngle.RADIUS-(et%45===0?10:5),y2:Do.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+et+","+Do.FieldAngle.HALF+","+Do.FieldAngle.HALF+")"},o);this.clickWrapper_=(0,Tt.conditionalBind)(o,"click",this,this.hide_),this.clickSurfaceWrapper_=(0,Tt.conditionalBind)(j,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=(0,Tt.conditionalBind)(j,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=o},Do.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&((0,Tt.unbind)(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&((0,Tt.unbind)(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&((0,Tt.unbind)(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},Do.FieldAngle.prototype.hide_=function(){(0,Co.hideIfOwner)(this),(0,Ot.hide)()},Do.FieldAngle.prototype.onMouseMove_=function(o){var j=this.gauge_.ownerSVGElement.getBoundingClientRect(),et=o.clientX-j.left-Do.FieldAngle.HALF;o=o.clientY-j.top-Do.FieldAngle.HALF,j=Math.atan(-o/et),isNaN(j)||(j=(0,sr.toDegrees)(j),0>et?j+=180:0<o&&(j+=360),j=this.clockwise_?this.offset_+360-j:360-(this.offset_-j),this.displayMouseOrKeyboardValue_(j))},Do.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(o){this.round_&&(o=Math.round(o/this.round_)*this.round_),o=this.wrapValue_(o),o!==this.value_&&this.setEditorValue_(o)},Do.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var o=Number(this.getText())+this.offset_,j=(0,sr.toRadians)(o%360);o=["M ",Do.FieldAngle.HALF,",",Do.FieldAngle.HALF];var et=Do.FieldAngle.HALF,ot=Do.FieldAngle.HALF;if(!isNaN(j)){var rt=Number(this.clockwise_),ct=(0,sr.toRadians)(this.offset_),Et=Math.cos(ct)*Do.FieldAngle.RADIUS,wt=Math.sin(ct)*-Do.FieldAngle.RADIUS;rt&&(j=2*ct-j),et+=Math.cos(j)*Do.FieldAngle.RADIUS,ot-=Math.sin(j)*Do.FieldAngle.RADIUS,j=Math.abs(Math.floor((j-ct)/Math.PI)%2),rt&&(j=1-j),o.push(" l ",Et,",",wt," A ",Do.FieldAngle.RADIUS,",",Do.FieldAngle.RADIUS," 0 ",j," ",rt," ",et,",",ot," z")}this.gauge_.setAttribute("d",o.join("")),this.line_.setAttribute("x2",et),this.line_.setAttribute("y2",ot)}},Do.FieldAngle.prototype.onHtmlInputKeyDown_=function(o){_.module$exports$Blockly$FieldTextInput.FieldTextInput.prototype.onHtmlInputKeyDown_.call(this,o);var j;if(o.keyCode===To.KeyCodes.LEFT?j=this.sourceBlock_.RTL?1:-1:o.keyCode===To.KeyCodes.RIGHT?j=this.sourceBlock_.RTL?-1:1:o.keyCode===To.KeyCodes.DOWN?j=-1:o.keyCode===To.KeyCodes.UP&&(j=1),j){var et=this.getValue();this.displayMouseOrKeyboardValue_(et+j*this.round_),o.preventDefault(),o.stopPropagation()}},Do.FieldAngle.prototype.doClassValidation_=function(o){return o=Number(o),isNaN(o)||!isFinite(o)?null:this.wrapValue_(o)},Do.FieldAngle.prototype.wrapValue_=function(o){return o%=360,0>o&&(o+=360),o>this.wrap_&&(o-=360),o},Do.FieldAngle.fromJson=function(o){return new this(o.angle,void 0,o)},Do.FieldAngle.prototype.DEFAULT_VALUE=0,Do.FieldAngle.ROUND=15,Do.FieldAngle.HALF=50,Do.FieldAngle.CLOCKWISE=!1,Do.FieldAngle.OFFSET=0,Do.FieldAngle.WRAP=360,Do.FieldAngle.RADIUS=Do.FieldAngle.HALF-1,(0,nt.register)(`
.blocklyAngleCircle {
  stroke: #444;
  stroke-width: 1;
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyAngleMarks {
  stroke: #444;
  stroke-width: 1;
}

.blocklyAngleGauge {
  fill: #f88;
  fill-opacity: .8;
  pointer-events: none;
}

.blocklyAngleLine {
  stroke: #f00;
  stroke-width: 2;
  stroke-linecap: round;
  pointer-events: none;
}
`),(0,vr.register)("field_angle",Do.FieldAngle);var Rl={BottomRow:function(o){Vr.BottomRow.call(this,o)}};_.$jscomp.inherits(Rl.BottomRow,Vr.BottomRow),Rl.BottomRow.prototype.endsWithElemSpacer=function(){return!1},Rl.BottomRow.prototype.hasLeftSquareCorner=function(o){return!!o.outputConnection},Rl.BottomRow.prototype.hasRightSquareCorner=function(o){return!!o.outputConnection&&!o.statementInputCount&&!o.nextConnection};var ir={ConstantProvider:function(){rn.ConstantProvider.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter_=null}};_.$jscomp.inherits(ir.ConstantProvider,rn.ConstantProvider),ir.ConstantProvider.prototype.setFontConstants_=function(o){rn.ConstantProvider.prototype.setFontConstants_.call(this,o),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},ir.ConstantProvider.prototype.init=function(){rn.ConstantProvider.prototype.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},ir.ConstantProvider.prototype.setDynamicProperties_=function(o){rn.ConstantProvider.prototype.setDynamicProperties_.call(this,o),this.SELECTED_GLOW_COLOUR=o.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var j=Number(o.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=j&&!isNaN(j)?j:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=o.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(o=Number(o.getComponentStyle("replacementGlowSize")))&&!isNaN(o)?o:this.REPLACEMENT_GLOW_SIZE},ir.ConstantProvider.prototype.dispose=function(){rn.ConstantProvider.prototype.dispose.call(this),this.selectedGlowFilter_&&(0,kt.removeNode)(this.selectedGlowFilter_),this.replacementGlowFilter_&&(0,kt.removeNode)(this.replacementGlowFilter_)},ir.ConstantProvider.prototype.makeStartHat=function(){var o=this.START_HAT_HEIGHT,j=this.START_HAT_WIDTH,et=(0,Mt.curve)("c",[(0,Mt.point)(25,-o),(0,Mt.point)(71,-o),(0,Mt.point)(j,0)]);return{height:o,width:j,path:et}},ir.ConstantProvider.prototype.makeHexagonal=function(){function o(et,ot,rt){var ct=et/2;return ct=ct>j?j:ct,rt=rt?-1:1,et=(ot?-1:1)*et/2,(0,Mt.lineTo)(-rt*ct,et)+(0,Mt.lineTo)(rt*ct,et)}var j=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(et){return et/=2,et>j?j:et},height:function(et){return et},connectionOffsetY:function(et){return et/2},connectionOffsetX:function(et){return-et},pathDown:function(et){return o(et,!1,!1)},pathUp:function(et){return o(et,!0,!1)},pathRightDown:function(et){return o(et,!1,!0)},pathRightUp:function(et){return o(et,!1,!0)}}},ir.ConstantProvider.prototype.makeRounded=function(){function o(ot,rt,ct){var Et=ot>et?ot-et:0;return ot=(ot>et?et:ot)/2,(0,Mt.arc)("a","0 0,1",ot,(0,Mt.point)((rt?-1:1)*ot,(rt?-1:1)*ot))+(0,Mt.lineOnAxis)("v",(ct?1:-1)*Et)+(0,Mt.arc)("a","0 0,1",ot,(0,Mt.point)((rt?1:-1)*ot,(rt?-1:1)*ot))}var j=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,et=2*j;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(ot){return ot/=2,ot>j?j:ot},height:function(ot){return ot},connectionOffsetY:function(ot){return ot/2},connectionOffsetX:function(ot){return-ot},pathDown:function(ot){return o(ot,!1,!1)},pathUp:function(ot){return o(ot,!0,!1)},pathRightDown:function(ot){return o(ot,!1,!0)},pathRightUp:function(ot){return o(ot,!1,!0)}}},ir.ConstantProvider.prototype.makeSquared=function(){function o(et,ot,rt){return et-=2*j,(0,Mt.arc)("a","0 0,1",j,(0,Mt.point)((ot?-1:1)*j,(ot?-1:1)*j))+(0,Mt.lineOnAxis)("v",(rt?1:-1)*et)+(0,Mt.arc)("a","0 0,1",j,(0,Mt.point)((ot?1:-1)*j,(ot?-1:1)*j))}var j=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(et){return j},height:function(et){return et},connectionOffsetY:function(et){return et/2},connectionOffsetX:function(et){return-et},pathDown:function(et){return o(et,!1,!1)},pathUp:function(et){return o(et,!0,!1)},pathRightDown:function(et){return o(et,!1,!0)},pathRightUp:function(et){return o(et,!1,!0)}}},ir.ConstantProvider.prototype.shapeFor=function(o){var j=o.getCheck();switch(!j&&o.targetConnection&&(j=o.targetConnection.getCheck()),o.type){case _.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE:case _.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE:if(o=o.getSourceBlock().getOutputShape(),o!==null)switch(o){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return j&&j.indexOf("Boolean")!==-1?this.HEXAGONAL:j&&j.indexOf("Number")!==-1?this.ROUNDED:(j&&j.indexOf("String"),this.ROUNDED);case _.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT:case _.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},ir.ConstantProvider.prototype.makeNotch=function(){function o(Zt){return(0,Mt.curve)("c",[(0,Mt.point)(Zt*rt/2,0),(0,Mt.point)(Zt*rt*3/4,Et/2),(0,Mt.point)(Zt*rt,Et)])+(0,Mt.line)([(0,Mt.point)(Zt*rt,ct)])+(0,Mt.curve)("c",[(0,Mt.point)(Zt*rt/4,Et/2),(0,Mt.point)(Zt*rt/2,Et),(0,Mt.point)(Zt*rt,Et)])+(0,Mt.lineOnAxis)("h",Zt*ot)+(0,Mt.curve)("c",[(0,Mt.point)(Zt*rt/2,0),(0,Mt.point)(Zt*rt*3/4,-(Et/2)),(0,Mt.point)(Zt*rt,-Et)])+(0,Mt.line)([(0,Mt.point)(Zt*rt,-ct)])+(0,Mt.curve)("c",[(0,Mt.point)(Zt*rt/4,-(Et/2)),(0,Mt.point)(Zt*rt/2,-Et),(0,Mt.point)(Zt*rt,-Et)])}var j=this.NOTCH_WIDTH,et=this.NOTCH_HEIGHT,ot=j/3,rt=ot/3,ct=et/2,Et=ct/2,wt=o(1),Lt=o(-1);return{type:this.SHAPES.NOTCH,width:j,height:et,pathLeft:wt,pathRight:Lt}},ir.ConstantProvider.prototype.makeInsideCorners=function(){var o=this.CORNER_RADIUS,j=(0,Mt.arc)("a","0 0,0",o,(0,Mt.point)(-o,o)),et=(0,Mt.arc)("a","0 0,1",o,(0,Mt.point)(-o,o)),ot=(0,Mt.arc)("a","0 0,0",o,(0,Mt.point)(o,o)),rt=(0,Mt.arc)("a","0 0,1",o,(0,Mt.point)(o,o));return{width:o,height:o,pathTop:j,pathBottom:ot,rightWidth:o,rightHeight:o,pathTopRight:et,pathBottomRight:rt}},ir.ConstantProvider.prototype.generateSecondaryColour_=function(o){return(0,un.blend)("#000",o,.15)||o},ir.ConstantProvider.prototype.generateTertiaryColour_=function(o){return(0,un.blend)("#000",o,.25)||o},ir.ConstantProvider.prototype.createDom=function(o,j,et){rn.ConstantProvider.prototype.createDom.call(this,o,j,et),o=(0,kt.createSvgElement)(Nt.Svg.DEFS,{},o),j=(0,kt.createSvgElement)(Nt.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},o),(0,kt.createSvgElement)(Nt.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},j),et=(0,kt.createSvgElement)(Nt.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},j),(0,kt.createSvgElement)(Nt.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},et),(0,kt.createSvgElement)(Nt.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},j),(0,kt.createSvgElement)(Nt.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},j),this.selectedGlowFilterId=j.id,this.selectedGlowFilter_=j,o=(0,kt.createSvgElement)(Nt.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},o),(0,kt.createSvgElement)(Nt.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},o),j=(0,kt.createSvgElement)(Nt.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},o),(0,kt.createSvgElement)(Nt.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},j),(0,kt.createSvgElement)(Nt.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},o),(0,kt.createSvgElement)(Nt.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},o),(0,kt.createSvgElement)(Nt.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},o),this.replacementGlowFilterId=o.id,this.replacementGlowFilter_=o},ir.ConstantProvider.prototype.getCSS_=function(o){return[o+" .blocklyText,",o+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",o+" .blocklyText {","fill: #fff;","}",o+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",o+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",o+" .blocklyNonEditableText>text,",o+" .blocklyEditableText>text,",o+" .blocklyNonEditableText>g>text,",o+" .blocklyEditableText>g>text {","fill: #575E75;","}",o+" .blocklyFlyoutLabelText {","fill: #575E75;","}",o+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",o+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",o+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",o+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",o+" .blocklyDropdownText {","fill: #fff !important;","}",o+".blocklyWidgetDiv .goog-menuitem,",o+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",o+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",o+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",o+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",o+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]};var Rr={Drawer:function(o,j){to.Drawer.call(this,o,j)}};_.$jscomp.inherits(Rr.Drawer,to.Drawer),Rr.Drawer.prototype.draw=function(){var o=this.block_.pathObject;o.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),o.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&o.flipRTL(),(0,Mr.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(o.outputShapeType=this.info_.outputConnection.shape.type),o.endDrawing()},Rr.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):to.Drawer.prototype.drawOutline_.call(this)},Rr.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():to.Drawer.prototype.drawLeft_.call(this)},Rr.Drawer.prototype.drawRightSideRow_=function(o){if(!(0>=o.height))if(xt.Types.isSpacer(o)&&(o.precedesStatement||o.followsStatement)){var j=this.constants_.INSIDE_CORNERS.rightHeight;j=o.height-(o.precedesStatement?j:0),this.outlinePath_+=(o.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<j?(0,Mt.lineOnAxis)("V",o.yPos+j):"")+(o.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=(0,Mt.lineOnAxis)("V",o.yPos+o.height)},Rr.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},Rr.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},Rr.Drawer.prototype.drawFlatTop_=function(){var o=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=(0,Mt.moveBy)(o.xPos,this.info_.startY),this.outlinePath_+=(0,Mt.lineOnAxis)("h",o.width)},Rr.Drawer.prototype.drawFlatBottom_=function(){var o=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=(0,Mt.lineOnAxis)("V",o.baseline),this.outlinePath_+=(0,Mt.lineOnAxis)("h",-o.width)},Rr.Drawer.prototype.drawInlineInput_=function(o){this.positionInlineInputConnection_(o);var j=o.input.name;if(!o.connectedBlock&&!this.info_.isInsertionMarker){var et=o.width-2*o.connectionWidth;o=(0,Mt.moveTo)(o.xPos+o.connectionWidth,o.centerline-o.height/2)+(0,Mt.lineOnAxis)("h",et)+o.shape.pathRightDown(o.height)+(0,Mt.lineOnAxis)("h",-et)+o.shape.pathUp(o.height)+"z",this.block_.pathObject.setOutlinePath(j,o)}},Rr.Drawer.prototype.drawStatementInput_=function(o){var j=o.getLastInput(),et=j.xPos+j.notchOffset+j.shape.width,ot=j.shape.pathRight+(0,Mt.lineOnAxis)("h",-(j.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,rt=o.height-2*this.constants_.INSIDE_CORNERS.height;j=this.constants_.INSIDE_CORNERS.pathBottom+(0,Mt.lineOnAxis)("h",j.notchOffset-this.constants_.INSIDE_CORNERS.width)+(j.connectedBottomNextConnection?"":j.shape.pathLeft),this.outlinePath_+=(0,Mt.lineOnAxis)("H",et)+ot+(0,Mt.lineOnAxis)("v",rt)+j+(0,Mt.lineOnAxis)("H",o.xPos+o.width),this.positionStatementInputConnection_(o)};var pn={MarkerSvg:function(o,j,et){qo.MarkerSvg.call(this,o,j,et),this.markerCircle_=null}};_.$jscomp.inherits(pn.MarkerSvg,qo.MarkerSvg),pn.MarkerSvg.prototype.showWithInputOutput_=function(o){var j=o.getSourceBlock();o=o.getLocation().getOffsetInBlock(),this.positionCircle_(o.x,o.y),this.setParent_(j),this.showCurrent_()},pn.MarkerSvg.prototype.showWithOutput_=function(o){this.showWithInputOutput_(o)},pn.MarkerSvg.prototype.showWithInput_=function(o){this.showWithInputOutput_(o)},pn.MarkerSvg.prototype.showWithBlock_=function(o){o=o.getLocation();var j=o.getHeightWidth();this.positionRect_(0,0,j.width,j.height),this.setParent_(o),this.showCurrent_()},pn.MarkerSvg.prototype.positionCircle_=function(o,j){this.markerCircle_.setAttribute("cx",o),this.markerCircle_.setAttribute("cy",j),this.currentMarkerSvg=this.markerCircle_},pn.MarkerSvg.prototype.hide=function(){qo.MarkerSvg.prototype.hide.call(this),this.markerCircle_.style.display="none"},pn.MarkerSvg.prototype.createDomInternal_=function(){if(qo.MarkerSvg.prototype.createDomInternal_.call(this),this.markerCircle_=(0,kt.createSvgElement)(Nt.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var o=this.getBlinkProperties_();(0,kt.createSvgElement)(Nt.Svg.ANIMATE,o,this.markerCircle_)}return this.markerSvg_},pn.MarkerSvg.prototype.applyColour_=function(o){qo.MarkerSvg.prototype.applyColour_.call(this,o),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")};var Sr={PathObject:function(o,j,et){bn.PathObject.call(this,o,j,et),this.constants=et,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null}};_.$jscomp.inherits(Sr.PathObject,bn.PathObject),Sr.PathObject.prototype.setPath=function(o){bn.PathObject.prototype.setPath.call(this,o),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",o)},Sr.PathObject.prototype.applyColour=function(o){bn.PathObject.prototype.applyColour.call(this,o),o.isShadow()&&o.getParent()&&this.svgPath.setAttribute("stroke",o.getParent().style.colourTertiary);for(var j in this.outlines_)this.outlines_[j].setAttribute("fill",this.style.colourTertiary)},Sr.PathObject.prototype.flipRTL=function(){bn.PathObject.prototype.flipRTL.call(this);for(var o in this.outlines_)this.outlines_[o].setAttribute("transform","scale(-1 1)")},Sr.PathObject.prototype.updateSelected=function(o){this.setClass_("blocklySelected",o),o?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},Sr.PathObject.prototype.updateReplacementFade=function(o){this.setClass_("blocklyReplaceable",o),o?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},Sr.PathObject.prototype.updateShapeForInputHighlight=function(o,j){o=o.getParentInput().name,(o=this.getOutlinePath_(o))&&(j?o.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):o.removeAttribute("filter"))},Sr.PathObject.prototype.beginDrawing=function(){this.remainingOutlines_=Object.create(null);for(var o in this.outlines_)this.remainingOutlines_[o]=1},Sr.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var o in this.remainingOutlines_)this.removeOutlinePath_(o);this.remainingOutlines_=null},Sr.PathObject.prototype.setOutlinePath=function(o,j){o=this.getOutlinePath_(o),o.setAttribute("d",j),o.setAttribute("fill",this.style.colourTertiary)},Sr.PathObject.prototype.getOutlinePath_=function(o){return this.outlines_[o]||(this.outlines_[o]=(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[o],this.outlines_[o]},Sr.PathObject.prototype.removeOutlinePath_=function(o){this.outlines_[o].parentNode.removeChild(this.outlines_[o]),delete this.outlines_[o]},_.module$exports$Blockly$FieldImage={FieldImage:function(o,j,et,ot,rt,ct,Et){if(ro.Field.call(this,ro.Field.SKIP_SETUP),!o)throw Error("Src value of an image field is required");if(et=Number((0,nn.replaceMessageReferences)(et)),j=Number((0,nn.replaceMessageReferences)(j)),isNaN(et)||isNaN(j))throw Error("Height and width values of an image field must cast to numbers.");if(0>=et||0>=j)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Ln.Size(j,et+_.module$exports$Blockly$FieldImage.FieldImage.Y_PADDING),this.imageHeight_=et,this.clickHandler_=null,typeof rt=="function"&&(this.clickHandler_=rt),this.imageElement_=null,this.flipRtl_=this.isDirty_=this.EDITABLE=!1,this.altText_="",o!==ro.Field.SKIP_SETUP&&(Et?this.configure_(Et):(this.flipRtl_=!!ct,this.altText_=(0,nn.replaceMessageReferences)(ot)||""),this.setValue((0,nn.replaceMessageReferences)(o)))}},_.$jscomp.inherits(_.module$exports$Blockly$FieldImage.FieldImage,ro.Field),_.module$exports$Blockly$FieldImage.FieldImage.prototype.configure_=function(o){ro.Field.prototype.configure_.call(this,o),this.flipRtl_=!!o.flipRtl,this.altText_=(0,nn.replaceMessageReferences)(o.alt)||""},_.module$exports$Blockly$FieldImage.FieldImage.prototype.initView=function(){this.imageElement_=(0,kt.createSvgElement)(Nt.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(kt.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},_.module$exports$Blockly$FieldImage.FieldImage.prototype.updateSize_=function(){},_.module$exports$Blockly$FieldImage.FieldImage.prototype.doClassValidation_=function(o){return typeof o!="string"?null:o},_.module$exports$Blockly$FieldImage.FieldImage.prototype.doValueUpdate_=function(o){this.value_=o,this.imageElement_&&this.imageElement_.setAttributeNS(kt.XLINK_NS,"xlink:href",String(this.value_))},_.module$exports$Blockly$FieldImage.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},_.module$exports$Blockly$FieldImage.FieldImage.prototype.setAlt=function(o){o!==this.altText_&&(this.altText_=o||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},_.module$exports$Blockly$FieldImage.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},_.module$exports$Blockly$FieldImage.FieldImage.prototype.setOnClickHandler=function(o){this.clickHandler_=o},_.module$exports$Blockly$FieldImage.FieldImage.prototype.getText_=function(){return this.altText_},_.module$exports$Blockly$FieldImage.FieldImage.fromJson=function(o){return new this(o.src,o.width,o.height,void 0,void 0,void 0,o)},_.module$exports$Blockly$FieldImage.FieldImage.prototype.DEFAULT_VALUE="",_.module$exports$Blockly$FieldImage.FieldImage.Y_PADDING=1,(0,vr.register)("field_image",_.module$exports$Blockly$FieldImage.FieldImage);var Tu={RightConnectionShape:function(o){Jn.Measurable.call(this,o),this.type|=xt.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0}};_.$jscomp.inherits(Tu.RightConnectionShape,Jn.Measurable);var rp={StatementInput:function(o,j){if(Xt.StatementInput.call(this,o,j),this.connectedBlock){for(o=this.connectedBlock;j=o.getNextBlock();)o=j;o.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}};_.$jscomp.inherits(rp.StatementInput,Xt.StatementInput);var Dl={TopRow:function(o){es.TopRow.call(this,o)}};_.$jscomp.inherits(Dl.TopRow,es.TopRow),Dl.TopRow.prototype.endsWithElemSpacer=function(){return!1},Dl.TopRow.prototype.hasLeftSquareCorner=function(o){var j=(o.hat?o.hat==="cap":this.constants_.ADD_START_HATS)&&!o.outputConnection&&!o.previousConnection;return!!o.outputConnection||j},Dl.TopRow.prototype.hasRightSquareCorner=function(o){return!!o.outputConnection&&!o.statementInputCount&&!o.nextConnection};var Qn={RenderInfo:function(o,j){Lo.RenderInfo.call(this,o,j),this.topRow=new Dl.TopRow(this.constants_),this.bottomRow=new Rl.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!j.getInputsInline()||j.isCollapsed(),this.hasStatementInput=0<j.statementInputCount,this.rightSide=this.outputConnection?new Tu.RightConnectionShape(this.constants_):null,this.rightAlignedDummyInputs_=new WeakMap}};_.$jscomp.inherits(Qn.RenderInfo,Lo.RenderInfo),Qn.RenderInfo.prototype.getRenderer=function(){return this.renderer_},Qn.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},Qn.RenderInfo.prototype.shouldStartNewRow_=function(o,j){return j?o.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||j.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?!0:o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE||o.type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY?!this.isInline||this.isMultiRow:!1:!1},Qn.RenderInfo.prototype.getDesiredRowWidth_=function(o){return o.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):Lo.RenderInfo.prototype.getDesiredRowWidth_.call(this,o)},Qn.RenderInfo.prototype.getInRowSpacing_=function(o,j){return o&&j||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!o&&j&&xt.Types.isStatementInput(j)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:o&&xt.Types.isLeftRoundedCorner(o)&&j&&(xt.Types.isPreviousConnection(j)||xt.Types.isNextConnection(j))?j.notchOffset-this.constants_.CORNER_RADIUS:o&&xt.Types.isLeftSquareCorner(o)&&j&&xt.Types.isHat(j)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},Qn.RenderInfo.prototype.getSpacerRowHeight_=function(o,j){if(xt.Types.isTopRow(o)&&xt.Types.isBottomRow(j))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var et=xt.Types.isInputRow(o)&&o.hasStatement,ot=xt.Types.isInputRow(j)&&j.hasStatement;return ot||et?(o=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),ot&&et?Math.max(o,this.constants_.DUMMY_INPUT_MIN_HEIGHT):o):xt.Types.isTopRow(o)?o.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):xt.Types.isBottomRow(j)?this.outputConnection?!j.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},Qn.RenderInfo.prototype.getSpacerRowWidth_=function(o,j){var et=this.width-this.startX;return xt.Types.isInputRow(o)&&o.hasStatement||xt.Types.isInputRow(j)&&j.hasStatement?Math.max(et,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):et},Qn.RenderInfo.prototype.getElemCenterline_=function(o,j){if(o.hasStatement&&!xt.Types.isSpacer(j)&&!xt.Types.isStatementInput(j))return o.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(xt.Types.isInlineInput(j)&&j instanceof xn.InputConnection){var et=j.connectedBlock;if(et&&et.outputConnection&&et.nextConnection)return o.yPos+et.height/2}return Lo.RenderInfo.prototype.getElemCenterline_.call(this,o,j)},Qn.RenderInfo.prototype.addInput_=function(o,j){if(o.type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&j.hasDummyInput&&j.align===_.module$exports$Blockly$Input.Align.LEFT&&o.align===_.module$exports$Blockly$Input.Align.RIGHT)this.rightAlignedDummyInputs_.set(j,o);else if(o.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT){j.elements.push(new rp.StatementInput(this.constants_,o)),j.hasStatement=!0,j.align===null&&(j.align=o.align);return}Lo.RenderInfo.prototype.addInput_.call(this,o,j)},Qn.RenderInfo.prototype.addAlignmentPadding_=function(o,j){if(this.rightAlignedDummyInputs_.get(o)){for(var et,ot=0;ot<o.elements.length;ot++){var rt=o.elements[ot];if(xt.Types.isSpacer(rt)&&(et=rt),xt.Types.isField(rt)&&rt instanceof fs.Field&&rt.parentInput===this.rightAlignedDummyInputs_.get(o))break}if(et){et.width+=j,o.width+=j;return}}Lo.RenderInfo.prototype.addAlignmentPadding_.call(this,o,j)},Qn.RenderInfo.prototype.adjustXPosition_=function(){for(var o=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,j=o,et=2;et<this.rows.length-1;et+=2){var ot=this.rows[et-1],rt=this.rows[et],ct=this.rows[et+1];if(ot=et===2?!!this.topRow.hasPreviousConnection:!!ot.followsStatement,ct=et+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!ct.precedesStatement,xt.Types.isInputRow(rt)&&rt.hasStatement)rt.measure(),j=rt.width-rt.getLastInput().width+o;else if(ot&&(et===2||ct)&&xt.Types.isInputRow(rt)&&!rt.hasStatement){ct=rt.xPos,ot=null;for(var Et=0;Et<rt.elements.length;Et++){var wt=rt.elements[Et];xt.Types.isSpacer(wt)&&(ot=wt),ot&&(xt.Types.isField(wt)||xt.Types.isInput(wt))&&ct<j&&!(xt.Types.isField(wt)&&wt instanceof fs.Field&&(wt.field instanceof _.module$exports$Blockly$FieldLabel.FieldLabel||wt.field instanceof _.module$exports$Blockly$FieldImage.FieldImage))&&(ot.width+=j-ct),ct+=wt.width}}}},Qn.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var o=0,j=0;j<this.rows.length;j++){var et=this.rows[j];et.yPos=o,o+=et.height}this.height=o,j=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,o=this.outputConnection.shape.height(j),j=this.outputConnection.shape.width(j),this.outputConnection.height=o,this.outputConnection.width=j,this.outputConnection.startX=j,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(o),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(j),et=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(et=j,this.rightSide.height=o,this.rightSide.width=et,this.rightSide.centerline=o/2,this.rightSide.xPos=this.width+et),this.startX=j,this.width+=j+et,this.widthWithChildren+=j+et}},Qn.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var o=0,j=0;j<this.rows.length;j++){var et=this.rows[j];if(xt.Types.isInputRow(et)){o=et.elements[et.elements.length-2];var ot=this.getNegativeSpacing_(et.elements[1]),rt=this.getNegativeSpacing_(o);o=ot+rt;var ct=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-o<ct&&(o=this.width-ct,ot=o/2,rt=o/2),et.elements.unshift(new mr.InRowSpacer(this.constants_,-ot)),et.elements.push(new mr.InRowSpacer(this.constants_,-rt))}}if(o)for(this.width-=o,this.widthWithChildren-=o,this.rightSide.xPos-=o,j=0;j<this.rows.length;j++)et=this.rows[j],xt.Types.isTopOrBottomRow(et)&&(et.elements[1].width-=o),et.width-=o,et.widthWithConnectedBlocks-=o}},Qn.RenderInfo.prototype.getNegativeSpacing_=function(o){if(!o)return 0;var j=this.outputConnection.width,et=this.outputConnection.shape.type,ot=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(et){case ot.SHAPES.ROUND:return et=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,et=this.height/2>et?et:this.height/2,j-et*(1-Math.sin(Math.acos((et-this.constants_.SMALL_PADDING)/et)));default:return 0}if(xt.Types.isInlineInput(o)&&o instanceof xn.InputConnection){var rt=o.connectedBlock;return o=rt?rt.pathObject.outputShapeType:o.shape.type,rt&&rt.outputConnection&&(rt.statementInputCount||rt.nextConnection)||et===ot.SHAPES.HEXAGONAL&&et!==o?0:j-this.constants_.SHAPE_IN_SHAPE_PADDING[et][o]}return xt.Types.isField(o)&&o instanceof fs.Field?et===ot.SHAPES.ROUND&&o.field instanceof _.module$exports$Blockly$FieldTextInput.FieldTextInput?j-2.75*ot.GRID_UNIT:j-this.constants_.SHAPE_IN_SHAPE_PADDING[et][0]:xt.Types.isIcon(o)?this.constants_.SMALL_PADDING:0},Qn.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var o=2;o<this.rows.length-1;o+=2){var j=this.rows[o-1],et=this.rows[o],ot=this.rows[o+1],rt=o===2,ct=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!ot.precedesStatement;if(rt?this.topRow.hasPreviousConnection:j.followsStatement){var Et=et.elements[1];if(Et=et.elements.length===3&&Et instanceof fs.Field&&(Et.field instanceof _.module$exports$Blockly$FieldLabel.FieldLabel||Et.field instanceof _.module$exports$Blockly$FieldImage.FieldImage),!rt&&Et)j.height-=this.constants_.SMALL_PADDING,ot.height-=this.constants_.SMALL_PADDING,et.height-=this.constants_.MEDIUM_PADDING;else if(!rt&&!ct)j.height+=this.constants_.SMALL_PADDING;else if(ct){for(rt=!1,ct=0;ct<et.elements.length;ct++)if(Et=et.elements[ct],Et instanceof xn.InputConnection&&xt.Types.isInlineInput(Et)&&Et.connectedBlock&&!Et.connectedBlock.isShadow()&&40<=Et.connectedBlock.getHeightWidth().height){rt=!0;break}rt&&(j.height-=this.constants_.SMALL_PADDING,ot.height-=this.constants_.SMALL_PADDING)}}}},Qn.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),Lo.RenderInfo.prototype.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)};var ns={Renderer:function(o){vn.Renderer.call(this,o)}};_.$jscomp.inherits(ns.Renderer,vn.Renderer),ns.Renderer.prototype.makeConstants_=function(){return new ir.ConstantProvider},ns.Renderer.prototype.makeRenderInfo_=function(o){return new Qn.RenderInfo(this,o)},ns.Renderer.prototype.makeDrawer_=function(o,j){return new Rr.Drawer(o,j)},ns.Renderer.prototype.makeMarkerDrawer=function(o,j){return new pn.MarkerSvg(o,this.getConstants(),j)},ns.Renderer.prototype.makePathObject=function(o,j){return new Sr.PathObject(o,j,this.getConstants())},ns.Renderer.prototype.shouldHighlightConnection=function(o){return o.type!==_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE&&o.type!==_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE},ns.Renderer.prototype.getConnectionPreviewMethod=function(o,j,et){return j.type===_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE?o.isConnected()?cn.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:cn.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:vn.Renderer.prototype.getConnectionPreviewMethod.call(this,o,j,et)},(0,Ho.register)("zelos",ns.Renderer);var Gr={};Gr.BottomRow=Rl.BottomRow,Gr.ConstantProvider=ir.ConstantProvider,Gr.Drawer=Rr.Drawer,Gr.MarkerSvg=pn.MarkerSvg,Gr.PathObject=Sr.PathObject,Gr.RenderInfo=Qn.RenderInfo,Gr.Renderer=ns.Renderer,Gr.RightConnectionShape=Tu.RightConnectionShape,Gr.StatementInput=rp.StatementInput,Gr.TopRow=Dl.TopRow;var Ts={RenderInfo:function(o,j){Lo.RenderInfo.call(this,o,j)}};_.$jscomp.inherits(Ts.RenderInfo,Lo.RenderInfo),Ts.RenderInfo.prototype.getRenderer=function(){return this.renderer_},Ts.RenderInfo.prototype.addElemSpacing_=function(){for(var o=!1,j=0;j<this.rows.length;j++)if(this.rows[j].hasExternalInput){o=!0;break}for(j=0;j<this.rows.length;j++){var et=this.rows[j],ot=et.elements;et.elements=[],et.startsWithElemSpacer()&&et.elements.push(new mr.InRowSpacer(this.constants_,this.getInRowSpacing_(null,ot[0])));for(var rt=0;rt<ot.length-1;rt++){et.elements.push(ot[rt]);var ct=this.getInRowSpacing_(ot[rt],ot[rt+1]);et.elements.push(new mr.InRowSpacer(this.constants_,ct))}et.elements.push(ot[ot.length-1]),et.endsWithElemSpacer()&&(ot=this.getInRowSpacing_(ot[ot.length-1],null),o&&et.hasDummyInput&&(ot+=this.constants_.TAB_WIDTH),et.elements.push(new mr.InRowSpacer(this.constants_,ot)))}},Ts.RenderInfo.prototype.getInRowSpacing_=function(o,j){if(!o)return j&&xt.Types.isField(j)&&j.isEditable?this.constants_.MEDIUM_PADDING:j&&xt.Types.isInlineInput(j)?this.constants_.MEDIUM_LARGE_PADDING:j&&xt.Types.isStatementInput(j)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!xt.Types.isInput(o)&&!j)return xt.Types.isField(o)&&o.isEditable?this.constants_.MEDIUM_PADDING:xt.Types.isIcon(o)?2*this.constants_.LARGE_PADDING+1:xt.Types.isHat(o)?this.constants_.NO_PADDING:xt.Types.isPreviousOrNextConnection(o)?this.constants_.LARGE_PADDING:xt.Types.isLeftRoundedCorner(o)?this.constants_.MIN_BLOCK_WIDTH:xt.Types.isJaggedEdge(o)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(xt.Types.isInput(o)&&!j){if(xt.Types.isExternalInput(o))return this.constants_.NO_PADDING;if(xt.Types.isInlineInput(o))return this.constants_.LARGE_PADDING;if(xt.Types.isStatementInput(o))return this.constants_.NO_PADDING}if(!xt.Types.isInput(o)&&j&&xt.Types.isInput(j)){if(xt.Types.isField(o)&&o.isEditable){if(xt.Types.isInlineInput(j)||xt.Types.isExternalInput(j))return this.constants_.SMALL_PADDING}else{if(xt.Types.isInlineInput(j)||xt.Types.isExternalInput(j))return this.constants_.MEDIUM_LARGE_PADDING;if(xt.Types.isStatementInput(j))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(xt.Types.isIcon(o)&&j&&!xt.Types.isInput(j))return this.constants_.LARGE_PADDING;if(xt.Types.isInlineInput(o)&&j&&xt.Types.isField(j))return j.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(xt.Types.isLeftSquareCorner(o)&&j){if(xt.Types.isHat(j))return this.constants_.NO_PADDING;if(xt.Types.isPreviousConnection(j)||xt.Types.isNextConnection(j))return j.notchOffset}return xt.Types.isLeftRoundedCorner(o)&&j?j.notchOffset-this.constants_.CORNER_RADIUS:xt.Types.isField(o)&&j&&xt.Types.isField(j)&&o.isEditable===j.isEditable||j&&xt.Types.isJaggedEdge(j)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Ts.RenderInfo.prototype.getSpacerRowHeight_=function(o,j){return xt.Types.isTopRow(o)&&xt.Types.isBottomRow(j)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:xt.Types.isTopRow(o)||xt.Types.isBottomRow(j)?this.constants_.NO_PADDING:o.hasExternalInput&&j.hasExternalInput?this.constants_.LARGE_PADDING:!o.hasStatement&&j.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:o.hasStatement&&j.hasStatement||o.hasDummyInput||j.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Ts.RenderInfo.prototype.getElemCenterline_=function(o,j){if(xt.Types.isSpacer(j))return o.yPos+j.height/2;if(xt.Types.isBottomRow(o))return o=o.yPos+o.height-o.descenderHeight,xt.Types.isNextConnection(j)?o+j.height/2:o-j.height/2;if(xt.Types.isTopRow(o))return xt.Types.isHat(j)?o.capline-j.height/2:o.capline+j.height/2;var et=o.yPos;return et=xt.Types.isField(j)&&o.hasStatement?et+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+j.height/2):et+o.height/2},Ts.RenderInfo.prototype.finalize_=function(){for(var o=0,j=0,et=0;et<this.rows.length;et++){var ot=this.rows[et];ot.yPos=j,ot.xPos=this.startX,j+=ot.height,o=Math.max(o,ot.widthWithConnectedBlocks);var rt=j-this.topRow.ascenderHeight;ot===this.bottomRow&&rt<this.constants_.MIN_BLOCK_HEIGHT&&(rt=this.constants_.MIN_BLOCK_HEIGHT-rt,this.bottomRow.height+=rt,j+=rt),this.recordElemPositions_(ot)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(o=Math.max(o,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=j-this.bottomRow.descenderHeight,this.widthWithChildren=o+this.startX,this.height=j,this.startY=this.topRow.capline};var Ql={Renderer:function(o){vn.Renderer.call(this,o)}};_.$jscomp.inherits(Ql.Renderer,vn.Renderer),Ql.Renderer.prototype.makeRenderInfo_=function(o){return new Ts.RenderInfo(this,o)},(0,Ho.register)("thrasos",Ql.Renderer);var Eu={};Eu.RenderInfo=Ts.RenderInfo,Eu.Renderer=Ql.Renderer;var it={save:function(o){var j=Object.create(null),et=(0,jt.getAllItems)(jt.Type.SERIALIZER,!0),ot;for(ot in et){var rt=et[ot].save(o);rt&&(j[ot]=rt)}return j},load:function(o,j,et){et=et===void 0?{}:et;var ot=et.recordUndo===void 0?!1:et.recordUndo;if(et=(0,jt.getAllItems)(jt.Type.SERIALIZER,!0)){var rt=Object.entries(et).sort(function(wt,Lt){return Lt[1].priority-wt[1].priority});et=(0,yt.getRecordUndo)(),(0,yt.setRecordUndo)(ot),(ot=(0,yt.getGroup)())||(0,yt.setGroup)(!0),(0,kt.startTextWidthCache)(),j instanceof no.WorkspaceSvg&&j.setResizesEnabled(!1);for(var ct=_.$jscomp.makeIterator(rt.reverse()),Et=ct.next();!Et.done;Et=ct.next())Et=_.$jscomp.makeIterator(Et.value),Et.next(),Et.next().value.clear(j);for(rt=_.$jscomp.makeIterator(rt.reverse()),ct=rt.next();!ct.done;ct=rt.next())Et=_.$jscomp.makeIterator(ct.value),ct=Et.next().value,Et=Et.next().value,o[ct]&&Et.load(o[ct],j);j instanceof no.WorkspaceSvg&&j.setResizesEnabled(!0),(0,kt.stopTextWidthCache)(),(0,yt.fire)(new((0,yt.get)(yt.FINISHED_LOADING))(j)),(0,yt.setGroup)(ot),(0,yt.setRecordUndo)(et)}}},ft={},_t=function(){this.priority=us.VARIABLES};_t.prototype.save=function(o){var j=[];o=_.$jscomp.makeIterator(o.getAllVariables());for(var et=o.next();!et.done;et=o.next()){et=et.value;var ot={name:et.name,id:et.getId()};et.type&&(ot.type=et.type),j.push(ot)}return j.length?j:null},_t.prototype.load=function(o,j){o=_.$jscomp.makeIterator(o);for(var et=o.next();!et.done;et=o.next())et=et.value,j.createVariable(et.name,et.type,et.id)},_t.prototype.clear=function(o){o.getVariableMap().clear()},(0,cs.register)("variables",new _t);var Ct={ConstantProvider:function(){rn.ConstantProvider.call(this)}};_.$jscomp.inherits(Ct.ConstantProvider,rn.ConstantProvider);var Gt={Drawer:function(o,j){to.Drawer.call(this,o,j)}};_.$jscomp.inherits(Gt.Drawer,to.Drawer);var qt={RenderInfo:function(o,j){Lo.RenderInfo.call(this,o,j)}};_.$jscomp.inherits(qt.RenderInfo,Lo.RenderInfo),qt.RenderInfo.prototype.getRenderer=function(){return this.renderer_};var ln={Renderer:function(o){vn.Renderer.call(this,o)}};_.$jscomp.inherits(ln.Renderer,vn.Renderer),ln.Renderer.prototype.makeConstants_=function(){return new Ct.ConstantProvider},ln.Renderer.prototype.makeRenderInfo_=function(o){return new qt.RenderInfo(this,o)},ln.Renderer.prototype.makeDrawer_=function(o,j){return new Gt.Drawer(o,j)},(0,Ho.register)("minimalist",ln.Renderer);var Hn={};Hn.ConstantProvider=Ct.ConstantProvider,Hn.Drawer=Gt.Drawer,Hn.RenderInfo=qt.RenderInfo,Hn.Renderer=ln.Renderer;var gm={StatementInput:function(o,j){Xt.StatementInput.call(this,o,j),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}};_.$jscomp.inherits(gm.StatementInput,Xt.StatementInput);var Es={PathObject:function(o,j,et){bn.PathObject.call(this,o,j,et),this.constants=et,this.svgPathDark=(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000"}};_.$jscomp.inherits(Es.PathObject,bn.PathObject),Es.PathObject.prototype.setPath=function(o){this.svgPath.setAttribute("d",o),this.svgPathDark.setAttribute("d",o)},Es.PathObject.prototype.setHighlightPath=function(o){this.svgPathLight.setAttribute("d",o)},Es.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},Es.PathObject.prototype.applyColour=function(o){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),bn.PathObject.prototype.applyColour.call(this,o),this.svgPath.setAttribute("stroke","none")},Es.PathObject.prototype.setStyle=function(o){this.style=o,this.colourDark=(0,un.blend)("#000",this.style.colourPrimary,.2)||this.colourDark},Es.PathObject.prototype.updateHighlighted=function(o){o?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},Es.PathObject.prototype.updateShadow_=function(o){o&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},Es.PathObject.prototype.updateDisabled_=function(o){bn.PathObject.prototype.updateDisabled_.call(this,o),o&&this.svgPath.setAttribute("stroke","none")};var Rp={ConstantProvider:function(){rn.ConstantProvider.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}};_.$jscomp.inherits(Rp.ConstantProvider,rn.ConstantProvider),Rp.ConstantProvider.prototype.getCSS_=function(o){return rn.ConstantProvider.prototype.getCSS_.call(this,o).concat([o+" .blocklyInsertionMarker>.blocklyPathLight,",o+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])};var mm={InlineInput:function(o,j){Is.InlineInput.call(this,o,j),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}};_.$jscomp.inherits(mm.InlineInput,Is.InlineInput);var ks={Highlighter:function(o){this.info_=o,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,o=o.getRenderer(),this.constants_=o.getConstants(),this.highlightConstants_=o.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}};ks.Highlighter.prototype.getPath=function(){return this.steps_+`
`+this.inlineSteps_},ks.Highlighter.prototype.drawTopCorner=function(o){this.steps_+=(0,Mt.moveBy)(o.xPos,this.info_.startY);for(var j=0,et;et=o.elements[j];j++)xt.Types.isLeftSquareCorner(et)?this.steps_+=this.highlightConstants_.START_POINT:xt.Types.isLeftRoundedCorner(et)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):xt.Types.isPreviousConnection(et)?this.steps_+=this.notchPaths_.pathLeft:xt.Types.isHat(et)?this.steps_+=this.startPaths_.path(this.RTL_):xt.Types.isSpacer(et)&&et.width!==0&&(this.steps_+=(0,Mt.lineOnAxis)("H",et.xPos+et.width-this.highlightOffset_));this.steps_+=(0,Mt.lineOnAxis)("H",o.xPos+o.width-this.highlightOffset_)},ks.Highlighter.prototype.drawJaggedEdge_=function(o){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+(0,Mt.lineOnAxis)("v",o.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},ks.Highlighter.prototype.drawValueInput=function(o){var j=o.getLastInput();if(this.RTL_){var et=o.height-j.connectionHeight;this.steps_+=(0,Mt.moveTo)(j.xPos+j.width-this.highlightOffset_,o.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+(0,Mt.lineOnAxis)("v",et)}else this.steps_+=(0,Mt.moveTo)(j.xPos+j.width,o.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},ks.Highlighter.prototype.drawStatementInput=function(o){var j=o.getLastInput();if(this.RTL_){var et=o.height-2*this.insideCornerPaths_.height;this.steps_+=(0,Mt.moveTo)(j.xPos,o.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+(0,Mt.lineOnAxis)("v",et)+this.insideCornerPaths_.pathBottom(this.RTL_)+(0,Mt.lineTo)(o.width-j.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=(0,Mt.moveTo)(j.xPos,o.yPos+o.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+(0,Mt.lineTo)(o.width-j.xPos-this.insideCornerPaths_.width,0)},ks.Highlighter.prototype.drawRightSideRow=function(o){var j=o.xPos+o.width-this.highlightOffset_;o instanceof Yl.SpacerRow&&o.followsStatement&&(this.steps_+=(0,Mt.lineOnAxis)("H",j)),this.RTL_&&(this.steps_+=(0,Mt.lineOnAxis)("H",j),o.height>this.highlightOffset_&&(this.steps_+=(0,Mt.lineOnAxis)("V",o.yPos+o.height-this.highlightOffset_)))},ks.Highlighter.prototype.drawBottomRow=function(o){if(this.RTL_)this.steps_+=(0,Mt.lineOnAxis)("V",o.baseline-this.highlightOffset_);else{var j=this.info_.bottomRow.elements[0];xt.Types.isLeftSquareCorner(j)?this.steps_+=(0,Mt.moveTo)(o.xPos+this.highlightOffset_,o.baseline-this.highlightOffset_):xt.Types.isLeftRoundedCorner(j)&&(this.steps_+=(0,Mt.moveTo)(o.xPos,o.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},ks.Highlighter.prototype.drawLeft=function(){var o=this.info_.outputConnection;o&&(o=o.connectionOffsetY+o.height,this.RTL_?this.steps_+=(0,Mt.moveTo)(this.info_.startX,o):(this.steps_+=(0,Mt.moveTo)(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=(0,Mt.lineOnAxis)("V",o)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(o=this.info_.topRow,xt.Types.isLeftRoundedCorner(o.elements[0])?this.steps_+=(0,Mt.lineOnAxis)("V",this.outsideCornerPaths_.height):this.steps_+=(0,Mt.lineOnAxis)("V",o.capline+this.highlightOffset_))},ks.Highlighter.prototype.drawInlineInput=function(o){var j=this.highlightOffset_,et=o.xPos+o.connectionWidth,ot=o.centerline-o.height/2,rt=o.width-o.connectionWidth,ct=ot+j;this.RTL_?(ot=o.connectionOffsetY-j,o=o.height-(o.connectionOffsetY+o.connectionHeight)+j,this.inlineSteps_+=(0,Mt.moveTo)(et-j,ct)+(0,Mt.lineOnAxis)("v",ot)+this.puzzleTabPaths_.pathDown(this.RTL_)+(0,Mt.lineOnAxis)("v",o)+(0,Mt.lineOnAxis)("h",rt)):this.inlineSteps_+=(0,Mt.moveTo)(o.xPos+o.width+j,ct)+(0,Mt.lineOnAxis)("v",o.height)+(0,Mt.lineOnAxis)("h",-rt)+(0,Mt.moveTo)(et,ot+o.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)};var Cr={Drawer:function(o,j){to.Drawer.call(this,o,j),this.highlighter_=new ks.Highlighter(j)}};_.$jscomp.inherits(Cr.Drawer,to.Drawer),Cr.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var o=this.block_.pathObject;o.setPath(this.outlinePath_+`
`+this.inlinePath_),o.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&o.flipRTL(),(0,Mr.isDebuggerEnabled)()&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},Cr.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),to.Drawer.prototype.drawTop_.call(this)},Cr.Drawer.prototype.drawJaggedEdge_=function(o){this.highlighter_.drawJaggedEdge_(o),to.Drawer.prototype.drawJaggedEdge_.call(this,o)},Cr.Drawer.prototype.drawValueInput_=function(o){this.highlighter_.drawValueInput(o),to.Drawer.prototype.drawValueInput_.call(this,o)},Cr.Drawer.prototype.drawStatementInput_=function(o){this.highlighter_.drawStatementInput(o),to.Drawer.prototype.drawStatementInput_.call(this,o)},Cr.Drawer.prototype.drawRightSideRow_=function(o){this.highlighter_.drawRightSideRow(o),this.outlinePath_+=(0,Mt.lineOnAxis)("H",o.xPos+o.width)+(0,Mt.lineOnAxis)("V",o.yPos+o.height)},Cr.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),to.Drawer.prototype.drawBottom_.call(this)},Cr.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),to.Drawer.prototype.drawLeft_.call(this)},Cr.Drawer.prototype.drawInlineInput_=function(o){this.highlighter_.drawInlineInput(o),to.Drawer.prototype.drawInlineInput_.call(this,o)},Cr.Drawer.prototype.positionInlineInputConnection_=function(o){var j=o.centerline-o.height/2;if(o.connectionModel){var et=o.xPos+o.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(et*=-1),o.connectionModel.setOffsetInBlock(et,j+o.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},Cr.Drawer.prototype.positionStatementInputConnection_=function(o){var j=o.getLastInput();if(j.connectionModel){var et=o.xPos+o.statementEdge+j.notchOffset;et=this.info_.RTL?-1*et:et+this.constants_.DARK_PATH_OFFSET,j.connectionModel.setOffsetInBlock(et,o.yPos+this.constants_.DARK_PATH_OFFSET)}},Cr.Drawer.prototype.positionExternalValueConnection_=function(o){var j=o.getLastInput();if(j.connectionModel){var et=o.xPos+o.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(et*=-1),j.connectionModel.setOffsetInBlock(et,o.yPos)}},Cr.Drawer.prototype.positionNextConnection_=function(){var o=this.info_.bottomRow;if(o.connection){var j=o.connection,et=j.xPos;j.connectionModel.setOffsetInBlock((this.info_.RTL?-et:et)+this.constants_.DARK_PATH_OFFSET/2,o.baseline+this.constants_.DARK_PATH_OFFSET)}};var Js={HighlightConstantProvider:function(o){this.constantProvider=o,this.OFFSET=.5,this.START_POINT=(0,Mt.moveBy)(this.OFFSET,this.OFFSET)}};Js.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},Js.HighlightConstantProvider.prototype.makeInsideCorner=function(){var o=this.constantProvider.CORNER_RADIUS,j=this.OFFSET,et=(1-Math.SQRT1_2)*(o+j)-j,ot=(0,Mt.moveBy)(et,et)+(0,Mt.arc)("a","0 0,0",o,(0,Mt.point)(-et-j,o-et)),rt=(0,Mt.arc)("a","0 0,0",o+j,(0,Mt.point)(o+j,o+j)),ct=(0,Mt.moveBy)(et,-et)+(0,Mt.arc)("a","0 0,0",o+j,(0,Mt.point)(o-et,et+j));return{width:o+j,height:o,pathTop:function(Et){return Et?ot:""},pathBottom:function(Et){return Et?rt:ct}}},Js.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var o=this.constantProvider.CORNER_RADIUS,j=this.OFFSET,et=(1-Math.SQRT1_2)*(o-j)+j,ot=(0,Mt.moveBy)(et,et)+(0,Mt.arc)("a","0 0,1",o-j,(0,Mt.point)(o-et,-et+j)),rt=(0,Mt.moveBy)(j,o)+(0,Mt.arc)("a","0 0,1",o-j,(0,Mt.point)(o,-o+j)),ct=-et,Et=(0,Mt.moveBy)(et,ct)+(0,Mt.arc)("a","0 0,1",o-j,(0,Mt.point)(-et+j,-ct-o));return{height:o,topLeft:function(wt){return wt?ot:rt},bottomLeft:function(){return Et}}},Js.HighlightConstantProvider.prototype.makePuzzleTab=function(){var o=this.constantProvider.TAB_WIDTH,j=this.constantProvider.TAB_HEIGHT,et=(0,Mt.moveBy)(-2,-j+3.4)+(0,Mt.lineTo)(-.45*o,-2.1),ot=(0,Mt.lineOnAxis)("v",2.5)+(0,Mt.moveBy)(.97*-o,2.5)+(0,Mt.curve)("q",[(0,Mt.point)(.05*-o,10),(0,Mt.point)(.3*o,9.5)])+(0,Mt.moveBy)(.67*o,-1.9)+(0,Mt.lineOnAxis)("v",2.5),rt=(0,Mt.lineOnAxis)("v",-1.5)+(0,Mt.moveBy)(-.92*o,-.5)+(0,Mt.curve)("q",[(0,Mt.point)(-.19*o,-5.5),(0,Mt.point)(0,-11)])+(0,Mt.moveBy)(.92*o,1),ct=(0,Mt.moveBy)(-5,j-.7)+(0,Mt.lineTo)(.46*o,-2.1);return{width:o,height:j,pathUp:function(Et){return Et?et:rt},pathDown:function(Et){return Et?ot:ct}}},Js.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:(0,Mt.lineOnAxis)("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},Js.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:(0,Mt.lineTo)(5.1,2.6)+(0,Mt.moveBy)(-10.2,6.8)+(0,Mt.lineTo)(5.1,2.6),height:12,width:10.2}},Js.HighlightConstantProvider.prototype.makeStartHat=function(){var o=this.constantProvider.START_HAT.height,j=(0,Mt.moveBy)(25,-8.7)+(0,Mt.curve)("c",[(0,Mt.point)(29.7,-6.2),(0,Mt.point)(57.2,-.5),(0,Mt.point)(75,8.7)]),et=(0,Mt.curve)("c",[(0,Mt.point)(17.8,-9.2),(0,Mt.point)(45.3,-14.9),(0,Mt.point)(75,-8.7)])+(0,Mt.moveTo)(100.5,o+.5);return{path:function(ot){return ot?j:et}}};var Wr={RenderInfo:function(o,j){Lo.RenderInfo.call(this,o,j)}};_.$jscomp.inherits(Wr.RenderInfo,Lo.RenderInfo),Wr.RenderInfo.prototype.getRenderer=function(){return this.renderer_},Wr.RenderInfo.prototype.populateBottomRow_=function(){Lo.RenderInfo.prototype.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},Wr.RenderInfo.prototype.addInput_=function(o,j){this.isInline&&o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE?(j.elements.push(new mm.InlineInput(this.constants_,o)),j.hasInlineInput=!0):o.type===_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT?(j.elements.push(new gm.StatementInput(this.constants_,o)),j.hasStatement=!0):o.type===_.module$exports$Blockly$inputTypes.inputTypes.VALUE?(j.elements.push(new qn.ExternalValueInput(this.constants_,o)),j.hasExternalInput=!0):o.type===_.module$exports$Blockly$inputTypes.inputTypes.DUMMY&&(j.minHeight=Math.max(j.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),j.hasDummyInput=!0),this.isInline||j.align!==null||(j.align=o.align)},Wr.RenderInfo.prototype.addElemSpacing_=function(){for(var o=!1,j=0,et;et=this.rows[j];j++)et.hasExternalInput&&(o=!0);for(j=0;et=this.rows[j];j++){var ot=et.elements;if(et.elements=[],et.startsWithElemSpacer()&&et.elements.push(new mr.InRowSpacer(this.constants_,this.getInRowSpacing_(null,ot[0]))),ot.length){for(var rt=0;rt<ot.length-1;rt++){et.elements.push(ot[rt]);var ct=this.getInRowSpacing_(ot[rt],ot[rt+1]);et.elements.push(new mr.InRowSpacer(this.constants_,ct))}et.elements.push(ot[ot.length-1]),et.endsWithElemSpacer()&&(ot=this.getInRowSpacing_(ot[ot.length-1],null),o&&et.hasDummyInput&&(ot+=this.constants_.TAB_WIDTH),et.elements.push(new mr.InRowSpacer(this.constants_,ot)))}}},Wr.RenderInfo.prototype.getInRowSpacing_=function(o,j){if(!o)return j&&xt.Types.isField(j)&&j.isEditable?this.constants_.MEDIUM_PADDING:j&&xt.Types.isInlineInput(j)?this.constants_.MEDIUM_LARGE_PADDING:j&&xt.Types.isStatementInput(j)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!xt.Types.isInput(o)&&(!j||xt.Types.isStatementInput(j)))return xt.Types.isField(o)&&o.isEditable?this.constants_.MEDIUM_PADDING:xt.Types.isIcon(o)?2*this.constants_.LARGE_PADDING+1:xt.Types.isHat(o)?this.constants_.NO_PADDING:xt.Types.isPreviousOrNextConnection(o)?this.constants_.LARGE_PADDING:xt.Types.isLeftRoundedCorner(o)?this.constants_.MIN_BLOCK_WIDTH:xt.Types.isJaggedEdge(o)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(xt.Types.isInput(o)&&!j){if(xt.Types.isExternalInput(o))return this.constants_.NO_PADDING;if(xt.Types.isInlineInput(o))return this.constants_.LARGE_PADDING;if(xt.Types.isStatementInput(o))return this.constants_.NO_PADDING}if(!xt.Types.isInput(o)&&j&&xt.Types.isInput(j)){if(xt.Types.isField(o)&&o.isEditable){if(xt.Types.isInlineInput(j)||xt.Types.isExternalInput(j))return this.constants_.SMALL_PADDING}else{if(xt.Types.isInlineInput(j)||xt.Types.isExternalInput(j))return this.constants_.MEDIUM_LARGE_PADDING;if(xt.Types.isStatementInput(j))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(xt.Types.isIcon(o)&&j&&!xt.Types.isInput(j))return this.constants_.LARGE_PADDING;if(xt.Types.isInlineInput(o)&&j&&xt.Types.isField(j))return j.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(xt.Types.isLeftSquareCorner(o)&&j){if(xt.Types.isHat(j))return this.constants_.NO_PADDING;if(xt.Types.isPreviousConnection(j))return j.notchOffset;if(xt.Types.isNextConnection(j))return j.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(xt.Types.isLeftRoundedCorner(o)&&j){if(xt.Types.isPreviousConnection(j))return j.notchOffset-this.constants_.CORNER_RADIUS;if(xt.Types.isNextConnection(j))return j.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return xt.Types.isField(o)&&j&&xt.Types.isField(j)&&o.isEditable===j.isEditable||j&&xt.Types.isJaggedEdge(j)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Wr.RenderInfo.prototype.getSpacerRowHeight_=function(o,j){return xt.Types.isTopRow(o)&&xt.Types.isBottomRow(j)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:xt.Types.isTopRow(o)||xt.Types.isBottomRow(j)?this.constants_.NO_PADDING:o.hasExternalInput&&j.hasExternalInput?this.constants_.LARGE_PADDING:!o.hasStatement&&j.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:o.hasStatement&&j.hasStatement||!o.hasStatement&&j.hasDummyInput||o.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},Wr.RenderInfo.prototype.getElemCenterline_=function(o,j){if(xt.Types.isSpacer(j))return o.yPos+j.height/2;if(xt.Types.isBottomRow(o))return o=o.yPos+o.height-o.descenderHeight,xt.Types.isNextConnection(j)?o+j.height/2:o-j.height/2;if(xt.Types.isTopRow(o))return xt.Types.isHat(j)?o.capline-j.height/2:o.capline+j.height/2;var et=o.yPos;return xt.Types.isField(j)||xt.Types.isIcon(j)?(et+=j.height/2,(o.hasInlineInput||o.hasStatement)&&j.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=o.height&&(et+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):et=xt.Types.isInlineInput(j)?et+j.height/2:et+o.height/2,et},Wr.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var o=0,j=new WeakMap,et=null,ot=this.rows.length-1,rt;rt=this.rows[ot];ot--)j.set(rt,o),xt.Types.isInputRow(rt)&&(rt.hasStatement&&this.alignStatementRow_(rt),et&&et.hasStatement&&rt.width<et.width?j.set(rt,et.width):o=rt.width,et=rt);for(o=ot=0;et=this.rows[o];o++)et.hasStatement?ot=this.getDesiredRowWidth_(et):xt.Types.isSpacer(et)?et.width=Math.max(ot,j.get(et)):(rt=et.width,ot=Math.max(ot,j.get(et))-rt,0<ot&&this.addAlignmentPadding_(et,ot),ot=et.width)}else Lo.RenderInfo.prototype.alignRowElements_.call(this)},Wr.RenderInfo.prototype.getDesiredRowWidth_=function(o){return this.isInline&&o.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:Lo.RenderInfo.prototype.getDesiredRowWidth_.call(this,o)},Wr.RenderInfo.prototype.finalize_=function(){for(var o=0,j=0,et=0,ot;ot=this.rows[et];et++){ot.yPos=j,ot.xPos=this.startX,j+=ot.height,o=Math.max(o,ot.widthWithConnectedBlocks);var rt=j-this.topRow.ascenderHeight;ot===this.bottomRow&&rt<this.constants_.MIN_BLOCK_HEIGHT&&(rt=this.constants_.MIN_BLOCK_HEIGHT-rt,this.bottomRow.height+=rt,j+=rt),this.recordElemPositions_(ot)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(o=Math.max(o,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=j-this.bottomRow.descenderHeight,this.widthWithChildren=o+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=j+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline};var Ss={Renderer:function(o){vn.Renderer.call(this,o),this.highlightConstants_=null}};_.$jscomp.inherits(Ss.Renderer,vn.Renderer),Ss.Renderer.prototype.init=function(o,j){vn.Renderer.prototype.init.call(this,o,j),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},Ss.Renderer.prototype.refreshDom=function(o,j){vn.Renderer.prototype.refreshDom.call(this,o,j),this.getHighlightConstants().init()},Ss.Renderer.prototype.makeConstants_=function(){return new Rp.ConstantProvider},Ss.Renderer.prototype.makeRenderInfo_=function(o){return new Wr.RenderInfo(this,o)},Ss.Renderer.prototype.makeDrawer_=function(o,j){return new Cr.Drawer(o,j)},Ss.Renderer.prototype.makePathObject=function(o,j){return new Es.PathObject(o,j,this.getConstants())},Ss.Renderer.prototype.makeHighlightConstants_=function(){return new Js.HighlightConstantProvider(this.getConstants())},Ss.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},(0,Ho.register)("geras",Ss.Renderer);var Os={};Os.ConstantProvider=Rp.ConstantProvider,Os.Drawer=Cr.Drawer,Os.HighlightConstantProvider=Js.HighlightConstantProvider,Os.Highlighter=ks.Highlighter,Os.InlineInput=mm.InlineInput,Os.PathObject=Es.PathObject,Os.RenderInfo=Wr.RenderInfo,Os.Renderer=Ss.Renderer,Os.StatementInput=gm.StatementInput;var km={},Nm={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},Lm={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}};km.Zelos=new Yn.Theme("zelos",Nm,Lm);var _m={};_m.Classic=Ws.Classic,_m.Zelos=km.Zelos;var br={names:{ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},registerEscape:function(){var o={name:br.names.ESCAPE,preconditionFn:function(j){return!j.options.readOnly},callback:function(j){return j.hideChaff(),!0}};So.ShortcutRegistry.registry.register(o),So.ShortcutRegistry.registry.addKeyMapping(To.KeyCodes.ESC,o.name)},registerDelete:function(){var o={name:br.names.DELETE,preconditionFn:function(j){var et=(0,_.module$exports$Blockly$common.getSelected)();return!j.options.readOnly&&et&&et.isDeletable()},callback:function(j,et){return et.preventDefault(),xo.Gesture.inProgress()?!1:((0,_.module$exports$Blockly$common.getSelected)().checkAndDelete(),!0)}};So.ShortcutRegistry.registry.register(o),So.ShortcutRegistry.registry.addKeyMapping(To.KeyCodes.DELETE,o.name),So.ShortcutRegistry.registry.addKeyMapping(To.KeyCodes.BACKSPACE,o.name)},registerCopy:function(){var o={name:br.names.COPY,preconditionFn:function(et){var ot=(0,_.module$exports$Blockly$common.getSelected)();return!et.options.readOnly&&!xo.Gesture.inProgress()&&ot&&ot.isDeletable()&&ot.isMovable()},callback:function(et,ot){return ot.preventDefault(),et.hideChaff(),(0,lr.copy)((0,_.module$exports$Blockly$common.getSelected)()),!0}};So.ShortcutRegistry.registry.register(o);var j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.C,[To.KeyCodes.CTRL]);So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.C,[To.KeyCodes.ALT]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.C,[To.KeyCodes.META]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name)},registerCut:function(){var o={name:br.names.CUT,preconditionFn:function(et){var ot=(0,_.module$exports$Blockly$common.getSelected)();return!et.options.readOnly&&!xo.Gesture.inProgress()&&ot&&ot.isDeletable()&&ot.isMovable()&&!ot.workspace.isFlyout},callback:function(){var et=(0,_.module$exports$Blockly$common.getSelected)();return et?((0,lr.copy)(et),et.checkAndDelete(),!0):!1}};So.ShortcutRegistry.registry.register(o);var j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.X,[To.KeyCodes.CTRL]);So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.X,[To.KeyCodes.ALT]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.X,[To.KeyCodes.META]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name)},registerPaste:function(){var o={name:br.names.PASTE,preconditionFn:function(et){return!et.options.readOnly&&!xo.Gesture.inProgress()},callback:function(){return(0,lr.paste)()}};So.ShortcutRegistry.registry.register(o);var j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.V,[To.KeyCodes.CTRL]);So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.V,[To.KeyCodes.ALT]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.V,[To.KeyCodes.META]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name)},registerUndo:function(){var o={name:br.names.UNDO,preconditionFn:function(et){return!et.options.readOnly&&!xo.Gesture.inProgress()},callback:function(et){return et.hideChaff(),et.undo(!1),!0}};So.ShortcutRegistry.registry.register(o);var j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.Z,[To.KeyCodes.CTRL]);So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.Z,[To.KeyCodes.ALT]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.Z,[To.KeyCodes.META]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name)},registerRedo:function(){var o={name:br.names.REDO,preconditionFn:function(et){return!xo.Gesture.inProgress()&&!et.options.readOnly},callback:function(et){return et.hideChaff(),et.undo(!0),!0}};So.ShortcutRegistry.registry.register(o);var j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.Z,[To.KeyCodes.SHIFT,To.KeyCodes.CTRL]);So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.Z,[To.KeyCodes.SHIFT,To.KeyCodes.ALT]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.Z,[To.KeyCodes.SHIFT,To.KeyCodes.META]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name),j=So.ShortcutRegistry.registry.createSerializedKey(To.KeyCodes.Y,[To.KeyCodes.CTRL]),So.ShortcutRegistry.registry.addKeyMapping(j,o.name)},registerDefaultShortcuts:function(){(0,br.registerEscape)(),(0,br.registerDelete)(),(0,br.registerCopy)(),(0,br.registerCut)(),(0,br.registerPaste)(),(0,br.registerUndo)(),(0,br.registerRedo)()}};(0,br.registerDefaultShortcuts)();var sp={FinishedLoading:function(o){an.Abstract.call(this),this.isBlank=typeof o>"u",this.workspaceId=o?o.id:"",this.recordUndo=!1,this.type=yt.FINISHED_LOADING}};_.$jscomp.inherits(sp.FinishedLoading,an.Abstract),sp.FinishedLoading.prototype.toJson=function(){var o={type:this.type};return this.group&&(o.group=this.group),this.workspaceId&&(o.workspaceId=this.workspaceId),o},sp.FinishedLoading.prototype.fromJson=function(o){this.isBlank=!1,this.workspaceId=o.workspaceId,this.group=o.group},(0,jt.register)(jt.Type.EVENT,yt.FINISHED_LOADING,sp.FinishedLoading);var lp={Ui:function(o,j,et,ot){mo.UiBase.call(this,o?o.workspace.id:void 0),this.blockId=o?o.id:null,this.element=typeof j>"u"?"":j,this.oldValue=typeof et>"u"?"":et,this.newValue=typeof ot>"u"?"":ot,this.type=yt.UI}};_.$jscomp.inherits(lp.Ui,mo.UiBase),lp.Ui.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.element=this.element,this.newValue!==void 0&&(o.newValue=this.newValue),this.blockId&&(o.blockId=this.blockId),o},lp.Ui.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.element=o.element,this.newValue=o.newValue,this.blockId=o.blockId},(0,jt.register)(jt.Type.EVENT,yt.UI,lp.Ui);var ap={BubbleOpen:function(o,j,et){mo.UiBase.call(this,o?o.workspace.id:void 0),this.blockId=o?o.id:null,this.isOpen=j,this.bubbleType=et,this.type=yt.BUBBLE_OPEN}};_.$jscomp.inherits(ap.BubbleOpen,mo.UiBase),ap.BubbleOpen.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.isOpen=this.isOpen,o.bubbleType=this.bubbleType,o.blockId=this.blockId,o},ap.BubbleOpen.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.isOpen=o.isOpen,this.bubbleType=o.bubbleType,this.blockId=o.blockId},(0,jt.register)(jt.Type.EVENT,yt.BUBBLE_OPEN,ap.BubbleOpen);var na={CommentChange:function(o,j,et){wn.CommentBase.call(this,o),this.type=yt.COMMENT_CHANGE,o&&(this.oldContents_=typeof j>"u"?"":j,this.newContents_=typeof et>"u"?"":et)}};_.$jscomp.inherits(na.CommentChange,wn.CommentBase),na.CommentChange.prototype.toJson=function(){var o=wn.CommentBase.prototype.toJson.call(this);return o.oldContents=this.oldContents_,o.newContents=this.newContents_,o},na.CommentChange.prototype.fromJson=function(o){wn.CommentBase.prototype.fromJson.call(this,o),this.oldContents_=o.oldContents,this.newContents_=o.newContents},na.CommentChange.prototype.isNull=function(){return this.oldContents_===this.newContents_},na.CommentChange.prototype.run=function(o){var j=this.getEventWorkspace_().getCommentById(this.commentId);j?j.setContent(o?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},(0,jt.register)(jt.Type.EVENT,yt.COMMENT_CHANGE,na.CommentChange);var ku={CommentCreate:function(o){wn.CommentBase.call(this,o),this.type=yt.COMMENT_CREATE,o&&(this.xml=o.toXmlWithXY())}};_.$jscomp.inherits(ku.CommentCreate,wn.CommentBase),ku.CommentCreate.prototype.toJson=function(){var o=wn.CommentBase.prototype.toJson.call(this);return o.xml=(0,_.module$exports$Blockly$Xml.domToText)(this.xml),o},ku.CommentCreate.prototype.fromJson=function(o){wn.CommentBase.prototype.fromJson.call(this,o),this.xml=(0,_.module$exports$Blockly$Xml.textToDom)(o.xml)},ku.CommentCreate.prototype.run=function(o){wn.CommentBase.CommentCreateDeleteHelper(this,o)},(0,jt.register)(jt.Type.EVENT,yt.COMMENT_CREATE,ku.CommentCreate);var Su={CommentDelete:function(o){wn.CommentBase.call(this,o),this.type=yt.COMMENT_DELETE,o&&(this.xml=o.toXmlWithXY())}};_.$jscomp.inherits(Su.CommentDelete,wn.CommentBase),Su.CommentDelete.prototype.toJson=function(){return wn.CommentBase.prototype.toJson.call(this)},Su.CommentDelete.prototype.fromJson=function(o){wn.CommentBase.prototype.fromJson.call(this,o)},Su.CommentDelete.prototype.run=function(o){wn.CommentBase.CommentCreateDeleteHelper(this,!o)},(0,jt.register)(jt.Type.EVENT,yt.COMMENT_DELETE,Su.CommentDelete);var up={TrashcanOpen:function(o,j){mo.UiBase.call(this,j),this.isOpen=o,this.type=yt.TRASHCAN_OPEN}};_.$jscomp.inherits(up.TrashcanOpen,mo.UiBase),up.TrashcanOpen.prototype.toJson=function(){var o=mo.UiBase.prototype.toJson.call(this);return o.isOpen=this.isOpen,o},up.TrashcanOpen.prototype.fromJson=function(o){mo.UiBase.prototype.fromJson.call(this,o),this.isOpen=o.isOpen},(0,jt.register)(jt.Type.EVENT,yt.TRASHCAN_OPEN,up.TrashcanOpen),_.module$exports$Blockly$Events={},_.module$exports$Blockly$Events.Abstract=an.Abstract,_.module$exports$Blockly$Events.BubbleOpen=ap.BubbleOpen,_.module$exports$Blockly$Events.BlockBase=hn.BlockBase,_.module$exports$Blockly$Events.BlockChange=Nr.BlockChange,_.module$exports$Blockly$Events.BlockCreate=Ar.BlockCreate,_.module$exports$Blockly$Events.BlockDelete=Ds.BlockDelete,_.module$exports$Blockly$Events.BlockDrag=xs.BlockDrag,_.module$exports$Blockly$Events.BlockMove=gs.BlockMove,_.module$exports$Blockly$Events.Click=It.Click,_.module$exports$Blockly$Events.CommentBase=wn.CommentBase,_.module$exports$Blockly$Events.CommentChange=na.CommentChange,_.module$exports$Blockly$Events.CommentCreate=ku.CommentCreate,_.module$exports$Blockly$Events.CommentDelete=Su.CommentDelete,_.module$exports$Blockly$Events.CommentMove=ms.CommentMove,_.module$exports$Blockly$Events.FinishedLoading=sp.FinishedLoading,_.module$exports$Blockly$Events.MarkerMove=Bl.MarkerMove,_.module$exports$Blockly$Events.Selected=xl.Selected,_.module$exports$Blockly$Events.ThemeChange=Kl.ThemeChange,_.module$exports$Blockly$Events.ToolboxItemSelect=Zl.ToolboxItemSelect,_.module$exports$Blockly$Events.TrashcanOpen=up.TrashcanOpen,_.module$exports$Blockly$Events.Ui=lp.Ui,_.module$exports$Blockly$Events.UiBase=mo.UiBase,_.module$exports$Blockly$Events.VarBase=ar.VarBase,_.module$exports$Blockly$Events.VarCreate=Tl.VarCreate,_.module$exports$Blockly$Events.VarDelete=Xs.VarDelete,_.module$exports$Blockly$Events.VarRename=El.VarRename,_.module$exports$Blockly$Events.ViewportChange=Jl.ViewportChange,_.module$exports$Blockly$Events.BLOCK_CHANGE=yt.CHANGE,_.module$exports$Blockly$Events.BLOCK_CREATE=yt.CREATE,_.module$exports$Blockly$Events.BLOCK_DELETE=yt.DELETE,_.module$exports$Blockly$Events.BLOCK_DRAG=yt.BLOCK_DRAG,_.module$exports$Blockly$Events.BLOCK_MOVE=yt.MOVE,_.module$exports$Blockly$Events.BUBBLE_OPEN=yt.BUBBLE_OPEN,_.module$exports$Blockly$Events.BumpEvent=yt.BumpEvent,_.module$exports$Blockly$Events.BUMP_EVENTS=yt.BUMP_EVENTS,_.module$exports$Blockly$Events.CHANGE=yt.CHANGE,_.module$exports$Blockly$Events.CLICK=yt.CLICK,_.module$exports$Blockly$Events.COMMENT_CHANGE=yt.COMMENT_CHANGE,_.module$exports$Blockly$Events.COMMENT_CREATE=yt.COMMENT_CREATE,_.module$exports$Blockly$Events.COMMENT_DELETE=yt.COMMENT_DELETE,_.module$exports$Blockly$Events.COMMENT_MOVE=yt.COMMENT_MOVE,_.module$exports$Blockly$Events.CREATE=yt.CREATE,_.module$exports$Blockly$Events.DELETE=yt.DELETE,_.module$exports$Blockly$Events.FINISHED_LOADING=yt.FINISHED_LOADING,_.module$exports$Blockly$Events.MARKER_MOVE=yt.MARKER_MOVE,_.module$exports$Blockly$Events.MOVE=yt.MOVE,_.module$exports$Blockly$Events.SELECTED=yt.SELECTED,_.module$exports$Blockly$Events.THEME_CHANGE=yt.THEME_CHANGE,_.module$exports$Blockly$Events.TOOLBOX_ITEM_SELECT=yt.TOOLBOX_ITEM_SELECT,_.module$exports$Blockly$Events.TRASHCAN_OPEN=yt.TRASHCAN_OPEN,_.module$exports$Blockly$Events.UI=yt.UI,_.module$exports$Blockly$Events.VAR_CREATE=yt.VAR_CREATE,_.module$exports$Blockly$Events.VAR_DELETE=yt.VAR_DELETE,_.module$exports$Blockly$Events.VAR_RENAME=yt.VAR_RENAME,_.module$exports$Blockly$Events.VIEWPORT_CHANGE=yt.VIEWPORT_CHANGE,_.module$exports$Blockly$Events.clearPendingUndo=yt.clearPendingUndo,_.module$exports$Blockly$Events.disable=yt.disable,_.module$exports$Blockly$Events.enable=yt.enable,_.module$exports$Blockly$Events.filter=yt.filter,_.module$exports$Blockly$Events.fire=yt.fire,_.module$exports$Blockly$Events.fromJson=yt.fromJson,_.module$exports$Blockly$Events.getDescendantIds=yt.getDescendantIds,_.module$exports$Blockly$Events.get=yt.get,_.module$exports$Blockly$Events.getGroup=yt.getGroup,_.module$exports$Blockly$Events.getRecordUndo=yt.getRecordUndo,_.module$exports$Blockly$Events.isEnabled=yt.isEnabled,_.module$exports$Blockly$Events.setGroup=yt.setGroup,_.module$exports$Blockly$Events.setRecordUndo=yt.setRecordUndo,_.module$exports$Blockly$Events.disableOrphans=yt.disableOrphans,Object.defineProperties(_.module$exports$Blockly$Events,{recordUndo:{get:function(){return(0,tt.warn)("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.getRecordUndo()"),(0,yt.getRecordUndo)()},set:function(o){(0,tt.warn)("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.setRecordUndo()"),(0,yt.setRecordUndo)(o)}}});var Mn={registerUndo:function(){Xo.ContextMenuRegistry.registry.register({displayText:function(){return _.module$exports$Blockly$Msg.Msg.UNDO},preconditionFn:function(o){return 0<o.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(o){o.workspace.undo(!1)},scopeType:Xo.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},registerRedo:function(){Xo.ContextMenuRegistry.registry.register({displayText:function(){return _.module$exports$Blockly$Msg.Msg.REDO},preconditionFn:function(o){return 0<o.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(o){o.workspace.undo(!0)},scopeType:Xo.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},registerCleanup:function(){Xo.ContextMenuRegistry.registry.register({displayText:function(){return _.module$exports$Blockly$Msg.Msg.CLEAN_UP},preconditionFn:function(o){return o.workspace.isMovable()?1<o.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(o){o.workspace.cleanUp()},scopeType:Xo.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})}},Sm=function(o,j){var et=0,ot=0,rt=function(wt){ot--,wt.setCollapsed(o),ot===0&&(0,_.module$exports$Blockly$Events.setGroup)(!1)};(0,_.module$exports$Blockly$Events.setGroup)(!0);for(var ct=0;ct<j.length;ct++)for(var Et=j[ct];Et;)ot++,setTimeout(rt.bind(null,Et),et),Et=Et.getNextBlock(),et+=10};Mn.registerCollapse=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(){return _.module$exports$Blockly$Msg.Msg.COLLAPSE_ALL},preconditionFn:function(o){if(o.workspace.options.collapse){o=o.workspace.getTopBlocks(!1);for(var j=0;j<o.length;j++)for(var et=o[j];et;){if(!et.isCollapsed())return"enabled";et=et.getNextBlock()}return"disabled"}return"hidden"},callback:function(o){Sm(!0,o.workspace.getTopBlocks(!0))},scopeType:Xo.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},Mn.registerExpand=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(){return _.module$exports$Blockly$Msg.Msg.EXPAND_ALL},preconditionFn:function(o){if(o.workspace.options.collapse){o=o.workspace.getTopBlocks(!1);for(var j=0;j<o.length;j++)for(var et=o[j];et;){if(et.isCollapsed())return"enabled";et=et.getNextBlock()}return"disabled"}return"hidden"},callback:function(o){Sm(!1,o.workspace.getTopBlocks(!0))},scopeType:Xo.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})};var Cm=function(o,j){if(o.isDeletable())Array.prototype.push.apply(j,o.getDescendants(!1));else{o=o.getChildren(!1);for(var et=0;et<o.length;et++)Cm(o[et],j)}},ym=function(o){var j=[];o=o.getTopBlocks(!0);for(var et=0;et<o.length;et++)Cm(o[et],j);return j},Dp=function(o,j){(0,yt.setGroup)(j);var et=o.shift();et&&(et.workspace?(et.dispose(!1,!0),setTimeout(Dp,10,o,j)):Dp(o,j)),(0,yt.setGroup)(!1)};Mn.registerDeleteAll=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(o){if(o.workspace)return o=ym(o.workspace).length,o===1?_.module$exports$Blockly$Msg.Msg.DELETE_BLOCK:_.module$exports$Blockly$Msg.Msg.DELETE_X_BLOCKS.replace("%1",String(o))},preconditionFn:function(o){if(o.workspace)return 0<ym(o.workspace).length?"enabled":"disabled"},callback:function(o){if(o.workspace){o.workspace.cancelCurrentGesture();var j=ym(o.workspace),et=(0,mn.genUid)();2>j.length?Dp(j,et):(0,Vn.confirm)(_.module$exports$Blockly$Msg.Msg.DELETE_ALL_BLOCKS.replace("%1",String(j.length)),function(ot){ot&&Dp(j,et)})}},scopeType:Xo.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})};var Fm=function(){(0,Mn.registerUndo)(),(0,Mn.registerRedo)(),(0,Mn.registerCleanup)(),(0,Mn.registerCollapse)(),(0,Mn.registerExpand)(),(0,Mn.registerDeleteAll)()};Mn.registerDuplicate=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(){return _.module$exports$Blockly$Msg.Msg.DUPLICATE_BLOCK},preconditionFn:function(o){return o=o.block,!o.isInFlyout&&o.isDeletable()&&o.isMovable()?o.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(o){o.block&&(0,lr.duplicate)(o.block)},scopeType:Xo.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Mn.registerComment=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(o){return o.block.getCommentIcon()?_.module$exports$Blockly$Msg.Msg.REMOVE_COMMENT:_.module$exports$Blockly$Msg.Msg.ADD_COMMENT},preconditionFn:function(o){return o=o.block,$t.IE||o.isInFlyout||!o.workspace.options.comments||o.isCollapsed()||!o.isEditable()?"hidden":"enabled"},callback:function(o){o=o.block,o.getCommentIcon()?o.setCommentText(null):o.setCommentText("")},scopeType:Xo.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},Mn.registerInline=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(o){return o.block.getInputsInline()?_.module$exports$Blockly$Msg.Msg.EXTERNAL_INPUTS:_.module$exports$Blockly$Msg.Msg.INLINE_INPUTS},preconditionFn:function(o){if(o=o.block,!o.isInFlyout&&o.isMovable()&&!o.isCollapsed()){for(var j=1;j<o.inputList.length;j++)if(o.inputList[j-1].type!==_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT&&o.inputList[j].type!==_.module$exports$Blockly$inputTypes.inputTypes.STATEMENT)return"enabled"}return"hidden"},callback:function(o){o.block.setInputsInline(!o.block.getInputsInline())},scopeType:Xo.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},Mn.registerCollapseExpandBlock=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(o){return o.block.isCollapsed()?_.module$exports$Blockly$Msg.Msg.EXPAND_BLOCK:_.module$exports$Blockly$Msg.Msg.COLLAPSE_BLOCK},preconditionFn:function(o){return o=o.block,!o.isInFlyout&&o.isMovable()&&o.workspace.options.collapse?"enabled":"hidden"},callback:function(o){o.block.setCollapsed(!o.block.isCollapsed())},scopeType:Xo.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},Mn.registerDisable=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(o){return o.block.isEnabled()?_.module$exports$Blockly$Msg.Msg.DISABLE_BLOCK:_.module$exports$Blockly$Msg.Msg.ENABLE_BLOCK},preconditionFn:function(o){return o=o.block,!o.isInFlyout&&o.workspace.options.disable&&o.isEditable()?o.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(o){o=o.block;var j=(0,yt.getGroup)();j||(0,yt.setGroup)(!0),o.setEnabled(!o.isEnabled()),j||(0,yt.setGroup)(!1)},scopeType:Xo.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},Mn.registerDelete=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(o){var j=o.block;return o=j.getDescendants(!1).length,(j=j.getNextBlock())&&(o-=j.getDescendants(!1).length),o===1?_.module$exports$Blockly$Msg.Msg.DELETE_BLOCK:_.module$exports$Blockly$Msg.Msg.DELETE_X_BLOCKS.replace("%1",String(o))},preconditionFn:function(o){return!o.block.isInFlyout&&o.block.isDeletable()?"enabled":"hidden"},callback:function(o){o.block&&o.block.checkAndDelete()},scopeType:Xo.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},Mn.registerHelp=function(){Xo.ContextMenuRegistry.registry.register({displayText:function(){return _.module$exports$Blockly$Msg.Msg.HELP},preconditionFn:function(o){return o=o.block,(typeof o.helpUrl=="function"?o.helpUrl():o.helpUrl)?"enabled":"hidden"},callback:function(o){o.block.showHelp()},scopeType:Xo.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})};var Pm=function(){(0,Mn.registerDuplicate)(),(0,Mn.registerComment)(),(0,Mn.registerInline)(),(0,Mn.registerCollapseExpandBlock)(),(0,Mn.registerDisable)(),(0,Mn.registerDelete)(),(0,Mn.registerHelp)()};Mn.registerDefaultOptions=function(){Fm(),Pm()},(0,Mn.registerDefaultOptions)();var Pn={Icon:function(o){this.block_=o,this.iconGroup_=null,this.collapseHidden=!0,this.SIZE=17,this.iconXY_=this.bubble_=null}};Pn.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&(0,kt.addClass)(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),(0,Tt.conditionalBind)(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},Pn.Icon.prototype.dispose=function(){(0,kt.removeNode)(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},Pn.Icon.prototype.updateEditable=function(){},Pn.Icon.prototype.isVisible=function(){return!!this.bubble_},Pn.Icon.prototype.iconClick_=function(o){this.block_.workspace.isDragging()||this.block_.isInFlyout||(0,Tt.isRightButton)(o)||this.setVisible(!this.isVisible())},Pn.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},Pn.Icon.prototype.setIconLocation=function(o){this.iconXY_=o,this.isVisible()&&this.bubble_.setAnchorLocation(o)},Pn.Icon.prototype.computeIconLocation=function(){var o=this.block_.getRelativeToSurfaceXY(),j=(0,Jo.getRelativeXY)(this.iconGroup_);o=new go.Coordinate(o.x+j.x+this.SIZE/2,o.y+j.y+this.SIZE/2),go.Coordinate.equals(this.getIconLocation(),o)||this.setIconLocation(o)},Pn.Icon.prototype.getIconLocation=function(){return this.iconXY_},Pn.Icon.prototype.getCorrectedSize=function(){return new Ln.Size(this.SIZE,this.SIZE-2)},Pn.Icon.prototype.drawIcon_=function(o){},Pn.Icon.prototype.setVisible=function(o){},_.module$exports$Blockly$Mutator={Mutator:function(o){Pn.Icon.call(this,null),this.quarkNames_=o,this.workspace_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_=this.rootBlock_=this.svgDialog_=null}},_.$jscomp.inherits(_.module$exports$Blockly$Mutator.Mutator,Pn.Icon),_.module$exports$Blockly$Mutator.Mutator.prototype.setBlock=function(o){this.block_=o},_.module$exports$Blockly$Mutator.Mutator.prototype.getWorkspace=function(){return this.workspace_},_.module$exports$Blockly$Mutator.Mutator.prototype.drawIcon_=function(o){(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},o),(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},o),(0,kt.createSvgElement)(Nt.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},o)},_.module$exports$Blockly$Mutator.Mutator.prototype.iconClick_=function(o){this.block_.isEditable()&&Pn.Icon.prototype.iconClick_.call(this,o)},_.module$exports$Blockly$Mutator.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=(0,kt.createSvgElement)(Nt.Svg.SVG,{x:_o.Bubble.BORDER_WIDTH,y:_o.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var o=(0,_.module$exports$Blockly$utils$xml.createElement)("xml"),j=0,et;et=this.quarkNames_[j];j++){var ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block");ot.setAttribute("type",et),o.appendChild(ot)}else o=null;return j=new tr.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides}),j.toolboxPosition=this.block_.RTL?bo.Position.RIGHT:bo.Position.LEFT,(et=!!o)&&(j.languageTree=(0,bo.convertToolboxDefToJson)(o)),this.workspace_=new no.WorkspaceSvg(j),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(yt.disableOrphans),o=et?this.workspace_.addFlyout(Nt.Svg.G):null,j=this.workspace_.createDom("blocklyMutatorBackground"),o&&j.insertBefore(o,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(j),this.svgDialog_},_.module$exports$Blockly$Mutator.Mutator.prototype.updateEditable=function(){Pn.Icon.prototype.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&(0,kt.removeClass)(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&(0,kt.addClass)(this.iconGroup_,"blocklyIconGroupReadonly")))},_.module$exports$Blockly$Mutator.Mutator.prototype.resizeBubble_=function(){var o=2*_o.Bubble.BORDER_WIDTH,j=this.workspace_.getCanvas().getBBox(),et=j.width+j.x,ot=j.height+3*o,rt=this.workspace_.getFlyout();if(rt){var ct=rt.getWorkspace().getMetricsManager().getScrollMetrics();ot=Math.max(ot,ct.height+20),et+=rt.getWidth()}this.block_.RTL&&(et=-j.x),et+=3*o,(Math.abs(this.workspaceWidth_-et)>o||Math.abs(this.workspaceHeight_-ot)>o)&&(this.workspaceWidth_=et,this.workspaceHeight_=ot,this.bubble_.setBubbleSize(et+o,ot+o),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(o="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",o)),this.workspace_.resize()},_.module$exports$Blockly$Mutator.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},_.module$exports$Blockly$Mutator.Mutator.prototype.setVisible=function(o){var j=this;if(o!==this.isVisible())if((0,yt.fire)(new((0,yt.get)(yt.BUBBLE_OPEN))(this.block_,o,"mutator")),o){this.bubble_=new _o.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var et=this.workspace_.options.languageTree;o=this.workspace_.getFlyout(),et&&(o.init(this.workspace_),o.show(et)),this.rootBlock_=this.block_.decompose(this.workspace_),et=this.rootBlock_.getDescendants(!1);for(var ot=0,rt=void 0;rt=et[ot];ot++)rt.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),o?(et=2*o.CORNER_RADIUS,o=this.rootBlock_.RTL?o.getWidth()+et:et):o=et=16,this.block_.RTL&&(o=-o),this.rootBlock_.moveBy(o,et),this.block_.saveConnections){var ct=this.rootBlock_;this.block_.saveConnections(ct),this.sourceListener_=function(){j.block_&&j.block_.saveConnections(ct)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateWorkspace_(),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},_.module$exports$Blockly$Mutator.Mutator.prototype.workspaceChanged_=function(o){o.isUiEvent||o.type===yt.CHANGE&&o.element==="disabled"||o.type===yt.CREATE||this.updateWorkspace_()},_.module$exports$Blockly$Mutator.Mutator.prototype.updateWorkspace_=function(){if(!this.workspace_.isDragging())for(var o=this.workspace_.getTopBlocks(!1),j=0,et=void 0;et=o[j];j++){var ot=et.getRelativeToSurfaceXY();if(20>ot.y&&et.moveBy(0,20-ot.y),et.RTL){var rt=-20,ct=this.workspace_.getFlyout();ct&&(rt-=ct.getWidth()),ot.x>rt&&et.moveBy(rt-ot.x,0)}else 20>ot.x&&et.moveBy(20-ot.x,0)}if(this.rootBlock_.workspace===this.workspace_){(o=(0,yt.getGroup)())||(0,yt.setGroup)(!0);var Et=this.block_;if(j=Nr.BlockChange.getExtraBlockState_(Et),et=Et.rendered,Et.rendered=!1,Et.compose(this.rootBlock_),Et.rendered=et,Et.initSvg(),Et.rendered&&Et.render(),et=Nr.BlockChange.getExtraBlockState_(Et),j!==et){(0,yt.fire)(new((0,yt.get)(yt.CHANGE))(Et,"mutation",null,j,et));var wt=(0,yt.getGroup)();setTimeout(function(){var Lt=(0,yt.getGroup)();(0,yt.setGroup)(wt),Et.bumpNeighbours(),(0,yt.setGroup)(Lt)},_.module$exports$Blockly$config.config.bumpDelay)}this.workspace_.isDragging()||this.resizeBubble_(),(0,yt.setGroup)(o)}},_.module$exports$Blockly$Mutator.Mutator.prototype.dispose=function(){this.block_.mutator=null,Pn.Icon.prototype.dispose.call(this)},_.module$exports$Blockly$Mutator.Mutator.prototype.updateBlockStyle=function(){var o=this.workspace_;if(o&&o.getAllBlocks(!1)){for(var j=o.getAllBlocks(!1),et=0,ot;ot=j[et];et++)ot.setStyle(ot.getStyleName());if(o=o.getFlyout())for(o=o.workspace_.getAllBlocks(!1),j=0;et=o[j];j++)et.setStyle(et.getStyleName())}},_.module$exports$Blockly$Mutator.Mutator.reconnect=function(o,j,et){if(!o||!o.getSourceBlock().workspace)return!1;et=j.getInput(et).connection;var ot=o.targetBlock();return ot&&ot!==j||et.targetConnection===o?!1:(et.isConnected()&&et.disconnect(),et.connect(o),!0)},_.module$exports$Blockly$Mutator.Mutator.findParentWs=function(o){var j=null;if(o&&o.options){var et=o.options.parentWorkspace;o.isFlyout?et&&et.options&&(j=et.options.parentWorkspace):et&&(j=et)}return j};var ws={Warning:function(o){Pn.Icon.call(this,o),this.createIcon(),this.text_=Object.create(null),this.paragraphElement_=null,this.collapseHidden=!1}};_.$jscomp.inherits(ws.Warning,Pn.Icon),ws.Warning.prototype.drawIcon_=function(o){(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},o),(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},o),(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},o)},ws.Warning.prototype.setVisible=function(o){o!==this.isVisible()&&((0,yt.fire)(new((0,yt.get)(yt.BUBBLE_OPEN))(this.block_,o,"warning")),o?this.createBubble_():this.disposeBubble_())},ws.Warning.prototype.createBubble_=function(){this.paragraphElement_=_o.Bubble.textToDom(this.getText()),this.bubble_=_o.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},ws.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},ws.Warning.prototype.setText=function(o,j){this.text_[j]!==o&&(o?this.text_[j]=o:delete this.text_[j],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},ws.Warning.prototype.getText=function(){var o=[],j;for(j in this.text_)o.push(this.text_[j]);return o.join(`
`)},ws.Warning.prototype.dispose=function(){this.block_.warning=null,Pn.Icon.prototype.dispose.call(this)};var cr={Comment:function(o){Pn.Icon.call(this,o),this.model_=o.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.paragraphElement_=this.textarea_=this.foreignObject_=this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()}};_.$jscomp.inherits(cr.Comment,Pn.Icon),cr.Comment.prototype.drawIcon_=function(o){(0,kt.createSvgElement)(Nt.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},o),(0,kt.createSvgElement)(Nt.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},o),(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},o)},cr.Comment.prototype.createEditor_=function(){this.foreignObject_=(0,kt.createSvgElement)(Nt.Svg.FOREIGNOBJECT,{x:_o.Bubble.BORDER_WIDTH,y:_o.Bubble.BORDER_WIDTH},null);var o=document.createElementNS(kt.HTML_NS,"body");o.setAttribute("xmlns",kt.HTML_NS),o.className="blocklyMinimalBody";var j=this.textarea_=document.createElementNS(kt.HTML_NS,"textarea");return j.className="blocklyCommentTextarea",j.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),j.value=this.model_.text,this.resizeTextarea_(),o.appendChild(j),this.foreignObject_.appendChild(o),this.onMouseUpWrapper_=(0,Tt.conditionalBind)(j,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=(0,Tt.conditionalBind)(j,"wheel",this,function(et){et.stopPropagation()}),this.onChangeWrapper_=(0,Tt.conditionalBind)(j,"change",this,function(et){this.cachedText_!==this.model_.text&&(0,yt.fire)(new((0,yt.get)(yt.CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))}),this.onInputWrapper_=(0,Tt.conditionalBind)(j,"input",this,function(et){this.model_.text=j.value}),setTimeout(j.focus.bind(j),0),this.foreignObject_},cr.Comment.prototype.updateEditable=function(){Pn.Icon.prototype.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},cr.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},cr.Comment.prototype.resizeTextarea_=function(){var o=this.model_.size,j=2*_o.Bubble.BORDER_WIDTH,et=o.width-j;o=o.height-j,this.foreignObject_.setAttribute("width",et),this.foreignObject_.setAttribute("height",o),this.textarea_.style.width=et-4+"px",this.textarea_.style.height=o-4+"px"},cr.Comment.prototype.setVisible=function(o){o!==this.isVisible()&&((0,yt.fire)(new((0,yt.get)(yt.BUBBLE_OPEN))(this.block_,o,"comment")),(this.model_.pinned=o)?this.createBubble_():this.disposeBubble_())},cr.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||$t.IE?this.createNonEditableBubble_():this.createEditableBubble_()},cr.Comment.prototype.createEditableBubble_=function(){this.bubble_=new _o.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},cr.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=_o.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=_o.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},cr.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&((0,Tt.unbind)(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&((0,Tt.unbind)(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&((0,Tt.unbind)(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&((0,Tt.unbind)(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},cr.Comment.prototype.startEdit_=function(o){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},cr.Comment.prototype.getBubbleSize=function(){return this.model_.size},cr.Comment.prototype.setBubbleSize=function(o,j){this.bubble_?this.bubble_.setBubbleSize(o,j):(this.model_.size.width=o,this.model_.size.height=j)},cr.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},cr.Comment.prototype.dispose=function(){this.block_.comment=null,Pn.Icon.prototype.dispose.call(this)},(0,nt.register)(`
.blocklyCommentTextarea {
  background-color: #fef49c;
  border: 0;
  display: block;
  margin: 0;
  outline: 0;
  padding: 3px;
  resize: none;
  text-overflow: hidden;
}
`);var Dr={SPRITE:{width:96,height:124,url:"sprites.png"}},er={verticalPosition:{TOP:0,BOTTOM:1},horizontalPosition:{LEFT:0,RIGHT:1},bumpDirection:{UP:0,DOWN:1},getStartPositionRect:function(o,j,et,ot,rt,ct){var Et=ct.scrollbar&&ct.scrollbar.canScrollVertically();return o.horizontal===er.horizontalPosition.LEFT?(et=rt.absoluteMetrics.left+et,Et&&ct.RTL&&(et+=$o.Scrollbar.scrollbarThickness)):(et=rt.absoluteMetrics.left+rt.viewMetrics.width-j.width-et,Et&&!ct.RTL&&(et-=$o.Scrollbar.scrollbarThickness)),o.vertical===er.verticalPosition.TOP?o=rt.absoluteMetrics.top+ot:(o=rt.absoluteMetrics.top+rt.viewMetrics.height-j.height-ot,ct.scrollbar&&ct.scrollbar.canScrollHorizontally()&&(o-=$o.Scrollbar.scrollbarThickness)),new In.Rect(o,o+j.height,et,et+j.width)},getCornerOppositeToolbox:function(o,j){return{horizontal:j.toolboxMetrics.position===bo.Position.LEFT||o.horizontalLayout&&!o.RTL?er.horizontalPosition.RIGHT:er.horizontalPosition.LEFT,vertical:j.toolboxMetrics.position===bo.Position.BOTTOM?er.verticalPosition.TOP:er.verticalPosition.BOTTOM}},bumpPositionRect:function(o,j,et,ot){for(var rt=o.left,ct=o.right-o.left,Et=o.bottom-o.top,wt=0;wt<ot.length;wt++){var Lt=ot[wt];o.intersects(Lt)&&(o=et===er.bumpDirection.UP?Lt.top-Et-j:Lt.bottom+j,o=new In.Rect(o,o+Et,rt,rt+ct),wt=-1)}return o}},Um={IPositionable:function(){}},jr={ZoomControls:function(o){this.workspace_=o,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null,this.HEIGHT_=this.WIDTH_=32,this.SMALL_SPACING_=2,this.LARGE_SPACING_=11,this.MARGIN_HORIZONTAL_=this.MARGIN_VERTICAL_=20,this.svgGroup_=null,this.top_=this.left_=0,this.initialized_=!1}};jr.ZoomControls.prototype.createDom=function(){this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{},null);var o=String(Math.random()).substring(2);return this.createZoomOutSvg_(o),this.createZoomInSvg_(o),this.workspace_.isMovable()&&this.createZoomResetSvg_(o),this.svgGroup_},jr.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[dn.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},jr.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&(0,kt.removeNode)(this.svgGroup_),this.onZoomResetWrapper_&&(0,Tt.unbind)(this.onZoomResetWrapper_),this.onZoomInWrapper_&&(0,Tt.unbind)(this.onZoomInWrapper_),this.onZoomOutWrapper_&&(0,Tt.unbind)(this.onZoomOutWrapper_)},jr.ZoomControls.prototype.getBoundingRectangle=function(){var o=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(o+=this.LARGE_SPACING_+this.HEIGHT_),new In.Rect(this.top_,this.top_+o,this.left_,this.left_+this.WIDTH_)},jr.ZoomControls.prototype.position=function(o,j){if(this.initialized_){var et=(0,er.getCornerOppositeToolbox)(this.workspace_,o),ot=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(ot+=this.LARGE_SPACING_+this.HEIGHT_),o=(0,er.getStartPositionRect)(et,new Ln.Size(this.WIDTH_,ot),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,o,this.workspace_),et=et.vertical,j=(0,er.bumpPositionRect)(o,this.MARGIN_VERTICAL_,et===er.verticalPosition.TOP?er.bumpDirection.DOWN:er.bumpDirection.UP,j),et===er.verticalPosition.TOP?(et=this.SMALL_SPACING_+this.HEIGHT_,this.zoomInGroup_.setAttribute("transform","translate(0, "+et+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(et+this.LARGE_SPACING_+this.HEIGHT_)+")")):(et=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0,this.zoomInGroup_.setAttribute("transform","translate(0, "+et+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(et+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=j.top,this.left_=j.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},jr.ZoomControls.prototype.createZoomOutSvg_=function(o){this.zoomOutGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var j=(0,kt.createSvgElement)(Nt.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+o},this.zoomOutGroup_);(0,kt.createSvgElement)(Nt.Svg.RECT,{width:32,height:32},j),(0,kt.createSvgElement)(Nt.Svg.IMAGE,{width:Dr.SPRITE.width,height:Dr.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+o+")"},this.zoomOutGroup_).setAttributeNS(kt.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Dr.SPRITE.url),this.onZoomOutWrapper_=(0,Tt.conditionalBind)(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},jr.ZoomControls.prototype.createZoomInSvg_=function(o){this.zoomInGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var j=(0,kt.createSvgElement)(Nt.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+o},this.zoomInGroup_);(0,kt.createSvgElement)(Nt.Svg.RECT,{width:32,height:32},j),(0,kt.createSvgElement)(Nt.Svg.IMAGE,{width:Dr.SPRITE.width,height:Dr.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+o+")"},this.zoomInGroup_).setAttributeNS(kt.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Dr.SPRITE.url),this.onZoomInWrapper_=(0,Tt.conditionalBind)(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},jr.ZoomControls.prototype.zoom_=function(o,j){this.workspace_.markFocused(),this.workspace_.zoomCenter(o),this.fireZoomEvent_(),(0,dt.clearTouchIdentifier)(),j.stopPropagation(),j.preventDefault()},jr.ZoomControls.prototype.createZoomResetSvg_=function(o){this.zoomResetGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var j=(0,kt.createSvgElement)(Nt.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+o},this.zoomResetGroup_);(0,kt.createSvgElement)(Nt.Svg.RECT,{width:32,height:32},j),(0,kt.createSvgElement)(Nt.Svg.IMAGE,{width:Dr.SPRITE.width,height:Dr.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+o+")"},this.zoomResetGroup_).setAttributeNS(kt.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Dr.SPRITE.url),this.onZoomResetWrapper_=(0,Tt.conditionalBind)(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},jr.ZoomControls.prototype.resetZoom_=function(o){this.workspace_.markFocused();var j=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(j),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),(0,dt.clearTouchIdentifier)(),o.stopPropagation(),o.preventDefault()},jr.ZoomControls.prototype.fireZoomEvent_=function(){var o=new((0,yt.get)(yt.CLICK))(null,this.workspace_.id,"zoom_controls");(0,yt.fire)(o)},(0,nt.register)(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var _n={WorkspaceComment:function(o,j,et,ot,rt){this.id=rt&&!o.getCommentById(rt)?rt:(0,mn.genUid)(),o.addTopComment(this),this.xy_=new go.Coordinate(0,0),this.height_=et,this.width_=ot,this.workspace=o,this.RTL=o.RTL,this.editable_=this.movable_=this.deletable_=!0,this.content_=j,this.disposed_=!1,this.isComment=!0,_n.WorkspaceComment.fireCreateEvent(this)}};_n.WorkspaceComment.prototype.dispose=function(){this.disposed_||((0,yt.isEnabled)()&&(0,yt.fire)(new((0,yt.get)(yt.COMMENT_DELETE))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)},_n.WorkspaceComment.prototype.getHeight=function(){return this.height_},_n.WorkspaceComment.prototype.setHeight=function(o){this.height_=o},_n.WorkspaceComment.prototype.getWidth=function(){return this.width_},_n.WorkspaceComment.prototype.setWidth=function(o){this.width_=o},_n.WorkspaceComment.prototype.getXY=function(){return new go.Coordinate(this.xy_.x,this.xy_.y)},_n.WorkspaceComment.prototype.moveBy=function(o,j){var et=new((0,yt.get)(yt.COMMENT_MOVE))(this);this.xy_.translate(o,j),et.recordNew(),(0,yt.fire)(et)},_n.WorkspaceComment.prototype.isDeletable=function(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)},_n.WorkspaceComment.prototype.setDeletable=function(o){this.deletable_=o},_n.WorkspaceComment.prototype.isMovable=function(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)},_n.WorkspaceComment.prototype.setMovable=function(o){this.movable_=o},_n.WorkspaceComment.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},_n.WorkspaceComment.prototype.setEditable=function(o){this.editable_=o},_n.WorkspaceComment.prototype.getContent=function(){return this.content_},_n.WorkspaceComment.prototype.setContent=function(o){this.content_!==o&&((0,yt.fire)(new((0,yt.get)(yt.COMMENT_CHANGE))(this,this.content_,o)),this.content_=o)},_n.WorkspaceComment.prototype.toXmlWithXY=function(o){return o=this.toXml(o),o.setAttribute("x",Math.round(this.xy_.x)),o.setAttribute("y",Math.round(this.xy_.y)),o.setAttribute("h",this.height_),o.setAttribute("w",this.width_),o},_n.WorkspaceComment.prototype.toXml=function(o){var j=(0,_.module$exports$Blockly$utils$xml.createElement)("comment");return o||(j.id=this.id),j.textContent=this.getContent(),j},_n.WorkspaceComment.fireCreateEvent=function(o){if((0,yt.isEnabled)()){var j=(0,yt.getGroup)();j||(0,yt.setGroup)(!0);try{(0,yt.fire)(new((0,yt.get)(yt.COMMENT_CREATE))(o))}finally{j||(0,yt.setGroup)(!1)}}},_n.WorkspaceComment.fromXml=function(o,j){var et=_n.WorkspaceComment.parseAttributes(o);return j=new _n.WorkspaceComment(j,et.content,et.h,et.w,et.id),et=parseInt(o.getAttribute("x"),10),o=parseInt(o.getAttribute("y"),10),isNaN(et)||isNaN(o)||j.moveBy(et,o),_n.WorkspaceComment.fireCreateEvent(j),j},_n.WorkspaceComment.parseAttributes=function(o){var j=o.getAttribute("h"),et=o.getAttribute("w");return{id:o.getAttribute("id"),h:j?parseInt(j,10):100,w:et?parseInt(et,10):100,x:parseInt(o.getAttribute("x"),10),y:parseInt(o.getAttribute("y"),10),content:o.textContent}};var Ro={},yr=8,Op=3,Vm=2;Ro.WorkspaceCommentSvg=function(o,j,et,ot,rt){_n.WorkspaceComment.call(this,o,j,et,ot,rt),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.eventsInit_=!1,this.deleteIconBorder_=this.deleteGroup_=this.resizeGroup_=this.foreignObject_=this.svgHandleTarget_=this.svgRectTarget_=this.textarea_=null,this.autoLayout_=this.focused_=!1,this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyComment"},null),this.svgGroup_.translate_="",this.svgRect_=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:Op,ry:Op}),this.svgGroup_.appendChild(this.svgRect_),this.rendered_=!1,this.useDragSurface_=(0,Jo.is3dSupported)()&&!!o.getBlockDragSurface(),this.render()},_.$jscomp.inherits(Ro.WorkspaceCommentSvg,_n.WorkspaceComment),Ro.WorkspaceCommentSvg.prototype.dispose=function(){this.disposed_||((0,_.module$exports$Blockly$common.getSelected)()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),(0,yt.isEnabled)()&&(0,yt.fire)(new((0,yt.get)(yt.COMMENT_DELETE))(this)),(0,kt.removeNode)(this.svgGroup_),this.disposeInternal_(),(0,yt.disable)(),_n.WorkspaceComment.prototype.dispose.call(this),(0,yt.enable)())},Ro.WorkspaceCommentSvg.prototype.initSvg=function(o){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||((0,Tt.conditionalBind)(this.svgRectTarget_,"mousedown",this,this.pathMouseDown_),(0,Tt.conditionalBind)(this.svgHandleTarget_,"mousedown",this,this.pathMouseDown_)),this.eventsInit_=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!o&&this.textarea_&&this.textarea_.select()},Ro.WorkspaceCommentSvg.prototype.pathMouseDown_=function(o){var j=this.workspace.getGesture(o);j&&j.handleBubbleStart(o,this)},Ro.WorkspaceCommentSvg.prototype.showContextMenu=function(o){if(!this.workspace.options.readOnly){var j=[];this.isDeletable()&&this.isMovable()&&(j.push((0,_.module$exports$Blockly$ContextMenu.commentDuplicateOption)(this)),j.push((0,_.module$exports$Blockly$ContextMenu.commentDeleteOption)(this))),(0,_.module$exports$Blockly$ContextMenu.show)(o,j,this.RTL)}},Ro.WorkspaceCommentSvg.prototype.select=function(){if((0,_.module$exports$Blockly$common.getSelected)()!==this){var o=null;if((0,_.module$exports$Blockly$common.getSelected)()){o=(0,_.module$exports$Blockly$common.getSelected)().id,(0,yt.disable)();try{(0,_.module$exports$Blockly$common.getSelected)().unselect()}finally{(0,yt.enable)()}}o=new((0,yt.get)(yt.SELECTED))(o,this.id,this.workspace.id),(0,yt.fire)(o),(0,_.module$exports$Blockly$common.setSelected)(this),this.addSelect()}},Ro.WorkspaceCommentSvg.prototype.unselect=function(){if((0,_.module$exports$Blockly$common.getSelected)()===this){var o=new((0,yt.get)(yt.SELECTED))(this.id,null,this.workspace.id);(0,yt.fire)(o),(0,_.module$exports$Blockly$common.setSelected)(null),this.removeSelect(),this.blurFocus()}},Ro.WorkspaceCommentSvg.prototype.addSelect=function(){(0,kt.addClass)(this.svgGroup_,"blocklySelected"),this.setFocus()},Ro.WorkspaceCommentSvg.prototype.removeSelect=function(){(0,kt.removeClass)(this.svgGroup_,"blocklySelected"),this.blurFocus()},Ro.WorkspaceCommentSvg.prototype.addFocus=function(){(0,kt.addClass)(this.svgGroup_,"blocklyFocused")},Ro.WorkspaceCommentSvg.prototype.removeFocus=function(){(0,kt.removeClass)(this.svgGroup_,"blocklyFocused")},Ro.WorkspaceCommentSvg.prototype.getRelativeToSurfaceXY=function(){var o=0,j=0,et=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,ot=this.getSvgRoot();if(ot)do{var rt=(0,Jo.getRelativeXY)(ot);o+=rt.x,j+=rt.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===ot&&(rt=this.workspace.getBlockDragSurface().getSurfaceTranslation(),o+=rt.x,j+=rt.y),ot=ot.parentNode}while(ot&&ot!==this.workspace.getBubbleCanvas()&&ot!==et);return this.xy_=new go.Coordinate(o,j)},Ro.WorkspaceCommentSvg.prototype.moveBy=function(o,j){var et=new((0,yt.get)(yt.COMMENT_MOVE))(this),ot=this.getRelativeToSurfaceXY();this.translate(ot.x+o,ot.y+j),this.xy_=new go.Coordinate(ot.x+o,ot.y+j),et.recordNew(),(0,yt.fire)(et),this.workspace.resizeContents()},Ro.WorkspaceCommentSvg.prototype.translate=function(o,j){this.xy_=new go.Coordinate(o,j),this.getSvgRoot().setAttribute("transform","translate("+o+","+j+")")},Ro.WorkspaceCommentSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var o=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(o.x,o.y),this.workspace.getBlockDragSurface().setBlocksAndShow(this.getSvgRoot())}},Ro.WorkspaceCommentSvg.prototype.moveDuringDrag=function(o,j){o?o.translateSurface(j.x,j.y):(this.svgGroup_.translate_="translate("+j.x+","+j.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},Ro.WorkspaceCommentSvg.prototype.moveTo=function(o,j){this.translate(o,j)},Ro.WorkspaceCommentSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},Ro.WorkspaceCommentSvg.prototype.getBoundingRectangle=function(){var o=this.getRelativeToSurfaceXY(),j=this.getHeightWidth(),et=o.y,ot=o.y+j.height;if(this.RTL){var rt=o.x-j.width;o=o.x}else rt=o.x,o=o.x+j.width;return new In.Rect(et,ot,rt,o)},Ro.WorkspaceCommentSvg.prototype.updateMovable=function(){this.isMovable()?(0,kt.addClass)(this.svgGroup_,"blocklyDraggable"):(0,kt.removeClass)(this.svgGroup_,"blocklyDraggable")},Ro.WorkspaceCommentSvg.prototype.setMovable=function(o){_n.WorkspaceComment.prototype.setMovable.call(this,o),this.updateMovable()},Ro.WorkspaceCommentSvg.prototype.setEditable=function(o){_n.WorkspaceComment.prototype.setEditable.call(this,o),this.textarea_&&(this.textarea_.readOnly=!o)},Ro.WorkspaceCommentSvg.prototype.setDragging=function(o){o?(o=this.getSvgRoot(),o.translate_="",o.skew_="",(0,kt.addClass)(this.svgGroup_,"blocklyDragging")):(0,kt.removeClass)(this.svgGroup_,"blocklyDragging")},Ro.WorkspaceCommentSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Ro.WorkspaceCommentSvg.prototype.getContent=function(){return this.textarea_?this.textarea_.value:this.content_},Ro.WorkspaceCommentSvg.prototype.setContent=function(o){_n.WorkspaceComment.prototype.setContent.call(this,o),this.textarea_&&(this.textarea_.value=o)},Ro.WorkspaceCommentSvg.prototype.setDeleteStyle=function(o){o?(0,kt.addClass)(this.svgGroup_,"blocklyDraggingDelete"):(0,kt.removeClass)(this.svgGroup_,"blocklyDraggingDelete")},Ro.WorkspaceCommentSvg.prototype.setAutoLayout=function(o){},Ro.WorkspaceCommentSvg.prototype.toXmlWithXY=function(o){var j;this.workspace.RTL&&(j=this.workspace.getWidth()),o=this.toXml(o);var et=this.getRelativeToSurfaceXY();return o.setAttribute("x",Math.round(this.workspace.RTL?j-et.x:et.x)),o.setAttribute("y",Math.round(et.y)),o.setAttribute("h",this.getHeight()),o.setAttribute("w",this.getWidth()),o},Ro.WorkspaceCommentSvg.prototype.toCopyData=function(){return{saveInfo:this.toXmlWithXY(),source:this.workspace,typeCounts:null}},Ro.WorkspaceCommentSvg.prototype.getHeightWidth=function(){return{width:this.getWidth(),height:this.getHeight()}},Ro.WorkspaceCommentSvg.prototype.render=function(){if(!this.rendered_){var o=this.getHeightWidth();this.createEditor_(),this.svgGroup_.appendChild(this.foreignObject_),this.svgHandleTarget_=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup_.appendChild(this.svgHandleTarget_),this.svgRectTarget_=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:Op,ry:Op}),this.svgGroup_.appendChild(this.svgRectTarget_),this.addResizeDom_(),this.isDeletable()&&this.addDeleteDom_(),this.setSize_(o.width,o.height),this.textarea_.value=this.content_,this.rendered_=!0,this.resizeGroup_&&(0,Tt.conditionalBind)(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_),this.isDeletable()&&((0,Tt.conditionalBind)(this.deleteGroup_,"mousedown",this,this.deleteMouseDown_),(0,Tt.conditionalBind)(this.deleteGroup_,"mouseout",this,this.deleteMouseOut_),(0,Tt.conditionalBind)(this.deleteGroup_,"mouseup",this,this.deleteMouseUp_))}},Ro.WorkspaceCommentSvg.prototype.createEditor_=function(){this.foreignObject_=(0,kt.createSvgElement)(Nt.Svg.FOREIGNOBJECT,{x:0,y:Ro.WorkspaceCommentSvg.TOP_OFFSET,class:"blocklyCommentForeignObject"},null);var o=document.createElementNS(kt.HTML_NS,"body");o.setAttribute("xmlns",kt.HTML_NS),o.className="blocklyMinimalBody";var j=document.createElementNS(kt.HTML_NS,"textarea");return j.className="blocklyCommentTextarea",j.setAttribute("dir",this.RTL?"RTL":"LTR"),j.readOnly=!this.isEditable(),o.appendChild(j),this.textarea_=j,this.foreignObject_.appendChild(o),(0,Tt.conditionalBind)(j,"wheel",this,function(et){et.stopPropagation()}),(0,Tt.conditionalBind)(j,"change",this,function(et){this.setContent(j.value)}),this.foreignObject_},Ro.WorkspaceCommentSvg.prototype.addResizeDom_=function(){this.resizeGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_),(0,kt.createSvgElement)(Nt.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,yr.toString())},this.resizeGroup_),(0,kt.createSvgElement)(Nt.Svg.LINE,{class:"blocklyResizeLine",x1:yr/3,y1:yr-1,x2:yr-1,y2:yr/3},this.resizeGroup_),(0,kt.createSvgElement)(Nt.Svg.LINE,{class:"blocklyResizeLine",x1:2*yr/3,y1:yr-1,x2:yr-1,y2:2*yr/3},this.resizeGroup_)},Ro.WorkspaceCommentSvg.prototype.addDeleteDom_=function(){this.deleteGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup_),this.deleteIconBorder_=(0,kt.createSvgElement)(Nt.Svg.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_),(0,kt.createSvgElement)(Nt.Svg.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_),(0,kt.createSvgElement)(Nt.Svg.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup_)},Ro.WorkspaceCommentSvg.prototype.resizeMouseDown_=function(o){this.unbindDragEvents_(),(0,Tt.isRightButton)(o)||(this.workspace.startDrag(o,new go.Coordinate(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=(0,Tt.conditionalBind)(document,"mouseup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=(0,Tt.conditionalBind)(document,"mousemove",this,this.resizeMouseMove_),this.workspace.hideChaff()),o.stopPropagation()},Ro.WorkspaceCommentSvg.prototype.deleteMouseDown_=function(o){(0,kt.addClass)(this.deleteIconBorder_,"blocklyDeleteIconHighlighted"),o.stopPropagation()},Ro.WorkspaceCommentSvg.prototype.deleteMouseOut_=function(o){(0,kt.removeClass)(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")},Ro.WorkspaceCommentSvg.prototype.deleteMouseUp_=function(o){this.dispose(),o.stopPropagation()},Ro.WorkspaceCommentSvg.prototype.unbindDragEvents_=function(){this.onMouseUpWrapper_&&((0,Tt.unbind)(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&((0,Tt.unbind)(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)},Ro.WorkspaceCommentSvg.prototype.resizeMouseUp_=function(o){(0,dt.clearTouchIdentifier)(),this.unbindDragEvents_()},Ro.WorkspaceCommentSvg.prototype.resizeMouseMove_=function(o){this.autoLayout_=!1,o=this.workspace.moveDrag(o),this.setSize_(this.RTL?-o.x:o.x,o.y)},Ro.WorkspaceCommentSvg.prototype.resizeComment_=function(){var o=this.getHeightWidth(),j=Ro.WorkspaceCommentSvg.TOP_OFFSET,et=2*Vm;this.foreignObject_.setAttribute("width",o.width),this.foreignObject_.setAttribute("height",o.height-j),this.RTL&&this.foreignObject_.setAttribute("x",-o.width),this.textarea_.style.width=o.width-et+"px",this.textarea_.style.height=o.height-et-j+"px"},Ro.WorkspaceCommentSvg.prototype.setSize_=function(o,j){o=Math.max(o,45),j=Math.max(j,20+Ro.WorkspaceCommentSvg.TOP_OFFSET),this.width_=o,this.height_=j,this.svgRect_.setAttribute("width",o),this.svgRect_.setAttribute("height",j),this.svgRectTarget_.setAttribute("width",o),this.svgRectTarget_.setAttribute("height",j),this.svgHandleTarget_.setAttribute("width",o),this.svgHandleTarget_.setAttribute("height",Ro.WorkspaceCommentSvg.TOP_OFFSET),this.RTL&&(this.svgRect_.setAttribute("transform","scale(-1 1)"),this.svgRectTarget_.setAttribute("transform","scale(-1 1)")),this.resizeGroup_&&(this.RTL?(this.resizeGroup_.setAttribute("transform","translate("+(-o+yr)+","+(j-yr)+") scale(-1 1)"),this.deleteGroup_.setAttribute("transform","translate("+(-o+yr)+","+-yr+") scale(-1 1)")):(this.resizeGroup_.setAttribute("transform","translate("+(o-yr)+","+(j-yr)+")"),this.deleteGroup_.setAttribute("transform","translate("+(o-yr)+","+-yr+")"))),this.resizeComment_()},Ro.WorkspaceCommentSvg.prototype.disposeInternal_=function(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null,this.disposed_=!0},Ro.WorkspaceCommentSvg.prototype.setFocus=function(){var o=this;this.focused_=!0,setTimeout(function(){o.disposed_||(o.textarea_.focus(),o.addFocus(),(0,kt.addClass)(o.svgRectTarget_,"blocklyCommentTargetFocused"),(0,kt.addClass)(o.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))},0)},Ro.WorkspaceCommentSvg.prototype.blurFocus=function(){var o=this;this.focused_=!1,setTimeout(function(){o.disposed_||(o.textarea_.blur(),o.removeFocus(),(0,kt.removeClass)(o.svgRectTarget_,"blocklyCommentTargetFocused"),(0,kt.removeClass)(o.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))},0)},Ro.WorkspaceCommentSvg.fromXmlRendered=function(o,j,et){(0,yt.disable)();try{var ot=_n.WorkspaceComment.parseAttributes(o),rt=new Ro.WorkspaceCommentSvg(j,ot.content,ot.h,ot.w,ot.id);if(j.rendered&&(rt.initSvg(!0),rt.render()),!isNaN(ot.x)&&!isNaN(ot.y))if(j.RTL){var ct=et||j.getWidth();rt.moveBy(ct-ot.x,ot.y)}else rt.moveBy(ot.x,ot.y)}finally{(0,yt.enable)()}return _n.WorkspaceComment.fireCreateEvent(rt),rt},Ro.WorkspaceCommentSvg.DEFAULT_SIZE=100,Ro.WorkspaceCommentSvg.TOP_OFFSET=10,(0,nt.register)(`
.blocklyCommentForeignObject {
  position: relative;
  z-index: 0;
}

.blocklyCommentRect {
  fill: #E7DE8E;
  stroke: #bcA903;
  stroke-width: 1px;
}

.blocklyCommentTarget {
  fill: transparent;
  stroke: #bcA903;
}

.blocklyCommentTargetFocused {
  fill: none;
}

.blocklyCommentHandleTarget {
  fill: none;
}

.blocklyCommentHandleTargetFocused {
  fill: transparent;
}

.blocklyFocused>.blocklyCommentRect {
  fill: #B9B272;
  stroke: #B9B272;
}

.blocklySelected>.blocklyCommentTarget {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCommentDeleteIcon {
  cursor: pointer;
  fill: #000;
  display: none;
}

.blocklySelected > .blocklyCommentDeleteIcon {
  display: block;
}

.blocklyDeleteIconShape {
  fill: #000;
  stroke: #000;
  stroke-width: 1px;
}

.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {
  stroke: #fc3;
}
`);var Bn={Trashcan:function(o){ts.DeleteArea.call(this),this.workspace_=o,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(this.isLidOpen=!1,this.minOpenness_=0,this.svgLid_=this.svgGroup_=null,this.top_=this.left_=this.lidOpen_=this.lidTask_=0,this.initialized_=!1,o=new tr.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(o.toolboxPosition=this.workspace_.toolboxPosition===bo.Position.TOP?bo.Position.BOTTOM:bo.Position.TOP,this.flyout=new((0,jt.getClassFromOptions)(jt.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(o)):(o.toolboxPosition=this.workspace_.toolboxPosition===bo.Position.RIGHT?bo.Position.LEFT:bo.Position.RIGHT,this.flyout=new((0,jt.getClassFromOptions)(jt.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(o)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))}};_.$jscomp.inherits(Bn.Trashcan,ts.DeleteArea),Bn.Trashcan.prototype.createDom=function(){this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:"blocklyTrash"},null);var o=String(Math.random()).substring(2),j=(0,kt.createSvgElement)(Nt.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+o},this.svgGroup_);(0,kt.createSvgElement)(Nt.Svg.RECT,{width:Cu,height:wp,y:bu},j);var et=(0,kt.createSvgElement)(Nt.Svg.IMAGE,{width:Dr.SPRITE.width,x:-vm,height:Dr.SPRITE.height,y:-Tm,"clip-path":"url(#blocklyTrashBodyClipPath"+o+")"},this.svgGroup_);return et.setAttributeNS(kt.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Dr.SPRITE.url),j=(0,kt.createSvgElement)(Nt.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+o},this.svgGroup_),(0,kt.createSvgElement)(Nt.Svg.RECT,{width:Cu,height:bu},j),this.svgLid_=(0,kt.createSvgElement)(Nt.Svg.IMAGE,{width:Dr.SPRITE.width,x:-vm,height:Dr.SPRITE.height,y:-Tm,"clip-path":"url(#blocklyTrashLidClipPath"+o+")"},this.svgGroup_),this.svgLid_.setAttributeNS(kt.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Dr.SPRITE.url),(0,Tt.bind)(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),(0,Tt.bind)(this.svgGroup_,"mouseup",this,this.click),(0,Tt.bind)(et,"mouseover",this,this.mouseOver_),(0,Tt.bind)(et,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},Bn.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&((0,kt.insertAfter)(this.flyout.createDom(Nt.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[dn.ComponentManager.Capability.AUTOHIDEABLE,dn.ComponentManager.Capability.DELETE_AREA,dn.ComponentManager.Capability.DRAG_TARGET,dn.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},Bn.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&((0,kt.removeNode)(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},Bn.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},Bn.Trashcan.prototype.contentsIsOpen=function(){return!!this.flyout&&this.flyout.isVisible()},Bn.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var o=this.contents_.map(function(j){return JSON.parse(j)});this.flyout.show(o),this.fireUiEvent_(!0)}},Bn.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1),this.workspace_.recordDragTargets())},Bn.Trashcan.prototype.autoHide=function(o){!o&&this.flyout&&this.closeFlyout()},Bn.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},Bn.Trashcan.prototype.position=function(o,j){if(this.initialized_){var et=(0,er.getCornerOppositeToolbox)(this.workspace_,o);o=(0,er.getStartPositionRect)(et,new Ln.Size(Cu,wp+bu),Hm,bm,o,this.workspace_),j=(0,er.bumpPositionRect)(o,bm,et.vertical===er.verticalPosition.TOP?er.bumpDirection.DOWN:er.bumpDirection.UP,j),this.top_=j.top,this.left_=j.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},Bn.Trashcan.prototype.getBoundingRectangle=function(){return new In.Rect(this.top_,this.top_+wp+bu,this.left_,this.left_+Cu)},Bn.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var o=this.svgGroup_.getBoundingClientRect(),j=o.top+Tm-Mp;return o=o.left+vm-Mp,new In.Rect(j,j+bu+wp+2*Mp,o,o+Cu+2*Mp)},Bn.Trashcan.prototype.onDragOver=function(o){this.setLidOpen(this.wouldDelete_)},Bn.Trashcan.prototype.onDragExit=function(o){this.setLidOpen(!1)},Bn.Trashcan.prototype.onDrop=function(o){setTimeout(this.setLidOpen.bind(this,!1),100)},Bn.Trashcan.prototype.setLidOpen=function(o){this.isLidOpen!==o&&(clearTimeout(this.lidTask_),this.isLidOpen=o,this.animateLid_())},Bn.Trashcan.prototype.animateLid_=function(){var o=jm,j=1/(o+1);this.lidOpen_+=this.isLidOpen?j:-j,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*Bm),this.svgGroup_.style.opacity=$m+this.lidOpen_*(zm-$m),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),Wm/o))},Bn.Trashcan.prototype.setLidAngle_=function(o){var j=this.workspace_.toolboxPosition===bo.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(j?-o:o)+","+(j?4:Cu-4)+","+(bu-2)+")")},Bn.Trashcan.prototype.setMinOpenness_=function(o){this.minOpenness_=o,this.isLidOpen||this.setLidAngle_(o*Bm)},Bn.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},Bn.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},Bn.Trashcan.prototype.fireUiEvent_=function(o){o=new((0,yt.get)(yt.TRASHCAN_OPEN))(o,this.workspace_.id),(0,yt.fire)(o)},Bn.Trashcan.prototype.blockMouseDownWhenOpenable_=function(o){!this.contentsIsOpen()&&this.hasContents_()&&o.stopPropagation()},Bn.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},Bn.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},Bn.Trashcan.prototype.onDelete_=function(o){if(!(0>=this.workspace_.options.maxTrashcanContents||o.type!==yt.DELETE||o.type!==yt.DELETE||o.wasShadow)&&(o=this.cleanBlockJson_(o.oldJson),this.contents_.indexOf(o)===-1)){for(this.contents_.unshift(o);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(Gm)}},Bn.Trashcan.prototype.cleanBlockJson_=function(o){function j(et){if(et){if(delete et.id,delete et.x,delete et.y,delete et.enabled,et.icons&&et.icons.comment){var ot=et.icons.comment;delete ot.height,delete ot.width,delete ot.pinned}ot=et.inputs;for(var rt in ot){var ct=ot[rt];j(ct.block),j(ct.shadow)}et.next&&(et=et.next,j(et.block),j(et.shadow))}}return o=JSON.parse(JSON.stringify(o)),j(o),o.kind="BLOCK",JSON.stringify(o)};var Cu=47,wp=44,bu=16,bm=20,Hm=20,Mp=10,vm=0,Tm=32,Gm=.1,Wm=80,jm=4,$m=.4,zm=.8,Bm=45,$r={FlyoutButton:function(o,j,et,ot){this.workspace_=o,this.targetWorkspace_=j,this.text_=et.text,this.position_=new go.Coordinate(0,0),this.isLabel_=ot,this.callbackKey_=et.callbackKey||et.callbackkey,this.cssClass_=et["web-class"]||null,this.onMouseUpWrapper_=null,this.info=et,this.height=this.width=0,this.svgText_=this.svgGroup_=null}};$r.FlyoutButton.prototype.createDom=function(){var o=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass_&&(o+=" "+this.cssClass_),this.svgGroup_=(0,kt.createSvgElement)(Nt.Svg.G,{class:o},this.workspace_.getCanvas());var j;this.isLabel_||(j=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_)),o=(0,kt.createSvgElement)(Nt.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var et=(0,kt.createSvgElement)(Nt.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),ot=(0,nn.replaceMessageReferences)(this.text_);this.workspace_.RTL&&(ot+="\u200F"),et.textContent=ot,this.isLabel_&&(this.svgText_=et,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var rt=(0,Uo.getComputedStyle)(et,"fontSize"),ct=(0,Uo.getComputedStyle)(et,"fontWeight"),Et=(0,Uo.getComputedStyle)(et,"fontFamily");return this.width=(0,kt.getFastTextWidthWithSizeString)(et,rt,ct,Et),ot=(0,kt.measureFontMetrics)(ot,rt,ct,Et),this.height=ot.height,this.isLabel_||(this.width+=2*$r.FlyoutButton.TEXT_MARGIN_X,this.height+=2*$r.FlyoutButton.TEXT_MARGIN_Y,j.setAttribute("width",this.width),j.setAttribute("height",this.height)),o.setAttribute("width",this.width),o.setAttribute("height",this.height),et.setAttribute("x",this.width/2),et.setAttribute("y",this.height/2-ot.height/2+ot.baseline),this.updateTransform_(),this.onMouseUpWrapper_=(0,Tt.conditionalBind)(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},$r.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},$r.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},$r.FlyoutButton.prototype.moveTo=function(o,j){this.position_.x=o,this.position_.y=j,this.updateTransform_()},$r.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},$r.FlyoutButton.prototype.getPosition=function(){return this.position_},$r.FlyoutButton.prototype.getButtonText=function(){return this.text_},$r.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},$r.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&(0,Tt.unbind)(this.onMouseUpWrapper_),this.svgGroup_&&(0,kt.removeNode)(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},$r.FlyoutButton.prototype.onMouseUp_=function(o){(o=this.targetWorkspace_.getGesture(o))&&o.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},$r.FlyoutButton.TEXT_MARGIN_X=5,$r.FlyoutButton.TEXT_MARGIN_Y=2,(0,nt.register)(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var Xm={BlocklyOptions:function(){}},ga={CATEGORY_NAME:"VARIABLE_DYNAMIC",onCreateVariableButtonClick_String:function(o){(0,_.module$exports$Blockly$Variables.createVariableButtonHandler)(o.getTargetWorkspace(),void 0,"String")},onCreateVariableButtonClick_Number:function(o){(0,_.module$exports$Blockly$Variables.createVariableButtonHandler)(o.getTargetWorkspace(),void 0,"Number")},onCreateVariableButtonClick_Colour:function(o){(0,_.module$exports$Blockly$Variables.createVariableButtonHandler)(o.getTargetWorkspace(),void 0,"Colour")},flyoutCategory:function(o){var j=[],et=document.createElement("button");return et.setAttribute("text",_.module$exports$Blockly$Msg.Msg.NEW_STRING_VARIABLE),et.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),j.push(et),et=document.createElement("button"),et.setAttribute("text",_.module$exports$Blockly$Msg.Msg.NEW_NUMBER_VARIABLE),et.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),j.push(et),et=document.createElement("button"),et.setAttribute("text",_.module$exports$Blockly$Msg.Msg.NEW_COLOUR_VARIABLE),et.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),j.push(et),o.registerButtonCallback("CREATE_VARIABLE_STRING",ga.onCreateVariableButtonClick_String),o.registerButtonCallback("CREATE_VARIABLE_NUMBER",ga.onCreateVariableButtonClick_Number),o.registerButtonCallback("CREATE_VARIABLE_COLOUR",ga.onCreateVariableButtonClick_Colour),o=(0,ga.flyoutCategoryBlocks)(o),j=j.concat(o)},flyoutCategoryBlocks:function(o){o=o.getAllVariables();var j=[];if(0<o.length){if(Dt.Blocks.variables_set_dynamic){var et=o[o.length-1],ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block");ot.setAttribute("type","variables_set_dynamic"),ot.setAttribute("gap",24),ot.appendChild((0,_.module$exports$Blockly$Variables.generateVariableFieldDom)(et)),j.push(ot)}if(Dt.Blocks.variables_get_dynamic)for(o.sort(As.VariableModel.compareByName),et=0;ot=o[et];et++){var rt=(0,_.module$exports$Blockly$utils$xml.createElement)("block");rt.setAttribute("type","variables_get_dynamic"),rt.setAttribute("gap",8),rt.appendChild((0,_.module$exports$Blockly$Variables.generateVariableFieldDom)(ot)),j.push(rt)}}return j}},Ym={IRegistrableField:{}},Em;_.module$exports$Blockly$Procedures={CATEGORY_NAME:"PROCEDURE",DEFAULT_ARG:"x",allProcedures:function(o){var j=o.getBlocksByType("procedures_defnoreturn",!1).map(function(et){return et.getProcedureDef()});return o=o.getBlocksByType("procedures_defreturn",!1).map(function(et){return et.getProcedureDef()}),j.sort(Em),o.sort(Em),[j,o]}},Em=function(o,j){return o[0].localeCompare(j[0],void 0,{sensitivity:"base"})},_.module$exports$Blockly$Procedures.findLegalName=function(o,j){if(j.isInFlyout)return o;for(o=o||_.module$exports$Blockly$Msg.Msg.UNNAMED_KEY||"unnamed";!Km(o,j.workspace,j);){var et=o.match(/^(.*?)(\d+)$/);o=et?et[1]+(parseInt(et[2],10)+1):o+"2"}return o};var Km=function(o,j,et){return!(0,_.module$exports$Blockly$Procedures.isNameUsed)(o,j,et)};_.module$exports$Blockly$Procedures.isNameUsed=function(o,j,et){j=j.getAllBlocks(!1);for(var ot=0;ot<j.length;ot++)if(j[ot]!==et){var rt=j[ot];if(rt.getProcedureDef&&(rt=rt.getProcedureDef(),_.module$exports$Blockly$Names.Names.equals(rt[0],o)))return!0}return!1},_.module$exports$Blockly$Procedures.rename=function(o){o=o.trim();var j=(0,_.module$exports$Blockly$Procedures.findLegalName)(o,this.getSourceBlock()),et=this.getValue();if(et!==o&&et!==j){o=this.getSourceBlock().workspace.getAllBlocks(!1);for(var ot=0;ot<o.length;ot++){var rt=o[ot];rt.renameProcedure&&rt.renameProcedure(et,j)}}return j},_.module$exports$Blockly$Procedures.flyoutCategory=function(o){function j(ct,Et){for(var wt=0;wt<ct.length;wt++){var Lt=ct[wt][0],Zt=ct[wt][1],uo=(0,_.module$exports$Blockly$utils$xml.createElement)("block");uo.setAttribute("type",Et),uo.setAttribute("gap",16);var Mo=(0,_.module$exports$Blockly$utils$xml.createElement)("mutation");for(Mo.setAttribute("name",Lt),uo.appendChild(Mo),Lt=0;Lt<Zt.length;Lt++){var On=(0,_.module$exports$Blockly$utils$xml.createElement)("arg");On.setAttribute("name",Zt[Lt]),Mo.appendChild(On)}et.push(uo)}}var et=[];if(Dt.Blocks.procedures_defnoreturn){var ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block");ot.setAttribute("type","procedures_defnoreturn"),ot.setAttribute("gap",16);var rt=(0,_.module$exports$Blockly$utils$xml.createElement)("field");rt.setAttribute("name","NAME"),rt.appendChild((0,_.module$exports$Blockly$utils$xml.createTextNode)(_.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),ot.appendChild(rt),et.push(ot)}return Dt.Blocks.procedures_defreturn&&(ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block"),ot.setAttribute("type","procedures_defreturn"),ot.setAttribute("gap",16),rt=(0,_.module$exports$Blockly$utils$xml.createElement)("field"),rt.setAttribute("name","NAME"),rt.appendChild((0,_.module$exports$Blockly$utils$xml.createTextNode)(_.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),ot.appendChild(rt),et.push(ot)),Dt.Blocks.procedures_ifreturn&&(ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block"),ot.setAttribute("type","procedures_ifreturn"),ot.setAttribute("gap",16),et.push(ot)),et.length&&et[et.length-1].setAttribute("gap",24),o=(0,_.module$exports$Blockly$Procedures.allProcedures)(o),j(o[0],"procedures_callnoreturn"),j(o[1],"procedures_callreturn"),et};var Am=function(o){for(var j=[],et=o.getBlocksByType("procedures_mutatorarg",!1),ot=0,rt;rt=et[ot];ot++)j.push(rt.getFieldValue("NAME"));et=(0,_.module$exports$Blockly$utils$xml.createElement)("xml"),ot=(0,_.module$exports$Blockly$utils$xml.createElement)("block"),ot.setAttribute("type","procedures_mutatorarg"),rt=(0,_.module$exports$Blockly$utils$xml.createElement)("field"),rt.setAttribute("name","NAME"),j=(0,_.module$exports$Blockly$Variables.generateUniqueNameFromOptions)(_.module$exports$Blockly$Procedures.DEFAULT_ARG,j),j=(0,_.module$exports$Blockly$utils$xml.createTextNode)(j),rt.appendChild(j),ot.appendChild(rt),et.appendChild(ot),o.updateToolbox(et)};_.module$exports$Blockly$Procedures.mutatorOpenListener=function(o){if(o.type===yt.BUBBLE_OPEN&&o.bubbleType==="mutator"&&o.isOpen){o=yo.Workspace.getById(o.workspaceId).getBlockById(o.blockId);var j=o.type;(j==="procedures_defnoreturn"||j==="procedures_defreturn")&&(o=o.mutator.getWorkspace(),Am(o),o.addChangeListener(Jm))}};var Jm=function(o){(o.type===yt.CREATE||o.type===yt.DELETE||o.type===yt.CHANGE)&&(o=yo.Workspace.getById(o.workspaceId),Am(o))};_.module$exports$Blockly$Procedures.getCallers=function(o,j){var et=[];j=j.getAllBlocks(!1);for(var ot=0;ot<j.length;ot++){var rt=j[ot];rt.getProcedureCall&&(rt=rt.getProcedureCall())&&_.module$exports$Blockly$Names.Names.equals(rt,o)&&et.push(j[ot])}return et},_.module$exports$Blockly$Procedures.mutateCallers=function(o){var j=(0,yt.getRecordUndo)(),et=o.getProcedureDef()[0],ot=o.mutationToDom(!0);o=(0,_.module$exports$Blockly$Procedures.getCallers)(et,o.workspace),et=0;for(var rt;rt=o[et];et++){var ct=rt.mutationToDom();ct=ct&&(0,_.module$exports$Blockly$Xml.domToText)(ct),rt.domToMutation(ot);var Et=rt.mutationToDom();Et=Et&&(0,_.module$exports$Blockly$Xml.domToText)(Et),ct!==Et&&((0,yt.setRecordUndo)(!1),(0,yt.fire)(new((0,yt.get)(yt.CHANGE))(rt,"mutation",null,ct,Et)),(0,yt.setRecordUndo)(j))}},_.module$exports$Blockly$Procedures.getDefinition=function(o,j){j=j.getAllBlocks(!1);for(var et=0;et<j.length;et++){var ot=j[et];if(ot.getProcedureDef&&(ot=ot.getProcedureDef())&&_.module$exports$Blockly$Names.Names.equals(ot[0],o))return j[et]}return null},_.Blockly={VERSION:"8.0.5"},_.Blockly.ALIGN_LEFT=_.module$exports$Blockly$Input.Align.LEFT,_.Blockly.ALIGN_CENTRE=_.module$exports$Blockly$Input.Align.CENTRE,_.Blockly.ALIGN_RIGHT=_.module$exports$Blockly$Input.Align.RIGHT,_.Blockly.INPUT_VALUE=_.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,_.Blockly.OUTPUT_VALUE=_.module$exports$Blockly$ConnectionType.ConnectionType.OUTPUT_VALUE,_.Blockly.NEXT_STATEMENT=_.module$exports$Blockly$ConnectionType.ConnectionType.NEXT_STATEMENT,_.Blockly.PREVIOUS_STATEMENT=_.module$exports$Blockly$ConnectionType.ConnectionType.PREVIOUS_STATEMENT,_.Blockly.DUMMY_INPUT=_.module$exports$Blockly$inputTypes.inputTypes.DUMMY,_.Blockly.TOOLBOX_AT_TOP=bo.Position.TOP,_.Blockly.TOOLBOX_AT_BOTTOM=bo.Position.BOTTOM,_.Blockly.TOOLBOX_AT_LEFT=bo.Position.LEFT,_.Blockly.TOOLBOX_AT_RIGHT=bo.Position.RIGHT,_.Blockly.svgResize=_.module$exports$Blockly$common.svgResize;var qm=function(o){(0,_.module$exports$Blockly$common.getMainWorkspace)().hideChaff(o)};_.Blockly.hideChaff=qm,_.Blockly.getMainWorkspace=_.module$exports$Blockly$common.getMainWorkspace,_.Blockly.defineBlocksWithJsonArray=_.module$exports$Blockly$common.defineBlocksWithJsonArray,_.Blockly.setParentContainer=_.module$exports$Blockly$common.setParentContainer,Object.defineProperties(_.Blockly,{alert:{set:function(o){(0,tt.warn)("Blockly.alert","December 2021","December 2022"),(0,Vn.setAlert)(o)},get:function(){return(0,tt.warn)("Blockly.alert","December 2021","December 2022","Blockly.dialog.alert()"),Vn.alert}},confirm:{set:function(o){(0,tt.warn)("Blockly.confirm","December 2021","December 2022"),(0,Vn.setConfirm)(o)},get:function(){return(0,tt.warn)("Blockly.confirm","December 2021","December 2022","Blockly.dialog.confirm()"),Vn.confirm}},mainWorkspace:{set:function(o){(0,_.module$exports$Blockly$common.setMainWorkspace)(o)},get:function(){return(0,_.module$exports$Blockly$common.getMainWorkspace)()}},prompt:{set:function(o){(0,tt.warn)("Blockly.prompt","December 2021","December 2022"),(0,Vn.setPrompt)(o)},get:function(){return(0,tt.warn)("Blockly.prompt","December 2021","December 2022","Blockly.dialog.prompt()"),Vn.prompt}},selected:{get:function(){return(0,_.module$exports$Blockly$common.getSelected)()},set:function(o){(0,_.module$exports$Blockly$common.setSelected)(o)}},HSV_SATURATION:{get:function(){return Vo.colour.getHsvSaturation()},set:function(o){Vo.colour.setHsvSaturation(o)}},HSV_VALUE:{get:function(){return Vo.colour.getHsvValue()},set:function(o){Vo.colour.setHsvValue(o)}}}),_.Blockly.svgSize=Jo.svgSize;var Zm=function(o){(0,tt.warn)("Blockly.resizeSvgContents","December 2021","December 2022","Blockly.WorkspaceSvg.resizeSvgContents"),(0,no.resizeSvgContents)(o)};_.Blockly.resizeSvgContents=Zm;var Qm=function(o){(0,tt.warn)("Blockly.copy","December 2021","December 2022","Blockly.clipboard.copy"),(0,lr.copy)(o)};_.Blockly.copy=Qm;var e_=function(){return(0,tt.warn)("Blockly.paste","December 2021","December 2022","Blockly.clipboard.paste"),!!(0,lr.paste)()};_.Blockly.paste=e_;var t_=function(o){(0,tt.warn)("Blockly.duplicate","December 2021","December 2022","Blockly.clipboard.duplicate"),(0,lr.duplicate)(o)};_.Blockly.duplicate=t_;var o_=function(o){return(0,tt.warn)("Blockly.isNumber","December 2021","December 2022","Blockly.utils.string.isNumber"),Vo.string.isNumber(o)};_.Blockly.isNumber=o_;var n_=function(o){return(0,tt.warn)("Blockly.hueToHex","December 2021","December 2022","Blockly.utils.colour.hueToHex"),(0,un.hueToHex)(o)};_.Blockly.hueToHex=n_;var r_=function(o,j,et,ot){return(0,tt.warn)("Blockly.bindEvent_","December 2021","December 2022","Blockly.browserEvents.bind"),(0,Tt.bind)(o,j,et,ot)};_.Blockly.bindEvent_=r_;var i_=function(o){return(0,tt.warn)("Blockly.unbindEvent_","December 2021","December 2022","Blockly.browserEvents.unbind"),(0,Tt.unbind)(o)};_.Blockly.unbindEvent_=i_;var s_=function(o,j,et,ot,rt,ct){return(0,tt.warn)("Blockly.bindEventWithChecks_","December 2021","December 2022","Blockly.browserEvents.conditionalBind"),(0,Tt.conditionalBind)(o,j,et,ot,rt,ct)};return _.Blockly.bindEventWithChecks_=s_,_.Blockly.COLLAPSE_CHARS=Wn.COLLAPSE_CHARS,_.Blockly.DRAG_STACK=Wn.DRAG_STACK,_.Blockly.OPPOSITE_TYPE=Wn.OPPOSITE_TYPE,_.Blockly.RENAME_VARIABLE_ID=Wn.RENAME_VARIABLE_ID,_.Blockly.DELETE_VARIABLE_ID=Wn.DELETE_VARIABLE_ID,_.Blockly.COLLAPSED_INPUT_NAME=Zr.COLLAPSED_INPUT_NAME,_.Blockly.COLLAPSED_FIELD_NAME=Zr.COLLAPSED_FIELD_NAME,_.Blockly.VARIABLE_CATEGORY_NAME=_.module$exports$Blockly$Variables.CATEGORY_NAME,_.Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=ga.CATEGORY_NAME,_.Blockly.PROCEDURE_CATEGORY_NAME=_.module$exports$Blockly$Procedures.CATEGORY_NAME,_.Blockly.ASTNode=Kt.ASTNode,_.Blockly.BasicCursor=dr.BasicCursor,_.Blockly.Block=eo.Block,_.Blockly.BlocklyOptions=Xm.BlocklyOptions,_.Blockly.BlockDragger=Cn.BlockDragger,_.Blockly.BlockDragSurfaceSvg=hr.BlockDragSurfaceSvg,_.Blockly.BlockSvg=po.BlockSvg,_.Blockly.Blocks=Dt.Blocks,_.Blockly.Bubble=_o.Bubble,_.Blockly.BubbleDragger=Fr.BubbleDragger,_.Blockly.CollapsibleToolboxCategory=Un.CollapsibleToolboxCategory,_.Blockly.Comment=cr.Comment,_.Blockly.ComponentManager=dn.ComponentManager,_.Blockly.Connection=Eo.Connection,_.Blockly.ConnectionType=_.module$exports$Blockly$ConnectionType.ConnectionType,_.Blockly.ConnectionChecker=Qr.ConnectionChecker,_.Blockly.ConnectionDB=Zn.ConnectionDB,_.Blockly.ContextMenu=_.module$exports$Blockly$ContextMenu,_.Blockly.ContextMenuItems=Mn,_.Blockly.ContextMenuRegistry=Xo.ContextMenuRegistry,_.Blockly.Css=nt,_.Blockly.Cursor=_s.Cursor,_.Blockly.DeleteArea=ts.DeleteArea,_.Blockly.DragTarget=vs.DragTarget,_.Blockly.DropDownDiv=Co,_.Blockly.Events=_.module$exports$Blockly$Events,_.Blockly.Extensions=_.module$exports$Blockly$Extensions,_.Blockly.Field=ro.Field,_.Blockly.FieldAngle=Do.FieldAngle,_.Blockly.FieldCheckbox=_.module$exports$Blockly$FieldCheckbox.FieldCheckbox,_.Blockly.FieldColour=fn.FieldColour,_.Blockly.FieldDropdown=_.module$exports$Blockly$FieldDropdown.FieldDropdown,_.Blockly.FieldImage=_.module$exports$Blockly$FieldImage.FieldImage,_.Blockly.FieldLabel=_.module$exports$Blockly$FieldLabel.FieldLabel,_.Blockly.FieldLabelSerializable=vu.FieldLabelSerializable,_.Blockly.FieldMultilineInput=zn.FieldMultilineInput,_.Blockly.FieldNumber=rr.FieldNumber,_.Blockly.FieldTextInput=_.module$exports$Blockly$FieldTextInput.FieldTextInput,_.Blockly.FieldVariable=$n.FieldVariable,_.Blockly.Flyout=Go.Flyout,_.Blockly.FlyoutButton=$r.FlyoutButton,_.Blockly.FlyoutMetricsManager=Il.FlyoutMetricsManager,_.Blockly.Generator=_.module$exports$Blockly$Generator.Generator,_.Blockly.Gesture=xo.Gesture,_.Blockly.Grid=fr.Grid,_.Blockly.HorizontalFlyout=kr.HorizontalFlyout,_.Blockly.IASTNodeLocation=hp.IASTNodeLocation,_.Blockly.IASTNodeLocationSvg=Lp.IASTNodeLocationSvg,_.Blockly.IASTNodeLocationWithBlock=dp.IASTNodeLocationWithBlock,_.Blockly.IAutoHideable=hm.IAutoHideable,_.Blockly.IBlockDragger=Wp.IBlockDragger,_.Blockly.IBoundedElement=Zp.IBoundedElement,_.Blockly.IBubble=Up.IBubble,_.Blockly.ICollapsibleToolboxItem=pm.ICollapsibleToolboxItem,_.Blockly.IComponent=im.IComponent,_.Blockly.IConnectionChecker=Gp.IConnectionChecker,_.Blockly.IContextMenu=yp.IContextMenu,_.Blockly.Icon=Pn.Icon,_.Blockly.ICopyable=ep.ICopyable,_.Blockly.IDeletable=Pp.IDeletable,_.Blockly.IDeleteArea=lm.IDeleteArea,_.Blockly.IDragTarget=sm.IDragTarget,_.Blockly.IDraggable=vp.IDraggable,_.Blockly.IFlyout=am.IFlyout,_.Blockly.IKeyboardAccessible=Fp.IKeyboardAccessible,_.Blockly.IMetricsManager=_d.IMetricsManager,_.Blockly.IMovable=xp.IMovable,_.Blockly.Input=_.module$exports$Blockly$Input.Input,_.Blockly.InsertionMarkerManager=cn.InsertionMarkerManager,_.Blockly.IPositionable=Um.IPositionable,_.Blockly.IRegistrable=fp.IRegistrable,_.Blockly.IRegistrableField=Ym.IRegistrableField,_.Blockly.ISelectable=_u.ISelectable,_.Blockly.ISelectableToolboxItem=cm.ISelectableToolboxItem,_.Blockly.IStyleable=dm.IStyleable,_.Blockly.IToolbox=fm.IToolbox,_.Blockly.IToolboxItem=um.IToolboxItem,_.Blockly.Marker=Hr.Marker,_.Blockly.MarkerManager=Tr.MarkerManager,_.Blockly.Menu=Tn.Menu,_.Blockly.MenuItem=Kn.MenuItem,_.Blockly.MetricsManager=ur.MetricsManager,_.Blockly.Mutator=_.module$exports$Blockly$Mutator.Mutator,_.Blockly.Msg=_.module$exports$Blockly$Msg.Msg,_.Blockly.Names=_.module$exports$Blockly$Names.Names,_.Blockly.Options=tr.Options,_.Blockly.Procedures=_.module$exports$Blockly$Procedures,_.Blockly.RenderedConnection=Yo.RenderedConnection,_.Blockly.Scrollbar=$o.Scrollbar,_.Blockly.ScrollbarPair=or.ScrollbarPair,_.Blockly.ShortcutItems=br,_.Blockly.ShortcutRegistry=So.ShortcutRegistry,_.Blockly.TabNavigateCursor=yu.TabNavigateCursor,_.Blockly.Theme=Yn.Theme,_.Blockly.Themes=_m,_.Blockly.ThemeManager=ys.ThemeManager,_.Blockly.Toolbox=wo.Toolbox,_.Blockly.ToolboxCategory=Fo.ToolboxCategory,_.Blockly.ToolboxItem=Er.ToolboxItem,_.Blockly.ToolboxSeparator=os.ToolboxSeparator,_.Blockly.Tooltip=Ut,_.Blockly.Touch=dt,_.Blockly.TouchGesture=nr.TouchGesture,_.Blockly.Trashcan=Bn.Trashcan,_.Blockly.VariableMap=jn.VariableMap,_.Blockly.VariableModel=As.VariableModel,_.Blockly.Variables=_.module$exports$Blockly$Variables,_.Blockly.VariablesDynamic=ga,_.Blockly.VerticalFlyout=_r.VerticalFlyout,_.Blockly.Warning=ws.Warning,_.Blockly.WidgetDiv=Ot,_.Blockly.Workspace=yo.Workspace,_.Blockly.WorkspaceAudio=Ks.WorkspaceAudio,_.Blockly.WorkspaceComment=_n.WorkspaceComment,_.Blockly.WorkspaceCommentSvg=Ro.WorkspaceCommentSvg,_.Blockly.WorkspaceDragSurfaceSvg=as.WorkspaceDragSurfaceSvg,_.Blockly.WorkspaceDragger=Cl.WorkspaceDragger,_.Blockly.WorkspaceSvg=no.WorkspaceSvg,_.Blockly.Xml=_.module$exports$Blockly$Xml,_.Blockly.ZoomControls=jr.ZoomControls,_.Blockly.blockAnimations=Lr,_.Blockly.blockRendering=Ho,_.Blockly.browserEvents=Tt,_.Blockly.bumpObjects=Jr,_.Blockly.clipboard=lr,_.Blockly.common=_.module$exports$Blockly$common,_.Blockly.config=_.module$exports$Blockly$config.config,_.Blockly.connectionTypes=_.module$exports$Blockly$ConnectionType.ConnectionType,_.Blockly.constants=Zr,_.Blockly.dialog=Vn,_.Blockly.fieldRegistry=vr,_.Blockly.geras=Os,_.Blockly.inject=_f.inject,_.Blockly.inputTypes=_.module$exports$Blockly$inputTypes.inputTypes,_.Blockly.minimalist=Hn,_.Blockly.registry=jt,_.Blockly.serialization={blocks:Dn,exceptions:yn,priorities:us,registry:cs,variables:ft,workspaces:it,ISerializer:yl.ISerializer},_.Blockly.thrasos=Eu,_.Blockly.uiPosition=er,_.Blockly.utils=Vo,_.Blockly.zelos=Gr,"Blockly"in _.module$exports$Blockly$utils$global.globalThis||(_.module$exports$Blockly$utils$global.globalThis.Blockly={Msg:_.module$exports$Blockly$Msg.Msg}),_.Blockly.__namespace__=_,_.Blockly})}(blockly_compressed)),blockly_compressed.exports}var hasRequiredBlockly;function requireBlockly(){return hasRequiredBlockly||(hasRequiredBlockly=1,function(i,$){(function(_,_e){i.exports=_e(requireBlockly_compressed())})(commonjsGlobal,function(_){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return _})}(blockly)),blockly.exports}var hasRequiredCoreBrowser;function requireCoreBrowser(){return hasRequiredCoreBrowser||(hasRequiredCoreBrowser=1,function(i,$){(function(_,_e){i.exports=_e(requireBlockly())})(commonjsGlobal,function(_){return _.setLocale=function(_e){Object.keys(_e).forEach(function(tt){_.Msg[tt]=_e[tt]})},_})}(coreBrowser)),coreBrowser.exports}var en={exports:{}},hasRequiredEn;function requireEn(){return hasRequiredEn||(hasRequiredEn=1,function(i,$){(function(_,_e){i.exports=_e()})(commonjsGlobal,function(){var _=_||{Msg:Object.create(null)};return _.Msg.ADD_COMMENT="Add Comment",_.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",_.Msg.CHANGE_VALUE_TITLE="Change value:",_.Msg.CLEAN_UP="Clean up Blocks",_.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",_.Msg.COLLAPSE_ALL="Collapse Blocks",_.Msg.COLLAPSE_BLOCK="Collapse Block",_.Msg.COLOUR_BLEND_COLOUR1="colour 1",_.Msg.COLOUR_BLEND_COLOUR2="colour 2",_.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",_.Msg.COLOUR_BLEND_RATIO="ratio",_.Msg.COLOUR_BLEND_TITLE="blend",_.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",_.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",_.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",_.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",_.Msg.COLOUR_RANDOM_TITLE="random colour",_.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",_.Msg.COLOUR_RGB_BLUE="blue",_.Msg.COLOUR_RGB_GREEN="green",_.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",_.Msg.COLOUR_RGB_RED="red",_.Msg.COLOUR_RGB_TITLE="colour with",_.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",_.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",_.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",_.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",_.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",_.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",_.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",_.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",_.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",_.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",_.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",_.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",_.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",_.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",_.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",_.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",_.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",_.Msg.CONTROLS_IF_MSG_ELSE="else",_.Msg.CONTROLS_IF_MSG_ELSEIF="else if",_.Msg.CONTROLS_IF_MSG_IF="if",_.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",_.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",_.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",_.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",_.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",_.Msg.CONTROLS_REPEAT_INPUT_DO="do",_.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",_.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",_.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",_.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",_.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",_.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",_.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",_.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",_.Msg.DELETE_BLOCK="Delete Block",_.Msg.DELETE_VARIABLE="Delete the '%1' variable",_.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",_.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",_.Msg.DIALOG_CANCEL="Cancel",_.Msg.DIALOG_OK="OK",_.Msg.DISABLE_BLOCK="Disable Block",_.Msg.DUPLICATE_BLOCK="Duplicate",_.Msg.DUPLICATE_COMMENT="Duplicate Comment",_.Msg.ENABLE_BLOCK="Enable Block",_.Msg.EXPAND_ALL="Expand Blocks",_.Msg.EXPAND_BLOCK="Expand Block",_.Msg.EXTERNAL_INPUTS="External Inputs",_.Msg.HELP="Help",_.Msg.INLINE_INPUTS="Inline Inputs",_.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",_.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",_.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",_.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",_.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",_.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",_.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",_.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",_.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",_.Msg.LISTS_GET_INDEX_FIRST="first",_.Msg.LISTS_GET_INDEX_FROM_END="# from end",_.Msg.LISTS_GET_INDEX_FROM_START="#",_.Msg.LISTS_GET_INDEX_GET="get",_.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",_.Msg.LISTS_GET_INDEX_LAST="last",_.Msg.LISTS_GET_INDEX_RANDOM="random",_.Msg.LISTS_GET_INDEX_REMOVE="remove",_.Msg.LISTS_GET_INDEX_TAIL="",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",_.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",_.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",_.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",_.Msg.LISTS_GET_SUBLIST_END_LAST="to last",_.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",_.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",_.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",_.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",_.Msg.LISTS_GET_SUBLIST_TAIL="",_.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",_.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",_.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",_.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",_.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",_.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",_.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",_.Msg.LISTS_INLIST="in list",_.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",_.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",_.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",_.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",_.Msg.LISTS_LENGTH_TITLE="length of %1",_.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",_.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",_.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",_.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",_.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",_.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",_.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",_.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",_.Msg.LISTS_SET_INDEX_INPUT_TO="as",_.Msg.LISTS_SET_INDEX_INSERT="insert at",_.Msg.LISTS_SET_INDEX_SET="set",_.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",_.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",_.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",_.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",_.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",_.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",_.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",_.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",_.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",_.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",_.Msg.LISTS_SORT_ORDER_DESCENDING="descending",_.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",_.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",_.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",_.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",_.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",_.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",_.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",_.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",_.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",_.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",_.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",_.Msg.LOGIC_BOOLEAN_FALSE="false",_.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",_.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",_.Msg.LOGIC_BOOLEAN_TRUE="true",_.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",_.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",_.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",_.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",_.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",_.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",_.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",_.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",_.Msg.LOGIC_NEGATE_TITLE="not %1",_.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",_.Msg.LOGIC_NULL="null",_.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",_.Msg.LOGIC_NULL_TOOLTIP="Returns null.",_.Msg.LOGIC_OPERATION_AND="and",_.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",_.Msg.LOGIC_OPERATION_OR="or",_.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",_.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",_.Msg.LOGIC_TERNARY_CONDITION="test",_.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",_.Msg.LOGIC_TERNARY_IF_FALSE="if false",_.Msg.LOGIC_TERNARY_IF_TRUE="if true",_.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",_.Msg.MATH_ADDITION_SYMBOL="+",_.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",_.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",_.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",_.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",_.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",_.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",_.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",_.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",_.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",_.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",_.Msg.MATH_CHANGE_TITLE="change %1 by %2",_.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",_.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",_.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03C0 (3.141\u2026), e (2.718\u2026), \u03C6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xBD) (0.707\u2026), or \u221E (infinity).",_.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",_.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",_.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",_.Msg.MATH_DIVISION_SYMBOL="\xF7",_.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",_.Msg.MATH_IS_EVEN="is even",_.Msg.MATH_IS_NEGATIVE="is negative",_.Msg.MATH_IS_ODD="is odd",_.Msg.MATH_IS_POSITIVE="is positive",_.Msg.MATH_IS_PRIME="is prime",_.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",_.Msg.MATH_IS_WHOLE="is whole",_.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",_.Msg.MATH_MODULO_TITLE="remainder of %1 \xF7 %2",_.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",_.Msg.MATH_MULTIPLICATION_SYMBOL="\xD7",_.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",_.Msg.MATH_NUMBER_TOOLTIP="A number.",_.Msg.MATH_ONLIST_HELPURL="",_.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",_.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",_.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",_.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",_.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",_.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",_.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",_.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",_.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",_.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",_.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",_.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",_.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",_.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",_.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",_.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",_.Msg.MATH_POWER_SYMBOL="^",_.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",_.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",_.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",_.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",_.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",_.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",_.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",_.Msg.MATH_ROUND_OPERATOR_ROUND="round",_.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",_.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",_.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",_.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",_.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",_.Msg.MATH_SINGLE_OP_ROOT="square root",_.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",_.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",_.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",_.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",_.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",_.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",_.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",_.Msg.MATH_SUBTRACTION_SYMBOL="-",_.Msg.MATH_TRIG_ACOS="acos",_.Msg.MATH_TRIG_ASIN="asin",_.Msg.MATH_TRIG_ATAN="atan",_.Msg.MATH_TRIG_COS="cos",_.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",_.Msg.MATH_TRIG_SIN="sin",_.Msg.MATH_TRIG_TAN="tan",_.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",_.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",_.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",_.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",_.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",_.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",_.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",_.Msg.NEW_NUMBER_VARIABLE="Create number variable...",_.Msg.NEW_STRING_VARIABLE="Create string variable...",_.Msg.NEW_VARIABLE="Create variable...",_.Msg.NEW_VARIABLE_TITLE="New variable name:",_.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",_.Msg.ORDINAL_NUMBER_SUFFIX="",_.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",_.Msg.PROCEDURES_BEFORE_PARAMS="with:",_.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",_.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",_.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",_.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",_.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",_.Msg.PROCEDURES_CREATE_DO="Create '%1'",_.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",_.Msg.PROCEDURES_DEFNORETURN_DO="",_.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",_.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",_.Msg.PROCEDURES_DEFNORETURN_TITLE="to",_.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",_.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",_.Msg.PROCEDURES_DEFRETURN_RETURN="return",_.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",_.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",_.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",_.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",_.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",_.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",_.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",_.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",_.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",_.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",_.Msg.REDO="Redo",_.Msg.REMOVE_COMMENT="Remove Comment",_.Msg.RENAME_VARIABLE="Rename variable...",_.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",_.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",_.Msg.TEXT_APPEND_TITLE="to %1 append text %2",_.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",_.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",_.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",_.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",_.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",_.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",_.Msg.TEXT_CHARAT_FIRST="get first letter",_.Msg.TEXT_CHARAT_FROM_END="get letter # from end",_.Msg.TEXT_CHARAT_FROM_START="get letter #",_.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",_.Msg.TEXT_CHARAT_LAST="get last letter",_.Msg.TEXT_CHARAT_RANDOM="get random letter",_.Msg.TEXT_CHARAT_TAIL="",_.Msg.TEXT_CHARAT_TITLE="in text %1 %2",_.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",_.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",_.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",_.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",_.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",_.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",_.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",_.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",_.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",_.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",_.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",_.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",_.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",_.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",_.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",_.Msg.TEXT_GET_SUBSTRING_TAIL="",_.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",_.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",_.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",_.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",_.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",_.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",_.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",_.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",_.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",_.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",_.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",_.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",_.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",_.Msg.TEXT_LENGTH_TITLE="length of %1",_.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",_.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",_.Msg.TEXT_PRINT_TITLE="print %1",_.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",_.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",_.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",_.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",_.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",_.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",_.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",_.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",_.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",_.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",_.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",_.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",_.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",_.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",_.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",_.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",_.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",_.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",_.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",_.Msg.TODAY="Today",_.Msg.UNDO="Undo",_.Msg.UNNAMED_KEY="unnamed",_.Msg.VARIABLES_DEFAULT_NAME="item",_.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",_.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",_.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",_.Msg.VARIABLES_SET="set %1 to %2",_.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",_.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",_.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",_.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",_.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",_.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",_.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",_.Msg.CONTROLS_FOREACH_INPUT_DO=_.Msg.CONTROLS_REPEAT_INPUT_DO,_.Msg.CONTROLS_FOR_INPUT_DO=_.Msg.CONTROLS_REPEAT_INPUT_DO,_.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=_.Msg.CONTROLS_IF_MSG_ELSEIF,_.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=_.Msg.CONTROLS_IF_MSG_ELSE,_.Msg.CONTROLS_IF_IF_TITLE_IF=_.Msg.CONTROLS_IF_MSG_IF,_.Msg.CONTROLS_IF_MSG_THEN=_.Msg.CONTROLS_REPEAT_INPUT_DO,_.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=_.Msg.CONTROLS_REPEAT_INPUT_DO,_.Msg.LISTS_CREATE_WITH_ITEM_TITLE=_.Msg.VARIABLES_DEFAULT_NAME,_.Msg.LISTS_GET_INDEX_HELPURL=_.Msg.LISTS_INDEX_OF_HELPURL,_.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=_.Msg.LISTS_INLIST,_.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=_.Msg.LISTS_INLIST,_.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=_.Msg.LISTS_INLIST,_.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=_.Msg.LISTS_INLIST,_.Msg.MATH_CHANGE_TITLE_ITEM=_.Msg.VARIABLES_DEFAULT_NAME,_.Msg.PROCEDURES_DEFRETURN_COMMENT=_.Msg.PROCEDURES_DEFNORETURN_COMMENT,_.Msg.PROCEDURES_DEFRETURN_DO=_.Msg.PROCEDURES_DEFNORETURN_DO,_.Msg.PROCEDURES_DEFRETURN_PROCEDURE=_.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,_.Msg.PROCEDURES_DEFRETURN_TITLE=_.Msg.PROCEDURES_DEFNORETURN_TITLE,_.Msg.TEXT_APPEND_VARIABLE=_.Msg.VARIABLES_DEFAULT_NAME,_.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=_.Msg.VARIABLES_DEFAULT_NAME,_.Msg.MATH_HUE="230",_.Msg.LOOPS_HUE="120",_.Msg.LISTS_HUE="260",_.Msg.LOGIC_HUE="210",_.Msg.VARIABLES_HUE="330",_.Msg.TEXTS_HUE="160",_.Msg.PROCEDURES_HUE="290",_.Msg.COLOUR_HUE="20",_.Msg.VARIABLES_DYNAMIC_HUE="310",_.Msg})}(en)),en.exports}var blocks={exports:{}},blocks_compressed={exports:{}},hasRequiredBlocks_compressed;function requireBlocks_compressed(){return hasRequiredBlocks_compressed||(hasRequiredBlocks_compressed=1,function(i,$){(function(_,_e){i.exports=_e(requireBlockly_compressed())})(commonjsGlobal,function(_){var _e=_.__namespace__,tt={};tt.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);var nt={customContextMenu:function(mt){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(At={text:_e.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,enabled:!0,callback:st(this)},Qt=this.getField("VAR").getText(),Qt={text:_e.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",Qt),enabled:!0,callback:at(this)},mt.unshift(At),mt.unshift(Qt));else{var At=this.getFieldValue("VAR"),Ot=this.workspace.getVariableById(At).type;if(this.type==="variables_get_dynamic"){At="variables_set_dynamic";var Yt=_e.module$exports$Blockly$Msg.Msg.VARIABLES_GET_CREATE_SET}else At="variables_get_dynamic",Yt=_e.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET;var Qt={enabled:0<this.workspace.remainingCapacity()},co=this.getField("VAR").getText();Qt.text=Yt.replace("%1",co),Yt=(0,_e.module$exports$Blockly$utils$xml.createElement)("field"),Yt.setAttribute("name","VAR"),Yt.setAttribute("variabletype",Ot),Yt.appendChild((0,_e.module$exports$Blockly$utils$xml.createTextNode)(co)),Ot=(0,_e.module$exports$Blockly$utils$xml.createElement)("block"),Ot.setAttribute("type",At),Ot.appendChild(Yt),Qt.callback=(0,_e.module$exports$Blockly$ContextMenu.callbackFactory)(this,Ot),mt.push(Qt)}},onchange:function(mt){mt=this.getFieldValue("VAR"),mt=(0,_e.module$exports$Blockly$Variables.getVariable)(this.workspace,mt),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(mt.type):this.getInput("VALUE").connection.setCheck(mt.type)}},st=function(mt){return function(){var At=mt.workspace,Ot=mt.getField("VAR").getVariable();(0,_e.module$exports$Blockly$Variables.renameVariable)(At,Ot)}},at=function(mt){return function(){var At=mt.workspace,Ot=mt.getField("VAR").getVariable();At.deleteVariableById(Ot.getId()),At.refreshToolboxSelection()}};(0,_e.module$exports$Blockly$Extensions.registerMixin)("contextMenu_variableDynamicSetterGetter",nt),(0,_e.module$exports$Blockly$common.defineBlocks)(tt.blocks);var ht={};ht.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);var lt={customContextMenu:function(mt){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(At={text:_e.module$exports$Blockly$Msg.Msg.RENAME_VARIABLE,enabled:!0,callback:pt(this)},Yt=this.getField("VAR").getText(),Yt={text:_e.module$exports$Blockly$Msg.Msg.DELETE_VARIABLE.replace("%1",Yt),enabled:!0,callback:dt(this)},mt.unshift(At),mt.unshift(Yt));else{if(this.type==="variables_get")var At="variables_set",Ot=_e.module$exports$Blockly$Msg.Msg.VARIABLES_GET_CREATE_SET;else At="variables_get",Ot=_e.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET;var Yt={enabled:0<this.workspace.remainingCapacity()},Qt=this.getField("VAR").getText();Yt.text=Ot.replace("%1",Qt),Ot=(0,_e.module$exports$Blockly$utils$xml.createElement)("field"),Ot.setAttribute("name","VAR"),Ot.appendChild((0,_e.module$exports$Blockly$utils$xml.createTextNode)(Qt)),Qt=(0,_e.module$exports$Blockly$utils$xml.createElement)("block"),Qt.setAttribute("type",At),Qt.appendChild(Ot),Yt.callback=(0,_e.module$exports$Blockly$ContextMenu.callbackFactory)(this,Qt),mt.push(Yt)}}},pt=function(mt){return function(){var At=mt.workspace,Ot=mt.getField("VAR").getVariable();(0,_e.module$exports$Blockly$Variables.renameVariable)(At,Ot)}},dt=function(mt){return function(){var At=mt.workspace,Ot=mt.getField("VAR").getVariable();At.deleteVariableById(Ot.getId()),At.refreshToolboxSelection()}};(0,_e.module$exports$Blockly$Extensions.registerMixin)("contextMenu_variableSetterGetter",lt),(0,_e.module$exports$Blockly$common.defineBlocks)(ht.blocks);var gt={};gt.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xB6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),gt.blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation"),At=this.getInput("AT1").type===_e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return mt.setAttribute("at1",At),At=this.getInput("AT2").type===_e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,mt.setAttribute("at2",At),mt},domToMutation:function(mt){var At=mt.getAttribute("at1")==="true";mt=mt.getAttribute("at2")==="true",this.updateAt_(1,At),this.updateAt_(2,mt)},updateAt_:function(mt,At){this.removeInput("AT"+mt),this.removeInput("ORDINAL"+mt,!0),At?(this.appendValueInput("AT"+mt).setCheck("Number"),_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+mt).appendField(_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+mt),mt===2&&_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(_e.module$exports$Blockly$Msg.Msg.TEXT_GET_SUBSTRING_TAIL));var Ot=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(this["WHERE_OPTIONS_"+mt],function(Yt){var Qt=Yt==="FROM_START"||Yt==="FROM_END";if(Qt!==At){var co=this.getSourceBlock();return co.updateAt_(mt,Qt),co.setFieldValue(Yt,"WHERE"+mt),null}});this.getInput("AT"+mt).appendField(Ot,"WHERE"+mt),mt===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},gt.blocks.text_changeCase={init:function(){var mt=[[_e.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[_e.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[_e.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(mt),"CASE"),this.setOutput(!0,"String"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.TEXT_CHANGECASE_TOOLTIP)}},gt.blocks.text_trim={init:function(){var mt=[[_e.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[_e.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[_e.module$exports$Blockly$Msg.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(mt),"MODE"),this.setOutput(!0,"String"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.TEXT_TRIM_TOOLTIP)}},gt.blocks.text_print={init:function(){this.jsonInit({message0:_e.module$exports$Blockly$Msg.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:_e.module$exports$Blockly$Msg.Msg.TEXT_PRINT_TOOLTIP,helpUrl:_e.module$exports$Blockly$Msg.Msg.TEXT_PRINT_HELPURL})}};var vt={updateType_:function(mt){this.outputConnection.setCheck(mt==="NUMBER"?"Number":"String")},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return mt.setAttribute("type",this.getFieldValue("TYPE")),mt},domToMutation:function(mt){this.updateType_(mt.getAttribute("type"))}};gt.blocks.text_prompt_ext=Object.assign({},vt,{init:function(){var mt=[[_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var At=this;mt=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(mt,function(Ot){At.updateType_(Ot)}),this.appendValueInput("TEXT").appendField(mt,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return At.getFieldValue("TYPE")==="TEXT"?_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_TEXT:_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})}}),gt.blocks.text_prompt=Object.assign({},vt,{init:function(){this.mixin(bt);var mt=[[_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],At=this;this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),mt=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(mt,function(Ot){At.updateType_(Ot)}),this.appendDummyInput().appendField(mt,"TYPE").appendField(this.newQuote_(!0)).appendField(new _e.module$exports$Blockly$FieldTextInput.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return At.getFieldValue("TYPE")==="TEXT"?_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_TEXT:_e.module$exports$Blockly$Msg.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})}}),gt.blocks.text_count={init:function(){this.jsonInit({message0:_e.module$exports$Blockly$Msg.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:_e.module$exports$Blockly$Msg.Msg.TEXT_COUNT_TOOLTIP,helpUrl:_e.module$exports$Blockly$Msg.Msg.TEXT_COUNT_HELPURL})}},gt.blocks.text_replace={init:function(){this.jsonInit({message0:_e.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:_e.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:_e.module$exports$Blockly$Msg.Msg.TEXT_REPLACE_HELPURL})}},gt.blocks.text_reverse={init:function(){this.jsonInit({message0:_e.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:_e.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:_e.module$exports$Blockly$Msg.Msg.TEXT_REVERSE_HELPURL})}};var bt={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(mt){for(var At=0,Ot;Ot=this.inputList[At];At++)for(var Yt=0,Qt;Qt=Ot.fieldRow[Yt];Yt++)if(mt===Qt.name){Ot.insertFieldAt(Yt,this.newQuote_(!0)),Ot.insertFieldAt(Yt+2,this.newQuote_(!1));return}console.warn('field named "'+mt+'" not found in '+this.toDevString())},newQuote_:function(mt){return mt=this.RTL?!mt:mt,new _e.module$exports$Blockly$FieldImage.FieldImage(mt?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,mt?"\u201C":"\u201D")}},$t=function(){this.mixin(bt),this.quoteField_("TEXT")},Tt={mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return mt.setAttribute("items",this.itemCount_),mt},domToMutation:function(mt){this.itemCount_=parseInt(mt.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(mt){this.itemCount_=mt.itemCount,this.updateShape_()},decompose:function(mt){var At=mt.newBlock("text_create_join_container");At.initSvg();for(var Ot=At.getInput("STACK").connection,Yt=0;Yt<this.itemCount_;Yt++){var Qt=mt.newBlock("text_create_join_item");Qt.initSvg(),Ot.connect(Qt.previousConnection),Ot=Qt.nextConnection}return At},compose:function(mt){var At=mt.getInputTargetBlock("STACK");for(mt=[];At&&!At.isInsertionMarker();)mt.push(At.valueConnection_),At=At.nextConnection&&At.nextConnection.targetBlock();for(At=0;At<this.itemCount_;At++){var Ot=this.getInput("ADD"+At).connection.targetConnection;Ot&&mt.indexOf(Ot)===-1&&Ot.disconnect()}for(this.itemCount_=mt.length,this.updateShape_(),At=0;At<this.itemCount_;At++)_e.module$exports$Blockly$Mutator.Mutator.reconnect(mt[At],this,"ADD"+At)},saveConnections:function(mt){mt=mt.getInputTargetBlock("STACK");for(var At=0;mt;){var Ot=this.getInput("ADD"+At);mt.valueConnection_=Ot&&Ot.connection.targetConnection,mt=mt.nextConnection&&mt.nextConnection.targetBlock(),At++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var mt=0;mt<this.itemCount_;mt++)if(!this.getInput("ADD"+mt)){var At=this.appendValueInput("ADD"+mt).setAlign(_e.module$exports$Blockly$Input.Align.RIGHT);mt===0&&At.appendField(_e.module$exports$Blockly$Msg.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(mt=this.itemCount_;this.getInput("ADD"+mt);mt++)this.removeInput("ADD"+mt)}},St=function(){this.mixin(bt),this.itemCount_=2,this.updateShape_(),this.setMutator(new _e.module$exports$Blockly$Mutator.Mutator(["text_create_join_item"]))};(0,_e.module$exports$Blockly$Extensions.register)("text_append_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var Bt=function(){var mt=this;this.setTooltip(function(){return _e.module$exports$Blockly$Msg.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",mt.workspace.options.oneBasedIndex?"0":"-1")})},Dt={mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return mt.setAttribute("at",!!this.isAt_),mt},domToMutation:function(mt){mt=mt.getAttribute("at")!=="false",this.updateAt_(mt)},updateAt_:function(mt){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),mt&&(this.appendValueInput("AT").setCheck("Number"),_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)),_e.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(_e.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TAIL)),this.isAt_=mt}},Vt=function(){this.getField("WHERE").setValidator(function(At){At=At==="FROM_START"||At==="FROM_END",At!==this.isAt_&&this.getSourceBlock().updateAt_(At)}),this.updateAt_(!0);var mt=this;this.setTooltip(function(){var At=mt.getFieldValue("WHERE"),Ot=_e.module$exports$Blockly$Msg.Msg.TEXT_CHARAT_TOOLTIP;return(At==="FROM_START"||At==="FROM_END")&&(At=At==="FROM_START"?_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP:_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(Ot+="  "+At.replace("%1",mt.workspace.options.oneBasedIndex?"#1":"#0")),Ot})};(0,_e.module$exports$Blockly$Extensions.register)("text_indexOf_tooltip",Bt),(0,_e.module$exports$Blockly$Extensions.register)("text_quotes",$t),(0,_e.module$exports$Blockly$Extensions.registerMutator)("text_join_mutator",Tt,St),(0,_e.module$exports$Blockly$Extensions.registerMutator)("text_charAt_mutator",Dt,Vt),(0,_e.module$exports$Blockly$common.defineBlocks)(gt.blocks);var Ht={blocks:{}},Wt={setStatements_:function(mt){this.hasStatements_!==mt&&(mt?(this.appendStatementInput("STACK").appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=mt)},updateParams_:function(){var mt="";this.arguments_.length&&(mt=_e.module$exports$Blockly$Msg.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),(0,_e.module$exports$Blockly$Events.disable)();try{this.setFieldValue(mt,"PARAMS")}finally{(0,_e.module$exports$Blockly$Events.enable)()}},mutationToDom:function(mt){var At=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");mt&&At.setAttribute("name",this.getFieldValue("NAME"));for(var Ot=0;Ot<this.argumentVarModels_.length;Ot++){var Yt=(0,_e.module$exports$Blockly$utils$xml.createElement)("arg"),Qt=this.argumentVarModels_[Ot];Yt.setAttribute("name",Qt.name),Yt.setAttribute("varid",Qt.getId()),mt&&this.paramIds_&&Yt.setAttribute("paramId",this.paramIds_[Ot]),At.appendChild(Yt)}return this.hasStatements_||At.setAttribute("statements","false"),At},domToMutation:function(mt){this.arguments_=[],this.argumentVarModels_=[];for(var At=0,Ot;Ot=mt.childNodes[At];At++)if(Ot.nodeName.toLowerCase()==="arg"){var Yt=Ot.getAttribute("name");Ot=Ot.getAttribute("varid")||Ot.getAttribute("varId"),this.arguments_.push(Yt),Ot=(0,_e.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,Ot,Yt,""),Ot!==null?this.argumentVarModels_.push(Ot):console.log("Failed to create a variable with name "+Yt+", ignoring.")}this.updateParams_(),(0,_e.module$exports$Blockly$Procedures.mutateCallers)(this),this.setStatements_(mt.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;var mt=Object.create(null);if(this.argumentVarModels_.length){mt.params=[];for(var At=0;At<this.argumentVarModels_.length;At++)mt.params.push({name:this.argumentVarModels_[At].name,id:this.argumentVarModels_[At].getId()})}return this.hasStatements_||(mt.hasStatements=!1),mt},loadExtraState:function(mt){if(this.arguments_=[],this.argumentVarModels_=[],mt.params)for(var At=0;At<mt.params.length;At++){var Ot=mt.params[At];Ot=(0,_e.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,Ot.id,Ot.name,""),this.arguments_.push(Ot.name),this.argumentVarModels_.push(Ot)}this.updateParams_(),(0,_e.module$exports$Blockly$Procedures.mutateCallers)(this),this.setStatements_(mt.hasStatements!==!1)},decompose:function(mt){var At=(0,_e.module$exports$Blockly$utils$xml.createElement)("block");At.setAttribute("type","procedures_mutatorcontainer");var Ot=(0,_e.module$exports$Blockly$utils$xml.createElement)("statement");Ot.setAttribute("name","STACK"),At.appendChild(Ot);for(var Yt=0;Yt<this.arguments_.length;Yt++){var Qt=(0,_e.module$exports$Blockly$utils$xml.createElement)("block");Qt.setAttribute("type","procedures_mutatorarg");var co=(0,_e.module$exports$Blockly$utils$xml.createElement)("field");co.setAttribute("name","NAME");var so=(0,_e.module$exports$Blockly$utils$xml.createTextNode)(this.arguments_[Yt]);co.appendChild(so),Qt.appendChild(co),co=(0,_e.module$exports$Blockly$utils$xml.createElement)("next"),Qt.appendChild(co),Ot.appendChild(Qt),Ot=co}return mt=(0,_e.module$exports$Blockly$Xml.domToBlock)(At,mt),this.type==="procedures_defreturn"?mt.setFieldValue(this.hasStatements_,"STATEMENTS"):mt.removeInput("STATEMENT_INPUT"),(0,_e.module$exports$Blockly$Procedures.mutateCallers)(this),mt},compose:function(mt){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var At=mt.getInputTargetBlock("STACK");At&&!At.isInsertionMarker();){var Ot=At.getFieldValue("NAME");this.arguments_.push(Ot),Ot=this.workspace.getVariable(Ot,""),this.argumentVarModels_.push(Ot),this.paramIds_.push(At.id),At=At.nextConnection&&At.nextConnection.targetBlock()}this.updateParams_(),(0,_e.module$exports$Blockly$Procedures.mutateCallers)(this),mt=mt.getFieldValue("STATEMENTS"),mt!==null&&(mt=mt==="TRUE",this.hasStatements_!==mt)&&(mt?(this.setStatements_(!0),_e.module$exports$Blockly$Mutator.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(mt=this.getInput("STACK").connection,(this.statementConnection_=mt.targetConnection)&&(mt=mt.targetBlock(),mt.unplug(),mt.bumpNeighbours()),this.setStatements_(!1)))},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(mt,At){var Ot=this.workspace.getVariableById(mt);if(Ot.type===""){Ot=Ot.name,At=this.workspace.getVariableById(At);for(var Yt=!1,Qt=0;Qt<this.argumentVarModels_.length;Qt++)this.argumentVarModels_[Qt].getId()===mt&&(this.arguments_[Qt]=At.name,this.argumentVarModels_[Qt]=At,Yt=!0);Yt&&(this.displayRenamedVar_(Ot,At.name),(0,_e.module$exports$Blockly$Procedures.mutateCallers)(this))}},updateVarName:function(mt){for(var At=mt.name,Ot=!1,Yt,Qt=0;Qt<this.argumentVarModels_.length;Qt++)this.argumentVarModels_[Qt].getId()===mt.getId()&&(Yt=this.arguments_[Qt],this.arguments_[Qt]=At,Ot=!0);Ot&&(this.displayRenamedVar_(Yt,At),(0,_e.module$exports$Blockly$Procedures.mutateCallers)(this))},displayRenamedVar_:function(mt,At){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var Ot=this.mutator.workspace_.getAllBlocks(!1),Yt=0,Qt;Qt=Ot[Yt];Yt++)Qt.type==="procedures_mutatorarg"&&_e.module$exports$Blockly$Names.Names.equals(mt,Qt.getFieldValue("NAME"))&&Qt.setFieldValue(At,"NAME")},customContextMenu:function(mt){if(!this.isInFlyout){var At={enabled:!0},Ot=this.getFieldValue("NAME");At.text=_e.module$exports$Blockly$Msg.Msg.PROCEDURES_CREATE_DO.replace("%1",Ot);var Yt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");for(Yt.setAttribute("name",Ot),Ot=0;Ot<this.arguments_.length;Ot++){var Qt=(0,_e.module$exports$Blockly$utils$xml.createElement)("arg");Qt.setAttribute("name",this.arguments_[Ot]),Yt.appendChild(Qt)}if(Ot=(0,_e.module$exports$Blockly$utils$xml.createElement)("block"),Ot.setAttribute("type",this.callType_),Ot.appendChild(Yt),At.callback=(0,_e.module$exports$Blockly$ContextMenu.callbackFactory)(this,Ot),mt.push(At),!this.isCollapsed())for(At=0;At<this.argumentVarModels_.length;At++)Yt={enabled:!0},Ot=this.argumentVarModels_[At],Yt.text=_e.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET.replace("%1",Ot.name),Ot=(0,_e.module$exports$Blockly$Variables.generateVariableFieldDom)(Ot),Qt=(0,_e.module$exports$Blockly$utils$xml.createElement)("block"),Qt.setAttribute("type","variables_get"),Qt.appendChild(Ot),Yt.callback=(0,_e.module$exports$Blockly$ContextMenu.callbackFactory)(this,Qt),mt.push(Yt)}}};Ht.blocks.procedures_defnoreturn=Object.assign({},Wt,{init:function(){var mt=(0,_e.module$exports$Blockly$Procedures.findLegalName)("",this);mt=new _e.module$exports$Blockly$FieldTextInput.FieldTextInput(mt,_e.module$exports$Blockly$Procedures.rename),mt.setSpellcheck(!1),this.appendDummyInput().appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(mt,"NAME").appendField("","PARAMS"),this.setMutator(new _e.module$exports$Blockly$Mutator.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),Ht.blocks.procedures_defreturn=Object.assign({},Wt,{init:function(){var mt=(0,_e.module$exports$Blockly$Procedures.findLegalName)("",this);mt=new _e.module$exports$Blockly$FieldTextInput.FieldTextInput(mt,_e.module$exports$Blockly$Procedures.rename),mt.setSpellcheck(!1),this.appendDummyInput().appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(mt,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(_e.module$exports$Blockly$Input.Align.RIGHT).appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new _e.module$exports$Blockly$Mutator.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"}),Ht.blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new _e.module$exports$Blockly$FieldCheckbox.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},Ht.blocks.procedures_mutatorarg={init:function(){var mt=new _e.module$exports$Blockly$FieldTextInput.FieldTextInput(_e.module$exports$Blockly$Procedures.DEFAULT_ARG,this.validator_);mt.oldShowEditorFn_=mt.showEditor_,mt.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(mt,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,mt.onFinishEditing_=this.deleteIntermediateVars_,mt.createdVariables_=[],mt.onFinishEditing_("x")},validator_:function(mt){var At=this.getSourceBlock(),Ot=_e.module$exports$Blockly$Mutator.Mutator.findParentWs(At.workspace);if(mt=mt.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!mt)return null;for(var Yt=(At.workspace.targetWorkspace||At.workspace).getAllBlocks(!1),Qt=mt.toLowerCase(),co=0;co<Yt.length;co++)if(Yt[co].id!==this.getSourceBlock().id){var so=Yt[co].getFieldValue("NAME");if(so&&so.toLowerCase()===Qt)return null}return At.isInFlyout||((At=Ot.getVariable(mt,""))&&At.name!==mt&&Ot.renameVariableById(At.getId(),mt),At||(At=Ot.createVariable(mt,""))&&this.createdVariables_&&this.createdVariables_.push(At)),mt},deleteIntermediateVars_:function(mt){var At=_e.module$exports$Blockly$Mutator.Mutator.findParentWs(this.getSourceBlock().workspace);if(At)for(var Ot=0;Ot<this.createdVariables_.length;Ot++){var Yt=this.createdVariables_[Ot];Yt.name!==mt&&At.deleteVariableById(Yt.getId())}}};var zt={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(mt,At){_e.module$exports$Blockly$Names.Names.equals(mt,this.getProcedureCall())&&(this.setFieldValue(At,"NAME"),this.setTooltip((this.outputConnection?_e.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLRETURN_TOOLTIP:_e.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",At)))},setProcedureParameters_:function(mt,At){var Ot=(0,_e.module$exports$Blockly$Procedures.getDefinition)(this.getProcedureCall(),this.workspace),Yt=Ot&&Ot.mutator&&Ot.mutator.isVisible();if(Yt?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),mt.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=At;else{if(At.length!==mt.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),Ot=this.rendered,this.rendered=!1;for(var Qt=0;Qt<this.arguments_.length;Qt++){var co=this.getInput("ARG"+Qt);co&&(co=co.connection.targetConnection,this.quarkConnections_[this.quarkIds_[Qt]]=co,Yt&&co&&At.indexOf(this.quarkIds_[Qt])===-1&&(co.disconnect(),co.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(mt),this.argumentVarModels_=[],mt=0;mt<this.arguments_.length;mt++)Yt=(0,_e.module$exports$Blockly$Variables.getOrCreateVariablePackage)(this.workspace,null,this.arguments_[mt],""),this.argumentVarModels_.push(Yt);if(this.updateShape_(),this.quarkIds_=At)for(At=0;At<this.arguments_.length;At++)mt=this.quarkIds_[At],mt in this.quarkConnections_&&(_e.module$exports$Blockly$Mutator.Mutator.reconnect(this.quarkConnections_[mt],this,"ARG"+At)||delete this.quarkConnections_[mt]);(this.rendered=Ot)&&this.render()}},updateShape_:function(){for(var mt=0;mt<this.arguments_.length;mt++){var At=this.getField("ARGNAME"+mt);if(At){(0,_e.module$exports$Blockly$Events.disable)();try{At.setValue(this.arguments_[mt])}finally{(0,_e.module$exports$Blockly$Events.enable)()}}else At=new _e.module$exports$Blockly$FieldLabel.FieldLabel(this.arguments_[mt]),this.appendValueInput("ARG"+mt).setAlign(_e.module$exports$Blockly$Input.Align.RIGHT).appendField(At,"ARGNAME"+mt).init()}for(mt=this.arguments_.length;this.getInput("ARG"+mt);mt++)this.removeInput("ARG"+mt);(mt=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(mt.appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),mt.init()):this.getField("WITH")&&mt.removeField("WITH"))},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");mt.setAttribute("name",this.getProcedureCall());for(var At=0;At<this.arguments_.length;At++){var Ot=(0,_e.module$exports$Blockly$utils$xml.createElement)("arg");Ot.setAttribute("name",this.arguments_[At]),mt.appendChild(Ot)}return mt},domToMutation:function(mt){var At=mt.getAttribute("name");this.renameProcedure(this.getProcedureCall(),At),At=[];for(var Ot=[],Yt=0,Qt;Qt=mt.childNodes[Yt];Yt++)Qt.nodeName.toLowerCase()==="arg"&&(At.push(Qt.getAttribute("name")),Ot.push(Qt.getAttribute("paramId")));this.setProcedureParameters_(At,Ot)},saveExtraState:function(){var mt=Object.create(null);return mt.name=this.getProcedureCall(),this.arguments_.length&&(mt.params=this.arguments_),mt},loadExtraState:function(mt){if(this.renameProcedure(this.getProcedureCall(),mt.name),mt=mt.params){var At=[];At.length=mt.length,At.fill(null),this.setProcedureParameters_(mt,At)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(mt){if(this.workspace&&!this.workspace.isFlyout&&mt.recordUndo)if(mt.type===_e.module$exports$Blockly$Events.BLOCK_CREATE&&mt.ids.indexOf(this.id)!==-1){var At=this.getProcedureCall();if(At=(0,_e.module$exports$Blockly$Procedures.getDefinition)(At,this.workspace),!At||At.type===this.defType_&&JSON.stringify(At.getVars())===JSON.stringify(this.arguments_)||(At=null),!At){(0,_e.module$exports$Blockly$Events.setGroup)(mt.group),mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("xml"),At=(0,_e.module$exports$Blockly$utils$xml.createElement)("block"),At.setAttribute("type",this.defType_);var Ot=this.getRelativeToSurfaceXY(),Yt=Ot.y+2*_e.module$exports$Blockly$config.config.snapRadius;At.setAttribute("x",Ot.x+_e.module$exports$Blockly$config.config.snapRadius*(this.RTL?-1:1)),At.setAttribute("y",Yt),Ot=this.mutationToDom(),At.appendChild(Ot),Ot=(0,_e.module$exports$Blockly$utils$xml.createElement)("field"),Ot.setAttribute("name","NAME"),Yt=this.getProcedureCall();var Qt=(0,_e.module$exports$Blockly$Procedures.findLegalName)(Yt,this);Yt!==Qt&&this.renameProcedure(Yt,Qt),Ot.appendChild((0,_e.module$exports$Blockly$utils$xml.createTextNode)(Yt)),At.appendChild(Ot),mt.appendChild(At),(0,_e.module$exports$Blockly$Xml.domToWorkspace)(mt,this.workspace),(0,_e.module$exports$Blockly$Events.setGroup)(!1)}}else mt.type===_e.module$exports$Blockly$Events.BLOCK_DELETE?(At=this.getProcedureCall(),(0,_e.module$exports$Blockly$Procedures.getDefinition)(At,this.workspace)||((0,_e.module$exports$Blockly$Events.setGroup)(mt.group),this.dispose(!0),(0,_e.module$exports$Blockly$Events.setGroup)(!1))):mt.type===_e.module$exports$Blockly$Events.CHANGE&&mt.element==="disabled"&&(At=this.getProcedureCall(),(At=(0,_e.module$exports$Blockly$Procedures.getDefinition)(At,this.workspace))&&At.id===mt.blockId&&((At=(0,_e.module$exports$Blockly$Events.getGroup)())&&console.log("Saw an existing group while responding to a definition change"),(0,_e.module$exports$Blockly$Events.setGroup)(mt.group),mt.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),(0,_e.module$exports$Blockly$Events.setGroup)(At)))},customContextMenu:function(mt){if(this.workspace.isMovable()){var At={enabled:!0};At.text=_e.module$exports$Blockly$Msg.Msg.PROCEDURES_HIGHLIGHT_DEF;var Ot=this.getProcedureCall(),Yt=this.workspace;At.callback=function(){var Qt=(0,_e.module$exports$Blockly$Procedures.getDefinition)(Ot,Yt);Qt&&(Yt.centerOnBlock(Qt.id),Qt.select())},mt.push(At)}}};Ht.blocks.procedures_callnoreturn=Object.assign({},zt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),Ht.blocks.procedures_callreturn=Object.assign({},zt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"}),Ht.blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(_e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return mt.setAttribute("value",Number(this.hasReturnValue_)),mt},domToMutation:function(mt){this.hasReturnValue_=mt.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(mt){if(!(this.workspace.isDragging&&this.workspace.isDragging()||mt.type!==_e.module$exports$Blockly$Events.BLOCK_MOVE)){var At=!1,Ot=this;do{if(this.FUNCTION_TYPES.indexOf(Ot.type)!==-1){At=!0;break}Ot=Ot.getSurroundParent()}while(Ot);At?(Ot.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):Ot.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(_e.module$exports$Blockly$Msg.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(Ot=(0,_e.module$exports$Blockly$Events.getGroup)(),(0,_e.module$exports$Blockly$Events.setGroup)(mt.group),this.setEnabled(At),(0,_e.module$exports$Blockly$Events.setGroup)(Ot))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},(0,_e.module$exports$Blockly$common.defineBlocks)(Ht.blocks);var Ut={};Ut.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03C0","PI"],["e","E"],["\u03C6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xBD)","SQRT1_2"],["\u221E","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);var ao={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};(0,_e.module$exports$Blockly$Extensions.register)("math_op_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipForDropdown)("OP",ao));var lo={mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation"),At=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return mt.setAttribute("divisor_input",At),mt},domToMutation:function(mt){mt=mt.getAttribute("divisor_input")==="true",this.updateShape_(mt)},updateShape_:function(mt){var At=this.getInput("DIVISOR");mt?At||this.appendValueInput("DIVISOR").setCheck("Number"):At&&this.removeInput("DIVISOR")}},Ao=function(){this.getField("PROPERTY").setValidator(function(mt){mt=mt==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(mt)})};(0,_e.module$exports$Blockly$Extensions.registerMutator)("math_is_divisibleby_mutator",lo,Ao),(0,_e.module$exports$Blockly$Extensions.register)("math_change_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var Zo={updateType_:function(mt){mt==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return mt.setAttribute("op",this.getFieldValue("OP")),mt},domToMutation:function(mt){this.updateType_(mt.getAttribute("op"))}},Qo=function(){this.getField("OP").setValidator(function(mt){this.updateType_(mt)}.bind(this))};(0,_e.module$exports$Blockly$Extensions.registerMutator)("math_modes_of_list_mutator",Zo,Qo),(0,_e.module$exports$Blockly$common.defineBlocks)(Ut.blocks);var Wo={};Wo.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);var An={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};(0,_e.module$exports$Blockly$Extensions.register)("controls_whileUntil_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipForDropdown)("MODE",An));var Oo={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};(0,_e.module$exports$Blockly$Extensions.register)("controls_flow_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipForDropdown)("FLOW",Oo));var kn={customContextMenu:function(mt){if(!this.isInFlyout){var At=this.getField("VAR").getVariable(),Ot=At.name;if(!this.isCollapsed()&&Ot!==null){var Yt={enabled:!0};Yt.text=_e.module$exports$Blockly$Msg.Msg.VARIABLES_SET_CREATE_GET.replace("%1",Ot),At=(0,_e.module$exports$Blockly$Variables.generateVariableFieldDom)(At),Ot=(0,_e.module$exports$Blockly$utils$xml.createElement)("block"),Ot.setAttribute("type","variables_get"),Ot.appendChild(At),Yt.callback=(0,_e.module$exports$Blockly$ContextMenu.callbackFactory)(this,Ot),mt.push(Yt)}}}};(0,_e.module$exports$Blockly$Extensions.registerMixin)("contextMenu_newGetVariableBlock",kn),(0,_e.module$exports$Blockly$Extensions.register)("controls_for_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),(0,_e.module$exports$Blockly$Extensions.register)("controls_forEach_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipWithFieldText)("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),Wo.loopTypes=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]);var oo={getSurroundLoop:function(){var mt=this;do{if(Wo.loopTypes.has(mt.type))return mt;mt=mt.getSurroundParent()}while(mt);return null},onchange:function(mt){if(this.workspace.isDragging&&!this.workspace.isDragging()&&mt.type===_e.module$exports$Blockly$Events.BLOCK_MOVE){var At=this.getSurroundLoop(this);if(this.setWarningText(At?null:_e.module$exports$Blockly$Msg.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var Ot=(0,_e.module$exports$Blockly$Events.getGroup)();(0,_e.module$exports$Blockly$Events.setGroup)(mt.group),this.setEnabled(At),(0,_e.module$exports$Blockly$Events.setGroup)(Ot)}}}};(0,_e.module$exports$Blockly$Extensions.registerMixin)("controls_flow_in_loop_check",oo),(0,_e.module$exports$Blockly$common.defineBlocks)(Wo.blocks);var Bo={};Bo.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200F<","LT"],["\u200F\u2264","LTE"],["\u200F>","GT"],["\u200F\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);var Io={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};(0,_e.module$exports$Blockly$Extensions.register)("logic_op_tooltip",(0,_e.module$exports$Blockly$Extensions.buildTooltipForDropdown)("OP",Io));var Pt={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return this.elseifCount_&&mt.setAttribute("elseif",this.elseifCount_),this.elseCount_&&mt.setAttribute("else",1),mt},domToMutation:function(mt){this.elseifCount_=parseInt(mt.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(mt.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var mt=Object.create(null);return this.elseifCount_&&(mt.elseIfCount=this.elseifCount_),this.elseCount_&&(mt.hasElse=!0),mt},loadExtraState:function(mt){this.elseifCount_=mt.elseIfCount||0,this.elseCount_=mt.hasElse?1:0,this.updateShape_()},decompose:function(mt){var At=mt.newBlock("controls_if_if");At.initSvg();for(var Ot=At.nextConnection,Yt=1;Yt<=this.elseifCount_;Yt++){var Qt=mt.newBlock("controls_if_elseif");Qt.initSvg(),Ot.connect(Qt.previousConnection),Ot=Qt.nextConnection}return this.elseCount_&&(mt=mt.newBlock("controls_if_else"),mt.initSvg(),Ot.connect(mt.previousConnection)),At},compose:function(mt){mt=mt.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var At=[null],Ot=[null],Yt=null;mt&&!mt.isInsertionMarker();){switch(mt.type){case"controls_if_elseif":this.elseifCount_++,At.push(mt.valueConnection_),Ot.push(mt.statementConnection_);break;case"controls_if_else":this.elseCount_++,Yt=mt.statementConnection_;break;default:throw TypeError("Unknown block type: "+mt.type)}mt=mt.nextConnection&&mt.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(At,Ot,Yt)},saveConnections:function(mt){mt=mt.nextConnection.targetBlock();for(var At=1;mt;){switch(mt.type){case"controls_if_elseif":var Ot=this.getInput("IF"+At),Yt=this.getInput("DO"+At);mt.valueConnection_=Ot&&Ot.connection.targetConnection,mt.statementConnection_=Yt&&Yt.connection.targetConnection,At++;break;case"controls_if_else":Ot=this.getInput("ELSE"),mt.statementConnection_=Ot&&Ot.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+mt.type)}mt=mt.nextConnection&&mt.nextConnection.targetBlock()}},rebuildShape_:function(){var mt=[null],At=[null],Ot=null;this.getInput("ELSE")&&(Ot=this.getInput("ELSE").connection.targetConnection);for(var Yt=1;this.getInput("IF"+Yt);Yt++){var Qt=this.getInput("IF"+Yt),co=this.getInput("DO"+Yt);mt.push(Qt.connection.targetConnection),At.push(co.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(mt,At,Ot)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var mt=1;this.getInput("IF"+mt);mt++)this.removeInput("IF"+mt),this.removeInput("DO"+mt);for(mt=1;mt<=this.elseifCount_;mt++)this.appendValueInput("IF"+mt).setCheck("Boolean").appendField(_e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+mt).appendField(_e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(_e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(mt,At,Ot){for(var Yt=1;Yt<=this.elseifCount_;Yt++)_e.module$exports$Blockly$Mutator.Mutator.reconnect(mt[Yt],this,"IF"+Yt),_e.module$exports$Blockly$Mutator.Mutator.reconnect(At[Yt],this,"DO"+Yt);_e.module$exports$Blockly$Mutator.Mutator.reconnect(Ot,this,"ELSE")}};(0,_e.module$exports$Blockly$Extensions.registerMutator)("controls_if_mutator",Pt,null,["controls_if_elseif","controls_if_else"]);var io=function(){this.setTooltip(function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return _e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return _e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return _e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_4}else return _e.module$exports$Blockly$Msg.Msg.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};(0,_e.module$exports$Blockly$Extensions.register)("controls_if_tooltip",io);var vo={onchange:function(mt){this.prevBlocks_||(this.prevBlocks_=[null,null]);var At=this.getInputTargetBlock("A"),Ot=this.getInputTargetBlock("B");At&&Ot&&!this.workspace.connectionChecker.doTypeChecks(At.outputConnection,Ot.outputConnection)&&((0,_e.module$exports$Blockly$Events.setGroup)(mt.group),mt=this.prevBlocks_[0],mt!==At&&(At.unplug(),!mt||mt.isDisposed()||mt.isShadow()||this.getInput("A").connection.connect(mt.outputConnection)),At=this.prevBlocks_[1],At!==Ot&&(Ot.unplug(),!At||At.isDisposed()||At.isShadow()||this.getInput("B").connection.connect(At.outputConnection)),this.bumpNeighbours(),(0,_e.module$exports$Blockly$Events.setGroup)(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Po=function(){this.mixin(vo)};(0,_e.module$exports$Blockly$Extensions.register)("logic_compare",Po);var Ko={prevParentConnection_:null,onchange:function(mt){var At=this.getInputTargetBlock("THEN"),Ot=this.getInputTargetBlock("ELSE"),Yt=this.outputConnection.targetConnection;if((At||Ot)&&Yt)for(var Qt=0;2>Qt;Qt++){var co=Qt===1?At:Ot;co&&!co.workspace.connectionChecker.doTypeChecks(co.outputConnection,Yt)&&((0,_e.module$exports$Blockly$Events.setGroup)(mt.group),Yt===this.prevParentConnection_?(this.unplug(),Yt.getSourceBlock().bumpNeighbours()):(co.unplug(),co.bumpNeighbours()),(0,_e.module$exports$Blockly$Events.setGroup)(!1))}this.prevParentConnection_=Yt}};(0,_e.module$exports$Blockly$Extensions.registerMixin)("logic_ternary",Ko),(0,_e.module$exports$Blockly$common.defineBlocks)(Bo.blocks);var No={};No.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),No.blocks.lists_create_with={init:function(){this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new _e.module$exports$Blockly$Mutator.Mutator(["lists_create_with_item"])),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return mt.setAttribute("items",this.itemCount_),mt},domToMutation:function(mt){this.itemCount_=parseInt(mt.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(mt){this.itemCount_=mt.itemCount,this.updateShape_()},decompose:function(mt){var At=mt.newBlock("lists_create_with_container");At.initSvg();for(var Ot=At.getInput("STACK").connection,Yt=0;Yt<this.itemCount_;Yt++){var Qt=mt.newBlock("lists_create_with_item");Qt.initSvg(),Ot.connect(Qt.previousConnection),Ot=Qt.nextConnection}return At},compose:function(mt){var At=mt.getInputTargetBlock("STACK");for(mt=[];At&&!At.isInsertionMarker();)mt.push(At.valueConnection_),At=At.nextConnection&&At.nextConnection.targetBlock();for(At=0;At<this.itemCount_;At++){var Ot=this.getInput("ADD"+At).connection.targetConnection;Ot&&mt.indexOf(Ot)===-1&&Ot.disconnect()}for(this.itemCount_=mt.length,this.updateShape_(),At=0;At<this.itemCount_;At++)_e.module$exports$Blockly$Mutator.Mutator.reconnect(mt[At],this,"ADD"+At)},saveConnections:function(mt){mt=mt.getInputTargetBlock("STACK");for(var At=0;mt;){var Ot=this.getInput("ADD"+At);mt.valueConnection_=Ot&&Ot.connection.targetConnection,mt=mt.nextConnection&&mt.nextConnection.targetBlock(),At++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_EMPTY_TITLE);for(var mt=0;mt<this.itemCount_;mt++)if(!this.getInput("ADD"+mt)){var At=this.appendValueInput("ADD"+mt).setAlign(_e.module$exports$Blockly$Input.Align.RIGHT);mt===0&&At.appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(mt=this.itemCount_;this.getInput("ADD"+mt);mt++)this.removeInput("ADD"+mt)}},No.blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},No.blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},No.blocks.lists_indexOf={init:function(){var mt=[[_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(mt),"END"),this.setInputsInline(!0);var At=this;this.setTooltip(function(){return _e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",At.workspace.options.oneBasedIndex?"0":"-1")})}},No.blocks.lists_getIndex={init:function(){var mt=[[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_GET,"GET"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_LAST,"LAST"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),mt=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(mt,function(Ot){Ot=Ot==="REMOVE",this.getSourceBlock().updateStatement_(Ot)}),this.appendValueInput("VALUE").setCheck("Array").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(mt,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var At=this;this.setTooltip(function(){var Ot=At.getFieldValue("MODE"),Yt=At.getFieldValue("WHERE"),Qt="";switch(Ot+" "+Yt){case"GET FROM_START":case"GET FROM_END":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(Yt==="FROM_START"||Yt==="FROM_END")&&(Qt+="  "+(Yt==="FROM_START"?_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP:_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",At.workspace.options.oneBasedIndex?"#1":"#0")),Qt})},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");mt.setAttribute("statement",!this.outputConnection);var At=this.getInput("AT").type===_e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return mt.setAttribute("at",At),mt},domToMutation:function(mt){var At=mt.getAttribute("statement")==="true";this.updateStatement_(At),mt=mt.getAttribute("at")!=="false",this.updateAt_(mt)},updateStatement_:function(mt){mt!==!this.outputConnection&&(this.unplug(!0,!0),mt?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(mt){this.removeInput("AT"),this.removeInput("ORDINAL",!0),mt?(this.appendValueInput("AT").setCheck("Number"),_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var At=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(this.WHERE_OPTIONS,function(Ot){var Yt=Ot==="FROM_START"||Ot==="FROM_END";if(Yt!==mt){var Qt=this.getSourceBlock();return Qt.updateAt_(Yt),Qt.setFieldValue(Ot,"WHERE"),null}});this.getInput("AT").appendField(At,"WHERE"),_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},No.blocks.lists_setIndex={init:function(){var mt=[[_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_SET,"SET"],[_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_LAST,"LAST"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(mt),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var At=this;this.setTooltip(function(){var Ot=At.getFieldValue("MODE"),Yt=At.getFieldValue("WHERE"),Qt="";switch(Ot+" "+Yt){case"SET FROM_START":case"SET FROM_END":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":Qt=_e.module$exports$Blockly$Msg.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(Yt==="FROM_START"||Yt==="FROM_END")&&(Qt+="  "+_e.module$exports$Blockly$Msg.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",At.workspace.options.oneBasedIndex?"#1":"#0")),Qt})},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation"),At=this.getInput("AT").type===_e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return mt.setAttribute("at",At),mt},domToMutation:function(mt){mt=mt.getAttribute("at")!=="false",this.updateAt_(mt)},updateAt_:function(mt){this.removeInput("AT"),this.removeInput("ORDINAL",!0),mt?(this.appendValueInput("AT").setCheck("Number"),_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var At=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(this.WHERE_OPTIONS,function(Ot){var Yt=Ot==="FROM_START"||Ot==="FROM_END";if(Yt!==mt){var Qt=this.getSourceBlock();return Qt.updateAt_(Yt),Qt.setFieldValue(Ot,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(At,"WHERE")}},No.blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation"),At=this.getInput("AT1").type===_e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE;return mt.setAttribute("at1",At),At=this.getInput("AT2").type===_e.module$exports$Blockly$ConnectionType.ConnectionType.INPUT_VALUE,mt.setAttribute("at2",At),mt},domToMutation:function(mt){var At=mt.getAttribute("at1")==="true";mt=mt.getAttribute("at2")==="true",this.updateAt_(1,At),this.updateAt_(2,mt)},updateAt_:function(mt,At){this.removeInput("AT"+mt),this.removeInput("ORDINAL"+mt,!0),At?(this.appendValueInput("AT"+mt).setCheck("Number"),_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+mt).appendField(_e.module$exports$Blockly$Msg.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+mt);var Ot=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown(this["WHERE_OPTIONS_"+mt],function(Yt){var Qt=Yt==="FROM_START"||Yt==="FROM_END";if(Qt!==At){var co=this.getSourceBlock();return co.updateAt_(mt,Qt),co.setFieldValue(Yt,"WHERE"+mt),null}});this.getInput("AT"+mt).appendField(Ot,"WHERE"+mt),mt===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),_e.module$exports$Blockly$Msg.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},No.blocks.lists_sort={init:function(){this.jsonInit({message0:_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_TOOLTIP,helpUrl:_e.module$exports$Blockly$Msg.Msg.LISTS_SORT_HELPURL})}},No.blocks.lists_split={init:function(){var mt=this,At=new _e.module$exports$Blockly$FieldDropdown.FieldDropdown([[_e.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[_e.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(Ot){mt.updateType_(Ot)});this.setHelpUrl(_e.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(At,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(_e.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var Ot=mt.getFieldValue("MODE");if(Ot==="SPLIT")return _e.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(Ot==="JOIN")return _e.module$exports$Blockly$Msg.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+Ot)})},updateType_:function(mt){if(this.getFieldValue("MODE")!==mt){var At=this.getInput("INPUT").connection;At.setShadowDom(null);var Ot=At.targetBlock();Ot&&(At.disconnect(),Ot.isShadow()?Ot.dispose():this.bumpNeighbours())}mt==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var mt=(0,_e.module$exports$Blockly$utils$xml.createElement)("mutation");return mt.setAttribute("mode",this.getFieldValue("MODE")),mt},domToMutation:function(mt){this.updateType_(mt.getAttribute("mode"))}},(0,_e.module$exports$Blockly$common.defineBlocks)(No.blocks);var kt={};kt.blocks=(0,_e.module$exports$Blockly$common.createBlockDefinitionsFromJsonArray)([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),(0,_e.module$exports$Blockly$common.defineBlocks)(kt.blocks),_e.Blockly.libraryBlocks={},_e.Blockly.libraryBlocks.colour=kt,_e.Blockly.libraryBlocks.lists=No,_e.Blockly.libraryBlocks.logic=Bo,_e.Blockly.libraryBlocks.loops=Wo,_e.Blockly.libraryBlocks.math=Ut,_e.Blockly.libraryBlocks.procedures=Ht,_e.Blockly.libraryBlocks.texts=gt,_e.Blockly.libraryBlocks.variables=ht,_e.Blockly.libraryBlocks.variablesDynamic=tt;var jo=Object.assign({},kt.blocks,No.blocks,Bo.blocks,Wo.blocks,Ut.blocks,Ht.blocks,ht.blocks,tt.blocks);return _e.Blockly.libraryBlocks.blocks=jo,_e.Blockly.libraryBlocks.__namespace__=_e,_e.Blockly.libraryBlocks})}(blocks_compressed)),blocks_compressed.exports}var hasRequiredBlocks;function requireBlocks(){return hasRequiredBlocks||(hasRequiredBlocks=1,function(i,$){(function(_,_e){i.exports=_e(requireBlocks_compressed())})(commonjsGlobal,function(_){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return _})}(blocks)),blocks.exports}var javascript={exports:{}},javascript_compressed={exports:{}},hasRequiredJavascript_compressed;function requireJavascript_compressed(){return hasRequiredJavascript_compressed||(hasRequiredJavascript_compressed=1,function(i,$){(function(_,_e){i.exports=_e(requireBlockly_compressed())})(commonjsGlobal,function(_){var _e=_.__namespace__,tt=new _e.module$exports$Blockly$Generator.Generator("JavaScript");tt.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(_e.module$exports$Blockly$utils$global.globalThis).join(",")),tt.ORDER_ATOMIC=0,tt.ORDER_NEW=1.1,tt.ORDER_MEMBER=1.2,tt.ORDER_FUNCTION_CALL=2,tt.ORDER_INCREMENT=3,tt.ORDER_DECREMENT=3,tt.ORDER_BITWISE_NOT=4.1,tt.ORDER_UNARY_PLUS=4.2,tt.ORDER_UNARY_NEGATION=4.3,tt.ORDER_LOGICAL_NOT=4.4,tt.ORDER_TYPEOF=4.5,tt.ORDER_VOID=4.6,tt.ORDER_DELETE=4.7,tt.ORDER_AWAIT=4.8,tt.ORDER_EXPONENTIATION=5,tt.ORDER_MULTIPLICATION=5.1,tt.ORDER_DIVISION=5.2,tt.ORDER_MODULUS=5.3,tt.ORDER_SUBTRACTION=6.1,tt.ORDER_ADDITION=6.2,tt.ORDER_BITWISE_SHIFT=7,tt.ORDER_RELATIONAL=8,tt.ORDER_IN=8,tt.ORDER_INSTANCEOF=8,tt.ORDER_EQUALITY=9,tt.ORDER_BITWISE_AND=10,tt.ORDER_BITWISE_XOR=11,tt.ORDER_BITWISE_OR=12,tt.ORDER_LOGICAL_AND=13,tt.ORDER_LOGICAL_OR=14,tt.ORDER_CONDITIONAL=15,tt.ORDER_ASSIGNMENT=16,tt.ORDER_YIELD=17,tt.ORDER_COMMA=18,tt.ORDER_NONE=99,tt.ORDER_OVERRIDES=[[tt.ORDER_FUNCTION_CALL,tt.ORDER_MEMBER],[tt.ORDER_FUNCTION_CALL,tt.ORDER_FUNCTION_CALL],[tt.ORDER_MEMBER,tt.ORDER_MEMBER],[tt.ORDER_MEMBER,tt.ORDER_FUNCTION_CALL],[tt.ORDER_LOGICAL_NOT,tt.ORDER_LOGICAL_NOT],[tt.ORDER_MULTIPLICATION,tt.ORDER_MULTIPLICATION],[tt.ORDER_ADDITION,tt.ORDER_ADDITION],[tt.ORDER_LOGICAL_AND,tt.ORDER_LOGICAL_AND],[tt.ORDER_LOGICAL_OR,tt.ORDER_LOGICAL_OR]],tt.isInitialized=!1,tt.init=function(lt){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new _e.module$exports$Blockly$Names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(lt.getVariableMap()),this.nameDB_.populateVariables(lt),this.nameDB_.populateProcedures(lt);for(var pt=[],dt=(0,_e.module$exports$Blockly$Variables.allDeveloperVariables)(lt),gt=0;gt<dt.length;gt++)pt.push(this.nameDB_.getName(dt[gt],_e.module$exports$Blockly$Names.NameType.DEVELOPER_VARIABLE));for(lt=(0,_e.module$exports$Blockly$Variables.allUsedVarModels)(lt),dt=0;dt<lt.length;dt++)pt.push(this.nameDB_.getName(lt[dt].getId(),_e.module$exports$Blockly$Names.NameType.VARIABLE));pt.length&&(this.definitions_.variables="var "+pt.join(", ")+";"),this.isInitialized=!0},tt.finish=function(lt){var pt=(0,_e.module$exports$Blockly$utils$object.values)(this.definitions_);return lt=Object.getPrototypeOf(this).finish.call(this,lt),this.isInitialized=!1,this.nameDB_.reset(),pt.join(`

`)+`


`+lt},tt.scrubNakedValue=function(lt){return lt+`;
`},tt.quote_=function(lt){return lt=lt.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+lt+"'"},tt.multiline_quote_=function(lt){return lt.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)},tt.scrub_=function(lt,pt,dt){var gt="";if(!lt.outputConnection||!lt.outputConnection.targetConnection){var vt=lt.getCommentText();vt&&(vt=(0,_e.module$exports$Blockly$utils$string.wrap)(vt,this.COMMENT_WRAP-3),gt+=this.prefixLines(vt+`
`,"// "));for(var bt=0;bt<lt.inputList.length;bt++)lt.inputList[bt].type===_e.module$exports$Blockly$inputTypes.inputTypes.VALUE&&(vt=lt.inputList[bt].connection.targetBlock())&&(vt=this.allNestedComments(vt))&&(gt+=this.prefixLines(vt,"// "))}return lt=lt.nextConnection&&lt.nextConnection.targetBlock(),dt=dt?"":this.blockToCode(lt),gt+pt+dt},tt.getAdjusted=function(lt,pt,dt,gt,vt){dt=dt||0,vt=vt||this.ORDER_NONE,lt.workspace.options.oneBasedIndex&&dt--;var bt=lt.workspace.options.oneBasedIndex?"1":"0",$t=vt;if(0<dt)var Tt=$t=this.ORDER_ADDITION;else 0>dt?Tt=$t=this.ORDER_SUBTRACTION:gt&&(Tt=$t=this.ORDER_UNARY_NEGATION);return lt=this.valueToCode(lt,pt,$t)||bt,(0,_e.module$exports$Blockly$utils$string.isNumber)(lt)?(lt=Number(lt)+dt,gt&&(lt=-lt)):(0<dt?lt=lt+" + "+dt:0>dt&&(lt=lt+" - "+-dt),gt&&(lt=dt?"-("+lt+")":"-"+lt),Tt=Math.floor(Tt),vt=Math.floor(vt),Tt&&vt>=Tt&&(lt="("+lt+")")),lt},_e.Blockly.JavaScript=tt,_e.Blockly.JavaScript.variables_get=function(lt){return[_e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("VAR"),_e.module$exports$Blockly$Names.NameType.VARIABLE),_e.Blockly.JavaScript.ORDER_ATOMIC]},_e.Blockly.JavaScript.variables_set=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return _e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("VAR"),_e.module$exports$Blockly$Names.NameType.VARIABLE)+" = "+pt+`;
`},_e.Blockly.JavaScript.variables_get_dynamic=_e.Blockly.JavaScript.variables_get,_e.Blockly.JavaScript.variables_set_dynamic=_e.Blockly.JavaScript.variables_set;var nt=/^\s*'([^']|\\')*'\s*$/,st=function(lt){return nt.test(lt)?[lt,_e.Blockly.JavaScript.ORDER_ATOMIC]:["String("+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},at=function(lt,pt,dt){return pt==="FIRST"?"0":pt==="FROM_END"?lt+".length - 1 - "+dt:pt==="LAST"?lt+".length - 1":dt};_e.Blockly.JavaScript.text=function(lt){return[_e.Blockly.JavaScript.quote_(lt.getFieldValue("TEXT")),_e.Blockly.JavaScript.ORDER_ATOMIC]},_e.Blockly.JavaScript.text_multiline=function(lt){lt=_e.Blockly.JavaScript.multiline_quote_(lt.getFieldValue("TEXT"));var pt=lt.indexOf("+")!==-1?_e.Blockly.JavaScript.ORDER_ADDITION:_e.Blockly.JavaScript.ORDER_ATOMIC;return[lt,pt]},_e.Blockly.JavaScript.text_join=function(lt){switch(lt.itemCount_){case 0:return["''",_e.Blockly.JavaScript.ORDER_ATOMIC];case 1:return lt=_e.Blockly.JavaScript.valueToCode(lt,"ADD0",_e.Blockly.JavaScript.ORDER_NONE)||"''",st(lt);case 2:var pt=_e.Blockly.JavaScript.valueToCode(lt,"ADD0",_e.Blockly.JavaScript.ORDER_NONE)||"''";return lt=_e.Blockly.JavaScript.valueToCode(lt,"ADD1",_e.Blockly.JavaScript.ORDER_NONE)||"''",[st(pt)[0]+" + "+st(lt)[0],_e.Blockly.JavaScript.ORDER_ADDITION];default:pt=Array(lt.itemCount_);for(var dt=0;dt<lt.itemCount_;dt++)pt[dt]=_e.Blockly.JavaScript.valueToCode(lt,"ADD"+dt,_e.Blockly.JavaScript.ORDER_NONE)||"''";return["["+pt.join(",")+"].join('')",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]}},_e.Blockly.JavaScript.text_append=function(lt){var pt=_e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("VAR"),_e.module$exports$Blockly$Names.NameType.VARIABLE);return lt=_e.Blockly.JavaScript.valueToCode(lt,"TEXT",_e.Blockly.JavaScript.ORDER_NONE)||"''",pt+" += "+st(lt)[0]+`;
`},_e.Blockly.JavaScript.text_length=function(lt){return[(_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",_e.Blockly.JavaScript.ORDER_MEMBER]},_e.Blockly.JavaScript.text_isEmpty=function(lt){return["!"+(_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",_e.Blockly.JavaScript.ORDER_LOGICAL_NOT]},_e.Blockly.JavaScript.text_indexOf=function(lt){var pt=lt.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",dt=_e.Blockly.JavaScript.valueToCode(lt,"FIND",_e.Blockly.JavaScript.ORDER_NONE)||"''";return pt=(_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_MEMBER)||"''")+"."+pt+"("+dt+")",lt.workspace.options.oneBasedIndex?[pt+" + 1",_e.Blockly.JavaScript.ORDER_ADDITION]:[pt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.text_charAt=function(lt){var pt=lt.getFieldValue("WHERE")||"FROM_START",dt=_e.Blockly.JavaScript.valueToCode(lt,"VALUE",pt==="RANDOM"?_e.Blockly.JavaScript.ORDER_NONE:_e.Blockly.JavaScript.ORDER_MEMBER)||"''";switch(pt){case"FIRST":return[dt+".charAt(0)",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[dt+".slice(-1)",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT"),[dt+".charAt("+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT",1,!0),[dt+".slice("+lt+").charAt(0)",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[_e.Blockly.JavaScript.provideFunction_("textRandomLetter",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+dt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},_e.Blockly.JavaScript.text_getSubstring=function(lt){var pt=lt.getFieldValue("WHERE1"),dt=lt.getFieldValue("WHERE2"),gt=pt!=="FROM_END"&&pt!=="LAST"&&dt!=="FROM_END"&&dt!=="LAST",vt=_e.Blockly.JavaScript.valueToCode(lt,"STRING",gt?_e.Blockly.JavaScript.ORDER_MEMBER:_e.Blockly.JavaScript.ORDER_NONE)||"''";if(pt==="FIRST"&&dt==="LAST")return[vt,_e.Blockly.JavaScript.ORDER_NONE];if(vt.match(/^'?\w+'?$/)||gt){switch(pt){case"FROM_START":pt=_e.Blockly.JavaScript.getAdjusted(lt,"AT1");break;case"FROM_END":pt=_e.Blockly.JavaScript.getAdjusted(lt,"AT1",1,!1,_e.Blockly.JavaScript.ORDER_SUBTRACTION),pt=vt+".length - "+pt;break;case"FIRST":pt="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(dt){case"FROM_START":dt=_e.Blockly.JavaScript.getAdjusted(lt,"AT2",1);break;case"FROM_END":dt=_e.Blockly.JavaScript.getAdjusted(lt,"AT2",0,!1,_e.Blockly.JavaScript.ORDER_SUBTRACTION),dt=vt+".length - "+dt;break;case"LAST":dt=vt+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}vt=vt+".slice("+pt+", "+dt+")"}else{gt=_e.Blockly.JavaScript.getAdjusted(lt,"AT1"),lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT2");var bt={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};vt=_e.Blockly.JavaScript.provideFunction_("subsequence"+bt[pt]+bt[dt],`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+(pt==="FROM_END"||pt==="FROM_START"?", at1":"")+(dt==="FROM_END"||dt==="FROM_START"?", at2":"")+`) {
  var start = `+at("sequence",pt,"at1")+`;
  var end = `+at("sequence",dt,"at2")+` + 1;
  return sequence.slice(start, end);
}
`)+"("+vt+(pt==="FROM_END"||pt==="FROM_START"?", "+gt:"")+(dt==="FROM_END"||dt==="FROM_START"?", "+lt:"")+")"}return[vt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.text_changeCase=function(lt){var pt={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[lt.getFieldValue("CASE")];return lt=_e.Blockly.JavaScript.valueToCode(lt,"TEXT",pt?_e.Blockly.JavaScript.ORDER_MEMBER:_e.Blockly.JavaScript.ORDER_NONE)||"''",[pt?lt+pt:_e.Blockly.JavaScript.provideFunction_("textToTitleCase",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.text_trim=function(lt){var pt={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[lt.getFieldValue("MODE")];return[(_e.Blockly.JavaScript.valueToCode(lt,"TEXT",_e.Blockly.JavaScript.ORDER_MEMBER)||"''")+pt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.text_print=function(lt){return"window.alert("+(_e.Blockly.JavaScript.valueToCode(lt,"TEXT",_e.Blockly.JavaScript.ORDER_NONE)||"''")+`);
`},_e.Blockly.JavaScript.text_prompt_ext=function(lt){var pt="window.prompt("+(lt.getField("TEXT")?_e.Blockly.JavaScript.quote_(lt.getFieldValue("TEXT")):_e.Blockly.JavaScript.valueToCode(lt,"TEXT",_e.Blockly.JavaScript.ORDER_NONE)||"''")+")";return lt.getFieldValue("TYPE")==="NUMBER"&&(pt="Number("+pt+")"),[pt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.text_prompt=_e.Blockly.JavaScript.text_prompt_ext,_e.Blockly.JavaScript.text_count=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"TEXT",_e.Blockly.JavaScript.ORDER_NONE)||"''";return lt=_e.Blockly.JavaScript.valueToCode(lt,"SUB",_e.Blockly.JavaScript.ORDER_NONE)||"''",[_e.Blockly.JavaScript.provideFunction_("textCount",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+pt+", "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.text_replace=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"TEXT",_e.Blockly.JavaScript.ORDER_NONE)||"''",dt=_e.Blockly.JavaScript.valueToCode(lt,"FROM",_e.Blockly.JavaScript.ORDER_NONE)||"''";return lt=_e.Blockly.JavaScript.valueToCode(lt,"TO",_e.Blockly.JavaScript.ORDER_NONE)||"''",[_e.Blockly.JavaScript.provideFunction_("textReplace",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+pt+", "+dt+", "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.text_reverse=function(lt){return[(_e.Blockly.JavaScript.valueToCode(lt,"TEXT",_e.Blockly.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.procedures_defreturn=function(lt){var pt=_e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("NAME"),_e.module$exports$Blockly$Names.NameType.PROCEDURE),dt="";_e.Blockly.JavaScript.STATEMENT_PREFIX&&(dt+=_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_PREFIX,lt)),_e.Blockly.JavaScript.STATEMENT_SUFFIX&&(dt+=_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_SUFFIX,lt)),dt&&(dt=_e.Blockly.JavaScript.prefixLines(dt,_e.Blockly.JavaScript.INDENT));var gt="";_e.Blockly.JavaScript.INFINITE_LOOP_TRAP&&(gt=_e.Blockly.JavaScript.prefixLines(_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.INFINITE_LOOP_TRAP,lt),_e.Blockly.JavaScript.INDENT));var vt=_e.Blockly.JavaScript.statementToCode(lt,"STACK"),bt=_e.Blockly.JavaScript.valueToCode(lt,"RETURN",_e.Blockly.JavaScript.ORDER_NONE)||"",$t="";vt&&bt&&($t=dt),bt&&(bt=_e.Blockly.JavaScript.INDENT+"return "+bt+`;
`);for(var Tt=[],St=lt.getVars(),Bt=0;Bt<St.length;Bt++)Tt[Bt]=_e.Blockly.JavaScript.nameDB_.getName(St[Bt],_e.module$exports$Blockly$Names.NameType.VARIABLE);return dt="function "+pt+"("+Tt.join(", ")+`) {
`+dt+gt+vt+$t+bt+"}",dt=_e.Blockly.JavaScript.scrub_(lt,dt),_e.Blockly.JavaScript.definitions_["%"+pt]=dt,null},_e.Blockly.JavaScript.procedures_defnoreturn=_e.Blockly.JavaScript.procedures_defreturn,_e.Blockly.JavaScript.procedures_callreturn=function(lt){for(var pt=_e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("NAME"),_e.module$exports$Blockly$Names.NameType.PROCEDURE),dt=[],gt=lt.getVars(),vt=0;vt<gt.length;vt++)dt[vt]=_e.Blockly.JavaScript.valueToCode(lt,"ARG"+vt,_e.Blockly.JavaScript.ORDER_NONE)||"null";return[pt+"("+dt.join(", ")+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.procedures_callnoreturn=function(lt){return _e.Blockly.JavaScript.procedures_callreturn(lt)[0]+`;
`},_e.Blockly.JavaScript.procedures_ifreturn=function(lt){var pt="if ("+(_e.Blockly.JavaScript.valueToCode(lt,"CONDITION",_e.Blockly.JavaScript.ORDER_NONE)||"false")+`) {
`;return _e.Blockly.JavaScript.STATEMENT_SUFFIX&&(pt+=_e.Blockly.JavaScript.prefixLines(_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_SUFFIX,lt),_e.Blockly.JavaScript.INDENT)),lt.hasReturnValue_?(lt=_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_NONE)||"null",pt+=_e.Blockly.JavaScript.INDENT+"return "+lt+`;
`):pt+=_e.Blockly.JavaScript.INDENT+`return;
`,pt+`}
`},_e.Blockly.JavaScript.math_number=function(lt){return lt=Number(lt.getFieldValue("NUM")),[lt,0<=lt?_e.Blockly.JavaScript.ORDER_ATOMIC:_e.Blockly.JavaScript.ORDER_UNARY_NEGATION]},_e.Blockly.JavaScript.math_arithmetic=function(lt){var pt={ADD:[" + ",_e.Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",_e.Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",_e.Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",_e.Blockly.JavaScript.ORDER_DIVISION],POWER:[null,_e.Blockly.JavaScript.ORDER_NONE]}[lt.getFieldValue("OP")],dt=pt[0];pt=pt[1];var gt=_e.Blockly.JavaScript.valueToCode(lt,"A",pt)||"0";return lt=_e.Blockly.JavaScript.valueToCode(lt,"B",pt)||"0",dt?[gt+dt+lt,pt]:["Math.pow("+gt+", "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.math_single=function(lt){var pt=lt.getFieldValue("OP");if(pt==="NEG")return lt=_e.Blockly.JavaScript.valueToCode(lt,"NUM",_e.Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0",lt[0]==="-"&&(lt=" "+lt),["-"+lt,_e.Blockly.JavaScript.ORDER_UNARY_NEGATION];switch(lt=pt==="SIN"||pt==="COS"||pt==="TAN"?_e.Blockly.JavaScript.valueToCode(lt,"NUM",_e.Blockly.JavaScript.ORDER_DIVISION)||"0":_e.Blockly.JavaScript.valueToCode(lt,"NUM",_e.Blockly.JavaScript.ORDER_NONE)||"0",pt){case"ABS":var dt="Math.abs("+lt+")";break;case"ROOT":dt="Math.sqrt("+lt+")";break;case"LN":dt="Math.log("+lt+")";break;case"EXP":dt="Math.exp("+lt+")";break;case"POW10":dt="Math.pow(10,"+lt+")";break;case"ROUND":dt="Math.round("+lt+")";break;case"ROUNDUP":dt="Math.ceil("+lt+")";break;case"ROUNDDOWN":dt="Math.floor("+lt+")";break;case"SIN":dt="Math.sin("+lt+" / 180 * Math.PI)";break;case"COS":dt="Math.cos("+lt+" / 180 * Math.PI)";break;case"TAN":dt="Math.tan("+lt+" / 180 * Math.PI)"}if(dt)return[dt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(pt){case"LOG10":dt="Math.log("+lt+") / Math.log(10)";break;case"ASIN":dt="Math.asin("+lt+") / Math.PI * 180";break;case"ACOS":dt="Math.acos("+lt+") / Math.PI * 180";break;case"ATAN":dt="Math.atan("+lt+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+pt)}return[dt,_e.Blockly.JavaScript.ORDER_DIVISION]},_e.Blockly.JavaScript.math_constant=function(lt){return{PI:["Math.PI",_e.Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",_e.Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",_e.Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",_e.Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",_e.Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",_e.Blockly.JavaScript.ORDER_ATOMIC]}[lt.getFieldValue("CONSTANT")]},_e.Blockly.JavaScript.math_number_property=function(lt){var pt={EVEN:[" % 2 === 0",_e.Blockly.JavaScript.ORDER_MODULUS,_e.Blockly.JavaScript.ORDER_EQUALITY],ODD:[" % 2 === 1",_e.Blockly.JavaScript.ORDER_MODULUS,_e.Blockly.JavaScript.ORDER_EQUALITY],WHOLE:[" % 1 === 0",_e.Blockly.JavaScript.ORDER_MODULUS,_e.Blockly.JavaScript.ORDER_EQUALITY],POSITIVE:[" > 0",_e.Blockly.JavaScript.ORDER_RELATIONAL,_e.Blockly.JavaScript.ORDER_RELATIONAL],NEGATIVE:[" < 0",_e.Blockly.JavaScript.ORDER_RELATIONAL,_e.Blockly.JavaScript.ORDER_RELATIONAL],DIVISIBLE_BY:[null,_e.Blockly.JavaScript.ORDER_MODULUS,_e.Blockly.JavaScript.ORDER_EQUALITY],PRIME:[null,_e.Blockly.JavaScript.ORDER_NONE,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},dt=lt.getFieldValue("PROPERTY");pt=_e.$jscomp.makeIterator(pt[dt]);var gt=pt.next().value,vt=pt.next().value;return pt=pt.next().value,vt=_e.Blockly.JavaScript.valueToCode(lt,"NUMBER_TO_CHECK",vt)||"0",dt==="PRIME"?lt=_e.Blockly.JavaScript.provideFunction_("mathIsPrime",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+vt+")":dt==="DIVISIBLE_BY"?(lt=_e.Blockly.JavaScript.valueToCode(lt,"DIVISOR",_e.Blockly.JavaScript.ORDER_MODULUS)||"0",lt=vt+" % "+lt+" === 0"):lt=vt+gt,[lt,pt]},_e.Blockly.JavaScript.math_change=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"DELTA",_e.Blockly.JavaScript.ORDER_ADDITION)||"0";return lt=_e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("VAR"),_e.module$exports$Blockly$Names.NameType.VARIABLE),lt+" = (typeof "+lt+" === 'number' ? "+lt+" : 0) + "+pt+`;
`},_e.Blockly.JavaScript.math_round=_e.Blockly.JavaScript.math_single,_e.Blockly.JavaScript.math_trig=_e.Blockly.JavaScript.math_single,_e.Blockly.JavaScript.math_on_list=function(lt){var pt=lt.getFieldValue("OP");switch(pt){case"SUM":lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_MEMBER)||"[]",lt+=".reduce(function(x, y) {return x + y;})";break;case"MIN":lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_NONE)||"[]",lt="Math.min.apply(null, "+lt+")";break;case"MAX":lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_NONE)||"[]",lt="Math.max.apply(null, "+lt+")";break;case"AVERAGE":pt=_e.Blockly.JavaScript.provideFunction_("mathMean",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(myList) {
  return myList.reduce(function(x, y) {return x + y;}) / myList.length;
}
`),lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_NONE)||"[]",lt=pt+"("+lt+")";break;case"MEDIAN":pt=_e.Blockly.JavaScript.provideFunction_("mathMedian",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_NONE)||"[]",lt=pt+"("+lt+")";break;case"MODE":pt=_e.Blockly.JavaScript.provideFunction_("mathModes",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
        modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_NONE)||"[]",lt=pt+"("+lt+")";break;case"STD_DEV":pt=_e.Blockly.JavaScript.provideFunction_("mathStandardDeviation",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance = variance / n;
  return Math.sqrt(variance);
}
`),lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_NONE)||"[]",lt=pt+"("+lt+")";break;case"RANDOM":pt=_e.Blockly.JavaScript.provideFunction_("mathRandomList",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),lt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_NONE)||"[]",lt=pt+"("+lt+")";break;default:throw Error("Unknown operator: "+pt)}return[lt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.math_modulo=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"DIVIDEND",_e.Blockly.JavaScript.ORDER_MODULUS)||"0";return lt=_e.Blockly.JavaScript.valueToCode(lt,"DIVISOR",_e.Blockly.JavaScript.ORDER_MODULUS)||"0",[pt+" % "+lt,_e.Blockly.JavaScript.ORDER_MODULUS]},_e.Blockly.JavaScript.math_constrain=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_NONE)||"0",dt=_e.Blockly.JavaScript.valueToCode(lt,"LOW",_e.Blockly.JavaScript.ORDER_NONE)||"0";return lt=_e.Blockly.JavaScript.valueToCode(lt,"HIGH",_e.Blockly.JavaScript.ORDER_NONE)||"Infinity",["Math.min(Math.max("+pt+", "+dt+"), "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.math_random_int=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"FROM",_e.Blockly.JavaScript.ORDER_NONE)||"0";return lt=_e.Blockly.JavaScript.valueToCode(lt,"TO",_e.Blockly.JavaScript.ORDER_NONE)||"0",[_e.Blockly.JavaScript.provideFunction_("mathRandomInt",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+pt+", "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.math_random_float=function(lt){return["Math.random()",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.math_atan2=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"X",_e.Blockly.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(_e.Blockly.JavaScript.valueToCode(lt,"Y",_e.Blockly.JavaScript.ORDER_NONE)||"0")+", "+pt+") / Math.PI * 180",_e.Blockly.JavaScript.ORDER_DIVISION]},_e.Blockly.JavaScript.controls_repeat_ext=function(lt){var pt=lt.getField("TIMES")?String(Number(lt.getFieldValue("TIMES"))):_e.Blockly.JavaScript.valueToCode(lt,"TIMES",_e.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",dt=_e.Blockly.JavaScript.statementToCode(lt,"DO");dt=_e.Blockly.JavaScript.addLoopTrap(dt,lt),lt="";var gt=_e.Blockly.JavaScript.nameDB_.getDistinctName("count",_e.module$exports$Blockly$Names.NameType.VARIABLE),vt=pt;return pt.match(/^\w+$/)||(0,_e.module$exports$Blockly$utils$string.isNumber)(pt)||(vt=_e.Blockly.JavaScript.nameDB_.getDistinctName("repeat_end",_e.module$exports$Blockly$Names.NameType.VARIABLE),lt+="var "+vt+" = "+pt+`;
`),lt+("for (var "+gt+" = 0; "+gt+" < "+vt+"; "+gt+`++) {
`+dt+`}
`)},_e.Blockly.JavaScript.controls_repeat=_e.Blockly.JavaScript.controls_repeat_ext,_e.Blockly.JavaScript.controls_whileUntil=function(lt){var pt=lt.getFieldValue("MODE")==="UNTIL",dt=_e.Blockly.JavaScript.valueToCode(lt,"BOOL",pt?_e.Blockly.JavaScript.ORDER_LOGICAL_NOT:_e.Blockly.JavaScript.ORDER_NONE)||"false",gt=_e.Blockly.JavaScript.statementToCode(lt,"DO");return gt=_e.Blockly.JavaScript.addLoopTrap(gt,lt),pt&&(dt="!"+dt),"while ("+dt+`) {
`+gt+`}
`},_e.Blockly.JavaScript.controls_for=function(lt){var pt=_e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("VAR"),_e.module$exports$Blockly$Names.NameType.VARIABLE),dt=_e.Blockly.JavaScript.valueToCode(lt,"FROM",_e.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",gt=_e.Blockly.JavaScript.valueToCode(lt,"TO",_e.Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",vt=_e.Blockly.JavaScript.valueToCode(lt,"BY",_e.Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",bt=_e.Blockly.JavaScript.statementToCode(lt,"DO");if(bt=_e.Blockly.JavaScript.addLoopTrap(bt,lt),(0,_e.module$exports$Blockly$utils$string.isNumber)(dt)&&(0,_e.module$exports$Blockly$utils$string.isNumber)(gt)&&(0,_e.module$exports$Blockly$utils$string.isNumber)(vt)){var $t=Number(dt)<=Number(gt);lt="for ("+pt+" = "+dt+"; "+pt+($t?" <= ":" >= ")+gt+"; "+pt,pt=Math.abs(Number(vt)),lt=(pt===1?lt+($t?"++":"--"):lt+(($t?" += ":" -= ")+pt))+(`) {
`+bt+`}
`)}else lt="",$t=dt,dt.match(/^\w+$/)||(0,_e.module$exports$Blockly$utils$string.isNumber)(dt)||($t=_e.Blockly.JavaScript.nameDB_.getDistinctName(pt+"_start",_e.module$exports$Blockly$Names.NameType.VARIABLE),lt+="var "+$t+" = "+dt+`;
`),dt=gt,gt.match(/^\w+$/)||(0,_e.module$exports$Blockly$utils$string.isNumber)(gt)||(dt=_e.Blockly.JavaScript.nameDB_.getDistinctName(pt+"_end",_e.module$exports$Blockly$Names.NameType.VARIABLE),lt+="var "+dt+" = "+gt+`;
`),gt=_e.Blockly.JavaScript.nameDB_.getDistinctName(pt+"_inc",_e.module$exports$Blockly$Names.NameType.VARIABLE),lt+="var "+gt+" = ",lt=(0,_e.module$exports$Blockly$utils$string.isNumber)(vt)?lt+(Math.abs(vt)+`;
`):lt+("Math.abs("+vt+`);
`),lt=lt+("if ("+$t+" > "+dt+`) {
`)+(_e.Blockly.JavaScript.INDENT+gt+" = -"+gt+`;
`),lt+=`}
`,lt+="for ("+pt+" = "+$t+"; "+gt+" >= 0 ? "+pt+" <= "+dt+" : "+pt+" >= "+dt+"; "+pt+" += "+gt+`) {
`+bt+`}
`;return lt},_e.Blockly.JavaScript.controls_forEach=function(lt){var pt=_e.Blockly.JavaScript.nameDB_.getName(lt.getFieldValue("VAR"),_e.module$exports$Blockly$Names.NameType.VARIABLE),dt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",gt=_e.Blockly.JavaScript.statementToCode(lt,"DO");gt=_e.Blockly.JavaScript.addLoopTrap(gt,lt),lt="";var vt=dt;return dt.match(/^\w+$/)||(vt=_e.Blockly.JavaScript.nameDB_.getDistinctName(pt+"_list",_e.module$exports$Blockly$Names.NameType.VARIABLE),lt+="var "+vt+" = "+dt+`;
`),dt=_e.Blockly.JavaScript.nameDB_.getDistinctName(pt+"_index",_e.module$exports$Blockly$Names.NameType.VARIABLE),gt=_e.Blockly.JavaScript.INDENT+pt+" = "+vt+"["+dt+`];
`+gt,lt+("for (var "+dt+" in "+vt+`) {
`+gt+`}
`)},_e.Blockly.JavaScript.controls_flow_statements=function(lt){var pt="";if(_e.Blockly.JavaScript.STATEMENT_PREFIX&&(pt+=_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_PREFIX,lt)),_e.Blockly.JavaScript.STATEMENT_SUFFIX&&(pt+=_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_SUFFIX,lt)),_e.Blockly.JavaScript.STATEMENT_PREFIX){var dt=lt.getSurroundLoop();dt&&!dt.suppressPrefixSuffix&&(pt+=_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_PREFIX,dt))}switch(lt.getFieldValue("FLOW")){case"BREAK":return pt+`break;
`;case"CONTINUE":return pt+`continue;
`}throw Error("Unknown flow statement.")},_e.Blockly.JavaScript.controls_if=function(lt){var pt=0,dt="";_e.Blockly.JavaScript.STATEMENT_PREFIX&&(dt+=_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_PREFIX,lt));do{var gt=_e.Blockly.JavaScript.valueToCode(lt,"IF"+pt,_e.Blockly.JavaScript.ORDER_NONE)||"false",vt=_e.Blockly.JavaScript.statementToCode(lt,"DO"+pt);_e.Blockly.JavaScript.STATEMENT_SUFFIX&&(vt=_e.Blockly.JavaScript.prefixLines(_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_SUFFIX,lt),_e.Blockly.JavaScript.INDENT)+vt),dt+=(0<pt?" else ":"")+"if ("+gt+`) {
`+vt+"}",pt++}while(lt.getInput("IF"+pt));return(lt.getInput("ELSE")||_e.Blockly.JavaScript.STATEMENT_SUFFIX)&&(pt=_e.Blockly.JavaScript.statementToCode(lt,"ELSE"),_e.Blockly.JavaScript.STATEMENT_SUFFIX&&(pt=_e.Blockly.JavaScript.prefixLines(_e.Blockly.JavaScript.injectId(_e.Blockly.JavaScript.STATEMENT_SUFFIX,lt),_e.Blockly.JavaScript.INDENT)+pt),dt+=` else {
`+pt+"}"),dt+`
`},_e.Blockly.JavaScript.controls_ifelse=_e.Blockly.JavaScript.controls_if,_e.Blockly.JavaScript.logic_compare=function(lt){var pt={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[lt.getFieldValue("OP")],dt=pt==="=="||pt==="!="?_e.Blockly.JavaScript.ORDER_EQUALITY:_e.Blockly.JavaScript.ORDER_RELATIONAL,gt=_e.Blockly.JavaScript.valueToCode(lt,"A",dt)||"0";return lt=_e.Blockly.JavaScript.valueToCode(lt,"B",dt)||"0",[gt+" "+pt+" "+lt,dt]},_e.Blockly.JavaScript.logic_operation=function(lt){var pt=lt.getFieldValue("OP")==="AND"?"&&":"||",dt=pt==="&&"?_e.Blockly.JavaScript.ORDER_LOGICAL_AND:_e.Blockly.JavaScript.ORDER_LOGICAL_OR,gt=_e.Blockly.JavaScript.valueToCode(lt,"A",dt);if(lt=_e.Blockly.JavaScript.valueToCode(lt,"B",dt),gt||lt){var vt=pt==="&&"?"true":"false";gt||(gt=vt),lt||(lt=vt)}else lt=gt="false";return[gt+" "+pt+" "+lt,dt]},_e.Blockly.JavaScript.logic_negate=function(lt){var pt=_e.Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(_e.Blockly.JavaScript.valueToCode(lt,"BOOL",pt)||"true"),pt]},_e.Blockly.JavaScript.logic_boolean=function(lt){return[lt.getFieldValue("BOOL")==="TRUE"?"true":"false",_e.Blockly.JavaScript.ORDER_ATOMIC]},_e.Blockly.JavaScript.logic_null=function(lt){return["null",_e.Blockly.JavaScript.ORDER_ATOMIC]},_e.Blockly.JavaScript.logic_ternary=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"IF",_e.Blockly.JavaScript.ORDER_CONDITIONAL)||"false",dt=_e.Blockly.JavaScript.valueToCode(lt,"THEN",_e.Blockly.JavaScript.ORDER_CONDITIONAL)||"null";return lt=_e.Blockly.JavaScript.valueToCode(lt,"ELSE",_e.Blockly.JavaScript.ORDER_CONDITIONAL)||"null",[pt+" ? "+dt+" : "+lt,_e.Blockly.JavaScript.ORDER_CONDITIONAL]},_e.Blockly.JavaScript.lists_create_empty=function(lt){return["[]",_e.Blockly.JavaScript.ORDER_ATOMIC]},_e.Blockly.JavaScript.lists_create_with=function(lt){for(var pt=Array(lt.itemCount_),dt=0;dt<lt.itemCount_;dt++)pt[dt]=_e.Blockly.JavaScript.valueToCode(lt,"ADD"+dt,_e.Blockly.JavaScript.ORDER_NONE)||"null";return["["+pt.join(", ")+"]",_e.Blockly.JavaScript.ORDER_ATOMIC]},_e.Blockly.JavaScript.lists_repeat=function(lt){var pt=_e.Blockly.JavaScript.provideFunction_("listsRepeat",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),dt=_e.Blockly.JavaScript.valueToCode(lt,"ITEM",_e.Blockly.JavaScript.ORDER_NONE)||"null";return lt=_e.Blockly.JavaScript.valueToCode(lt,"NUM",_e.Blockly.JavaScript.ORDER_NONE)||"0",[pt+"("+dt+", "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.lists_length=function(lt){return[(_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",_e.Blockly.JavaScript.ORDER_MEMBER]},_e.Blockly.JavaScript.lists_isEmpty=function(lt){return["!"+(_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",_e.Blockly.JavaScript.ORDER_LOGICAL_NOT]},_e.Blockly.JavaScript.lists_indexOf=function(lt){var pt=lt.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",dt=_e.Blockly.JavaScript.valueToCode(lt,"FIND",_e.Blockly.JavaScript.ORDER_NONE)||"''";return pt=(_e.Blockly.JavaScript.valueToCode(lt,"VALUE",_e.Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+pt+"("+dt+")",lt.workspace.options.oneBasedIndex?[pt+" + 1",_e.Blockly.JavaScript.ORDER_ADDITION]:[pt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.lists_getIndex=function(lt){var pt=lt.getFieldValue("MODE")||"GET",dt=lt.getFieldValue("WHERE")||"FROM_START",gt=_e.Blockly.JavaScript.valueToCode(lt,"VALUE",dt==="RANDOM"?_e.Blockly.JavaScript.ORDER_NONE:_e.Blockly.JavaScript.ORDER_MEMBER)||"[]";switch(dt){case"FIRST":if(pt==="GET")return[gt+"[0]",_e.Blockly.JavaScript.ORDER_MEMBER];if(pt==="GET_REMOVE")return[gt+".shift()",_e.Blockly.JavaScript.ORDER_MEMBER];if(pt==="REMOVE")return gt+`.shift();
`;break;case"LAST":if(pt==="GET")return[gt+".slice(-1)[0]",_e.Blockly.JavaScript.ORDER_MEMBER];if(pt==="GET_REMOVE")return[gt+".pop()",_e.Blockly.JavaScript.ORDER_MEMBER];if(pt==="REMOVE")return gt+`.pop();
`;break;case"FROM_START":if(lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT"),pt==="GET")return[gt+"["+lt+"]",_e.Blockly.JavaScript.ORDER_MEMBER];if(pt==="GET_REMOVE")return[gt+".splice("+lt+", 1)[0]",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];if(pt==="REMOVE")return gt+".splice("+lt+`, 1);
`;break;case"FROM_END":if(lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT",1,!0),pt==="GET")return[gt+".slice("+lt+")[0]",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];if(pt==="GET_REMOVE")return[gt+".splice("+lt+", 1)[0]",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];if(pt==="REMOVE")return gt+".splice("+lt+", 1);";break;case"RANDOM":if(gt=_e.Blockly.JavaScript.provideFunction_("listsGetRandomItem",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+gt+", "+(pt!=="GET")+")",pt==="GET"||pt==="GET_REMOVE")return[gt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL];if(pt==="REMOVE")return gt+`;
`}throw Error("Unhandled combination (lists_getIndex).")},_e.Blockly.JavaScript.lists_setIndex=function(lt){function pt(){if(dt.match(/^\w+$/))return"";var $t=_e.Blockly.JavaScript.nameDB_.getDistinctName("tmpList",_e.module$exports$Blockly$Names.NameType.VARIABLE),Tt="var "+$t+" = "+dt+`;
`;return dt=$t,Tt}var dt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_MEMBER)||"[]",gt=lt.getFieldValue("MODE")||"GET",vt=lt.getFieldValue("WHERE")||"FROM_START",bt=_e.Blockly.JavaScript.valueToCode(lt,"TO",_e.Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";switch(vt){case"FIRST":if(gt==="SET")return dt+"[0] = "+bt+`;
`;if(gt==="INSERT")return dt+".unshift("+bt+`);
`;break;case"LAST":if(gt==="SET")return pt()+(dt+"["+dt+".length - 1] = "+bt+`;
`);if(gt==="INSERT")return dt+".push("+bt+`);
`;break;case"FROM_START":if(lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT"),gt==="SET")return dt+"["+lt+"] = "+bt+`;
`;if(gt==="INSERT")return dt+".splice("+lt+", 0, "+bt+`);
`;break;case"FROM_END":if(lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT",1,!1,_e.Blockly.JavaScript.ORDER_SUBTRACTION),vt=pt(),gt==="SET")return vt+(dt+"["+dt+".length - "+lt+"] = "+bt+`;
`);if(gt==="INSERT")return vt+(dt+".splice("+dt+".length - "+lt+", 0, "+bt+`);
`);break;case"RANDOM":if(lt=pt(),vt=_e.Blockly.JavaScript.nameDB_.getDistinctName("tmpX",_e.module$exports$Blockly$Names.NameType.VARIABLE),lt+="var "+vt+" = Math.floor(Math.random() * "+dt+`.length);
`,gt==="SET")return lt+(dt+"["+vt+"] = "+bt+`;
`);if(gt==="INSERT")return lt+(dt+".splice("+vt+", 0, "+bt+`);
`)}throw Error("Unhandled combination (lists_setIndex).")};var ht=function(lt,pt,dt){return pt==="FIRST"?"0":pt==="FROM_END"?lt+".length - 1 - "+dt:pt==="LAST"?lt+".length - 1":dt};return _e.Blockly.JavaScript.lists_getSublist=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_MEMBER)||"[]",dt=lt.getFieldValue("WHERE1"),gt=lt.getFieldValue("WHERE2");if(dt==="FIRST"&&gt==="LAST")pt+=".slice(0)";else if(pt.match(/^\w+$/)||dt!=="FROM_END"&&gt==="FROM_START"){switch(dt){case"FROM_START":dt=_e.Blockly.JavaScript.getAdjusted(lt,"AT1");break;case"FROM_END":dt=_e.Blockly.JavaScript.getAdjusted(lt,"AT1",1,!1,_e.Blockly.JavaScript.ORDER_SUBTRACTION),dt=pt+".length - "+dt;break;case"FIRST":dt="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(gt){case"FROM_START":gt=_e.Blockly.JavaScript.getAdjusted(lt,"AT2",1);break;case"FROM_END":gt=_e.Blockly.JavaScript.getAdjusted(lt,"AT2",0,!1,_e.Blockly.JavaScript.ORDER_SUBTRACTION),gt=pt+".length - "+gt;break;case"LAST":gt=pt+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}pt=pt+".slice("+dt+", "+gt+")"}else{var vt=_e.Blockly.JavaScript.getAdjusted(lt,"AT1");lt=_e.Blockly.JavaScript.getAdjusted(lt,"AT2");var bt={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};pt=_e.Blockly.JavaScript.provideFunction_("subsequence"+bt[dt]+bt[gt],`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+(dt==="FROM_END"||dt==="FROM_START"?", at1":"")+(gt==="FROM_END"||gt==="FROM_START"?", at2":"")+`) {
  var start = `+ht("sequence",dt,"at1")+`;
  var end = `+ht("sequence",gt,"at2")+` + 1;
  return sequence.slice(start, end);
}
`)+"("+pt+(dt==="FROM_END"||dt==="FROM_START"?", "+vt:"")+(gt==="FROM_END"||gt==="FROM_START"?", "+lt:"")+")"}return[pt,_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.lists_sort=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]",dt=lt.getFieldValue("DIRECTION")==="1"?1:-1;lt=lt.getFieldValue("TYPE");var gt=_e.Blockly.JavaScript.provideFunction_("listsGetSortCompare",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return a.toString() > b.toString() ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `);return[pt+".slice().sort("+gt+'("'+lt+'", '+dt+"))",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.lists_split=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"INPUT",_e.Blockly.JavaScript.ORDER_MEMBER),dt=_e.Blockly.JavaScript.valueToCode(lt,"DELIM",_e.Blockly.JavaScript.ORDER_NONE)||"''";if(lt=lt.getFieldValue("MODE"),lt==="SPLIT")pt||(pt="''"),lt="split";else if(lt==="JOIN")pt||(pt="[]"),lt="join";else throw Error("Unknown mode: "+lt);return[pt+"."+lt+"("+dt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.lists_reverse=function(lt){return[(_e.Blockly.JavaScript.valueToCode(lt,"LIST",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.colour_picker=function(lt){return[_e.Blockly.JavaScript.quote_(lt.getFieldValue("COLOUR")),_e.Blockly.JavaScript.ORDER_ATOMIC]},_e.Blockly.JavaScript.colour_random=function(lt){return[_e.Blockly.JavaScript.provideFunction_("colourRandom",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`() {
  var num = Math.floor(Math.random() * Math.pow(2, 24));
  return '#' + ('00000' + num.toString(16)).substr(-6);
}
`)+"()",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.colour_rgb=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"RED",_e.Blockly.JavaScript.ORDER_NONE)||0,dt=_e.Blockly.JavaScript.valueToCode(lt,"GREEN",_e.Blockly.JavaScript.ORDER_NONE)||0;return lt=_e.Blockly.JavaScript.valueToCode(lt,"BLUE",_e.Blockly.JavaScript.ORDER_NONE)||0,[_e.Blockly.JavaScript.provideFunction_("colourRgb",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(r, g, b) {
  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;
  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;
  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;
  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);
  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);
  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+pt+", "+dt+", "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.colour_blend=function(lt){var pt=_e.Blockly.JavaScript.valueToCode(lt,"COLOUR1",_e.Blockly.JavaScript.ORDER_NONE)||"'#000000'",dt=_e.Blockly.JavaScript.valueToCode(lt,"COLOUR2",_e.Blockly.JavaScript.ORDER_NONE)||"'#000000'";return lt=_e.Blockly.JavaScript.valueToCode(lt,"RATIO",_e.Blockly.JavaScript.ORDER_NONE)||.5,[_e.Blockly.JavaScript.provideFunction_("colourBlend",`
function `+_e.Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+`(c1, c2, ratio) {
  ratio = Math.max(Math.min(Number(ratio), 1), 0);
  var r1 = parseInt(c1.substring(1, 3), 16);
  var g1 = parseInt(c1.substring(3, 5), 16);
  var b1 = parseInt(c1.substring(5, 7), 16);
  var r2 = parseInt(c2.substring(1, 3), 16);
  var g2 = parseInt(c2.substring(3, 5), 16);
  var b2 = parseInt(c2.substring(5, 7), 16);
  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);
  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);
  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);
  r = ('0' + (r || 0).toString(16)).slice(-2);
  g = ('0' + (g || 0).toString(16)).slice(-2);
  b = ('0' + (b || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+pt+", "+dt+", "+lt+")",_e.Blockly.JavaScript.ORDER_FUNCTION_CALL]},_e.Blockly.JavaScript.__namespace__=_e,_e.Blockly.JavaScript})}(javascript_compressed)),javascript_compressed.exports}var hasRequiredJavascript;function requireJavascript(){return hasRequiredJavascript||(hasRequiredJavascript=1,function(i,$){(function(_,_e){i.exports=_e(requireCoreBrowser(),requireJavascript_compressed())})(commonjsGlobal,function(_,_e){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return _e})}(javascript)),javascript.exports}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(i,$){(function(_,_e){i.exports=_e(requireCoreBrowser(),requireEn(),requireBlocks(),requireJavascript())})(commonjsGlobal,function(_,_e,tt,nt){return _.setLocale(_e),_})}(browser)),browser.exports}(function(i,$){(function(_,_e){i.exports=_e(requireBrowser())})(commonjsGlobal,function(_){/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return _})})(blockly$1);const Blockly=blockly$1.exports;function GrammerDefWorkspace(i){const _=new DOMParser().parseFromString(xml,"text/xml");return react.exports.useEffect(()=>{const _e=Blockly.inject("blocklyDiv",{toolbox:_.getElementById("toolbox")});_e.addChangeListener(()=>i(_e))},[xml]),jsx("div",{id:"blocklyDiv",style:{height:"480px",width:"600px"}})}const xml=`
    <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <category name="Logic" colour="#5b80a5">
    <block type="controls_if"/>
    <block type="logic_compare">
    <field name="OP">EQ</field>
    </block>
    <block type="logic_operation">
    <field name="OP">AND</field>
    </block>
    <block type="logic_negate"/>
    <block type="logic_boolean">
    <field name="BOOL">TRUE</field>
    </block>
    <block type="logic_null"/>
    <block type="logic_ternary"/>
    </category>
    <category name="Loops" colour="#5ba55b">
    <block type="controls_repeat_ext">
    <value name="TIMES">
    <shadow type="math_number">
    <field name="NUM">10</field>
    </shadow>
    </value>
    </block>
    <block type="controls_whileUntil">
    <field name="MODE">WHILE</field>
    </block>
    <block type="controls_for">
    <field name="VAR" id="u=viry[aWS)p)f0*:=YF">i</field>
    <value name="FROM">
    <shadow type="math_number">
    <field name="NUM">1</field>
    </shadow>
    </value>
    <value name="TO">
    <shadow type="math_number">
    <field name="NUM">10</field>
    </shadow>
    </value>
    <value name="BY">
    <shadow type="math_number">
    <field name="NUM">1</field>
    </shadow>
    </value>
    </block>
    <block type="controls_forEach">
    <field name="VAR" id="ihK$v_M36UekW_|Fn-1a">j</field>
    </block>
    <block type="controls_flow_statements">
    <field name="FLOW">BREAK</field>
    </block>
    </category>
    <category name="Math" colour="#5b67a5">
    <block type="math_number">
    <field name="NUM">0</field>
    </block>
    <block type="math_arithmetic">
    <field name="OP">ADD</field>
    <value name="A">
    <shadow type="math_number">
    <field name="NUM">1</field>
    </shadow>
    </value>
    <value name="B">
    <shadow type="math_number">
    <field name="NUM">1</field>
    </shadow>
    </value>
    </block>
    <block type="math_single">
    <field name="OP">ROOT</field>
    <value name="NUM">
    <shadow type="math_number">
    <field name="NUM">9</field>
    </shadow>
    </value>
    </block>
    <block type="math_trig">
    <field name="OP">SIN</field>
    <value name="NUM">
    <shadow type="math_number">
    <field name="NUM">45</field>
    </shadow>
    </value>
    </block>
    <block type="math_constant">
    <field name="CONSTANT">PI</field>
    </block>
    <block type="math_number_property">
    <mutation divisor_input="false"/>
    <field name="PROPERTY">EVEN</field>
    <value name="NUMBER_TO_CHECK">
    <shadow type="math_number">
    <field name="NUM">0</field>
    </shadow>
    </value>
    </block>
    <block type="math_round">
    <field name="OP">ROUND</field>
    <value name="NUM">
    <shadow type="math_number">
    <field name="NUM">3.1</field>
    </shadow>
    </value>
    </block>
    <block type="math_on_list">
    <mutation op="SUM"/>
    <field name="OP">SUM</field>
    </block>
    <block type="math_modulo">
    <value name="DIVIDEND">
    <shadow type="math_number">
    <field name="NUM">64</field>
    </shadow>
    </value>
    <value name="DIVISOR">
    <shadow type="math_number">
    <field name="NUM">10</field>
    </shadow>
    </value>
    </block>
    <block type="math_constrain">
    <value name="VALUE">
    <shadow type="math_number">
    <field name="NUM">50</field>
    </shadow>
    </value>
    <value name="LOW">
    <shadow type="math_number">
    <field name="NUM">1</field>
    </shadow>
    </value>
    <value name="HIGH">
    <shadow type="math_number">
    <field name="NUM">100</field>
    </shadow>
    </value>
    </block>
    <block type="math_random_int">
    <value name="FROM">
    <shadow type="math_number">
    <field name="NUM">1</field>
    </shadow>
    </value>
    <value name="TO">
    <shadow type="math_number">
    <field name="NUM">100</field>
    </shadow>
    </value>
    </block>
    <block type="math_random_float"/>
    </category>
    <category name="Text" colour="#5ba58c">
    <block type="text">
    <field name="TEXT"/>
    </block>
    <block type="text_join">
    <mutation items="2"/>
    </block>
    <block type="text_append">
    <field name="VAR" id="5*@YerW|j14L,9W:kren">item</field>
    <value name="TEXT">
    <shadow type="text">
    <field name="TEXT"/>
    </shadow>
    </value>
    </block>
    <block type="text_length">
    <value name="VALUE">
    <shadow type="text">
    <field name="TEXT">abc</field>
    </shadow>
    </value>
    </block>
    <block type="text_isEmpty">
    <value name="VALUE">
    <shadow type="text">
    <field name="TEXT"/>
    </shadow>
    </value>
    </block>
    <block type="text_indexOf">
    <field name="END">FIRST</field>
    <value name="VALUE">
    <block type="variables_get">
    <field name="VAR" id="yFfKCLQ3x2(NdxbBEXt$">text</field>
    </block>
    </value>
    <value name="FIND">
    <shadow type="text">
    <field name="TEXT">abc</field>
    </shadow>
    </value>
    </block>
    <block type="text_charAt">
    <mutation at="true"/>
    <field name="WHERE">FROM_START</field>
    <value name="VALUE">
    <block type="variables_get">
    <field name="VAR" id="yFfKCLQ3x2(NdxbBEXt$">text</field>
    </block>
    </value>
    </block>
    <block type="text_getSubstring">
    <mutation at1="true" at2="true"/>
    <field name="WHERE1">FROM_START</field>
    <field name="WHERE2">FROM_START</field>
    <value name="STRING">
    <block type="variables_get">
    <field name="VAR" id="yFfKCLQ3x2(NdxbBEXt$">text</field>
    </block>
    </value>
    </block>
    <block type="text_changeCase">
    <field name="CASE">UPPERCASE</field>
    <value name="TEXT">
    <shadow type="text">
    <field name="TEXT">abc</field>
    </shadow>
    </value>
    </block>
    <block type="text_trim">
    <field name="MODE">BOTH</field>
    <value name="TEXT">
    <shadow type="text">
    <field name="TEXT">abc</field>
    </shadow>
    </value>
    </block>
    <block type="text_print">
    <value name="TEXT">
    <shadow type="text">
    <field name="TEXT">abc</field>
    </shadow>
    </value>
    </block>
    <block type="text_prompt_ext">
    <mutation type="TEXT"/>
    <field name="TYPE">TEXT</field>
    <value name="TEXT">
    <shadow type="text">
    <field name="TEXT">abc</field>
    </shadow>
    </value>
    </block>
    </category>
    <category name="Lists" colour="#745ba5">
    <block type="lists_create_with">
    <mutation items="0"/>
    </block>
    <block type="lists_create_with">
    <mutation items="3"/>
    </block>
    <block type="lists_repeat">
    <value name="NUM">
    <shadow type="math_number">
    <field name="NUM">5</field>
    </shadow>
    </value>
    </block>
    <block type="lists_length"/>
    <block type="lists_isEmpty"/>
    <block type="lists_indexOf">
    <field name="END">FIRST</field>
    <value name="VALUE">
    <block type="variables_get">
    <field name="VAR" id="_#~m7,(T.AH:;kAr],_(">list</field>
    </block>
    </value>
    </block>
    <block type="lists_getIndex">
    <mutation statement="false" at="true"/>
    <field name="MODE">GET</field>
    <field name="WHERE">FROM_START</field>
    <value name="VALUE">
    <block type="variables_get">
    <field name="VAR" id="_#~m7,(T.AH:;kAr],_(">list</field>
    </block>
    </value>
    </block>
    <block type="lists_setIndex">
    <mutation at="true"/>
    <field name="MODE">SET</field>
    <field name="WHERE">FROM_START</field>
    <value name="LIST">
    <block type="variables_get">
    <field name="VAR" id="_#~m7,(T.AH:;kAr],_(">list</field>
    </block>
    </value>
    </block>
    <block type="lists_getSublist">
    <mutation at1="true" at2="true"/>
    <field name="WHERE1">FROM_START</field>
    <field name="WHERE2">FROM_START</field>
    <value name="LIST">
    <block type="variables_get">
    <field name="VAR" id="_#~m7,(T.AH:;kAr],_(">list</field>
    </block>
    </value>
    </block>
    <block type="lists_split">
    <mutation mode="SPLIT"/>
    <field name="MODE">SPLIT</field>
    <value name="DELIM">
    <shadow type="text">
    <field name="TEXT">,</field>
    </shadow>
    </value>
    </block>
    <block type="lists_sort">
    <field name="TYPE">NUMERIC</field>
    <field name="DIRECTION">1</field>
    </block>
    </category>
    <category name="Colour" colour="#a5745b">
    <block type="colour_picker">
    <field name="COLOUR">#ff0000</field>
    </block>
    <block type="colour_random"/>
    <block type="colour_rgb">
    <value name="RED">
    <shadow type="math_number">
    <field name="NUM">100</field>
    </shadow>
    </value>
    <value name="GREEN">
    <shadow type="math_number">
    <field name="NUM">50</field>
    </shadow>
    </value>
    <value name="BLUE">
    <shadow type="math_number">
    <field name="NUM">0</field>
    </shadow>
    </value>
    </block>
    <block type="colour_blend">
    <value name="COLOUR1">
    <shadow type="colour_picker">
    <field name="COLOUR">#ff0000</field>
    </shadow>
    </value>
    <value name="COLOUR2">
    <shadow type="colour_picker">
    <field name="COLOUR">#3333ff</field>
    </shadow>
    </value>
    <value name="RATIO">
    <shadow type="math_number">
    <field name="NUM">0.5</field>
    </shadow>
    </value>
    </block>
    </category>
    <sep/>
    <category name="Variables" colour="#a55b80" custom="VARIABLE"/>
    <category name="Functions" colour="#995ba5" custom="PROCEDURE"/>
    </xml>
`;function App(){let[i,$]=react.exports.useState(""),[_,_e]=react.exports.useState(peg_1.generate('start = ""')),[tt,nt]=react.exports.useState(""),[st,at]=react.exports.useState("");return jsxs(Fragment,{children:[jsx(Box,{children:"grammer"}),jsx(Textarea,{placeholder:"peg.js",onChange:ht=>{_e(peg_1.generate(ht.target.value))}}),jsx(Box,{children:"input"}),jsx(Textarea,{placeholder:"peg.js",value:i,onChange:ht=>$(ht.target.value)}),jsx(Button,{onClick:()=>{nt(_.parse(i))},children:"Parse!"}),jsxs(Box,{children:["result: ",tt]}),jsx(Box,{children:"GrammerDefinition"}),jsx(GrammerDefWorkspace,{onWorkspaceChange:ht=>{const lt=Blockly.JavaScript.workspaceToCode(ht);at(lt)}}),jsxs(Box,{children:["code: ",st]})]})}client.createRoot(document.getElementById("root")).render(jsx(ChakraProvider,{children:jsx(App,{})}));
